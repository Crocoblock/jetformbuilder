(()=>{var e={115:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(6758),o=n.n(r),l=n(935),a=n.n(l)()(o());a.push([e.id,".syma2t4{height:40px;min-height:40px;line-height:1.5;}\n",""]);const i=a},483:(e,t,n)=>{var r=n(4239);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(611).A)("62ebcc8a",r,!1,{})},611:(e,t,n)=>{"use strict";function r(e,t){for(var n=[],r={},o=0;o<t.length;o++){var l=t[o],a=l[0],i={id:e+":"+o,css:l[1],media:l[2],sourceMap:l[3]};r[a]?r[a].parts.push(i):n.push(r[a]={id:a,parts:[i]})}return n}n.d(t,{A:()=>f});var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var l={},a=o&&(document.head||document.getElementsByTagName("head")[0]),i=null,s=0,c=!1,u=function(){},d=null,m="data-vue-ssr-id",p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function f(e,t,n,o){c=n,d=o||{};var a=r(e,t);return h(a),function(t){for(var n=[],o=0;o<a.length;o++){var i=a[o];(s=l[i.id]).refs--,n.push(s)}for(t?h(a=r(e,t)):a=[],o=0;o<n.length;o++){var s;if(0===(s=n[o]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete l[s.id]}}}}function h(e){for(var t=0;t<e.length;t++){var n=e[t],r=l[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(g(n.parts[o]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{var a=[];for(o=0;o<n.parts.length;o++)a.push(g(n.parts[o]));l[n.id]={id:n.id,refs:1,parts:a}}}}function b(){var e=document.createElement("style");return e.type="text/css",a.appendChild(e),e}function g(e){var t,n,r=document.querySelector("style["+m+'~="'+e.id+'"]');if(r){if(c)return u;r.parentNode.removeChild(r)}if(p){var o=s++;r=i||(i=b()),t=w.bind(null,r,o,!1),n=w.bind(null,r,o,!0)}else r=b(),t=_.bind(null,r),n=function(){r.parentNode.removeChild(r)};return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else n()}}var y,v=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")});function w(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=v(t,o);else{var l=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(l,a[t]):e.appendChild(l)}}function _(e,t){var n=t.css,r=t.media,o=t.sourceMap;if(r&&e.setAttribute("media",r),d.ssrId&&e.setAttribute(m,t.id),o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},935:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,l){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var i=0;i<this.length;i++){var s=this[i][0];null!=s&&(a[s]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);r&&a[u[0]]||(void 0!==l&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=l),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),t.push(u))}},t}},4023:(e,t,n)=>{var r=n(115);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(611).A)("55433ea3",r,!1,{})},4180:()=>{const e=()=>{const{select:e}=wp.data;return e("core/editor").getEditedPostAttribute("meta")},t=(t,n)=>{const{dispatch:r}=wp.data,{editPost:o}=r("core/editor");o({meta:{...e(),[t]:JSON.stringify(n)}})},n=e=>{const t=[];for(const[n,{active:r=!1}]of Object.entries(e))r&&t.push(+n);return t};wp.domReady((()=>(async()=>{await(async()=>new Promise((e=>{const t=setInterval((()=>{wp.data.select("core/editor").getCurrentPostType()&&(clearInterval(t),e())}),100)})))();let r={},o=[];try{[r={},o=[]]=(()=>{const t=e();let n={},r=[];try{n=JSON.parse(t._jf_gateways)}catch(e){return[]}if(1===n.last_migrate)throw"migrated";try{r=JSON.parse(t._jf_actions)}catch(e){return[n]}return[n,r]})()}catch(e){return}r.last_migrate=1,t("_jf_gateways",r);const l=[];try{l.push(...((e,t)=>{var r,o,l,a;const i=n(null!==(r=e.notifications_success)&&void 0!==r?r:{}),s=n(null!==(o=e.notifications_failed)&&void 0!==o?o:{}),c=n(null!==(l=e.notifications_before)&&void 0!==l?l:{}),u=null!==(a=e.use_success_redirect)&&void 0!==a&&a;let d=!1;if(!(i.length||s.length||c.length||u))throw"nothing_to_migrate";return t.map((e=>{var t;return e.events=null!==(t=e.events)&&void 0!==t?t:[],i.includes(e.id)&&e.events.push("GATEWAY.SUCCESS"),s.includes(e.id)&&e.events.push("GATEWAY.FAILED"),c.includes(e.id)&&e.events.push("DEFAULT.PROCESS"),u&&!d&&"redirect_to_page"===e.type&&(e.events.push("GATEWAY.SUCCESS"),d=!0),e}))})(r,o))}catch(e){return}t("_jf_actions",l)})()))},4239:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(6758),o=n.n(r),l=n(935),a=n.n(l)()(o());a.push([e.id,".sfqmk5y svg{height:24px;width:24px;}\n",""]);const i=a},6758:e=>{"use strict";e.exports=function(e){return e[1]}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var l=t[r]={id:r,exports:{}};return e[r](l,l.exports,n),l.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";const e=window.React,{createContext:t}=wp.element,r=t({name:"",data:{},index:0}),o=window.jfb.components,l=window.wp.element,{createContext:a}=wp.element,i=a({actionClick:null,onRequestClose:()=>{}}),{createSlotFill:s}=wp.components,c=s("JFBActionModalFooter"),u=window.wp.components,d=window.wp.i18n,{Slot:m}=c;let{ToggleGroupControl:p,__experimentalToggleGroupControl:f}=wp.components;p=p||f;const h=function({onRequestClose:t,children:n,title:r="",classNames:o=[],className:a="",onUpdateClick:s,onCancelClick:c,updateBtnLabel:f="Update",updateBtnProps:h={},cancelBtnProps:b={},cancelBtnLabel:g="Cancel",fixedHeight:y="",...v}){const w=["jet-form-edit-modal",...o,a],[_,E]=(0,l.useState)(null),C=()=>{s&&s(),E(!0)},k=()=>{c&&c(),E(!1)};let S={};return y&&(S={height:y},w.push("jet-modal-fixed-height")),(0,e.createElement)(u.Modal,{onRequestClose:t,className:w.join(" "),title:r,style:S,...v},!n&&(0,e.createElement)("div",{className:"jet-form-edit-modal__content"},(0,d.__)("Action callback is not found.","jet-form-builder")),n&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"jet-form-edit-modal__wrapper"},(0,e.createElement)(i.Provider,{value:{actionClick:_,onRequestClose:t}},(0,e.createElement)("div",{className:"jet-form-edit-modal__content"},"function"==typeof n&&n({actionClick:_,onRequestClose:t}),"function"!=typeof n&&n))),(0,e.createElement)(m,{fillProps:{updateClick:C,cancelClick:k}},(t=>Boolean(t?.length)?t:(0,e.createElement)(p,{className:"jet-form-edit-modal__actions jfb-toggle-group-control",hideLabelFromVision:!0},(0,e.createElement)(u.Button,{isPrimary:!0,onClick:C,...h},f),(0,e.createElement)(u.Button,{isSecondary:!0,style:{margin:"0 0 0 10px"},onClick:k,...b},g))))))},{RawHTML:b,useContext:g}=wp.element;function y(e,t){return e?.length?e.map((e=>"object"==typeof e?e[t]:e)):[]}const v=(0,window.wp.hooks.applyFilters)("jet.fb.tools.convertSymbols",{checkCyrRegex:/[а-яёїєґі]/i,cyrRegex:/[а-яёїєґі]/gi,charsMap:{а:"a",б:"b",в:"v",г:"g",д:"d",е:"e",ё:"io",ж:"zh",з:"z",и:"i",й:"i",к:"k",л:"l",м:"m",н:"n",о:"o",п:"p",р:"r",с:"s",т:"t",у:"u",ф:"f",х:"kh",ц:"ts",ч:"ch",ш:"sh",щ:"shch",ы:"y",э:"e",ю:"iu",я:"ia",ї:"i",є:"ie",ґ:"g",і:"i"}});function w(e){return v.checkCyrRegex.test(e)&&(e=e.replace(v.cyrRegex,(function(e){return void 0===v.charsMap[e]?"":v.charsMap[e]}))),e}function _(e){let t=e.toLowerCase();t=t.normalize("NFD").replace(/[\u0300-\u036f]/g,""),t=w(t);const n=t.match(/\b(\w+)\b/g);t="";for(const[e,r]of Object.entries(n)){t+=(0===+e?"":"_")+r;const o=+e+1===n.length;if(t.length>60)return t+(o?"":"__")}return t}function E(...e){const t=[],n=e=>{e.forEach((e=>{if(e&&(Array.isArray(e)&&n(e),"string"==typeof e&&t.push(e.trim()),"object"==typeof e))for(const n in e)e[n]&&t.push((n+"").trim())}))};return n(e),t.join(" ")}function C(e){return null==e||("object"!=typeof e||Array.isArray(e)?"number"==typeof e?0===e:!e?.length:!Object.keys(e)?.length)}const k=class{static withPlaceholder(e,t="--",n=""){return[{label:t,value:n},...e]}static getRandomID(){return Math.floor(8999*Math.random())+1e3}},{select:S}=wp.data,j=function(e){const t=(n,r=null)=>{(n=n||S("core/block-editor").getBlocks()).forEach((n=>{if(e(n,r),n.innerBlocks.length){const e="jet-forms/repeater-field"===n.name?n:r;return void t(n.innerBlocks,e)}if("core/block"!==n.name)return;let o=S("core/block-editor")?.__unstableGetClientIdsTree?.(n.clientId);if(!o?.length)return;const l=o.map((({clientId:e})=>e));o=S("core/block-editor").getBlocksByClientId(l),t(o)}))};t()},{applyFilters:x}=wp.hooks,{select:N}=wp.data,F=function(e=[],t=!1,n=!1,r="default"){let o=[];const l=["submit","form-break","heading","group-break","conditional",...e];return j((e=>{if(e.name.includes("jet-forms/")&&!l.find((t=>e.name.includes(t)))){const t=N("core/blocks").getBlockType(e.name);let{fields:n=[]}=t.jfbResolveBlock.call(e,r);t.hasOwnProperty("jfbGetFields")&&(n=t.jfbGetFields.call(e,r)),o.push(...n.filter((e=>!o.some((({value:t})=>t===e.value)))))}})),o=t?[{value:"",label:t},...o]:o,n?o:x("jet.fb.getFormFieldsBlocks",o,r)},T=function(e=[],t="default"){const n=[],r=F(e,!1,!1,t);return r&&r.forEach((e=>n.push(e.name))),n},{__:I}=wp.i18n,{applyFilters:B}=wp.hooks,{select:A}=wp.data,R=function(e=!1,t=!1,n="default"){const r=["submit","form-break","heading","group-break","conditional"];let o=[];const l=wp.data.select("core/block-editor").getSelectedBlock();return j((e=>{if(e.name.includes("jet-forms/")&&l?.clientId!==e.clientId&&!r.find((t=>e.name.includes(t)))){const t=A("core/blocks").getBlockType(e.name);let{fields:r=[]}=t.jfbResolveBlock.call(e,n);t.hasOwnProperty("jfbGetFields")&&(r=t.jfbGetFields.call(e,n)),o.push(...r.filter((e=>!o.some((({value:t})=>t===e.value)))))}})),o=e?[{value:"",label:e},...o]:o,t?o:B("jet.fb.getFormFieldsBlocks",o,n)},O=function(e){const t=wp.data.select("core/block-editor").getBlock(e);return t?t.innerBlocks:[]},{addFilter:M}=wp.hooks,P=function(e=!1,t=""){const n=window.JetFormEditorData.gateways;if(!e)return n;if(!n[e])return!1;const r=n[e];return e=>r[e]?r[e]:t},G=function(e,t=""){const n=P("labels");return r=>n(e)?n(e)[r]:t},L=function(e,t="cred"){return window.JetFBGatewaysList&&window.JetFBGatewaysList[e]&&window.JetFBGatewaysList[e][t]},D=function(t,n,r="cred"){if(!L(t,r))return null;const o=window.JetFBGatewaysList[t][r];return(0,e.createElement)(o,{...n})},{useState:q,useEffect:V}=wp.element,{useDispatch:J}=wp.data,$=function(e,t={}){const[n,r]=q(!1),o=J(wp.notices.store);return V((()=>{n&&o.createWarningNotice(e,{type:"snackbar",...t})}),[n]),r},{useSelect:H}=wp.data,U=function(e){const t=H((e=>e("core/editor").getEditedPostAttribute("meta")||{}));return JSON.parse(t[e]||"{}")},W=function(e){const{actionClick:t,onRequestClose:n}=(0,l.useContext)(i);(0,l.useEffect)((()=>{t&&e(),null!==t&&n()}),[t])},{applyFilters:z}=wp.hooks,Y=(e,t)=>{t.forEach((t=>{e(t),t.innerBlocks.length&&Y(e,t.innerBlocks)}))},K=window.jfb.actions,X=function(e){const t=e("jet-forms/gateways"),n=t.getCurrentRequestId(),r=t.getGatewaySpecific(),o=t.getScenario(),l=t.getGatewayId(),{id:a="PAY_NOW"}=o,{use_global:i=!1}=r,s=(0,K.globalTab)({slug:l}),c=P("additional")(l),u=e("jet-forms/actions").getLoading(n),d=P("labels"),m=G(l),p=function(e){return d(`${l}.${e}`)};return{gatewayGeneral:t.getGateway(),gatewayRequest:t.getCurrentRequest(),scenarioSource:c[a]||{},currentScenario:o[a]||{},CURRENT_SCENARIO:a,gatewayScenario:o,additionalSourceGateway:c,gatewaySpecific:r,gatewayRequestId:n,loadingGateway:u,getSpecificOrGlobal:(e,t="")=>i?s[e]||t:r[e]||t,globalGatewayLabel:d,specificGatewayLabel:m,customGatewayLabel:p,scenarioLabel:function(e){return p(`scenario.${a}.${e}`)}}},{useSelect:Z}=wp.data,Q=function(){const e=Z((e=>e("jet-forms/events").getAlwaysTypes())),t=[];for(const{value:n}of e)t.push(n);return[...new Set(t)]},{useSelect:ee}=wp.data,te=function(){var e;const t=U("_jf_gateways"),{scenario:n={}}=null!==(e=t[t?.gateway])&&void 0!==e?e:{};return ee((e=>{const r=e("jet-forms/events").getGatewayTypes(),o=[];for(const e of r){const r=!e.gateway||e.gateway===t.gateway,l=!e.scenario||e.scenario===n?.id;r&&l&&o.push(e.value)}return[...new Set(o)]}),[t.gateway,n?.id])},{useSelect:ne}=wp.data,re=function({index:e}){const t=U("_jf_actions"),n=ne((e=>e("jet-forms/actions").getActionsMap()),[]);t.splice(e,1);const r=[];for(const e of t){const t=n?.[e.type]?.provideEvents;if("function"!=typeof t)continue;const{[e.type]:o={}}=e.settings;r.push(...t(o))}return[...new Set(r)]},{useSelect:oe}=wp.data,{useSelect:le}=wp.data,ae=function(e){const t=[...Q(),...te(),...re(e),...oe((e=>e("jet-forms/events").getDynamicTypes().map((({value:e})=>e))))];return le((n=>n("jet-forms/events").filterList(e.type,t)))},{useSelect:ie}=wp.data,{useSelect:se}=wp.data,ce=function(){const[e,t]=se((e=>[e("jet-forms/block-conditions").getOperators(),e("jet-forms/block-conditions").getFunctions()]),[]);return{operators:e,functions:t}},{useBlockEditContext:ue}=wp.blockEditor,de=function(){const{clientId:e}=ue();return t=>t+"-"+e},me=window.wp.blockEditor,pe=window.wp.data,fe=function(e=null){const t=(0,me.useBlockEditContext)();let{clientId:n}=t;e&&(n=e);const r=(0,pe.useSelect)((e=>e("core/block-editor").getBlockAttributes(n)),[n]),{updateBlock:o}=(0,pe.useDispatch)("core/block-editor");return[r,e=>{e="object"==typeof e?e:e(r),e=(0,pe.select)("jet-forms/fields").getSanitizedAttributes(e,t),o(n,{attributes:e})}]},he=function(e){const t=(0,me.useBlockProps)()["data-type"];return(0,pe.useSelect)((n=>!!n("core/blocks").getBlockType(t).attributes[e]),[e,t])},{applyFilters:be}=wp.hooks,ge=function(t){return function(n){return(0,e.createElement)(t,{key:"wrapped-preset-editor",...n,parseValue:()=>{let e={};if("object"==typeof n.value)e={...n.value};else if(n.value&&"string"==typeof n.value)try{if(e=JSON.parse(n.value),"number"==typeof e)throw new Error}catch(t){e={}}return e.jet_preset=!0,e},isVisible:(e,t,n)=>(t.position&&n===t.position||!t.position||"query_var"!==e.from)&&((e,t)=>!t.condition&&!t.custom_condition||(t.custom_condition?"query_var"===t.custom_condition?"post"===e.from&&"query_var"===e.post_from||"user"===e.from&&"query_var"===e.user_from||"term"===e.from&&"query_var"===e.term_from||"query_var"===e.from:be("jet.fb.preset.editor.custom.condition",!1,t.custom_condition,e):!t.condition||e[t.condition.field]===t.condition.value))(e,t),isMapFieldVisible:(e,t,n)=>!((t.condition||t.parent_condition)&&(t.parent_condition&&!t.condition?e[t.parent_condition.field]!==t.parent_condition.value:t.parent_condition&&t.condition?!e.fields_map||!e.fields_map[n]||e.fields_map[n][t.condition.field]!==t.condition.value||e[t.parent_condition.field]!==t.parent_condition.value:!t.parent_condition&&t.condition&&(!e.fields_map||!e.fields_map[n]||e.fields_map[n][t.condition.field]!==t.condition.value))),isCurrentFieldVisible:(e,t,n)=>!((t.condition||t.parent_condition)&&(t.position&&n!==t.position||(t.parent_condition&&!t.condition?e[t.parent_condition.field]!==t.parent_condition.value:t.parent_condition&&t.condition?e["current_field_"+t.condition.field]!==t.condition.value||e[t.parent_condition.field]!==t.parent_condition.value:!t.parent_condition&&t.condition&&e["current_field_"+t.condition.field]!==t.condition.value))),excludeOptions:e=>{const t=[...e];return t.forEach(((e,r)=>{n.excludeSources&&n.excludeSources.includes(e.value)&&t.splice(r,1)})),t}})}},ye=function({data:t,value:n,index:r,onChangeValue:l,isVisible:a,excludeOptions:i=e=>e,position:s}){switch(t.type){case"text":return a(n,t,s)&&(0,e.createElement)("div",{key:"field_"+t.name+r,className:"jet-form-preset__row"},(0,e.createElement)(o.StyledTextControl,{key:t.name+r,label:t.label,value:n[t.name],onChange:e=>{l(e,t.name)}}));case"select":return a(n,t,s)&&(0,e.createElement)("div",{key:"field_"+t.name+r,className:"jet-form-preset__row"},(0,e.createElement)(o.StyledSelectControl,{key:t.name+r,options:i(t.options),label:t.label,value:n[t.name],onChange:e=>{l(e,t.name)}}))}return null};function ve(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var we=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,_e=ve((function(e){return we.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),Ee=function(){const e=Array.prototype.slice.call(arguments).filter(Boolean),t={},n=[];e.forEach((e=>{(e?e.split(" "):[]).forEach((e=>{if(e.startsWith("atm_")){const[,n]=e.split("_");t[n]=e}else n.push(e)}))}));const r=[];for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&r.push(t[e]);return r.push(...n),r.join(" ")},Ce=(e,t)=>{const n={};return Object.keys(e).filter((e=>t=>-1===e.indexOf(t))(t)).forEach((t=>{n[t]=e[t]})),n},ke=function(t){let n="";return r=>{const o=(o,l)=>{const{as:a=t,class:i=n}=o;var s;const c=function(e,t){const n=Ce(t,["as","class"]);if(!e){const e="function"==typeof _e?{default:_e}:_e;Object.keys(n).forEach((t=>{e.default(t)||delete n[t]}))}return n}(void 0===r.propsAsIs?!("string"==typeof a&&-1===a.indexOf("-")&&(s=a[0],s.toUpperCase()!==s)):r.propsAsIs,o);c.ref=l,c.className=r.atomic?Ee(r.class,c.className||i):Ee(c.className||i,r.class);const{vars:u}=r;if(u){const e={};for(const t in u){const n=u[t],l=n[0],a=n[1]||"",i="function"==typeof l?l(o):l;r.name,e[`--${t}`]=`${i}${a}`}const t=c.style||{},n=Object.keys(t);n.length>0&&n.forEach((n=>{e[n]=t[n]})),c.style=e}return t.__wyw_meta&&t!==a?(c.as=a,(0,e.createElement)(t,c)):(0,e.createElement)(a,c)},l=e.forwardRef?(0,e.forwardRef)(o):e=>{const t=Ce(e,["innerRef"]);return o(t,e.innerRef)};return l.displayName=r.name,l.__wyw_meta={className:r.class||n,extends:t},l}};const Se=ke("select")({name:"StyledSelect",class:"syma2t4",propsAsIs:!1}),je=function({id:t,label:n,onChange:r,options:o=[],value:l}){return!C(o)&&(0,e.createElement)(Se,{id:t,className:"components-select-control__input",onChange:e=>{r(e.target.value)},value:l},(0,e.createElement)("option",{key:`${n}-placeholder`,value:""},"--"),o.map(((t,n)=>!C(t.values)&&(0,e.createElement)("optgroup",{key:`${t.label}-${n}`,label:t.label},t.values.map(((t,r)=>(0,e.createElement)("option",{key:`${t.value}-${r}-${n}`,value:t.value,disabled:t.disabled},t.label)))))))};n(4023);const xe=function({data:t,value:n,index:r,currentState:l,onChangeValue:a,isCurrentFieldVisible:i}){switch(t.type){case"text":return i(l,t)&&(0,e.createElement)("div",{key:t.name+r,className:"jet-form-preset__row"},(0,e.createElement)(o.StyledTextControl,{key:"control_"+t.name+r,placeholder:t.label,value:n,onChange:e=>{a(e,"current_field_"+t.name)}}));case"select":return i(l,t)&&(0,e.createElement)("div",{key:t.name+r,className:"jet-form-preset__row"},(0,e.createElement)(o.StyledSelectControl,{key:"control_"+t.name+r,options:t.options,label:t.label,value:n,onChange:e=>{a(e,"current_field_"+t.name)}}));case"custom_select":return i(l,t)&&(0,e.createElement)("div",{key:t.name+r,className:"jet-form-preset__row"},(0,e.createElement)(u.CustomSelectControl,{className:"jet-custom-select-control",label:t.label,options:t.options,onChange:({selectedItem:e})=>{n=e.key,a(n,"current_field_"+t.name)},value:t.options.find((e=>e.key===n))}));case"grouped_select":return i(l,t)&&(0,e.createElement)("div",{key:t.name+r},(0,e.createElement)(o.Label,null,t.label),(0,e.createElement)(je,{options:t.options,value:n,onChange:e=>{a(e,"current_field_"+t.name)}}))}return null},{createContext:Ne}=wp.element,Fe=Ne({});let Te=function({value:t,onChange:n,parseValue:r,excludeOptions:a,isCurrentFieldVisible:i,isVisible:s}){var c,m;const p="dynamic",f=r(t),h=(0,l.useContext)(Fe),b=(e,t)=>{n((()=>JSON.stringify({...f,[t]:e})))};return(0,e.createElement)(o.StyledFlexControl,{direction:"column",gap:4},window.JetFormEditorData.presetConfig.global_fields.map(((t,n)=>(0,e.createElement)(ye,{key:`current_field_${t.name}_${n}`,value:f,index:n,data:t,excludeOptions:a,onChangeValue:b,isVisible:s,position:p}))),window.JetFormEditorData.presetConfig.map_fields.map(((t,n)=>(0,e.createElement)(xe,{key:`current_field_${t.name}_${n}`,currentState:f,value:f["current_field_"+t.name],index:n,data:t,onChangeValue:b,isCurrentFieldVisible:i,position:p}))),h?.show&&(0,e.createElement)(u.ToggleControl,{label:(0,d.__)("Restrict access","jet-form-builder"),help:null===(c=f.restricted)||void 0===c||c?(0,d.__)("Will set default value from preset only for users who allowed to edit this value","jet-form-builder"):(0,d.__)("Always set default value from preset. Make sure it can't be accidentally changed from form Actions","jet-form-builder"),checked:null===(m=f.restricted)||void 0===m||m,onChange:e=>{b(e?void 0:e,"restricted")}}))};Te=ge(Te);const Ie=Te,{SelectControl:Be,TextControl:Ae}=wp.components;class Re extends wp.element.Component{constructor(e){super(e),this.fieldTypes=this.props.fieldTypes,this.taxonomiesList=this.props.taxonomiesList,this.className=this.props.className,this.metaProp=this.props.metaProp?this.props.metaProp:"post_meta",this.termsProp=this.props.termsProp?this.props.termsProp:"post_terms",this.index=this.props.index,this.init(),this.bindFunctions(),this.state={type:this.getFieldType(this.props.fieldValue)}}bindFunctions(){this.onChangeType=this.onChangeType.bind(this),this.onChangeValue=this.onChangeValue.bind(this)}init(){if(this.id=`inspector-select-control-${this.index}`,this.preparedTaxes=[],this.taxPrefix="jet_tax__",this.taxonomiesList)for(let e=0;e<this.taxonomiesList.length;e++)this.preparedTaxes.push({value:this.taxPrefix+this.taxonomiesList[e].value,label:this.taxonomiesList[e].label})}getFieldName(e){if(!e)return"";const t=this.getFieldType(e);return this.termsProp===t||this.metaProp===t?e:""}isTermOrMeta(e){return this.termsProp===e||this.metaProp===e}getFieldType(e){if(!e)return"";for(let t=0;t<this.fieldTypes.length;t++)if(e===this.fieldTypes[t].value)return e;return e.includes(this.taxPrefix)?this.termsProp:this.metaProp}onChangeValue(e){this.props.onChange({...this.props.fieldsMap,[this.props.fieldName]:e})}onChangeType(e){let t=this.getFieldType(e);this.setState({type:t}),this.isTermOrMeta(t)&&(t=""),this.onChangeValue(t)}render(){return(0,e.createElement)("div",{className:"jet-fields-map__row"},(0,e.createElement)("div",{className:"jet-post-field-control"},(0,e.createElement)(Be,{key:"field_type_"+this.props.fieldName+this.index,label:this.props.fieldName,labelPosition:"side",value:this.state.type,onChange:this.onChangeType,options:this.fieldTypes,style:{width:"160px"}}),this.metaProp===this.state.type&&(0,e.createElement)(Ae,{key:"field_name_"+this.props.fieldName+this.index,value:this.props.fieldValue,onChange:this.onChangeValue,style:{width:"200px"}}),this.termsProp===this.state.type&&(0,e.createElement)(Be,{className:"jet-control-without-label",key:"field_tax_"+this.props.fieldName+this.index,value:this.props.fieldValue,onChange:this.onChangeValue,options:this.preparedTaxes,style:{width:"200px"}})))}}const Oe=Re,{Path:Me,SVG:Pe,BaseControl:Ge}=wp.components,{useState:Le}=wp.element,{store:De}=wp.blocks,qe=class{constructor(e){this.id=e.id,this.blocks=[],this.setBlocksMeta(e.supported)}setBlocksMeta(e){e.length&&(this.blocks=e.map((e=>{const t=wp.data.select(De).getBlockType(`jet-forms/${e}`);return{title:t.title,icon:t.icon.src}})))}},Ve=class{constructor(){this.items=[]}push(e){this.items.push(new qe(e))}},{messages:Je}=window.jetFormValidation,{useState:$e}=wp.element,He=Je.sort(((e,t)=>e.supported.length-t.supported.length));function Ue(){const e=new Ve;for(const t of He)e.push(t);return e.items}const We=function(e,t){1>=e.label.length||e.name&&"field_name"!==e.name||t({name:_(e.label)})},{BaseControl:ze}=wp.components,{RichText:Ye}=wp.blockEditor;let{__experimentalUseFocusOutside:Ke,useFocusOutside:Xe}=wp.compose;Xe=Xe||Ke;const{__:Ze}=wp.i18n;function Qe(t){return(0,e.createElement)("small",{style:{whiteSpace:"nowrap",padding:"0.2em 0.8em 0 0",color:"#8e8a8a"}},t)}const{Button:et,Popover:tt,PanelBody:nt}=wp.components,{useState:rt}=wp.element,{__:ot}=wp.i18n,{TextControl:lt}=wp.components,at=function({label:t,help:n}){const[r,o]=fe();return he("placeholder")?(0,e.createElement)(lt,{label:null!=t?t:ot("Placeholder","jet-form-builder"),value:r.placeholder,help:null!=n?n:"",onChange:e=>o({placeholder:e})}):null},{__:it}=wp.i18n,{ToggleControl:st}=wp.components,ct=function({label:t,help:n}){const[r,o]=fe();return he("add_prev")?(0,e.createElement)(st,{label:null!=t?t:it("Add Prev Page Button","jet-form-builder"),help:null!=n?n:it('It is recommended to use the "Action Button" block with the "Go to Prev Page" type',"jet-form-builder"),checked:r.add_prev,onChange:e=>o({add_prev:e})}):null},ut=function({children:t,className:n="",style:r={},...o}){return(0,e.createElement)("p",{className:"jet-fb-base-control__help"+(n?` ${n}`:""),style:{fontSize:"12px",fontStyle:"normal",color:"rgb(117, 117, 117)",marginTop:"0px",...r},...o},t)},{useBlockEditContext:dt}=wp.blockEditor,{useSelect:mt}=wp.data,{__:pt}=wp.i18n,ft=function({name:t=!1,children:n=null}){const{name:r}=dt(),o=mt((e=>{var n;if(!1===t)return!1;const o=e("core/blocks").getBlockType(r);return null!==(n=o.attributes[t]?.jfb)&&void 0!==n&&n}),[r,t]);return o?(0,e.createElement)(ut,{className:"jet-fb mb-24"},n&&(0,e.createElement)(e.Fragment,null,n," "),o?.shortcode&&!o.rich&&!n&&pt("You can use shortcodes here.","jet-form-builder"),o?.shortcode&&!o.rich&&n&&pt("You can also use shortcodes here.","jet-form-builder")):Boolean(n)&&(0,e.createElement)(ut,{className:"jet-fb mb-24"},n)},{__:ht}=wp.i18n,{TextControl:bt}=wp.components,gt=function({label:t,help:n}){const[r,o]=fe();return r.add_prev?(0,e.createElement)(e.Fragment,null,(0,e.createElement)(bt,{label:null!=t?t:ht("Prev Page Button Label","jet-form-builder"),value:r.prev_label,className:"jet-fb m-unset",onChange:e=>o({prev_label:e})}),(0,e.createElement)(ft,{name:"prev_label"},null!=n?n:"")):null},{__:yt}=wp.i18n,{SelectControl:vt}=wp.components,wt=function({label:t,help:n}){const[r,o]=fe();return he("visibility")?(0,e.createElement)(vt,{options:[{value:"all",label:yt("For all","jet-form-builder")},{value:"logged_id",label:yt("Only for logged in users","jet-form-builder")},{value:"not_logged_in",label:yt("Only for NOT-logged in users","jet-form-builder")}],label:null!=t?t:yt("Field Visibility","jet-form-builder"),help:null!=n?n:"",value:r.visibility,onChange:e=>o({visibility:e})}):null},{__:_t}=wp.i18n,{TextControl:Et}=wp.components,Ct=function({label:t,help:n}){const[r,o]=fe();return(0,e.createElement)(Et,{label:null!=t?t:_t("CSS Class Name","jet-form-builder"),value:r.class_name,help:null!=n?n:"",onChange:e=>o({class_name:e})})},{InspectorAdvancedControls:kt}=wp.blockEditor,{__:St}=wp.i18n,{TextControl:jt}=wp.components;let{__experimentalUseFocusOutside:xt,useFocusOutside:Nt}=wp.compose;Nt=Nt||xt;const Ft=function({label:t,help:n}){const[r,o]=fe(),l=Nt((function(){We(r,o)}));return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(jt,{label:null!=t?t:St("Field Label","jet-form-builder"),className:"jet-fb m-unset",value:r.label,onChange:e=>o({label:e}),...l}),(0,e.createElement)(ft,{name:"label"},null!=n?n:""))},Tt={};for(const{id:e,name:t}of window.jetFormActionTypes)Tt[e]=t;const{__:It}=wp.i18n,{TextControl:Bt,Icon:At,Flex:Rt,Tooltip:Ot}=wp.components,{useInstanceId:Mt}=wp.compose,Pt=function t({label:n,help:r}){const[o,l]=fe(),{message:a}=function(){const{clientId:e}=(0,me.useBlockEditContext)(),t=(0,K.useRequestFields)({returnOnEmptyCurrentAction:!1}),{inFormFields:n,hasParent:r,fieldNames:o}=(0,pe.useSelect)((t=>{var n;const r=t("jet-forms/fields").getBlockById(e);return{hasParent:!!r?.parentBlock,fieldNames:null!==(n=r?.fields?.map?.((({value:e})=>e)))&&void 0!==n?n:[],inFormFields:t("jet-forms/fields").isUniqueName(e)}}),[e]);if(!n)return{error:"not_unique_in_fields",message:(0,d.__)("The form field name must be unique. Please change it","jet-form-builder")};if(r)return{};const l=t.find((({value:e})=>o.includes(e)));return l?{error:"not_unique_in_actions",message:l?.from?(0,d.sprintf)((0,d.__)("The %s action already uses this field name. Please change it","jet-form-builder"),Tt[l.from]):(0,d.__)("The form field name must be unique. Please change it","jet-form-builder")}:{}}(),i=Mt(t,"AdvancedInspectorControl");return he("name")?(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Rt,{align:"center",justify:"flex-start",style:{marginBottom:"8px"}},(0,e.createElement)("label",{htmlFor:i,className:"jet-fb label"},null!=n?n:It("Form field name","jet-form-builder")),!!a&&(0,e.createElement)(Ot,{text:a,delay:200,placement:"top"},(0,e.createElement)(At,{icon:"warning",style:{color:"orange",cursor:"help"}}))),(0,e.createElement)(Bt,{id:i,value:o.name,help:null!=r?r:It("Should contain only lowercase Latin letters, numbers, “-”, or “_”. No spaces allowed.","jet-form-builder"),onChange:e=>l({name:e})})):null},{__:Gt}=wp.i18n,{TextControl:Lt}=wp.components,Dt=function({label:t,help:n}){const[r,o]=fe();return he("desc")?(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Lt,{label:null!=t?t:Gt("Field Description","jet-form-builder"),value:r.desc,className:"jet-fb m-unset",onChange:e=>o({desc:e})}),(0,e.createElement)(ft,{name:"desc"},null!=n?n:"")):null},qt=function({value:t,onChange:n,title:r}){const[a,i]=(0,l.useState)(!1),[s,c]=(0,l.useState)(t);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(u.Button,{icon:"database",variant:"tertiary",isSmall:!0,className:"jet-fb-is-thick",onClick:()=>i(!0)}),a&&(0,e.createElement)(u.Modal,{size:"medium",title:null!=r?r:(0,d.__)("Edit Preset","jet-form-builder"),onRequestClose:()=>i(!1),className:o.ModalFooterStyle},(0,e.createElement)(Ie,{key:"dynamic_key_preset",value:s,onChange:c}),(0,e.createElement)(o.StickyModalActions,null,(0,e.createElement)(u.Button,{isPrimary:!0,onClick:()=>{n(s),i(!1)}},(0,d.__)("Update","jet-form-builder")),(0,e.createElement)(u.Button,{isSecondary:!0,onClick:()=>{i(!1)}},(0,d.__)("Cancel","jet-form-builder")))))},{createContext:Vt}=wp.element,Jt=Vt(!1),{useState:$t,useRef:Ht}=wp.element,{Button:Ut,Popover:Wt}=wp.components,zt=function({children:t,...n}){const[r,o]=$t(!1),l=Ht();return(0,e.createElement)(Jt.Provider,{value:{showPopover:r,setShowPopover:o}},(0,e.createElement)(Ut,{ref:l,icon:"admin-tools",variant:"tertiary",isSmall:!0,className:"jet-fb-is-thick",onClick:()=>o((e=>!e)),...n}),r&&(0,e.createElement)(Wt,{anchor:l.current,position:"top-start",noArrow:!1,variant:"toolbar",onFocusOutside:e=>{e.relatedTarget!==l.current&&o(!1)},onClose:()=>o(!1)},t))},{createContext:Yt}=wp.element,Kt=Yt([]),{createContext:Xt}=wp.element,Zt=Xt({name:""});function Qt(){}Qt.prototype={fullName(){},fullHelp(){}};const en=Qt,{useState:tn}=wp.element,{Button:nn}=wp.components,rn=function({current:t,children:n}){const[r,o]=tn(!1);if(!(t instanceof en))return(0,e.createElement)("li",null,(0,e.createElement)(Zt.Provider,{value:t},n));const l=t.fullHelp.bind(t);return(0,e.createElement)("li",null,(0,e.createElement)(Zt.Provider,{value:t},(0,e.createElement)("div",{style:{display:"flex",alignItems:"center",gap:"0.6em"}},(0,e.createElement)(nn,{isSmall:!0,variant:"tertiary",icon:r?"arrow-down":"arrow-right",className:"jet-fb-is-thick",onClick:()=>o((e=>!e))}),n),r&&(0,e.createElement)(l,null)))},{Children:on,cloneElement:ln}=wp.element,{PanelBody:an}=wp.components,sn=function({title:t,items:n,children:r,initialOpen:o}){const l=n.map(((t,n)=>(0,e.createElement)(rn,{key:n,current:t})));return(0,e.createElement)(an,{title:t,initialOpen:o},(0,e.createElement)("ul",{style:{padding:"0 0.5em"}},on.map(l,(e=>ln(e,{},r)))))},{useContext:cn}=wp.element,{__:un}=wp.i18n,dn=function({children:t,fields:n,...r}){var o,l;const a=cn(Kt),i=[...null!==(o=a.beforeFields)&&void 0!==o?o:[],...n,...null!==(l=a.afterFields)&&void 0!==l?l:[]];return i.length||a?.extra?.length||a?.filters?.length?(0,e.createElement)(zt,{...r},Boolean(i.length)&&(0,e.createElement)(sn,{title:un("Fields:","jet-form-builder"),items:i,initialOpen:!0},t),Boolean(a?.extra?.length)&&(0,e.createElement)(sn,{title:un("Extra macros:","jet-form-builder"),items:a.extra},t),Boolean(a?.filters?.length)&&(0,e.createElement)(sn,{title:un("Filters:","jet-form-builder"),items:a.filters},t)):null},{useContext:mn}=wp.element,{Button:pn}=wp.components,fn=function({onClick:t}){const n=mn(Zt),r=n.fullName?n.fullName():`%${n.value}%`,o="function"==typeof n.label?n.label():r;return(0,e.createElement)(pn,{isLink:!0,onClick:()=>t(r)},o)},hn=window.jfb.blocksToActions,bn=function({onClick:t=()=>{},withCurrent:n=!1,...r}){const o=(0,hn.useFields)({excludeCurrent:!n});return(0,e.createElement)(dn,{withCurrent:n,fields:o,...r},(0,e.createElement)(fn,{onClick:t}))},{Flex:gn}=wp.components,yn=function({label:t,children:n,...r}){return(0,e.createElement)(gn,{align:"center",justify:"flex-start",style:{marginBottom:"8px"}},(0,e.createElement)("label",{className:"jet-fb label",...r},t),n)},{FlexItem:vn}=wp.components,{useInstanceId:wn}=wp.compose,_n=function({children:t,value:n,label:r,onChangePreset:o=!1,onChangeMacros:l=!1}){const a=wn(vn,"jfb-AdvancedInspectorControl");return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(yn,{label:r,htmlFor:a},!1!==o&&(0,e.createElement)(qt,{value:n,onChange:o}),!1!==l&&(0,e.createElement)(bn,{onClick:l})),"function"==typeof t?t({instanceId:a}):t)};function En(){en.call(this)}En.prototype=Object.create(en.prototype),En.prototype.isServerSide=!1,En.prototype.isClientSide=!1,En.prototype.name="",En.prototype.namespace="CT",En.prototype.help=null,En.prototype.fullHelp=function(){return this.help},En.prototype.fullName=function(){return`%${this.namespace}::${this.name}%`};const Cn=En,{useSelect:kn}=wp.data,{__:Sn}=wp.i18n,jn=new Cn;jn.fullName=()=>"%this%",jn.fullHelp=()=>Sn("Returns current field value","jet-form-builder");const xn=function({children:t,withThis:n=!1}){const r=kn((e=>e("jet-forms/macros").getClientMacros()),[]),o=kn((e=>e("jet-forms/macros").getClientFilters()),[]),l=n?{extra:r,afterFields:[jn],filters:o}:{extra:r,filters:o};return(0,e.createElement)(Kt.Provider,{value:l},t)};function Nn(e,t,n){const r=n.selectionStart,o=n.selectionEnd;(e=null!=e?e:"").length||(t=`'${t}'`);let l=e.slice(0,r);const a=e.slice(o);return l+=t,setTimeout((()=>{n.focus(),n.selectionStart=l.length,n.selectionEnd=l.length})),l+a}const{useRef:Fn}=wp.element,Tn=function(e){var t;const[n,r]=fe(),o=null!==(t=n[e])&&void 0!==t?t:"",l=Fn();return[l,t=>{r({[e]:Nn(o,t,l.current)})}]},{__:In}=wp.i18n,{TextControl:Bn}=wp.components,An=function({label:t,help:n,hasMacro:r=!0}){const[o,l]=fe(),[a,i]=Tn("default");return he("default")?(0,e.createElement)(Fe.Provider,{value:{show:!0}},(0,e.createElement)(xn,null,(0,e.createElement)(_n,{value:o.default,label:null!=t?t:In("Default Value","jet-form-builder"),onChangePreset:e=>l({default:e}),onChangeMacros:!!r&&i},(({instanceId:t})=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Bn,{ref:a,id:t,value:o.default,className:"jet-fb m-unset",onChange:e=>l({default:e})}),(0,e.createElement)(ft,{name:"default"},null!=n?n:"")))))):null},{PanelBody:Rn}=wp.components,{__:On}=wp.i18n,{BlockControls:Mn}=wp.blockEditor,{useCopyToClipboard:Pn}=wp.compose,{TextControl:Gn,ToolbarGroup:Ln,ToolbarItem:Dn,ToolbarButton:qn}=wp.components,Vn=function({children:t=null}){const n=de(),[r,o]=fe(),l=$(`Copied "${r.name}" to clipboard.`),a=Pn(r.name,(()=>l(!0)));return(0,e.createElement)(Mn,{key:n("ToolBarFields-BlockControls")},(0,e.createElement)(Ln,{key:n("ToolBarFields-ToolbarGroup"),className:"jet-fb-block-toolbar"},(0,e.createElement)(qn,{isSmall:!0,icon:"admin-page",showTooltip:!0,shortcut:"Copy name",ref:a}),(0,e.createElement)(Dn,{as:Gn,value:r.name,onChange:e=>o({name:e})}),t))},{__:Jn}=wp.i18n,{ToolbarButton:$n}=wp.components,{BlockControls:Hn}=wp.blockEditor,{SVG:Un,Path:Wn}=wp.primitives,zn=function(){const[t,n]=fe();return he("required")?(0,e.createElement)(Hn,{group:"block"},(0,e.createElement)($n,{icon:(0,e.createElement)(Un,{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none"},(0,e.createElement)(Wn,{d:"M12 4L12 20",stroke:"currentcolor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.createElement)(Wn,{d:"M17.3137 6.00024L6.00001 17.314",stroke:"currentcolor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.createElement)(Wn,{d:"M20 12L4 12",stroke:"currentcolor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.createElement)(Wn,{d:"M17.3137 17.3137L6.00001 6.00001",stroke:"currentcolor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),title:t.required?Jn("Click to make this field optional","jet-form-builder"):Jn("Click to make this field required","jet-form-builder"),onClick:()=>n({required:!t.required}),isActive:t.required})):null},{__:Yn}=wp.i18n,{PanelBody:Kn}=wp.components,{applyFilters:Xn}=wp.hooks,{useBlockProps:Zn}=wp.blockEditor,{applyFilters:Qn}=wp.hooks,er=()=>Qn("jet.fb.register.fields.controls",{}),tr=window.wp.compose,nr=(0,tr.compose)((0,pe.withSelect)(X))((function({initialLabel:t="Valid",label:n="InValid",apiArgs:r={},gatewayRequestId:o,loadingGateway:l,onLoading:a=()=>{},onSuccess:i=()=>{},onFail:s=()=>{},isHidden:c=!1}){return(0,e.createElement)(K.FetchApiButton,{id:o,loadingState:l,initialLabel:t,label:n,apiArgs:r,onFail:s,onLoading:a,onSuccess:i,isHidden:c})})),rr="CLEAR_GATEWAY",or="CLEAR_SCENARIO",lr="SET_CURRENT_GATEWAY_SCENARIO",ar="SET_CURRENT_GATEWAY",ir="SET_CURRENT_GATEWAY_SPECIFIC",sr="SET_CURRENT_GATEWAY_INNER",cr="SET_CURRENT_REQUEST",ur="SET_CURRENT_SCENARIO",dr="REGISTER_EVENT_TYPE",mr="HARD_SET_CURRENT_GATEWAY",pr="HARD_SET_CURRENT_GATEWAY_SPECIFIC",fr={getCurrentRequestId:e=>e.currentRequest.id,getCurrentRequest:e=>e.currentRequest,getScenario:e=>e.currentScenario,getScenarioId:e=>e.currentScenario?.id,getGatewayId:e=>e.currentGateway?.gateway,getGateway:e=>e.currentGateway,getEventTypes:e=>e.eventTypes},hr={...fr,getGatewaySpecific:e=>e.currentGateway[fr.getGatewayId(e)]||{}},br={[rr]:e=>({...e,currentGateway:{}}),[or]:e=>({...e,currentScenario:{}}),[lr]:(e,t)=>({...e,currentScenario:{...e.currentScenario,...t.item||{}}}),[ar]:(e,t)=>({...e,currentGateway:{...e.currentGateway,...t.item}}),[ir]:(e,t)=>({...e,currentGateway:{...e.currentGateway,[e.currentGateway.gateway]:{...hr.getGatewaySpecific(e),...t.item}}}),[sr]:(e,t)=>{const{key:n,value:r}=t.item;return{...e,currentGateway:{...e.currentGateway,[n]:{...e.currentGateway[n]||{},...r}}}},[cr]:(e,t)=>{const n=[hr.getGatewayId(e),t.item?.id].filter((e=>e));return t.item.id=n.join("/"),{...e,currentRequest:t.item}},[ur]:(e,t)=>({...e,currentScenario:{...e.currentScenario,[e.currentScenario?.id]:{...e.currentScenario[e.currentScenario?.id]||{},...t.item||{}}}}),[mr]:(e,t)=>(t.item&&(e.currentGateway[t.item]=t.value),{...e}),[pr]:(e,t)=>(t.item&&e.currentGateway?.gateway&&(e.currentGateway[e.currentGateway?.gateway]={},e.currentGateway[e.currentGateway?.gateway][t.item]=t.value),{...e}),[dr]:(e,t)=>{var n,r;const o={...t.item,gateway:null!==(n=t.item?.gateway)&&void 0!==n?n:e.currentGateway?.gateway,scenario:null!==(r=t.item?.scenario)&&void 0!==r?r:e.currentScenario?.id};return e.eventTypes.push(o),e}},gr={currentRequest:{id:-1},currentGateway:{},currentScenario:{},eventTypes:[]},yr={clearGateway:()=>({type:rr}),clearScenario:()=>({type:or}),setRequest:e=>({type:cr,item:e}),setGateway:e=>({type:ar,item:e}),setGatewayInner:e=>({type:sr,item:e}),setGatewaySpecific:e=>({type:ir,item:e}),setScenario:e=>({type:lr,item:e}),setCurrentScenario:e=>({type:ur,item:e}),registerEventType:e=>({type:dr,item:e}),hardSetGateway:(e,t="")=>({type:mr,item:e,value:t}),hardSetGatewaySpecific:(e,t="")=>({type:pr,item:e,value:t})},{createReduxStore:vr}=wp.data,wr=vr("jet-forms/gateways",{reducer:function(e=gr,t){const n=br[t?.type];return n?n(e,t):e},actions:yr,selectors:hr}),_r="REGISTER",Er="UNREGISTER",Cr="LOCK_ACTIONS",kr="CLEAR_DYNAMIC_EVENTS",Sr={getTypeIndex:(e,t)=>e.types.findIndex((e=>e.value===t)),getTypes:e=>e.types,getGatewayTypes:e=>e.types.filter((e=>"gateway"in e)),getAlwaysTypes:e=>e.types.filter((e=>"always"in e)),getDynamicTypes:e=>e.types.filter((({isDynamic:e})=>e)),getType(e,t){const n=Sr.getTypeIndex(e,t);return e.types[n]},getUnsupported(e,t){var n;const r=null!==(n=e.lockedActions[t])&&void 0!==n&&n;return!1===r?[]:r.unsupported},getSupported(e,t){var n;const r=null!==(n=e.lockedActions[t])&&void 0!==n&&n;return!1===r?[]:r.supported},isValid(e,t,n){const r=Sr.getUnsupported(e,t);if(r.length&&r.includes(n))return!1;const o=Sr.getSupported(e,t);return!o.length||o.includes(n)},filterList:(e,t,n)=>n.filter((n=>Sr.isValid(e,t,n))),getHelpMap(e){const t={};for(const{value:n,help:r}of e.types)t[n]=r;return t}},jr={...Sr},xr={[_r](e,t){const{types:n}=e;for(const r of t.items){r.title=r.label;const t=jr.getTypeIndex(e,r.value);-1===t?n.push({...r}):n[t]={...r}}return{...e,types:n}},[Cr](e){for(const{id:n,self:r}of window.jetFormActionTypes){var t;const o=null!==(t=window[r])&&void 0!==t&&t;if(!1===o)continue;const{__unsupported_events:l,__supported_events:a}=o,i={unsupported:e.types.filter((({self:e})=>l.includes(e))).map((({value:e})=>e)),supported:e.types.filter((({self:e})=>a.includes(e))).map((({value:e})=>e))};(i.supported.length||i.unsupported.length)&&(e.lockedActions[n]=i)}return e},[Er](e,t){const{types:n}=t;return e.types=e.types.filter((({value:e})=>!n.includes(e))),e},[kr]:e=>(e.types=e.types.filter((({isDynamic:e=!1})=>!e)),e)},Nr={types:[],labels:{},lockedActions:{}},Fr={register:e=>({type:_r,items:e}),lockActions:()=>({type:Cr}),unRegister:e=>({type:Er,types:e}),clearDynamicEvents:()=>({type:kr})},{createReduxStore:Tr}=wp.data,Ir=Tr("jet-forms/events",{reducer:function(e=Nr,t){const n=xr[t?.type];return n?n(e,t):e},actions:Fr,selectors:jr}),Br="REGISTER",Ar="ADD_RENDER_STATE",Rr="ADD_RENDER_STATES",Or="DELETE_RENDER_STATES",{doAction:Mr}=wp.hooks,Pr={...{[Br](e,t){const{operators:n,functions:r,render_states:o}=t.items;return e.operators=[...n],e.functions=[...r],e.renderStates=[...o],Mr("jet.fb.change.blockConditions.renderState",e.renderStates),e},[Ar]:(e,t)=>(e.renderStates.push(t.item),Mr("jet.fb.change.blockConditions.renderState",e.renderStates),e),[Rr](e,t){for(const n of t.items)e.renderStates.push(n);return Mr("jet.fb.change.blockConditions.renderState",e.renderStates),e},[Or](e,t){const n=Array.isArray(t.items)?[...t.items]:[t.items];return e.renderStates=e.renderStates.filter((({value:e})=>!n.includes(e))),Mr("jet.fb.change.blockConditions.renderState",e.renderStates),e}}},{__:Gr}=wp.i18n,Lr=function(e,t="code"){var n;if(!function(e){let t;try{t=JSON.parse(e)}catch(e){return!1}return!!t?.jet_preset}(e=null!=e?e:""))return e;const r=JSON.parse(e),o=Gr("Preset from","jet-form-builder"),l=null!==(n=r?.from)&&void 0!==n?n:"(empty)";let a;switch(t){case"code":a=`<code>${l}</code>`;break;case"b":a=`<b>${l}</b>`}return[o,a].join(" ")},{select:Dr}=wp.data,{__:qr}=wp.i18n,Vr=function(e){const t=Dr("jet-forms/block-conditions").getOperator(e?.operator);return t?[`<code>${e?.field||"(no field)"}</code>`,t.label].join(" "):""},Jr={functions:[],operators:[],conditionReaders:{default(e){const t=Dr("jet-forms/block-conditions").getOperator(e?.operator);if(!t)return"";const n=e?.field||"(no field)",r=Lr(e.value,"b")||"(no value)";return[`<code>${n}</code>`,t.label,`<code>${r}</code>`].join(" ")},empty:Vr,not_empty:Vr,render_state(e){var t;const n=(null!==(t=e?.render_state)&&void 0!==t?t:[]).map((e=>`<code>${e}</code>`));return[1===n.length?qr("Is render state","jet-form-builder"):qr("One of the render states","jet-form-builder"),n.join(", ")].join(": ")}},renderStates:[]},$r={register:e=>({type:Br,items:e}),addRenderState:e=>({type:Ar,item:e}),addRenderStates:e=>({type:Rr,items:e}),deleteRenderStates:e=>({type:Or,items:e})},Hr={getFunctions:e=>e.functions,getOperators:e=>e.operators,getRenderStates:e=>e.renderStates,getSwitchableRenderStates:e=>e.renderStates.filter((({is_custom:e=!1,can_be_switched:t=!1})=>e||t)),getCustomRenderStates:e=>e.renderStates.filter((({is_custom:e=!1})=>e)),getOperator(e,t){const n=e.operators.findIndex((({value:e})=>e===t));return-1!==n&&e.operators[n]},readCondition(e,t){var n;const{operator:r=""}=t;if(!r)return"";const o=null!==(n=e.conditionReaders[r])&&void 0!==n&&n;return"function"==typeof o?o(t):e.conditionReaders.default(t)},getFunction:(e,t)=>e.functions.find((({value:e})=>e===t)),getFunctionDisplay:(e,t)=>Hr.getFunction(e,t)?.display},Ur={...Hr},{createReduxStore:Wr}=wp.data,zr=Wr("jet-forms/block-conditions",{reducer:function(e=Jr,t){const n=Pr[t?.type];return n?n(e,t):e},actions:$r,selectors:Ur}),Yr="REGISTER_MACRO",Kr={[Yr](e,t){const{items:n,isClient:r}=t,o=Array.isArray(n)?n:[n];for(const e of o)if(!(e instanceof Cn))throw new Error("^^^ Invalid macro item ^^^");return r?e.clientMacros.push(...o):e.serverMacros.push(...o),e}},{__:Xr}=wp.i18n;function Zr(){Cn.call(this),this.name="CurrentDate",this.isClientSide=!0,this.fullHelp=()=>(0,e.createElement)(e.Fragment,null,Xr("Returns the current timestamp. Replacing","jet-form-builder")," ",(0,e.createElement)("code",null,"Date.now()"))}Zr.prototype=Object.create(Cn.prototype);const Qr=Zr,{__:eo}=wp.i18n;function to(){Cn.call(this),this.name="Min_In_Sec",this.isClientSide=!0,this.help=eo("Number of milliseconds in one minute","jet-form-builder")}to.prototype=Object.create(Cn.prototype);const no=to,{__:ro}=wp.i18n;function oo(){Cn.call(this),this.name="Month_In_Sec",this.isClientSide=!0,this.help=ro("Number of milliseconds in one month","jet-form-builder")}oo.prototype=Object.create(Cn.prototype);const lo=oo,{__:ao}=wp.i18n;function io(){Cn.call(this),this.name="Day_In_Sec",this.isClientSide=!0,this.help=ao("Number of milliseconds in one day","jet-form-builder")}io.prototype=Object.create(Cn.prototype);const so=io,{__:co}=wp.i18n;function uo(){Cn.call(this),this.name="Year_In_Sec",this.isClientSide=!0,this.help=co("Number of milliseconds in one year","jet-form-builder")}uo.prototype=Object.create(Cn.prototype);const mo=uo,{__:po}=wp.i18n;function fo(){en.call(this)}fo.prototype=Object.create(en.prototype),fo.prototype.docArgument=!1,fo.prototype.help=null,fo.prototype.isServerSide=!1,fo.prototype.isClientSide=!1,fo.prototype.getArgumentsList=function(){if(!this.docArgument||!this.docArgument.length)return null;const e=Array.isArray(this.docArgument)?this.docArgument:[this.docArgument],t=[];for(const n of e)switch(n){case"string":case String:t.push(po("String","jet-form-builder"));break;case"number":case Number:t.push(po("Number","jet-form-builder"));break;case"array":case Array:t.push(po("Array","jet-form-builder"));break;case"any":t.push(po("Anything","jet-form-builder"))}return t.join(" | ")},fo.prototype.fullHelp=function(){if(!this.docArgument&&!this.help)return null;const t=this.help,n=this.getArgumentsList();return(0,e.createElement)(e.Fragment,null,n&&(0,e.createElement)("div",{style:{marginBottom:"0.5em"}},po("Arguments:","jet-form-builder")+" ",(0,e.createElement)("code",null,n)),"function"!=typeof t?t:(0,e.createElement)(t,null))};const ho=fo,{__:bo}=wp.i18n;function go(){ho.call(this),this.label=()=>bo("addDay","jet-form-builder"),this.fullName=()=>"|addDay",this.docArgument=Number,this.isClientSide=!0,this.help=bo("Adds the passed number of days via an argument to a macro that returns a date or a timestamp.","jet-form-builder")}go.prototype=Object.create(ho.prototype);const yo=go,{__:vo}=wp.i18n;function wo(){ho.call(this),this.label=()=>vo("addMonth","jet-form-builder"),this.fullName=()=>"|addMonth",this.docArgument=Number,this.isClientSide=!0,this.help=vo("Adds the passed number of months via an argument to a macro that returns a date or a timestamp.","jet-form-builder")}wo.prototype=Object.create(ho.prototype);const _o=wo,{__:Eo}=wp.i18n;function Co(){ho.call(this),this.label=()=>Eo("addYear","jet-form-builder"),this.fullName=()=>"|addYear",this.docArgument=Number,this.isClientSide=!0,this.help=Eo("Adds the passed number of years through an argument to a macro that returns a date or a timestamp.","jet-form-builder")}Co.prototype=Object.create(ho.prototype);const ko=Co,{__:So}=wp.i18n;function jo(){ho.call(this),this.label=()=>So("ifEmpty","jet-form-builder"),this.fullName=()=>"|ifEmpty",this.docArgument="any",this.isClientSide=!0,this.help=So("If the macro returns an empty value, then the filter returns the value passed in the argument","jet-form-builder")}jo.prototype=Object.create(ho.prototype);const xo=jo,{__:No}=wp.i18n;function Fo(){ho.call(this),this.label=()=>No("length","jet-form-builder"),this.fullName=()=>"|length",this.isClientSide=!0,this.help=No("Returns the length of a string or array","jet-form-builder")}Fo.prototype=Object.create(ho.prototype);const To=Fo,{__:Io}=wp.i18n;function Bo(){ho.call(this),this.label=()=>Io("toDate","jet-form-builder"),this.fullName=()=>"|toDate",this.isClientSide=!0,this.help=()=>(0,e.createElement)(e.Fragment,null,Io("Gets the timestamp from the macro and formats it according to the format of the Date Field.","jet-form-builder"),(0,e.createElement)("hr",null),Io("Example:","jet-form-builder")+" ",(0,e.createElement)("code",null,"2022-02-24"))}Bo.prototype=Object.create(ho.prototype);const Ao=Bo,{__:Ro}=wp.i18n;function Oo(){ho.call(this),this.label=()=>Ro("toDateTime","jet-form-builder"),this.fullName=()=>"|toDateTime",this.isClientSide=!0,this.help=()=>(0,e.createElement)(e.Fragment,null,Ro("Gets the timestamp from the macro and formats it according to the format of the Datetime Field.","jet-form-builder"),(0,e.createElement)("hr",null),Ro("Example:","jet-form-builder")+" ",(0,e.createElement)("code",null,"2022-02-24T04:25"))}Oo.prototype=Object.create(ho.prototype);const Mo=Oo,{__:Po}=wp.i18n;function Go(){ho.call(this),this.label=()=>Po("toTime","jet-form-builder"),this.fullName=()=>"|toTime",this.isClientSide=!0,this.help=()=>(0,e.createElement)(e.Fragment,null,Po("Gets the timestamp from the macro and formats it according to the format of the Time Field.","jet-form-builder"),(0,e.createElement)("hr",null),Po("Example:","jet-form-builder")+" ",(0,e.createElement)("code",null,"04:25"))}Go.prototype=Object.create(ho.prototype);const Lo=Go,{__:Do}=wp.i18n;function qo(){ho.call(this),this.label=()=>Do("subDay","jet-form-builder"),this.fullName=()=>"|subDay",this.docArgument=Number,this.isClientSide=!0,this.help=Do("Subtracts the number of days by argument from a macro that returns a date or timestamp.","jet-form-builder")}qo.prototype=Object.create(ho.prototype);const Vo=qo,{__:Jo}=wp.i18n;function $o(){ho.call(this),this.label=()=>Jo("subMonth","jet-form-builder"),this.fullName=()=>"|subMonth",this.docArgument=Number,this.isClientSide=!0,this.help=Jo("Subtracts the number of months by argument from a macro that returns a date or timestamp.","jet-form-builder")}$o.prototype=Object.create(ho.prototype);const Ho=$o,{__:Uo}=wp.i18n;function Wo(){ho.call(this),this.label=()=>Uo("subYear","jet-form-builder"),this.fullName=()=>"|subYear",this.docArgument=Number,this.isClientSide=!0,this.help=Uo("Subtracts the number of years by argument from a macro that returns a date or timestamp.","jet-form-builder")}Wo.prototype=Object.create(ho.prototype);const zo=Wo,{__:Yo}=wp.i18n;function Ko(){ho.call(this),this.label=()=>Yo("toDayInMs","jet-form-builder"),this.fullName=()=>"|toDayInMs",this.isClientSide=!0,this.help=()=>(0,e.createElement)(e.Fragment,null,Yo("Converts a number of days into milliseconds.","jet-form-builder"))}Ko.prototype=Object.create(ho.prototype);const Xo=Ko,{__:Zo}=wp.i18n;function Qo(){ho.call(this),this.label=()=>Zo("toHourInMs","jet-form-builder"),this.fullName=()=>"|toHourInMs",this.isClientSide=!0,this.help=()=>(0,e.createElement)(e.Fragment,null,Zo("Converts a number of hours into milliseconds.","jet-form-builder"))}Qo.prototype=Object.create(ho.prototype);const el=Qo,{__:tl}=wp.i18n;function nl(){ho.call(this),this.label=()=>tl("toMinuteInMs","jet-form-builder"),this.fullName=()=>"|toMinuteInMs",this.isClientSide=!0,this.help=()=>(0,e.createElement)(e.Fragment,null,tl("Converts a number of minutes into milliseconds.","jet-form-builder"))}nl.prototype=Object.create(ho.prototype);const rl=nl,{__:ol}=wp.i18n;function ll(){ho.call(this),this.label=()=>ol("toMonthInMs","jet-form-builder"),this.fullName=()=>"|toMonthInMs",this.isClientSide=!0,this.help=()=>(0,e.createElement)(e.Fragment,null,ol("Converts a number of months into milliseconds.","jet-form-builder"))}ll.prototype=Object.create(ho.prototype);const al=ll,{__:il}=wp.i18n;function sl(){ho.call(this),this.label=()=>il("toWeekInMs","jet-form-builder"),this.fullName=()=>"|toWeekInMs",this.isClientSide=!0,this.help=()=>(0,e.createElement)(e.Fragment,null,il("Converts a number of weeks into milliseconds.","jet-form-builder"))}sl.prototype=Object.create(ho.prototype);const cl=sl,{__:ul}=wp.i18n;function dl(){ho.call(this),this.label=()=>ul("toYearInMs","jet-form-builder"),this.fullName=()=>"|toYearInMs",this.isClientSide=!0,this.help=()=>(0,e.createElement)(e.Fragment,null,ul("Converts a number of years into milliseconds.","jet-form-builder"))}dl.prototype=Object.create(ho.prototype);const ml=dl,{__:pl}=wp.i18n;function fl(){ho.call(this),this.label=()=>pl("Timestamp","jet-form-builder"),this.fullName=()=>"|T",this.isClientSide=!0,this.help=pl("Returns the time stamp. Usually used in conjunction with Date & Datetime and Time Field.","jet-form-builder",'Example\nFor Date Field\n%date_field|T%\nResult if date_field is filled with value "2022-10-22"')}fl.prototype=Object.create(ho.prototype);const hl=fl,bl={macros:[new Qr,new no,new so,new lo,new mo],filters:[new xo,new hl,new To,new yo,new _o,new ko,new Vo,new Ho,new zo,new Ao,new Mo,new Lo,new rl,new el,new Xo,new cl,new al,new ml]},gl={registerMacro:(e,t=!0)=>({type:Yr,items:e,isClient:t})},yl={getClientMacros:e=>e.macros.filter((function(e){return e.isClientSide})),getServerMacros:e=>e.macros.filter((function(e){return e.isServerSide})),getClientFilters:e=>e.filters.filter((function(e){return e.isClientSide})),getServerFilters:e=>e.filters.filter((function(e){return e.isServerSide}))},{createReduxStore:vl}=wp.data,wl=vl("jet-forms/macros",{reducer:function(e=bl,t){const n=Kr[t?.type];return n?n(e,t):e},actions:gl,selectors:yl}),_l="REGISTER",El={[_l](e,t){const{messages:n,ssr_callbacks:r,formats:o,rule_types:l}=t.items;return e.messages=JSON.parse(JSON.stringify(n)),e.ssrCallbacks=JSON.parse(JSON.stringify(r)),e.formats=JSON.parse(JSON.stringify(o)),e.ruleTypes=JSON.parse(JSON.stringify(l)),e}},Cl={...El},{select:kl}=wp.data,{__:Sl}=wp.i18n,jl={messages:[],ssrCallbacks:[],formats:[],ruleTypes:[],ruleReaders:{default(e){const t=kl("jet-forms/validation").getRule(e.type);if(!t)return"";let n=e?.field||e?.value||"";return n=Lr(n,"b")||"(no value)",[t.label,`<code>${n}</code>`].join(" ")},ssr:e=>[Sl("Function:","jet-form-builder"),e?.value].join(" ")}},xl={register:e=>({type:_l,items:e})},Nl={...{getRule(e,t){const n=e.ruleTypes.findIndex((({value:e})=>e===t));return-1!==n&&e.ruleTypes[n]},readRule(e,t){var n;const{type:r=""}=t;if(!r)return"";const o=null!==(n=e.ruleReaders[r])&&void 0!==n&&n;return"function"==typeof o?o(t):e.ruleReaders.default(t)}}},{createReduxStore:Fl}=wp.data,Tl=Fl("jet-forms/validation",{reducer:function(e=jl,t){const n=Cl[t?.type];return n?n(e,t):e},actions:xl,selectors:Nl}),Il="SET_BLOCKS",Bl="SET_BLOCKS_FIRST",Al="TOGGLE_EXECUTE",Rl={...{[Il](e,t){const n=[];for(const r in t.blockMap)t.blockMap.hasOwnProperty(r)&&!e.blockMap.hasOwnProperty(r)&&n.push(r);return{...e,blocks:t.blocks,blockMap:t.blockMap,recentlyAdded:n}},[Bl]:(e,t)=>({...e,blocks:t.blocks,blockMap:t.blockMap}),[Al]:e=>({...e,executed:!0})}},Ol={blocks:[],blockMap:{},executed:!1,recentlyAdded:[],sanitizers:{name:[e=>e.replace(/[^\w\-]/gi,""),e=>"children"===e?"_"+e:e]}},{select:Ml}=wp.data,Pl=function(){const e=[],t={};return j(((n,r)=>{var o;if(!n?.name?.includes("jet-forms/"))return;const l=Ml("core/blocks").getBlockType(n.name),a=l.jfbResolveBlock.call(n);if(l.hasOwnProperty("jfbGetFields")&&(a.fields=l.jfbGetFields.call(n)),!r?.name)return e.push(a),void(t[a.clientId]=a);const i=null!==(o=t[r?.clientId])&&void 0!==o&&o;i&&(Object.defineProperty(a,"parentBlock",{get:()=>i}),i.innerBlocks=i?.innerBlocks||[],i.innerBlocks.push(a),t[a.clientId]=a)})),{blocks:e,blockMap:t}},{select:Gl,dispatch:Ll}=wp.data,Dl={setBlocks(e=null){null===e&&(e=Pl());const t=Gl(Wl).isExecuted();return t||Ll(Wl).toggleExecute(),{type:t?Il:Bl,blocks:e.blocks,blockMap:e.blockMap}},toggleExecute:()=>({type:Al})},ql={getBlocks:e=>e.blocks,getBlockMap:e=>e.blockMap,getFields(e,{withInner:t=!0,currentId:n=!1}){const r=[],o=e=>{for(const l of e)l.fields?.length&&l.clientId!==n&&r.push(...l.fields),t&&l.innerBlocks?.length&&o(l.innerBlocks)};return o(e.blocks),r},isExecuted:e=>e.executed,isRecentlyAdded:(e,t)=>-1!==e.recentlyAdded.indexOf(t),getUniqueNames(e,t){var n,r;const o=null!==(n=e.blockMap[t])&&void 0!==n&&n;if(!o)return{hasChanged:!1};let l=!1;const a=null!==(r=o?.fields?.map?.((({value:e})=>e)))&&void 0!==r?r:[],i=o.hasOwnProperty("parentBlock")?o.parentBlock.innerBlocks:e.blocks,s=e=>{for(const t of e){const n=a.indexOf(t.value);-1!==n&&("field_name"!==t.value?(a[n]=`${a[n]}_copy`,l=!0,s(e)):l=!0)}};for(const e of i){var c;t!==e.clientId&&s(null!==(c=e?.fields)&&void 0!==c?c:[])}return{hasChanged:l,names:a.join("|")}},getSanitizedAttributes(e,t,{name:n}={}){for(const l in t){var r,o;if(!t.hasOwnProperty(l))continue;const a=null!==(r=null!==(o=e.sanitizers?.[n]?.[l])&&void 0!==o?o:e.sanitizers?.[l])&&void 0!==r&&r;if(a?.length)for(const e of a)"function"==typeof e&&(t[l]=e(t[l]))}return t},isUniqueName(e,t){const{hasChanged:n}=ql.getUniqueNames(e,t);return!n},getBlock:(e,t)=>e.blocks.find((({name:e,clientId:n})=>[e,n].includes(t))),getBlockByName(e,t){if(!t)return!1;const n=e=>{for(const r of e){if(r.fields.some((({value:e})=>e===t)))return r;r.innerBlocks?.length&&n(r.innerBlocks)}};return n(e.blocks),!1},getBlockNameByName(e,t){var n;const r=ql.getBlockByName(e,t);return null!==(n=r?.name)&&void 0!==n?n:""},getBlockById(e,t){var n;return null!==(n=e.blockMap[t])&&void 0!==n&&n}},Vl={...ql},{createReduxStore:Jl,dispatch:$l,select:Hl,subscribe:Ul}=wp.data,Wl="jet-forms/fields";let zl,Yl;Ul((()=>{const{debounce:e}=window._,{setBlocks:t}=$l(Wl);e((()=>{const e=Hl("core/block-editor").getGlobalBlockCount();if(zl!==e)return zl=e,void t();const n=Pl(),r=JSON.stringify(n.blocks);r!==Yl&&(Yl=r,t(n))}),100)()}));const Kl=Jl(Wl,{reducer:function(e=Ol,t){const n=Rl[t?.type];return n?n(e,t):e},actions:Dl,selectors:Vl});n(4180);const{register:Xl,dispatch:Zl}=wp.data,{addAction:Ql}=wp.hooks;[wr,Ir,zr,wl,Tl,Kl].forEach(Xl),Zl("jet-forms/events").register(window.jetFormEvents.types),Zl("jet-forms/events").lockActions(),Zl("jet-forms/validation").register(window.jetFormValidation),Ql("jet.fb.change.blockConditions.renderState","jet-form-builder/events",(function(e){Zl("jet-forms/events").clearDynamicEvents();const t=e.map((({value:e})=>({value:e="ON."+e,label:e,isDynamic:!0})));Zl("jet-forms/events").register(t)})),Zl("jet-forms/block-conditions").register(window.jetFormBlockConditions);const{createContext:ea}=wp.element,ta=ea(!1),{createContext:na}=wp.element,ra=na({currentItem:{},changeCurrentItem:()=>{},currentIndex:-1}),oa=(0,l.createContext)({isSupported:e=>!1,render:({children:e})=>e}),la=(0,l.createContext)({isSupported:e=>!1,render:({currentItem:e,index:t})=>null}),aa=(0,l.createContext)({edit:e=>!0,move:e=>!0,clone:e=>!0,delete:e=>!0}),{createContext:ia}=wp.element,sa=ia({}),{ToggleControl:ca}=wp.components,{__:ua}=wp.i18n,{useState:da}=wp.element,{useContext:ma}=wp.element,pa=function(e){if(void 0===e)return null;const t=ma(ta),n=function({oldIndex:t,newIndex:n}){e((e=>{const r=JSON.parse(JSON.stringify(e));return[r[n],r[t]]=[r[t],r[n]],r}))};return{changeCurrentItem:function(t,n){e((e=>{const r=JSON.parse(JSON.stringify(e));return r[n]={...e[n],...t},r}))},toggleVisible:function(t){e((e=>{const n=JSON.parse(JSON.stringify(e));return n[t].__visible=!n[t].__visible,n}))},moveDown:function(e){n({oldIndex:e,newIndex:e+1})},moveUp:function(e){n({oldIndex:e,newIndex:e-1})},cloneItem:function(t){e((e=>{const n=JSON.parse(JSON.stringify(e)),[r,o]=[n.slice(0,t+1),n.slice(t+1)];return[...r,n[t],...o]}))},addNewItem:function(t){e((e=>[...e,{__visible:!0,...t}]))},removeOption:function(n){t&&!(e=>confirm((0,d.sprintf)((0,d.__)("Are you sure you want to remove item %d?","jet-form-builder"),e+1)))(n)||e((e=>{const t=JSON.parse(JSON.stringify(e));return t.splice(n,1),t}))}}},{createContext:fa}=wp.element,ha=fa(!1),{Button:ba}=wp.components,{useContext:ga}=wp.element,ya=function(t){var n;const{item:r,onSetState:o,functions:l,children:a}=t,{addNewItem:i}=null!==(n=null!=l?l:pa(o))&&void 0!==n?n:ga(ha);return(0,e.createElement)(ba,{icon:"plus-alt2",isSecondary:!0,onClick:()=>i(r)},a)};let{Card:va,Button:wa,CardHeader:_a,CardBody:Ea,ToggleGroupControl:Ca,__experimentalToggleGroupControl:ka}=wp.components;const{useContext:Sa}=wp.element,{__:ja}=wp.i18n;Ca=Ca||ka;const xa=function(t){var n;const{items:r,onSetState:o,functions:l,children:a}=t,{cloneItem:i,moveUp:s,moveDown:c,toggleVisible:u,changeCurrentItem:d,removeOption:m}=null!==(n=null!=l?l:pa(o))&&void 0!==n?n:Sa(ha),{isSupported:p,render:f}=Sa(la),{edit:h,move:b,clone:g,delete:y}=Sa(aa),v=({currentItem:t,index:n})=>p(t)?(0,e.createElement)(f,{currentItem:t,index:n}):(0,e.createElement)("span",{className:"repeater-item-title"},`#${n+1}`);return(0,e.createElement)("div",{className:"jet-form-builder__repeater-component",key:"jet-form-builder-repeater"},r.map(((t,n)=>(0,e.createElement)(va,{size:"small",elevation:2,className:"jet-form-builder__repeater-component-item",key:`jet-form-builder__repeater-component-item-${n}`},(0,e.createElement)(_a,{className:"repeater__item__header"},(0,e.createElement)("div",{className:"repeater-item__left-heading"},(0,e.createElement)(Ca,{className:"repeater-action-buttons jet-fb-toggle-group-control",hideLabelFromVision:!0},(!h||h(t))&&(0,e.createElement)(wa,{variant:"tertiary",isSmall:!0,icon:t.__visible?"no-alt":"edit",onClick:()=>u(n),className:"repeater-action-button jet-fb-is-thick"}),(!b||b(t))&&(0,e.createElement)(wa,{variant:"tertiary",isSmall:!0,isSecondary:!0,disabled:!Boolean(n),icon:"arrow-up-alt2",onClick:()=>s(n),className:"repeater-action-button jet-fb-is-thick"}),(!b||b(t))&&(0,e.createElement)(wa,{variant:"tertiary",isSmall:!0,isSecondary:!0,disabled:!(n<r.length-1),icon:"arrow-down-alt2",onClick:()=>c(n),className:"repeater-action-button jet-fb-is-thick"})),(0,e.createElement)(v,{currentItem:t,index:n})),(0,e.createElement)(Ca,{className:"jet-fb-toggle-group-control",hideLabelFromVision:!0},(!g||g(t))&&(0,e.createElement)(wa,{variant:"tertiary",isSmall:!0,isSecondary:!0,onClick:()=>i(n),className:"jet-fb-is-thick",icon:"admin-page"}),(!y||y(t))&&(0,e.createElement)(zt,{icon:"trash",isDestructive:!0},(0,e.createElement)(Jt.Consumer,null,(({setShowPopover:t})=>(0,e.createElement)("div",{style:{padding:"0.5em",width:"max-content"}},(0,e.createElement)("span",null,ja("Delete this item?","jet-form-builder"))," ",(0,e.createElement)(wa,{isLink:!0,isDestructive:!0,onClick:()=>m(n)},ja("Yes","jet-form-builder"))," / ",(0,e.createElement)(wa,{isLink:!0,onClick:()=>t(!1)},ja("No","jet-form-builder")))))))),t.__visible&&(0,e.createElement)(Ea,{className:"repeater-item__content",key:`jet-form-builder__card-body-${n}`},(()=>{const r={currentItem:t,changeCurrentItem:e=>d(e,n),currentIndex:n};return(0,e.createElement)(ra.Provider,{value:r},!a&&"Set up your Repeater Template, please.","function"==typeof a?a(r):a)})())))))},{__experimentalToggleGroupControl:Na,__experimentalToggleGroupControlOption:Fa}=wp.components,{__:Ta}=wp.i18n;let{formats:Ia}=window.jetFormValidation;const Ba=window.jfb.data,{messages:Aa}=window.jetFormValidation,Ra=function(e){return Aa.find((({id:t})=>e===t))},{TextControl:Oa}=wp.components,Ma=ke((0,l.forwardRef)((function({icon:e,size:t=24,...n},r){return(0,l.cloneElement)(e,{width:t,height:t,...n,ref:r})})))({name:"StyledIcon",class:"sfqmk5y",propsAsIs:!0});n(483);const{createContext:Pa}=wp.element,Ga=Pa({FieldSelect:null,property:""}),La=function({state:t,children:n}){const r=pa(t);return(0,e.createElement)(ha.Provider,{value:r},n)},Da=window.wp.apiFetch;var qa=n.n(Da);const{rest_add_state:Va,rest_delete_state:Ja}=window.jetFormBlockConditions,{Fill:$a}=c,Ha=({setShowModal:t,changeCurrentItem:n,currentItem:r})=>{var o;const[a,i]=(0,l.useState)(!1),[s,c]=(0,l.useState)({}),[m,p]=(0,l.useState)("");let f=[...null!==(o=r.render_state)&&void 0!==o?o:[]];const{addRenderState:b,deleteRenderStates:g}=(0,pe.useDispatch)("jet-forms/block-conditions"),y=(0,pe.useSelect)((e=>e("jet-forms/block-conditions").getCustomRenderStates()),[a,s]);return(0,e.createElement)(h,{title:(0,d.__)("Register custom render state","jet-form-builder"),onRequestClose:()=>t(!1),classNames:["width-45"]},(0,e.createElement)("div",{className:"jet-fb with-button"},(0,e.createElement)(u.TextControl,{value:m,onChange:e=>p(e),placeholder:(0,d.__)("Set your custom state name","jet-form-builder")}),(0,e.createElement)(u.Button,{variant:"secondary",onClick:()=>{i(!0),Va.data={value:m},qa()(Va).then((e=>{var r;r=e.state,b(r),f.push(r.value),n({render_state:f}),i(!1),t(!1)})).catch((e=>{console.error(e),i(!1)}))},disabled:a,isBusy:a,style:{padding:"7px 12px",height:"unset"}},(0,d.__)("Add","jet-form-builder"))),Boolean(y?.length)&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("b",{className:"jet-fb flex mb-05-em"},(0,d.__)("Manage your custom states:","jet-form-builder")),(0,e.createElement)("div",{className:"jet-fb-buttons-flex"},y.map((t=>{var r;return(0,e.createElement)(u.Button,{key:t.value,icon:"no-alt",iconPosition:"right",onClick:()=>{return e=t.value,Ja.data={list:[e]},c((t=>({...t,[e]:!0}))),void qa()(Ja).then((()=>{(e=>{g(e),f=f.filter((t=>t!==e)),n({render_state:f})})(e)})).catch(console.error).finally((()=>{c((t=>({...t,[e]:!1})))}));var e},isBusy:null!==(r=s[t.value])&&void 0!==r&&r},t.label)})))),(0,e.createElement)($a,null,(0,e.createElement)("span",null)))},{Button:Ua,BaseControl:Wa,FormTokenField:za}=wp.components,{__:Ya}=wp.i18n,{useState:Ka}=wp.element,{useSelect:Xa}=wp.data,Za=({currentItem:t,changeCurrentItem:n})=>{const[r,o]=Ka(!1),l=Xa((e=>y(e("jet-forms/block-conditions").getRenderStates(),"value")),[r]);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Wa,{label:Ya("Render State","jet-form-builder"),className:"control-flex"},(0,e.createElement)("div",null,(0,e.createElement)("label",{className:"jet-fb label mb-05-em"},Ya("Add render state","jet-form-builder")),(0,e.createElement)("div",{className:"jet-fb with-button clear-label"},(0,e.createElement)(za,{value:t.render_state,suggestions:l,onChange:e=>n({render_state:e}),tokenizeOnSpace:!0,__experimentalExpandOnFocus:!0}),(0,e.createElement)(Ua,{label:Ya("New render state","jet-form-builder"),variant:"secondary",icon:"plus-alt2",onClick:()=>o(!0)})))),r&&(0,e.createElement)(Ha,{setShowModal:o,changeCurrentItem:n,currentItem:t}))},Qa=function({children:t,value:n,label:r,onChangePreset:o=!1,onChangeMacros:l=!1,macroWithCurrent:a=!1}){const i=(0,tr.useInstanceId)(u.FlexItem,"jfb-AdvancedModalControl");return(0,e.createElement)("div",{className:"components-base-control"},(0,e.createElement)(u.Flex,{align:"flex-start",className:"components-base-control__field"},(0,e.createElement)(u.FlexItem,{isBlock:!0},(0,e.createElement)(u.Flex,{align:"center",justify:"flex-start"},(0,e.createElement)("label",{htmlFor:i,className:"jet-fb label"},r),!1!==o&&(0,e.createElement)(qt,{value:n,onChange:o}),!1!==l&&(0,e.createElement)(bn,{onClick:l,withCurrent:a}))),(0,e.createElement)(u.FlexItem,{isBlock:!0,style:{flex:3,marginLeft:"unset"}},"function"==typeof t?t({instanceId:i}):t)))},{TextareaControl:ei,withFilters:ti}=wp.components,{__:ni}=wp.i18n,ri=ti("jet.fb.block.conditions.options")((t=>{const{currentItem:n,changeCurrentItem:r}=t,o=de();return["empty","not_empty"].includes(n.operator)?null:"render_state"===n.operator?(0,e.createElement)(Za,{key:o("RenderStateOptions"),changeCurrentItem:r,currentItem:n}):(0,e.createElement)(xn,null,(0,e.createElement)(Qa,{value:n.value,label:ni("Value to compare","jet-form-builder"),onChangePreset:e=>r({value:e}),onChangeMacros:e=>{var t;return r({value:(null!==(t=n.value)&&void 0!==t?t:"")+e})}},(({instanceId:t})=>(0,e.createElement)(ei,{id:t,value:n.value,onChange:e=>r({value:e})}))))})),{SelectControl:oi,withFilters:li}=wp.components,{__:ai}=wp.i18n,ii=li("jet.fb.block.conditions.options")((t=>{const{currentItem:n,changeCurrentItem:r}=t,o=(0,hn.useFields)({placeholder:"--"});return"render_state"===n.operator?null:(0,e.createElement)(oi,{label:ai("Field","jet-form-builder"),labelPosition:"side",value:n.field,options:o,onChange:e=>{r({field:e})}})})),{useContext:si}=wp.element,{SelectControl:ci}=wp.components,{__:ui}=wp.i18n,di=function(){const{currentItem:t,changeCurrentItem:n}=si(ra),r=de(),{operators:o}=ce();return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(ii,{currentItem:t,changeCurrentItem:n}),(0,e.createElement)(ci,{key:r("SelectControl-operator"),label:ui("Operator","jet-form-builder"),labelPosition:"side",value:t.operator,options:o,onChange:e=>n({operator:e})}),(0,e.createElement)(ri,{currentItem:t,changeCurrentItem:n}))},{select:mi}=wp.data,pi=function(e){return mi("jet-forms/block-conditions").readCondition(e)},{__:fi}=wp.i18n,hi=function({children:t}){return(0,e.createElement)(la.Provider,{value:{isSupported:()=>!0,render:({currentItem:t})=>(0,e.createElement)("span",{className:"repeater-item-title",dangerouslySetInnerHTML:{__html:t?.or_operator?fi("OR","jet-form-builder"):pi(t)}})}},(0,e.createElement)(aa.Provider,{value:{edit:e=>!e.or_operator}},t))},{__:bi}=wp.i18n,{useState:gi,useContext:yi,Fragment:vi,useEffect:wi,useRef:_i}=wp.element,{SelectControl:Ei,TextareaControl:Ci,FlexItem:ki,Flex:Si,ToggleControl:ji}=wp.components,xi=[{key:"commas",render:()=>(0,e.createElement)("li",null,bi("If this field supports multiple values, you can separate them with commas. If a string value is expected, wrap it in single quotes like '%value_field%'.","jet-form-builder"))}],Ni=[{value:"on_change",label:bi("On change conditions result","jet-form-builder"),help:bi("The value will be applied if condition check-ups return a result different from the first check-up's cached value","jet-form-builder")},{value:"once",label:bi("Once","jet-form-builder"),help:bi("The value will be applied only the first time the condition is matched","jet-form-builder")},{value:"always",label:bi("Always","jet-form-builder"),help:bi("The value will be applied every time the condition is matched","jet-form-builder")}],Fi=e=>Ni.find((t=>t.value===(null!=e?e:"on_change"))).help,Ti=function(){var t,n,r,o;const{current:l,update:a}=yi(sa),[i,s]=gi((()=>l)),c=_i(null),[u,d]=gi((()=>Fi(i.frequency)));wi((()=>{d(Fi(i.frequency))}),[i.frequency]);const m=e=>{s((t=>({...t,...e})))};return W((()=>a(i))),(0,e.createElement)(vi,null,(0,e.createElement)(Si,{align:"flex-start"},(0,e.createElement)(ki,{isBlock:!0},(0,e.createElement)(Si,{align:"center",justify:"flex-start"},(0,e.createElement)("span",{className:"jet-fb label"},bi("Value to set","jet-form-builder")),(0,e.createElement)(qt,{value:i.to_set,onChange:e=>m({to_set:e})}),(0,e.createElement)(xn,{withThis:!0},(0,e.createElement)(bn,{onClick:e=>(e=>{const t=c.current;if(t){const n=t.selectionStart,r=t.selectionEnd,o=i.to_set||"",l=o.slice(0,n)+e+o.slice(r);m({to_set:`${l}`}),setTimeout((()=>{t.focus(),t.selectionStart=t.selectionEnd=n+e.length}),0)}})(e)}))),(0,e.createElement)(ut,null,(0,e.createElement)("ul",null,xi.map((t=>(0,e.createElement)(vi,{key:t.key},t.render())))))),(0,e.createElement)(ki,{isBlock:!0,style:{flex:3,marginLeft:"unset"}},(0,e.createElement)(Ci,{className:"jet-control-clear",hideLabelFromVision:!0,value:null!==(t=i.to_set)&&void 0!==t?t:"",onChange:e=>m({to_set:e}),ref:c}))),(0,e.createElement)(Ei,{options:Ni,value:null!==(n=i.frequency)&&void 0!==n?n:"on_change",label:bi("Apply type","jet-form-builder"),labelPosition:"side",onChange:e=>m({frequency:e}),help:u}),(0,e.createElement)(La,{state:e=>{var t;m({conditions:"function"==typeof e?e(null!==(t=i.conditions)&&void 0!==t?t:[]):e})}},(0,e.createElement)(hi,null,(0,e.createElement)(xa,{items:null!==(r=i.conditions)&&void 0!==r?r:[]},(0,e.createElement)(di,null))),(0,e.createElement)("div",{className:"jet-fb flex jc-space-between ai-center"},(0,e.createElement)(ya,null,bi("Add New Condition","jet-form-builder")),(0,e.createElement)(ji,{className:"jet-fb m-unset clear-control",label:bi("Set value only if field is empty","jet-form-builder"),checked:null!==(o=i.set_on_empty)&&void 0!==o&&o,onChange:e=>m({set_on_empty:e})}))))},{__:Ii}=wp.i18n,{Children:Bi,cloneElement:Ai}=wp.element,Ri=function({conditions:t,showWarning:n=!1}){let r=[],o="";return Boolean(t?.length)&&(o=pi(t[0]),r=t.filter(((e,t)=>0!==t)).map(((t,n)=>(0,e.createElement)("span",{key:n,"data-title":Ii("And","jet-form-builder")+":",dangerouslySetInnerHTML:{__html:pi(t)}})))),o?(0,e.createElement)(e.Fragment,null,(0,e.createElement)("span",{"data-title":Ii("If","jet-form-builder")+":",dangerouslySetInnerHTML:{__html:o}}),Bi.map(r,Ai)):n&&(0,e.createElement)("span",{"data-title":Ii("The condition is not fully configured.","jet-form-builder")})},Oi=function({isHover:t=!1,children:n}){return(0,e.createElement)("div",{className:["jet-fb",t?"show":"hide","p-absolute","wh-100","flex-center","gap-05em"].join(" "),style:{backgroundColor:"#ffffffcc",transition:"0.3s"}},n)},Mi=function({children:t}){return(0,e.createElement)("div",{className:["jet-fb","flex","flex-dir-column","container","gap-1em"].join(" ")},t)},{__:Pi}=wp.i18n,{useState:Gi}=wp.element,{Button:Li}=wp.components,Di=function({current:t,update:n,isOpenModal:r,setOpenModal:o}){const[l,a]=Gi(!1),[i,s]=Gi(!1),c=1>=Object.keys(t)?.length;return(0,e.createElement)(sa.Provider,{value:{update:e=>{n((n=>{const r=JSON.parse(JSON.stringify(n.groups));for(const n in r)r.hasOwnProperty(n)&&t.id===r[n].id&&(r[n]={...r[n],...e});return{groups:r}}))},current:t}},(0,e.createElement)("div",{className:"jet-fb p-relative",onMouseOver:()=>s(!0),onFocus:()=>s(!0),onMouseOut:()=>s(!1),onBlur:()=>s(!1)},(0,e.createElement)(Oi,{isHover:i},(0,e.createElement)(Li,{isSmall:!0,isSecondary:!0,icon:l?"no-alt":"edit",onClick:()=>a((e=>!e))},Pi("Edit","jet-form-builder")),(0,e.createElement)(Li,{isSmall:!0,isDestructive:!0,icon:"trash",onClick:()=>{n((e=>({groups:JSON.parse(JSON.stringify(e.groups)).filter((({id:e})=>e!==t.id))})))}},Pi("Delete","jet-form-builder"))),(0,e.createElement)(Mi,null,c?(0,e.createElement)("div",{"data-title":Pi("This value item is empty","jet-form-builder")}):(0,e.createElement)(e.Fragment,null,(0,e.createElement)("span",{"data-title":Pi("Set","jet-form-builder")+":",dangerouslySetInnerHTML:{__html:Lr(t.to_set)}}),(0,e.createElement)(Ri,{conditions:t?.conditions})))),(l||r===t.id)&&(0,e.createElement)(h,{classNames:["width-60"],onRequestClose:()=>{a(!1),o(!1)},title:Pi("Edit Dynamic Value","jet-form-builder")},(0,e.createElement)(Ti,null)))},qi=function({children:t,...n}){return(0,e.createElement)("div",{className:"jet-fb flex flex-dir-column gap-default",style:{marginBottom:"1em"},...n},t)},{__:Vi}=wp.i18n,{useState:Ji}=wp.element,{Button:$i}=wp.components,Hi=function(){var t,n;const[r,o]=fe(),l=de(),a=null!==(t=r.value)&&void 0!==t?t:{},i=null!==(n=a.groups)&&void 0!==n?n:[],[s,c]=Ji(!1);if(!he("value"))return null;const u=i.filter(((e,t)=>0!==t)),d=e=>{o({...r,value:{...a,..."function"==typeof e?e(a):e}})};return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(ut,null,Vi("Or use a condition-dependent value","jet-form-builder")+" ",(0,e.createElement)($i,{isLink:!0,onClick:()=>{},label:Vi("Former Set Value functionality, moved from the Conditional Block","jet-form-builder"),showTooltip:!0},"(?)")),Boolean(i.length)?(0,e.createElement)(qi,null,(0,e.createElement)(Di,{key:l(i[0].id),current:i[0],update:d,isOpenModal:s,setOpenModal:c}),Boolean(u.length)&&u.map((t=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("b",null,Vi("OR","jet-form-builder")),(0,e.createElement)(Di,{key:l(t.id),current:t,update:d,isOpenModal:s,setOpenModal:c}))))):null,(0,e.createElement)($i,{icon:"plus-alt2",isSecondary:!0,onClick:()=>{const e=k.getRandomID();d({groups:[...i,{id:e,conditions:[{__visible:!0}]}]}),c(e)}},Vi("Add Dynamic Value","jet-form-builder")))},{Button:Ui}=wp.components,{useContext:Wi}=wp.element,{SelectControl:zi}=wp.components,{useContext:Yi,useMemo:Ki}=wp.element,{__:Xi}=wp.i18n,Zi=function(){const{currentItem:t,changeCurrentItem:n}=Yi(ra),r=Ki((()=>R(Xi("Custom value","jet-form-builder"))),[]);return(0,e.createElement)(zi,{labelPosition:"side",options:r,label:Xi("Choose field","jet-form-builder"),value:t.field,onChange:e=>n({field:e})})},{SelectControl:Qi,TextareaControl:es,TextControl:ts,withFilters:ns}=wp.components,{useContext:rs,useState:os,useEffect:ls}=wp.element,{__:as}=wp.i18n,{addFilter:is}=wp.hooks,{rule_types:ss,ssr_callbacks:cs}=window.jetFormValidation,us=cs.map((({value:e})=>e));function ds(e){var t;const n=ss.findIndex((({value:t})=>t===e)),r=as("Enter value","jet-form-builder");return-1===n?r:null!==(t=ss[n]?.control_label)&&void 0!==t?t:r}is("jet.fb.advanced.rule.controls","jet-form-builder",(t=>n=>{const{currentItem:r,changeCurrentItem:o}=n,[l,a]=os(!1),[i]=(0,K.useActions)(),s=i.some((e=>"save_record"===e.type&&(void 0===e.is_execute||!0===e.is_execute)))?"success":"error";if("ssr"!==r.type)return(0,e.createElement)(t,{...n});const c=r.value||"custom_jfb_field_validation";return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Qi,{labelPosition:"side",options:k.withPlaceholder(cs,as("Custom function","jet-form-builder")),label:as("Choose callback","jet-form-builder"),value:r.value,onChange:e=>o({value:e})}),"is_field_value_unique"===r.value&&(0,e.createElement)(u.Notice,{status:s,isDismissible:!1},as("This callback requires the Save Form Record action to work correctly.","jet-form-builder")),"is_user_password_valid"===r.value&&(0,e.createElement)(u.Notice,{status:"success",isDismissible:!1},as("Works only for logged users.","jet-form-builder")),!us.includes(r.value)&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(ts,{label:as("Function name","jet-form-builder"),value:r.value,onChange:e=>o({value:e})}),(0,e.createElement)(ut,null,as("Example of registering a function below.","jet-form-builder")+" ",(0,e.createElement)("a",{href:"javascript:void(0)",onClick:()=>a((e=>!e))},as(l?"Hide":"Show","jet-form-builder"))),l&&(0,e.createElement)("pre",null,`/**\n * To get all the values of the fields in the form, you can use the expression:\n * jet_fb_request_handler()->get_request() or $context->get_request()\n *\n * If the field is located in the middle of the repeater, then only\n * jet_fb_request_handler()->get_request(), but $context->get_request() \n * will return the values of all fields of the current repeater element\n *\n * @param $value mixed\n * @param $context \\Jet_Form_Builder\\Request\\Parser_Context\n *\n * @return bool\n */\nfunction ${c}( $value, $context ): bool {\n\t// your logic\n\treturn true;\n}`)))}));const ms=ns("jet.fb.advanced.rule.controls")((function({currentItem:t,changeCurrentItem:n}){const[r,o]=os((()=>ds(t.type)));switch(ls((()=>{o(ds(t.type))}),[t.type]),t.type){case"equal":case"contain":case"contain_not":case"regexp":case"regexp_not":return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Zi,null),!Boolean(t.field)&&(0,e.createElement)(Qa,{value:t.value,label:r,onChangePreset:e=>n({value:e}),onChangeMacros:e=>{var r;return n({value:(null!==(r=t.value)&&void 0!==r?r:"")+e})}},(({instanceId:r})=>(0,e.createElement)(es,{id:r,value:t.value,onChange:e=>n({value:e})}))));default:return null}})),ps=function(){const{currentItem:t,changeCurrentItem:n}=rs(ra);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Qi,{labelPosition:"side",options:k.withPlaceholder(ss),label:as("Rule type","jet-form-builder"),value:t.type,onChange:e=>n({type:e})}),(0,e.createElement)(ms,{currentItem:t,changeCurrentItem:n}),(0,e.createElement)(es,{label:as("Error message","jet-form-builder"),value:t.message,onChange:e=>n({message:e})}))},{select:fs}=wp.data,hs=function(e){return fs("jet-forms/validation").readRule(e)},{useState:bs}=wp.element,{__:gs}=wp.i18n,ys=function(){const[t,n]=fe(),[r,o]=bs((()=>{var e;return null!==(e=t.validation?.rules)&&void 0!==e?e:[]}));return W((()=>{n((e=>({...e,validation:{...t.validation,rules:r}})))})),(0,e.createElement)(La,{state:o},(0,e.createElement)(la.Provider,{value:{isSupported:()=>!0,render:({currentItem:t})=>(0,e.createElement)("span",{className:"repeater-item-title",dangerouslySetInnerHTML:{__html:hs(t)}})}},(0,e.createElement)(xa,{items:r},(0,e.createElement)(ps,null))),(0,e.createElement)(ya,null,gs("Add Rule","jet-form-builder")))},{createContext:vs}=wp.element,ws=vs({showModal:!1,setShowModal:()=>{}}),{useContext:_s,useState:Es}=wp.element,{__:Cs}=wp.i18n,{Button:ks}=wp.components,Ss=function(){const{setShowModal:t}=_s(ws),[n,r]=fe(),[o,l]=Es(!1);return(0,e.createElement)("div",{className:"jet-fb p-relative",onMouseOver:()=>l(!0),onFocus:()=>l(!0),onMouseOut:()=>l(!1),onBlur:()=>l(!1)},(0,e.createElement)(Oi,{isHover:o},(0,e.createElement)(ks,{isSmall:!0,isSecondary:!0,icon:"plus-alt2",onClick:()=>{r({validation:{...n.validation,rules:[{__visible:!0}]}}),t((e=>!e))}},Cs("Add new","jet-form-builder"))),(0,e.createElement)(Mi,null,(0,e.createElement)("span",{"data-title":Cs("You have no rules for this field.","jet-form-builder")}),(0,e.createElement)("span",{"data-title":Cs("Please click here to add new.","jet-form-builder")})))},{__:js}=wp.i18n,xs=function({rule:t}){return t.type?(0,e.createElement)(e.Fragment,null,(0,e.createElement)("span",{"data-title":js("Rule:","jet-form-builder"),dangerouslySetInnerHTML:{__html:hs(t)}}),Boolean(t.message)&&(0,e.createElement)("span",{"data-title":js("Message:","jet-form-builder"),dangerouslySetInnerHTML:{__html:t.message}})):(0,e.createElement)("span",{"data-title":js("The rule is not fully configured.","jet-form-builder")})},{useContext:Ns,useState:Fs}=wp.element,{__:Ts}=wp.i18n,{Button:Is}=wp.components,Bs=function({rule:t,index:n=0}){const{setShowModal:r}=Ns(ws),[o,l]=fe(),[a,i]=Fs(!1);return(0,e.createElement)("div",{className:"jet-fb p-relative",onMouseOver:()=>i(!0),onFocus:()=>i(!0),onMouseOut:()=>i(!1),onBlur:()=>i(!1)},(0,e.createElement)(Oi,{isHover:a},(0,e.createElement)(Is,{isSmall:!0,isSecondary:!0,icon:"edit",onClick:()=>{l({validation:{...o.validation,rules:o.validation.rules.map(((e,t)=>(e.__visible=n===t,e)))}}),r((e=>!e))}},Ts("Edit","jet-form-builder")),(0,e.createElement)(Is,{isSmall:!0,isDestructive:!0,icon:"trash",onClick:()=>{l({validation:{...o.validation,rules:o.validation.rules.filter(((e,t)=>t!==n))}})}},Ts("Delete","jet-form-builder"))),(0,e.createElement)(Mi,null,(0,e.createElement)(xs,{rule:t})))},{__:As}=wp.i18n,{Children:Rs,cloneElement:Os}=wp.element;const Ms=function(){const[t]=fe();return t?.validation?.rules?.length?(0,e.createElement)(qi,null,Rs.map(function(t){const n=t.filter(((e,t)=>0!==t));return[(0,e.createElement)(Bs,{rule:t[0],key:"first_item"}),...n.map(((t,n)=>((t,n)=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("b",null,As("AND","jet-form-builder")),(0,e.createElement)(Bs,{rule:t,index:n})))(t,n+1)))]}(t.validation.rules),Os)):(0,e.createElement)(Ss,null)},{useState:Ps}=wp.element,{__:Gs}=wp.i18n,{useBlockProps:Ls}=wp.blockEditor,{TextControl:Ds,SelectControl:qs,ToggleControl:Vs,BaseControl:Js,__experimentalNumberControl:$s}=wp.components;let{NumberControl:Hs}=wp.components;void 0===Hs&&(Hs=$s);const{FormToggle:Us,BaseControl:Ws,Flex:zs}=wp.components,{useInstanceId:Ys}=wp.compose,{useBlockProps:Ks}=wp.blockEditor,{useEffect:Xs}=wp.element,{useSelect:Zs}=wp.data,{useBlockProps:Qs}=wp.blockEditor,{useSelect:ec}=wp.data,{CustomSelectControl:tc,Icon:nc}=wp.components,{useBlockEditContext:rc}=wp.blockEditor,{Children:oc,cloneElement:lc,useContext:ac}=wp.element,{useSelect:ic}=wp.data,{useBlockEditContext:sc}=wp.blockEditor;let{__experimentalToggleGroupControl:cc,__experimentalToggleGroupControlOptionIcon:uc,__experimentalToolbarContext:dc,ToggleGroupControl:mc,ToggleGroupControlOptionIcon:pc,ToolbarItem:fc,ToolbarGroup:hc,ToolbarContext:bc}=wp.components;function gc({value:t}){const{name:n}=sc(),r=ac(bc),[,o]=fe(),{variations:l,components:a}=ic((t=>{const{getBlockVariations:o}=t("core/blocks"),l=o(n,"block");return{variations:l,components:l.map((t=>{var n;return(null!==(n=r?.currentId)&&void 0!==n?n:r?.baseId)?(0,e.createElement)(fc,{key:t.name,as:pc,value:t.name,label:t.title,icon:t.icon}):(0,e.createElement)(pc,{key:t.name,value:t.name,label:t.title,icon:t.icon})}))}}),[]);return l.length?(0,e.createElement)("div",{className:"jfb-variations-toolbar-toggle"},(0,e.createElement)(mc,{hideLabelFromVision:!0,onChange:e=>o({...l.find((({name:t})=>t===e)).attributes}),value:t,isBlock:!0},oc.map(a,lc))):null}mc=mc||cc,pc=pc||uc,bc=bc||dc;const{useSelect:yc}=wp.data,{useBlockEditContext:vc}=wp.blockEditor,{get:wc}=window._,{useBlockProps:_c,RichText:Ec}=wp.blockEditor,{Button:Cc}=wp.components,{createContext:kc}=wp.element,Sc=kc({}),{useContext:jc}=wp.element,{useState:xc}=wp.element,{get:Nc}=window._,{useSelect:Fc,useDispatch:Tc}=wp.data;var Ic,Bc,Ac;window.JetFBComponents={...null!==(Ic=window?.JetFBComponents)&&void 0!==Ic?Ic:{},BaseLabel:yn,ActionFieldsMap:function({fields:t=[],label:n="[Empty label]",children:a=null,plainHelp:i="",customHelp:s=!1}){return(0,e.createElement)(o.RowControl,{align:"flex-start"},(0,e.createElement)(o.Label,null,n),(0,e.createElement)(o.RowControlEnd,null,s&&"function"==typeof s&&s(),Boolean(i.length)&&(0,e.createElement)("span",{className:"description-controls"},i),t.map((([t,n],o)=>(0,e.createElement)(l.Fragment,{key:`field_in_map_${t+o}`},(0,e.createElement)(r.Provider,{value:{name:t,data:n,index:o}},"function"==typeof a?a({fieldId:t,fieldData:n,index:o}):a))))))},ActionModal:h,ActionModalContext:i,SafeDeleteContext:ta,RepeaterItemContext:ra,RepeaterBodyContext:oa,RepeaterHeadContext:la,RepeaterButtonsContext:aa,ActionFieldsMapContext:r,CurrentPropertyMapContext:Ga,BlockValueItemContext:sa,DynamicPropertySelect:function({dynamic:t=[],parseValue:n=null,children:a=null,properties:i=null}){const{source:s,settings:c,setMapField:u}=(0,l.useContext)(K.CurrentActionEditContext);i=null!=i?i:s.properties;const{name:d,index:m}=(0,l.useContext)(r),{fields_map:p={}}=c;function f(e){var r;for(const t of i)if(e===t.value)return e;return n?n(e):null!==(r=t[0])&&void 0!==r?r:""}const[h,b]=(0,l.useState)((()=>{var e;return f(null!==(e=p[d])&&void 0!==e?e:"")})),g=(0,e.createElement)(o.StyledSelectControl,{key:d+m,value:h,options:i,help:(()=>{var e;const t=i.find((({value:e})=>e===h));return null!==(e=t?.help)&&void 0!==e?e:""})(),onChange:e=>{const n=f(e);b(n),u({nameField:d,value:t.includes(e)?"":e})}});return(0,e.createElement)(Ga.Provider,{value:{FieldSelect:g,property:h}},a&&a,!a&&g)},SafeDeleteToggle:function(t){const[n,r]=da(!0);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(ca,{label:ua("Safe deleting","jet-form-builder"),checked:n,onChange:r}),(0,e.createElement)(ta.Provider,{value:n},t.children))},RepeaterAddNew:ya,RepeaterAddOrOperator:function(t){var n;const{onSetState:r,functions:o,children:l}=t,{addNewItem:a}=null!==(n=null!=o?o:pa(r))&&void 0!==n?n:Wi(ha);return(0,e.createElement)(Ui,{isSecondary:!0,icon:"randomize",onClick:()=>a({__visible:!1,or_operator:!0})},l)},Repeater:xa,WrapperRequiredControl:function({children:t,labelKey:n="label",requiredKey:o="required",helpKey:l="help",field:a=[]}){let{name:i,data:s}=g(r);return a.length&&([i,s]=a),(0,e.createElement)("div",{className:"jet-user-meta__row",key:"user_meta_"+i},(0,e.createElement)("div",{className:"jet-field-map__row-label"},(0,e.createElement)("span",{className:"fields-map__label"},s.hasOwnProperty(n)&&s[n]&&s[n],!s.hasOwnProperty(n)&&s),s.hasOwnProperty(o)&&s[o]&&(0,e.createElement)("span",{className:"fields-map__required"}," *"),s[l]&&(0,e.createElement)("p",{className:"components-base-control__help",style:{color:"rgb(117, 117, 117)",margin:"1em 0 0 0"}},(0,e.createElement)(b,null,s[l]))),t)},DynamicPreset:Ie,JetFieldsMapControl:Oe,FieldWithPreset:function({children:t=null,ModalEditor:n,triggerClasses:r=[],baseControlProps:o={}}){const[l,a]=Le(!1),i=()=>{a((e=>!e))},s=["jet-form-dynamic-preset__trigger",...r].join(" ");return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Ge,{className:"jet-form-dynamic-preset",...o},t,(0,e.createElement)("div",{className:s,onClick:i},(0,e.createElement)(Pe,{viewBox:"0 0 54 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)(Me,{d:"M42.6396 26.4347C37.8682 27.3436 32.5666 28.0252 27.1894 28.0252C21.8121 28.0252 16.4348 27.3436 11.7391 26.4347C6.96774 25.4502 3.18093 23.8597 0.37868 21.9663L0.37868 28.0252C0.37868 29.5399 1.59046 31.1304 3.78682 32.4179C5.98317 33.7054 9.46704 34.9172 13.6325 35.5988C17.798 36.2805 22.115 36.8106 27.1894 36.8106C32.2637 36.8106 36.6564 36.5077 40.7462 35.5988C44.8359 34.69 48.3198 33.7054 50.5162 32.4179C52.7125 31.1304 54 29.5399 54 28.0252L54 21.9663C51.122 23.8597 47.3352 25.4502 42.6396 26.4347ZM42.6396 53.5484C37.8682 54.5329 32.5666 55.1388 27.1894 55.1388C21.8121 55.1388 16.4348 54.5329 11.7391 53.5484C7.04348 52.5638 3.18093 51.0491 0.378682 49.1556L0.378682 55.1388C0.378683 56.7293 1.59046 58.3197 3.78682 59.5315C6.36186 60.819 9.46705 62.1066 13.6325 62.7125C17.7223 63.697 22.115 64 27.1894 64C32.2637 64 36.6564 63.697 40.7462 62.7125C44.8359 61.8036 48.3198 60.819 50.5162 59.5315C52.7125 57.9411 54 56.7293 54 54.8359L54 48.8527C51.122 51.0491 47.3352 52.2608 42.6396 53.5484ZM42.6396 39.9915C37.8682 40.9004 32.5666 41.582 27.1894 41.582C21.8121 41.582 16.4348 40.9004 11.7391 39.9915C6.96774 39.007 3.18093 37.4922 0.378681 35.5988L0.378681 41.582C0.378681 43.1725 1.59046 44.6872 3.78682 45.9747C6.36185 47.2622 9.46705 48.474 13.6325 49.1556C17.7223 50.0645 22.115 50.3674 27.1894 50.3674C32.2637 50.3674 36.6564 50.0645 40.7462 49.1556C44.8359 48.1711 48.3198 47.2622 50.5162 45.9747C52.7125 44.3843 54 43.1725 54 41.582L54 35.5988C51.122 37.4922 47.3352 39.007 42.6396 39.9915ZM40.4432 2.12337C36.3535 1.13879 31.885 0.835848 26.8864 0.835849C21.8878 0.835849 17.4194 1.13879 13.2539 2.12337C9.08836 3.10794 5.68022 4.01678 3.48387 5.3043C1.28751 6.59181 -3.4782e-06 8.10654 -3.33916e-06 9.697L-2.95513e-06 14.0897C-2.81609e-06 15.6802 1.28752 17.2706 3.48387 18.5582C6.05891 19.7699 9.1641 21.0575 13.2539 21.6633C17.3436 22.2692 21.8121 22.9509 26.8864 22.9509C31.9607 22.9509 36.3535 22.9509 40.4432 22.345C44.533 21.7391 48.0169 20.4516 50.2132 19.164C52.7125 17.5736 54 15.9831 54 14.3927L54 9.99995C54 8.40948 52.7125 6.81902 50.5162 5.60724C48.3198 4.39546 44.533 2.72926 40.4432 2.12337Z",fill:"#7E8993"})))),l&&(0,e.createElement)(h,{onRequestClose:i,classNames:["width-60"],title:"Edit Preset"},(t=>(0,e.createElement)(n,{...t}))))},GlobalField:ye,AvailableMapField:function({fieldsMap:t,field:n,index:r,value:a,onChangeValue:i,isMapFieldVisible:s}){let c=null;t||(t={}),c=t[n],c&&"object"==typeof c||(c={});const d=({field:t,name:n,index:r,fIndex:l,children:a})=>(0,e.createElement)(u.Card,{key:t+n+r+l,size:"extraSmall",style:{marginBottom:"10px"}},(0,e.createElement)(u.CardHeader,null,(0,e.createElement)("span",{className:"jet-label-overflow"},t)),(0,e.createElement)(o.StyledCardBodyControl,{key:t+n+r+l,className:"jet-form-preset__fields-map-item"},a));return(0,e.createElement)(l.Fragment,{key:`map_field_preset_${n+r}`},window.JetFormEditorData.presetConfig.map_fields.map(((l,m)=>{const p={field:n,name:l.name,index:r,fIndex:m},f="control_"+n+l.name+r+m;switch(l.type){case"text":return s(a,l,n)&&function({field:t,name:n,index:r,fIndex:l},a){return(0,e.createElement)(u.Card,{key:t+n+r+l,size:"extraSmall",style:{marginBottom:"10px"}},(0,e.createElement)(u.CardHeader,null,(0,e.createElement)("span",{className:"jet-label-overflow"},t)),(0,e.createElement)(o.StyledCardBodyControl,{key:t+n+r+l,className:"jet-form-preset__fields-map-item"},a))}(p,(0,e.createElement)(o.StyledTextControl,{key:f+"TextControl",placeholder:l.label,value:c[l.name],onChange:e=>{c[l.name]=e,i({...t,[n]:c},"fields_map")}}));case"select":return s(a,l,n)&&(0,e.createElement)(d,{...p,key:f},(0,e.createElement)(o.StyledSelectControl,{options:l.options,value:c[l.name],onChange:e=>{c[l.name]=e,i({...t,[n]:c},"fields_map")}}));case"custom_select":return s(a,l,n)&&(0,e.createElement)(d,{...p,key:f},(0,e.createElement)(u.CustomSelectControl,{options:l.options,onChange:({selectedItem:e})=>{c[l.name]=e.key,i({...t,[n]:c},"fields_map")},value:l.options.find((e=>e.key===c[l.name]))}));case"grouped_select":return s(a,l,n)&&(0,e.createElement)(d,{...p,key:f},(0,e.createElement)(je,{options:l.options,value:c[l.name],onChange:e=>{c[l.name]=e,i({...t,[n]:c},"fields_map")}}));default:return null}})))},MapField:xe,FieldWrapper:function(t){const{attributes:n,children:r,wrapClasses:o=[],valueIfEmptyLabel:l="",setAttributes:a,childrenPosition:i="between"}=t,s=de(),c=U("_jf_args"),u=Xe((function(){We(n,a)}));function d(){return(0,e.createElement)(ze.VisualLabel,null,Qe(Ze("input label:","jet-form-builder")),(0,e.createElement)("div",{className:"jet-form-builder__label"},(0,e.createElement)(Ye,{key:s("rich-label"),placeholder:"Label...",allowedFormats:[],value:n.label?n.label:l,onChange:e=>a({label:e}),isSelected:!1,...u}),n.required&&(0,e.createElement)("span",{className:"jet-form-builder__required"},c.required_mark?c.required_mark:"*")))}function m(){return(0,e.createElement)("div",{className:"jet-form-builder__desc--wrapper"},Qe(Ze("input description:","jet-form-builder")),(0,e.createElement)(ze,{key:"custom_help_description",className:"jet-form-builder__desc"},(0,e.createElement)("div",{className:"components-base-control__help"},(0,e.createElement)(Ye,{key:s("rich-description"),tagName:"small",placeholder:"Description...",allowedFormats:[],value:n.desc,onChange:e=>a({desc:e}),style:{marginTop:"0px"}}))))}return"row"===c.fields_layout&&o.push("jet-form-builder-row__flex"),(0,e.createElement)(ze,{key:s("placeHolder_block"),className:E("jet-form-builder__field-wrap","jet-form-builder-row",o)},"row"!==c.fields_layout&&(0,e.createElement)(e.Fragment,null,"top"===i&&r,d(),"between"===i&&r,m(),"bottom"===i&&r),"row"===c.fields_layout&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"jet-form-builder-row__flex--label"},d(),m()),(0,e.createElement)("div",{className:"jet-form-builder-row__flex--content"},r)))},MacrosInserter:function({children:t,fields:n,onFieldClick:r,customMacros:o,zIndex:l=1e6,...a}){const[i,s]=rt((()=>!1));return(0,e.createElement)("div",{className:"jet-form-editor__macros-inserter"},(0,e.createElement)(et,{isTertiary:!0,isSmall:!0,icon:i?"no-alt":"admin-tools",label:"Insert macros",className:"jet-form-editor__macros-trigger",onClick:()=>{s((e=>!e))}}),i&&(0,e.createElement)(tt,{style:{zIndex:l},position:"bottom left",...a},n.length&&(0,e.createElement)(nt,{title:"Form Fields"},n.map((t=>(0,e.createElement)("div",{key:"field_"+t.name},(0,e.createElement)(et,{isLink:!0,onClick:()=>{r(t.name)}},"%"+t.name+"%"))))),o&&(0,e.createElement)(nt,{title:"Custom Macros"},o.map((t=>(0,e.createElement)("div",{key:"macros_"+t},(0,e.createElement)(et,{isLink:!0,onClick:()=>{r(t)}},"%"+t+"%")))))))},RepeaterWithState:function({children:t,ItemHeading:n,repeaterClasses:r=[],repeaterItemClasses:o=[],newItem:a,addNewButtonLabel:i="Add New",items:s=[],isSaveAction:c,onSaveItems:m,onUnMount:p,onAddNewItem:f,onRemoveItem:h,help:b={helpSource:{},helpVisible:()=>!1,helpKey:""},additionalControls:g=null}){const y=["jet-form-builder__repeater-component",...r].join(" "),v=["jet-form-builder__repeater-component-item",...o].join(" "),[w,_]=(0,l.useState)([]);(0,l.useEffect)((()=>{_(s&&s.length>0?s.map((e=>(e.__visible=!1,e))):[{...a,__visible:!0}])}),[]);const[E,C]=(0,l.useState)(!0),k=(e,t)=>{_((n=>{const r=JSON.parse(JSON.stringify(n));return r[t]={...n[t],...e},r}))},S=({oldIndex:e,newIndex:t})=>{_((n=>{const r=JSON.parse(JSON.stringify(n));return[r[t],r[e]]=[r[e],r[t]],r}))},j=e=>!(e<w.length-1);(0,l.useEffect)((()=>{if(!0===c){for(const e in w)for(const t in w[e])t.startsWith("__")&&delete w[e][t];m(w),p()}else!1===c&&p()}),[c]);const x=e=>`jet-form-builder-repeater__item_${e}`,{helpSource:N,helpVisible:F,helpKey:T}=b,I=F(w)&&N&&N[T];return(0,e.createElement)("div",{className:y,key:"jet-form-builder-repeater"},I&&(0,e.createElement)("p",null,N[T].label),0<w.length&&(0,e.createElement)(l.Fragment,null,(0,e.createElement)(u.Flex,null,(0,e.createElement)(u.FlexItem,null,(0,e.createElement)(u.ToggleControl,{label:(0,d.__)("Safe deleting","jet-form-builder"),checked:E,onChange:C})),(0,e.createElement)(u.FlexItem,{style:{flex:"unset",marginBottom:"1em"}}))),g,w.map(((r,o)=>(0,e.createElement)(u.Card,{elevation:2,className:v,key:x(o)},(0,e.createElement)(u.CardHeader,{className:"repeater__item__header"},(0,e.createElement)("div",{className:"repeater-item__left-heading"},(0,e.createElement)(u.ButtonGroup,{className:"repeater-action-buttons"},(0,e.createElement)(u.Button,{isSmall:!0,icon:r.__visible?"no-alt":"edit",onClick:()=>(e=>{_((t=>{const n=JSON.parse(JSON.stringify(t));return n[e].__visible=!n[e].__visible,n}))})(o),className:"repeater-action-button"}),(0,e.createElement)(u.Button,{isSmall:!0,isSecondary:!0,disabled:!Boolean(o),icon:"arrow-up-alt2",onClick:()=>(e=>{S({oldIndex:e,newIndex:e-1})})(o),className:"repeater-action-button"}),(0,e.createElement)(u.Button,{isSmall:!0,isSecondary:!0,disabled:j(o),icon:"arrow-down-alt2",onClick:()=>(e=>{S({oldIndex:e,newIndex:e+1})})(o),className:"repeater-action-button"})),(0,e.createElement)("span",{className:"repeater-item-title"},n&&(0,e.createElement)(n,{currentItem:r,index:o,changeCurrentItem:e=>k(e,o)}),!n&&`#${o+1}`)),(0,e.createElement)(u.ButtonGroup,null,(0,e.createElement)(u.Button,{isSmall:!0,isSecondary:!0,onClick:()=>(e=>{_((t=>{const n=JSON.parse(JSON.stringify(t)),[r,o]=[n.slice(0,e+1),n.slice(e+1)];return[...r,n[e],...o]}))})(o)},(0,d.__)("Clone","jet-form-builder")),(0,e.createElement)(u.Button,{isSmall:!0,isSecondary:!0,isDestructive:!0,onClick:()=>(e=>{E&&!(e=>confirm((0,d.sprintf)((0,d.__)("Are you sure you want to remove item %d?","jet-form-builder"),e+1)))(e)||h&&!h(e,w)||_((t=>{const n=JSON.parse(JSON.stringify(t));return n.splice(e,1),n}))})(o)},(0,d.__)("Delete","jet-form-builder")))),r.__visible&&(0,e.createElement)(u.CardBody,{className:"repeater-item__content"},t&&(0,e.createElement)(l.Fragment,{key:`repeater-component__item_${o}`},"function"==typeof t&&t({currentItem:r,changeCurrentItem:e=>k(e,o),currentIndex:o}),"function"!=typeof t&&t),!t&&"Set up your Repeater Template, please.")))),1<w.length&&(0,e.createElement)(l.Fragment,null,g,(0,e.createElement)(u.ToggleControl,{className:"jet-control-clear",label:(0,d.__)("Safe deleting","jet-form-builder"),checked:E,onChange:C})),(0,e.createElement)(u.Button,{isSecondary:!0,onClick:()=>{return e=a,f&&f(e,w),void _((t=>[...t,{...e,__visible:!0}]));var e}},i))},AdvancedFields:function(){return(0,e.createElement)(kt,null,(0,e.createElement)(at,null),(0,e.createElement)(ct,null),(0,e.createElement)(gt,null),(0,e.createElement)(wt,null),(0,e.createElement)(Ct,null))},GeneralFields:function({hasMacro:t=!0}){return(0,e.createElement)(Rn,{title:On("General","jet-form-builder"),key:"jet-form-general-fields"},(0,e.createElement)(Ft,null),(0,e.createElement)(Pt,null),(0,e.createElement)(Dt,null),(0,e.createElement)(An,{hasMacro:t}))},ToolBarFields:function({children:t=null}){return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Vn,null,t),(0,e.createElement)(zn,null))},FieldControl:function(t){const{setAttributes:n,attributes:r}=t,o=function({type:e,attributes:t,attrsSettings:n={}}){const r=Ls()["data-type"],o=er();return o[e]?o[e].attrs.filter((({attrName:e,label:o,...l})=>{const a=e in t,i=(e=>{if(!e.condition)return!0;if(r&&e.condition.blockName){if("string"==typeof e.condition.blockName&&r!==e.condition.blockName)return!1;if("object"==typeof e.condition.blockName&&e.condition.blockName.length&&!e.condition.blockName.includes(r))return!1}return!(!function(){if("object"!=typeof e.condition.attr)return!0;const{operator:n="and",items:r={}}=e.condition.attr;if("or"===n.toLowerCase())for(const e in r)if(r[e]===t[e])return!0;return"and"!==n.toLowerCase()||function(){for(const e in r)if(r[e]!==t[e])return!1;return!0}()}()||"string"==typeof e.condition.attr&&e.condition.attr&&!t[e.condition.attr]||"string"==typeof e.condition&&!t[e.condition])})(l),s=e in n&&"show"in n[e]&&!1===n[e].show;return a&&i&&!s})):[]}(t),l=(e,t)=>{n({[t]:e})};return o.map((({help:t="",attrName:n,label:o,...a})=>{switch(a.type){case"text":return(0,e.createElement)(Ds,{key:`${a.type}-${n}-TextControl`,label:o,help:t,value:r[n],onChange:e=>l(e,n)});case"select":return(0,e.createElement)(qs,{key:`${a.type}-${n}-SelectControl`,label:o,help:t,value:r[n],options:a.options,onChange:e=>{l(e,n)}});case"toggle":return(0,e.createElement)(Vs,{key:`${a.type}-${n}-ToggleControl`,label:o,help:t,checked:r[n],onChange:e=>{l(e,n)}});case"number":return(0,e.createElement)(Js,{key:`${a.type}-${n}-BaseControl`,label:o},(0,e.createElement)(Hs,{key:`${a.type}-${n}-NumberControl`,value:r[n],onChange:e=>{l(Number(e),n)}}),(0,e.createElement)("p",{className:"components-base-control__help",style:{color:"rgb(117, 117, 117)"}},t));default:return null}}))},HorizontalLine:function(t){return(0,e.createElement)("hr",{style:{...t}})},FieldSettingsWrapper:function(t){const{title:n,children:r}=t,o=Zn()["data-type"].replace("/","-"),l=Xn(`jet.fb.render.settings.${o}`,null);return(r||l)&&(0,e.createElement)(Kn,{title:n||Yn("Field","jet-form-builder")},r,l)},GroupedSelectControl:je,BaseHelp:ut,GatewayFetchButton:nr,ValidationToggleGroup:function({excludeBrowser:t=!1}){var n;const[r,o]=fe(),l=de();return Ia=Ia.filter((({value:e})=>"browser"!==e||!t)),(0,e.createElement)(Na,{onChange:e=>o((t=>({...t,validation:{...r.validation,type:e}}))),value:null!==(n=r.validation?.type)&&void 0!==n?n:"inherit",label:Ta("Validation type","jet-form-builder"),isBlock:!0,isAdaptiveWidth:!1},(0,e.createElement)(Fa,{label:Ta("Inherit","jet-form-builder"),value:"inherit","aria-label":Ta("Inherit from form's args","jet-form-builder"),showTooltip:!0}),Ia.map((t=>(0,e.createElement)(Fa,{key:l(t.value+"_key"),label:t.label,value:t.value,"aria-label":t.title,showTooltip:!0}))))},ValidationBlockMessage:function({name:t}){var n,r,o;const l=de(),[a,i]=fe(),[s]=(0,Ba.useMetaState)("_jf_validation","{}",[]),c=!a.validation?.type,u=c?null!==(n=s?.messages)&&void 0!==n?n:{}:null!==(r=a.validation?.messages)&&void 0!==r?r:{},d=Ra(t);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Oa,{disabled:c,key:l("massage_"+t),label:d?.label,help:d?.help,value:null!==(o=u[t])&&void 0!==o?o:d?.initial,onChange:e=>i((n=>({...n,validation:{...a.validation,messages:{...u,[t]:e}}})))}))},ValidationMetaMessage:function({message:t,update:n,value:r=null,help:l=null}){const a=Ra(t.id);return(0,e.createElement)(o.StyledFlexControl,{direction:"column"},(0,e.createElement)(u.Flex,null,(0,e.createElement)(o.Label,{htmlFor:t.id},a.label),(0,e.createElement)(u.Flex,{style:{width:"auto"}},t.blocks.map((t=>(0,e.createElement)(u.Tooltip,{key:"message_block_item"+t.title,text:t.title,delay:200,placement:"top"},(0,e.createElement)(Ma,{icon:t.icon})))))),(0,e.createElement)(o.StyledTextControl,{className:o.ClearBaseControlStyle,id:t.id,help:null!=l?l:a?.help,value:null!=r?r:a?.initial,onChange:e=>n((n=>({...n,[t.id]:e})))}))},DynamicValues:Hi,EditAdvancedRulesButton:function(){const[t,n]=Ps(!1);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(ws.Provider,{value:{showModal:t,setShowModal:n}},(0,e.createElement)("div",{className:"jet-fb mb-24"},(0,e.createElement)(Ms,null))),t&&(0,e.createElement)(h,{title:Gs("Edit Advanced Rules","jet-form-builder"),classNames:["width-60"],onRequestClose:()=>n(!1)},(0,e.createElement)(ys,null)))},RepeaterStateContext:ha,RepeaterState:La,BlockLabel:Ft,BlockName:Pt,BlockDescription:Dt,BlockDefaultValue:An,BlockPlaceholder:at,BlockAddPrevButton:ct,BlockPrevButtonLabel:gt,BlockVisibility:wt,BlockClassName:Ct,BlockAdvancedValue:function({help:t,label:n,hasMacro:r=!0,...o}){return(0,e.createElement)("div",{...o},(0,e.createElement)(An,{help:t,label:n,hasMacro:r}),(0,e.createElement)("hr",null),(0,e.createElement)(Hi,null))},MacrosFields:bn,MacrosButtonTemplate:zt,MacrosFieldsTemplate:dn,ShowPopoverContext:Jt,PopoverItem:Zt,PresetButton:qt,ConditionItem:di,AdvancedInspectorControl:_n,AdvancedModalControl:Qa,ClientSideMacros:xn,ToggleControl:function t({checked:n=!1,disabled:r=!1,onChange:o=()=>{},children:l=null,help:a=null,flexLabelProps:i={},outsideLabel:s=null,__nextHasNoMarginBottom:c=!1,...u}){const d=a,m=`inspector-jfb-toggle-control-${Ys(t)}`;return(0,e.createElement)(Ws,{id:m},(0,e.createElement)(zs,{direction:"column"},(0,e.createElement)(zs,{gap:3,align:"flex-start",justify:"flex-start",...i},(0,e.createElement)(Us,{id:m,checked:n,onChange:e=>o(e.target.checked),disabled:r,...u}),(0,e.createElement)("label",{htmlFor:m},l),s),"string"==typeof d?(0,e.createElement)(ut,null,d):d&&(0,e.createElement)(d,null)))},DetailsContainer:Mi,HoverContainer:Oi,ContainersList:qi,HumanReadableConditions:Ri,ConditionsRepeaterContextProvider:hi,ServerSideMacros:function({children:t}){const n=(0,K.useRequestFields)();return(0,e.createElement)(Kt.Provider,{value:{afterFields:n}},t)},SelectVariations:function({value:t}){const{name:n}=rc(),[,r]=fe(),{variations:o,rawVariations:l}=ec((t=>{const{getBlockVariations:r}=t("core/blocks"),o=r(n,"block"),l=[],a={};for(const t of o)l.push({key:t.name,name:(0,e.createElement)("span",{className:"jet-fb flex gap-1em ai-center"},(0,e.createElement)(nc,{icon:t.icon}),t.title)}),a[t.name]=t;return{variations:l,rawVariations:a}}),[n]);return o.length?(0,e.createElement)(tc,{__nextUnconstrainedWidth:!0,hideLabelFromVision:!0,options:o,size:"__unstable-large",onChange:({selectedItem:e})=>r({...l[e.key].attributes}),value:o.find((({key:e})=>e===t))}):null},ToggleGroupVariations:function(t){const n=ac(bc);return n?.currentId?(0,e.createElement)(hc,{className:"jet-fb toggle-toolbar-group"},(0,e.createElement)(gc,{...t})):(0,e.createElement)(gc,{...t})},AttributeHelp:ft,ActionButtonPlaceholder:function(t){const n=_c();return(0,e.createElement)("div",{...n},(0,e.createElement)("div",{className:t.wrapperClasses.join(" ")},(0,e.createElement)(Cc,{isPrimary:!0,className:t.buttonClasses.join(" ")},(0,e.createElement)(Ec,{placeholder:"Input Submit label...",allowedFormats:[],value:t.attributes.label,onChange:e=>t.setAttributes({label:e})}))))},ActionModalFooterSlotFill:c,ScopedAttributesProvider:function({children:t}){const[n,r]=fe(),[o,l]=xc((()=>n));return(0,e.createElement)(Sc.Provider,{value:{realAttributes:n,setRealAttributes:r,attributes:o,setAttributes:l}},t)}},window.JetFBActions={...null!==(Bc=window?.JetFBActions)&&void 0!==Bc?Bc:{},withPreset:ge,getInnerBlocks:O,getAvailableFieldsString:function(e){const t=T([e]),n=[];return t.forEach((function(e){n.push("%FIELD::"+e+"%")})),I("Available fields: ","jet-form-builder")+n.join(", ")},getAvailableFields:T,getFormFieldsBlocks:F,getFieldsWithoutCurrent:R,gatewayAttr:P,gatewayLabel:G,registerGateway:function(e,t,n="cred"){window.JetFBGatewaysList=window.JetFBGatewaysList||{},window.JetFBGatewaysList[e]=window.JetFBGatewaysList[e]||{},window.JetFBGatewaysList[e][n]=t},Tools:k,event:e=>{const t=new Event(e);return()=>document.dispatchEvent(t)},listen:(e,t)=>{document.addEventListener(e,t)},renderGateway:D,renderGatewayWithPlaceholder:function(e,t,n="cred",r=null){return L(e,n)?(t.Placeholder=r,D(e,t,n)):r},maybeCyrToLatin:w,getConvertedName:_,getBlockControls:function(e="all"){if(!e)return!1;const t=er();return"all"===e?t:!!(t[e]&&t[e].attrs&&Array.isArray(t[e].attrs)&&0<t[e].attrs.length)&&t[e].attrs},classnames:E,getBlocksByName:function(e){const t=[];return j((n=>{e.includes(n.name)&&t.push(n)})),t},convertObjectToOptionsList:function(e=[],{usePlaceholder:t=!0,label:n="--",value:r=""}={}){const o={label:n,value:r};if(!e)return t?[o]:[];const l=Object.entries(e).map((e=>({value:e.value,label:e.label})));return t?[o,...l]:l},appendField:function(e,t=[]){M("jet.fb.register.fields","jet-form-builder",(n=>n.map((n=>t.length&&!t.includes(n.name)?n:e(n)))))},insertMacro:Nn,column:y,getCurrentInnerBlocks:function(){const{"data-block":e}=Ks();return O(e)},humanReadableCondition:pi,assetUrl:function(e=""){return JetFormEditorData.assetsUrl+e},set:function(e,t,n){const r=JSON.parse(JSON.stringify(e));let o,l=r;for(let e=0;e<t.length;e++)o=t[e],l[o]||(l[o]={}),e===t.length-1?l[o]=n:(l[o]={...l[o]},l=l[o]);return r},isEmpty:C,getSupport:function(e,t){return Array.isArray(t)||(t=[t]),Nc(e,["supports",...t],!1)},extendPrototype:e=>{function t(){e.call(this)}return t.prototype=Object.create(e.prototype),t}},window.JetFBHooks={...null!==(Ac=window?.JetFBHooks)&&void 0!==Ac?Ac:{},useSelectPostMeta:U,useSuccessNotice:$,useEvents:ae,useRequestEvents:function(){const e=ie((e=>e("jet-forms/actions").getCurrentAction()));return ae(e)},useBlockConditions:ce,useUniqKey:de,useBlockAttributes:fe,useIsAdvancedValidation:function(){const{type:e}=U("_jf_validation"),[t]=fe();return t.validation?.type?"advanced"===t.validation?.type:"advanced"===e},useGroupedValidationMessages:function(){const[e]=$e(Ue);return e},withSelectFormFields:(e=[],t=!1,n=!1)=>r=>{let o=[];const l=["submit","form-break","heading","group-break","conditional",...e];return Y((e=>{e.name.includes("jet-forms/")&&e.attributes.name&&!l.find((t=>e.name.includes(t)))&&o.push({blockName:e.name,name:e.attributes.name,label:e.attributes.label||e.attributes.name,value:e.attributes.name})}),r("core/block-editor").getBlocks()),o=t?[{value:"",label:t},...o]:o,{formFields:n?o:z("jet.fb.getFormFieldsBlocks",o)}},withSelectGateways:X,withDispatchGateways:function(e){const t=e("jet-forms/gateways");return{setGatewayRequest:t.setRequest,setGatewayScenario:t.setScenario,setScenario:t.setCurrentScenario,setGateway:t.setGateway,setGatewayInner:t.setGatewayInner,setGatewaySpecific:t.setGatewaySpecific,clearGateway:t.clearGateway,clearScenario:t.clearScenario}},useOnUpdateModal:W,useInsertMacro:Tn,useIsHasAttribute:he,useUniqueNameOnDuplicate:function(e=null){const t=Qs(),[,n]=fe(),r=t["data-block"],o=Zs((e=>{if(!e(Wl).isRecentlyAdded(r))return!1;const{hasChanged:t,names:n}=e(Wl).getUniqueNames(r);return!!t&&n}),[r]);Xs((()=>{o&&("function"!=typeof e?n({name:o.split("|")[0]}):e(o))}),[o])},useSupport:function(e){const{name:t}=vc();return yc((n=>{const r=n("core/blocks").getBlockType(t);return wc(r,["supports",e],!1)}),[t,e])},useScopedAttributesContext:function(){return jc(Sc)},useOpenEditorPanel:function(e){const{enableComplementaryArea:t}=Tc("core/interface"),{toggleEditorPanelOpened:n}=Tc("core/edit-post"),r=Fc((t=>t("core/edit-post").isEditorPanelOpened(e)),[e]);return()=>{t("core/edit-post","edit-post/document"),!r&&n(e)}}}})()})();