(()=>{var e={7194:()=>{function e(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,n)||t(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=function(){return(0,wp.data.select)("core/editor").getEditedPostAttribute("meta")},l=function(e,t){(0,(0,wp.data.dispatch)("core/editor").editPost)({meta:o(o({},a()),{},i({},e,JSON.stringify(t)))})},u=function(t){for(var n=[],r=0,o=Object.entries(t);r<o.length;r++){var i=e(o[r],2),a=i[0],l=i[1].active;void 0!==l&&l&&n.push(+a)}return n},c=function(){var r={},o=[];try{var i=function(){var e=a(),t={},n=[];try{t=JSON.parse(e._jf_gateways)}catch(e){return[]}if(1===t.last_migrate)throw"migrated";try{n=JSON.parse(e._jf_actions)}catch(e){return[t]}return[t,n]}(),c=e(i,2),s=c[0];r=void 0===s?{}:s;var f=c[1];o=void 0===f?[]:f}catch(e){return}r.last_migrate=1,l("_jf_gateways",r);var p,m=[];try{m.push.apply(m,(p=function(e,t){var n,r,o,i,a=u(null!==(n=e.notifications_success)&&void 0!==n?n:{}),l=u(null!==(r=e.notifications_failed)&&void 0!==r?r:{}),c=u(null!==(o=e.notifications_before)&&void 0!==o?o:{}),s=null!==(i=e.use_success_redirect)&&void 0!==i&&i,f=!1;if(!(a.length||l.length||c.length||s))throw"nothing_to_migrate";return t.map((function(e){var t;return e.events=null!==(t=e.events)&&void 0!==t?t:[],a.includes(e.id)&&e.events.push("GATEWAY.SUCCESS"),l.includes(e.id)&&e.events.push("GATEWAY.FAILED"),c.includes(e.id)&&e.events.push("DEFAULT.PROCESS"),s&&!f&&"redirect_to_page"===e.type&&(e.events.push("GATEWAY.SUCCESS"),f=!0),e}))}(r,o),function(e){if(Array.isArray(e))return n(e)}(p)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(p)||t(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))}catch(e){return}l("_jf_actions",m)};wp.domReady((function(){return setTimeout(c,0)}))},9510:(e,t,n)=>{const r=n(6830),{MAX_LENGTH:o,MAX_SAFE_INTEGER:i}=n(39),{re:a,t:l}=n(9022),u=n(8716),{compareIdentifiers:c}=n(8822);class s{constructor(e,t){if(t=u(t),e instanceof s){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid Version: ${e}`);if(e.length>o)throw new TypeError(`version is longer than ${o} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?a[l.LOOSE]:a[l.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<i)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof s)){if("string"==typeof e&&e===this.version)return 0;e=new s(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof s||(e=new s(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof s||(e=new s(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],o=e.prerelease[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return c(n,o)}while(++t)}compareBuild(e){e instanceof s||(e=new s(e,this.options));let t=0;do{const n=this.build[t],o=e.build[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return c(n,o)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(0===c(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}e.exports=s},3992:(e,t,n)=>{const r=n(9510);e.exports=(e,t,n)=>new r(e,n).compare(new r(t,n))},2260:(e,t,n)=>{const r=n(3992);e.exports=(e,t,n)=>r(e,t,n)>0},6579:(e,t,n)=>{const r=n(3992);e.exports=(e,t,n)=>r(e,t,n)>=0},290:(e,t,n)=>{const r=n(3992);e.exports=(e,t,n)=>r(e,t,n)<0},5891:(e,t,n)=>{const r=n(3992);e.exports=(e,t,n)=>r(e,t,n)<=0},39:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:t,MAX_SAFE_COMPONENT_LENGTH:16}},6830:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},8822:e=>{const t=/^[0-9]+$/,n=(e,n)=>{const r=t.test(e),o=t.test(n);return r&&o&&(e=+e,n=+n),e===n?0:r&&!o?-1:o&&!r?1:e<n?-1:1};e.exports={compareIdentifiers:n,rcompareIdentifiers:(e,t)=>n(t,e)}},8716:e=>{const t=["includePrerelease","loose","rtl"];e.exports=e=>e?"object"!=typeof e?{loose:!0}:t.filter((t=>e[t])).reduce(((e,t)=>(e[t]=!0,e)),{}):{}},9022:(e,t,n)=>{const{MAX_SAFE_COMPONENT_LENGTH:r}=n(39),o=n(6830),i=(t=e.exports={}).re=[],a=t.src=[],l=t.t={};let u=0;const c=(e,t,n)=>{const r=u++;o(e,r,t),l[e]=r,a[r]=t,i[r]=new RegExp(t,n?"g":void 0)};c("NUMERICIDENTIFIER","0|[1-9]\\d*"),c("NUMERICIDENTIFIERLOOSE","[0-9]+"),c("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),c("MAINVERSION",`(${a[l.NUMERICIDENTIFIER]})\\.(${a[l.NUMERICIDENTIFIER]})\\.(${a[l.NUMERICIDENTIFIER]})`),c("MAINVERSIONLOOSE",`(${a[l.NUMERICIDENTIFIERLOOSE]})\\.(${a[l.NUMERICIDENTIFIERLOOSE]})\\.(${a[l.NUMERICIDENTIFIERLOOSE]})`),c("PRERELEASEIDENTIFIER",`(?:${a[l.NUMERICIDENTIFIER]}|${a[l.NONNUMERICIDENTIFIER]})`),c("PRERELEASEIDENTIFIERLOOSE",`(?:${a[l.NUMERICIDENTIFIERLOOSE]}|${a[l.NONNUMERICIDENTIFIER]})`),c("PRERELEASE",`(?:-(${a[l.PRERELEASEIDENTIFIER]}(?:\\.${a[l.PRERELEASEIDENTIFIER]})*))`),c("PRERELEASELOOSE",`(?:-?(${a[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${a[l.PRERELEASEIDENTIFIERLOOSE]})*))`),c("BUILDIDENTIFIER","[0-9A-Za-z-]+"),c("BUILD",`(?:\\+(${a[l.BUILDIDENTIFIER]}(?:\\.${a[l.BUILDIDENTIFIER]})*))`),c("FULLPLAIN",`v?${a[l.MAINVERSION]}${a[l.PRERELEASE]}?${a[l.BUILD]}?`),c("FULL",`^${a[l.FULLPLAIN]}$`),c("LOOSEPLAIN",`[v=\\s]*${a[l.MAINVERSIONLOOSE]}${a[l.PRERELEASELOOSE]}?${a[l.BUILD]}?`),c("LOOSE",`^${a[l.LOOSEPLAIN]}$`),c("GTLT","((?:<|>)?=?)"),c("XRANGEIDENTIFIERLOOSE",`${a[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),c("XRANGEIDENTIFIER",`${a[l.NUMERICIDENTIFIER]}|x|X|\\*`),c("XRANGEPLAIN",`[v=\\s]*(${a[l.XRANGEIDENTIFIER]})(?:\\.(${a[l.XRANGEIDENTIFIER]})(?:\\.(${a[l.XRANGEIDENTIFIER]})(?:${a[l.PRERELEASE]})?${a[l.BUILD]}?)?)?`),c("XRANGEPLAINLOOSE",`[v=\\s]*(${a[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[l.XRANGEIDENTIFIERLOOSE]})(?:${a[l.PRERELEASELOOSE]})?${a[l.BUILD]}?)?)?`),c("XRANGE",`^${a[l.GTLT]}\\s*${a[l.XRANGEPLAIN]}$`),c("XRANGELOOSE",`^${a[l.GTLT]}\\s*${a[l.XRANGEPLAINLOOSE]}$`),c("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),c("COERCERTL",a[l.COERCE],!0),c("LONETILDE","(?:~>?)"),c("TILDETRIM",`(\\s*)${a[l.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",c("TILDE",`^${a[l.LONETILDE]}${a[l.XRANGEPLAIN]}$`),c("TILDELOOSE",`^${a[l.LONETILDE]}${a[l.XRANGEPLAINLOOSE]}$`),c("LONECARET","(?:\\^)"),c("CARETTRIM",`(\\s*)${a[l.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",c("CARET",`^${a[l.LONECARET]}${a[l.XRANGEPLAIN]}$`),c("CARETLOOSE",`^${a[l.LONECARET]}${a[l.XRANGEPLAINLOOSE]}$`),c("COMPARATORLOOSE",`^${a[l.GTLT]}\\s*(${a[l.LOOSEPLAIN]})$|^$`),c("COMPARATOR",`^${a[l.GTLT]}\\s*(${a[l.FULLPLAIN]})$|^$`),c("COMPARATORTRIM",`(\\s*)${a[l.GTLT]}\\s*(${a[l.LOOSEPLAIN]}|${a[l.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",c("HYPHENRANGE",`^\\s*(${a[l.XRANGEPLAIN]})\\s+-\\s+(${a[l.XRANGEPLAIN]})\\s*$`),c("HYPHENRANGELOOSE",`^\\s*(${a[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${a[l.XRANGEPLAINLOOSE]})\\s*$`),c("STAR","(<|>)?=?\\s*\\*"),c("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),c("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}(()=>{"use strict";const e=(0,wp.element.createContext)({name:"",data:{},index:0});function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var r=wp.components.BaseControl;const o=(0,wp.element.createContext)({actionClick:null,onRequestClose:function(){}});function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function a(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=wp.components,c=u.Button,s=u.ButtonGroup,f=u.Modal,p=wp.element.useState;const m=function(e){var t=e.onRequestClose,n=e.children,r=e.title,u=void 0===r?"":r,m=e.classNames,d=void 0===m?[]:m,y=e.onUpdateClick,b=e.onCancelClick,v=e.updateBtnLabel,h=void 0===v?"Update":v,w=e.updateBtnProps,g=void 0===w?{}:w,O=e.cancelBtnProps,j=void 0===O?{}:O,S=e.cancelBtnLabel,E=void 0===S?"Cancel":S,A=e.fixedHeight,C=void 0===A?"":A,I=e.isUseActions,_=void 0===I||I,P=["jet-form-edit-modal"].concat(function(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(d)),N=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(p(null),2),k=N[0],T=N[1],x={};return C&&(x={height:C},P.push("jet-modal-fixed-height")),wp.element.createElement(f,{onRequestClose:t,className:P.join(" "),title:u,style:x},!n&&wp.element.createElement("div",{className:"jet-form-edit-modal__content"},"Action callback is not found."),n&&wp.element.createElement(React.Fragment,null,wp.element.createElement("div",{className:"jet-form-edit-modal__wrapper"},wp.element.createElement(o.Provider,{value:{actionClick:k,onRequestClose:t}},wp.element.createElement("div",{className:"jet-form-edit-modal__content"},"function"==typeof n&&n({actionClick:k,onRequestClose:t}),"function"!=typeof n&&n))),_&&wp.element.createElement(s,{className:"jet-form-edit-modal__actions"},wp.element.createElement(c,i({isPrimary:!0,onClick:function(){y&&y(),T(!0)}},g),h),wp.element.createElement(c,i({isSecondary:!0,style:{margin:"0 0 0 10px"},onClick:function(){b&&b(),T(!1)}},j),E))))};function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y=wp.element,b=y.RawHTML,v=y.useContext;wp.i18n.__;var h=wp.components.Button,w=wp.element.useEffect;const g=function(e){var t=e.label,n=e.ajaxArgs,r=void 0===n?{}:n,o=e.onSuccessRequest,i=void 0===o?function(){}:o,a=e.onFailRequest,l=void 0===a?function(){}:a,u=e.onLoading,c=void 0===u?function(){}:u,s=e.className,f=void 0===s?"":s,p=e.children,m=void 0===p?function(){}:p,d=e.disabled,y=void 0!==d&&d,b=e.customRequest,v=void 0!==b&&b,g=e.isHidden,O=void 0!==g&&g,j=e.hasFetched,S=void 0===j?-1:j,E=function(){!1===v?(c(),jQuery.ajax({url:ajaxurl,type:"POST",data:r}).done((function(e){return e.success?i(e):l()})).fail((function(){return l()}))):"function"==typeof v?v():l()};return w((function(){O&&-1===S&&E()}),[]),O?null:wp.element.createElement(h,{disabled:y,key:"validate_api_key",isPrimary:!0,onClick:E,className:f},m&&m,t)};function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var j=["jet-form-validate-button"],S=wp.element.useState;const E=function(e){var t="is-valid",n="is-invalid",r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(S(e?[].concat(j,[t]):e?void 0:[].concat(j,[n])),2),o=r[0],i=r[1];return[o.join(" "),function(){i([].concat(j,[t]))},function(){i([].concat(j,[n]))},function(){i([].concat(j,["loading"]))}]};function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||P(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function _(e){return function(e){if(Array.isArray(e))return N(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||P(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){if(e){if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var T=n(2260),x=n(290),R=n(6579),D=n(5891),F=(wp.i18n.__,wp.hooks.applyFilters),L=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"withPlaceholder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"--",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return[{label:t,value:n}].concat(_(e))}},{key:"isEmptyObject",value:function(e){return"object"===I(e)&&0===Object.keys(e).length}},{key:"getRandomID",value:function(){return Math.floor(8999*Math.random())+1e3}}],null&&k(t.prototype,null),n&&k(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function M(e,t){return null!=e&&e.length?e.map((function(e){return"object"===I(e)?e[t]:e})):[]}var B=F("jet.fb.tools.convertSymbols",{checkCyrRegex:/[а-яёїєґі]/i,cyrRegex:/[а-яёїєґі]/gi,charsMap:{а:"a",б:"b",в:"v",г:"g",д:"d",е:"e",ё:"io",ж:"zh",з:"z",и:"i",й:"i",к:"k",л:"l",м:"m",н:"n",о:"o",п:"p",р:"r",с:"s",т:"t",у:"u",ф:"f",х:"kh",ц:"ts",ч:"ch",ш:"sh",щ:"shch",ы:"y",э:"e",ю:"iu",я:"ia",ї:"i",є:"ie",ґ:"g",і:"i"}});function $(e){return B.checkCyrRegex.test(e)&&(e=e.replace(B.cyrRegex,(function(e){return void 0===B.charsMap[e]?"":B.charsMap[e]}))),e}function G(e){var t=e.toLowerCase().replace(/\s+/g,"_");return 20<(t=$(t=t.normalize("NFD").replace(/[\u0300-\u036f]/g,""))).length&&"-"===(t=t.substr(0,34)).slice(-1)&&(t=t.slice(0,-1)),t}function U(){for(var e=[],t=function t(n){n.forEach((function(n){if(n&&(Array.isArray(n)&&t(n),"string"==typeof n&&e.push(n.trim()),"object"===I(n)))for(var r in n)n[r]&&e.push((r+"").trim())}))},n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t(r),e.join(" ")}const V=L;function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var X=wp.data.select,W=function e(t){var n=X("core/block-editor").getBlock,r=t.innerBlocks;return t=J(J({},t),n(t.clientId)),null!=r&&r.length&&(t.innerBlocks=r.map(e)),t};const z=function(e){!function t(n){var r,o,i;(n=n||(r=X("core/block-editor"),o=r.getBlocks,"function"!=typeof(i=r.__unstableGetClientIdsTree)?o():i().map(W))).map((function(n){e(n),n.innerBlocks.length&&t(n.innerBlocks)}))}()};function Y(e){return function(e){if(Array.isArray(e))return K(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Z=wp.hooks,Q=Z.applyFilters,ee=(Z.addFilter,wp.data.select);const te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"default",o=[],i=["submit","form-break","heading","group-break","conditional"].concat(Y(e));return z((function(e){if(e.name.includes("jet-forms/")&&!i.find((function(t){return e.name.includes(t)}))){var t,n=ee("core/blocks").getBlockType(e.name);if(!n.hasOwnProperty("jfbGetFields"))return;var a=n.jfbGetFields.call(e,r);(t=o).push.apply(t,Y(a.filter((function(e){return!o.some((function(t){return t.value===e.value}))}))))}})),o=t?[{value:"",label:t}].concat(Y(o)):o,n?o:Q("jet.fb.getFormFieldsBlocks",o,r)},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=[],r=te(e,!1,!1,t);return r&&r.forEach((function(e){return n.push(e.name)})),n};var re=wp.i18n.__;function oe(e){return function(e){if(Array.isArray(e))return ie(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ie(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ae=wp.hooks,le=ae.applyFilters,ue=(ae.addFilter,wp.data.select);const ce=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",r=["submit","form-break","heading","group-break","conditional"],o=[],i=wp.data.select("core/block-editor").getSelectedBlock();return z((function(e){if(e.name.includes("jet-forms/")&&(null==i?void 0:i.clientId)!==e.clientId&&!r.find((function(t){return e.name.includes(t)}))){var t,a=ue("core/blocks").getBlockType(e.name);if(!a.hasOwnProperty("jfbGetFields"))return;var l=a.jfbGetFields.call(e,n);(t=o).push.apply(t,oe(l.filter((function(e){return!o.some((function(t){return t.value===e.value}))}))))}})),o=e?[{value:"",label:e}].concat(oe(o)):o,t?o:le("jet.fb.getFormFieldsBlocks",o,n)},se=function(e){var t=wp.data.select("core/block-editor").getBlock(e);return t?t.innerBlocks:[]};var fe=wp.hooks.addFilter;const pe=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=window.JetFormEditorData.gateways;if(!e)return n;if(!n[e])return!1;var r=n[e];return function(e){return r[e]?r[e]:t}},me=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=pe("labels");return function(r){return n(e)?n(e)[r]:t}},de=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cred";return window.JetFBGatewaysList&&window.JetFBGatewaysList[e]&&window.JetFBGatewaysList[e][t]},ye=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"cred";if(!de(e,n))return null;var r=window.JetFBGatewaysList[e][n];return wp.element.createElement(r,t)};function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){he(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var we=wp.data,ge=we.useSelect,Oe=we.useDispatch;const je=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"{}",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=ge((function(e){return e("core/editor").getEditedPostAttribute("meta")||{}}),n),o=Oe("core/editor",[r]),i=o.editPost,a=JSON.parse(r[e]||t),l=function(t){var n;n="function"==typeof t?t(a):t,i({meta:ve(ve({},r),{},he({},e,JSON.stringify(n)))})};return[a,l]},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return je("_jf_actions","[]",e)};function Ee(e){return function(e){if(Array.isArray(e))return Ce(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ae(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ae(e,t){if(e){if("string"==typeof e)return Ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ce(e,t):void 0}}function Ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ie=wp.element.useState;const _e=function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||Ae(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Ie(Ee(j)),2),t=e[0],n=e[1];return[t.join(" "),function(){n([].concat(Ee(j),["loading"]))},function(){n(j)}]};function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Re=wp.element,De=Re.useState,Fe=Re.useEffect,Le=wp.data.useDispatch;const Me=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=De(!1),r=Te(n,2),o=r[0],i=r[1],a=Le(wp.notices.store);return Fe((function(){o&&a.createWarningNotice(e,Ne({type:"snackbar"},t))}),[o]),i};function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){Ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.initData(e)}Ue.prototype.initData=function(e){var t,n,r,o,i,a=this;this.id=null!==(t=null==e?void 0:e.id)&&void 0!==t?t:V.getRandomID(),this.settings=null!==(n=null==e?void 0:e.settings)&&void 0!==n?n:{},this.type=null!==(r=null==e?void 0:e.type)&&void 0!==r?r:"send_email",this.conditions=null!==(o=null==e?void 0:e.conditions)&&void 0!==o?o:[],this.events=null!==(i=null==e?void 0:e.events)&&void 0!==i?i:[],Object.defineProperty(this,"selfSettings",{get:function(){var e;return a.settings.hasOwnProperty(null!==(e=a.type)&&void 0!==e?e:"")?a.settings[a.type]:{}},set:function(e){var t;a.settings.hasOwnProperty(null!==(t=a.type)&&void 0!==t?t:"")&&(a.settings[a.type]={}),a.settings[a.type]=$e($e({},a.settings[a.type]),e)}}),Object.defineProperty(this,"index",{get:function(){var t;return null!==(t=null==e?void 0:e.index)&&void 0!==t?t:0}})},Ue.prototype.resetID=function(){this.id=V.getRandomID()};const Ve=Ue;function qe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Je(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function Je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var He=wp.data.useSelect,Xe=function(e){var t,n=[],r=qe(e);try{for(r.s();!(t=r.n()).done;){var o=t.value,i=o.settings[o.type],a=void 0===i?{}:i;if(a.requestFields){var l,u=qe(a.requestFields);try{var c=function(){var e=l.value;if(-1!==n.findIndex((function(t){return t.value===e.name})))return"continue";n.push({from:o.type,id:o.id,label:e.name,value:e.name,name:e.name,help:e.help})};for(u.s();!(l=u.n()).done;)c()}catch(e){u.e(e)}finally{u.f()}}}}catch(e){r.e(e)}finally{r.f()}return n};function We(e,t){var n=He((function(e){return e("jet-forms/actions").getComputedFields()}),[]);t=t.map((function(e){return new Ve(e)}));var r,o=qe(n);try{for(o.s();!(r=o.n()).done;){var i,a=new(0,r.value),l=qe(t);try{var u=function(){var t=i.value;if(!a.isSupported(t))return"continue";a.setAction(t);var n=a.getLabel(),r=a.getName();if(e.some((function(e){return e.value===r})))return"continue";e.push({from:t.type,id:t.id,label:n||r,value:r,name:r,help:a.getHelp()})};for(l.s();!(i=l.n()).done;)u()}catch(e){l.e(e)}finally{l.f()}if(!a.action&&a.isSupportedGlobal()){var c=a.getLabel(),s=a.getName();e.push({label:c||s,value:s,name:s,help:a.getHelp()})}}}catch(e){o.e(e)}finally{o.f()}return e}const ze=function(){var e=He((function(e){return e("core/editor").getEditedPostAttribute("meta")||{}}),[]),t=JSON.parse(e._jf_actions||"[]"),n=He((function(e){return e("jet-forms/actions").getCurrentAction()}),[]);return t.splice(n.index),We(Xe(t),t)};var Ye=wp.data.useSelect;const Ke=function(e){var t=Ye((function(e){return e("core/editor").getEditedPostAttribute("meta")||{}}));return JSON.parse(t[e]||"{}")};var Ze=wp.element,Qe=Ze.useContext,et=Ze.useEffect;const tt=function(e){var t=Qe(o),n=t.actionClick,r=t.onRequestClose;et((function(){n&&e(),null!==n&&r()}),[n])};function nt(e){return function(e){if(Array.isArray(e))return rt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return rt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ot=wp.hooks.applyFilters,it=function e(t,n){n.map((function(n){t(n),n.innerBlocks.length&&e(t,n.innerBlocks)}))};const at=function(e){var t=e.slug,n=e.element,r=void 0===n?"":n,o=e.empty,i=void 0===o?"":o,a=JetFormEditorData.global_settings;return a?r?a[t]&&a[t][r]?a[t][r]:i:a[t]||i:i},lt=function(e){var t=e("jet-forms/gateways"),n=t.getCurrentRequestId(),r=t.getGatewaySpecific(),o=t.getScenario(),i=t.getGatewayId(),a=o.id,l=void 0===a?"PAY_NOW":a,u=r.use_global,c=void 0!==u&&u,s=at({slug:i}),f=pe("additional")(i),p=e("jet-forms/actions").getLoading(n),m=pe("labels"),d=me(i),y=function(e){return m("".concat(i,".").concat(e))};return{gatewayGeneral:t.getGateway(),gatewayRequest:t.getCurrentRequest(),scenarioSource:f[l]||{},currentScenario:o[l]||{},CURRENT_SCENARIO:l,gatewayScenario:o,additionalSourceGateway:f,gatewaySpecific:r,gatewayRequestId:n,loadingGateway:p,getSpecificOrGlobal:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return c?s[e]||t:r[e]||t},globalGatewayLabel:m,specificGatewayLabel:d,customGatewayLabel:y,scenarioLabel:function(e){return y("scenario.".concat(l,".").concat(e))}}},ut=(0,wp.element.createContext)({});function ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function st(e){return function(e){if(Array.isArray(e))return ft(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ft(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ft(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var pt=wp.element,mt=pt.useEffect,dt=pt.useContext;const yt=function(e){return{loadingState:e("jet-forms/actions").getCurrentLoading()}};function bt(e){return function(e){if(Array.isArray(e))return ht(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||vt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vt(e,t){if(e){if("string"==typeof e)return ht(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ht(e,t):void 0}}function ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wt(e,t){if(e){if("string"==typeof e)return gt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gt(e,t):void 0}}function gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ot=wp.data.useSelect;const jt=function(){var e,t=Ke("_jf_gateways"),n=(null!==(e=t[null==t?void 0:t.gateway])&&void 0!==e?e:{}).scenario,r=void 0===n?{}:n;return Ot((function(e){var n,o=[],i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=wt(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(e("jet-forms/events").getGatewayTypes());try{for(i.s();!(n=i.n()).done;){var a=n.value,l=!a.gateway||a.gateway===t.gateway,u=!a.scenario||a.scenario===(null==r?void 0:r.id);l&&u&&o.push(a.value)}}catch(e){i.e(e)}finally{i.f()}return function(e){return function(e){if(Array.isArray(e))return gt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||wt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(new Set(o))}),[null==t?void 0:t.gateway])};function St(e,t){if(e){if("string"==typeof e)return Et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Et(e,t):void 0}}function Et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var At=wp.data.useSelect;const Ct=function(){var e,t=[],n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=St(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(At((function(e){return e("jet-forms/events").getAlwaysTypes()})));try{for(n.s();!(e=n.n()).done;){var r=e.value.value;t.push(r)}}catch(e){n.e(e)}finally{n.f()}return function(e){return function(e){if(Array.isArray(e))return Et(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||St(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(new Set(t))};var It=wp.data.useSelect;function _t(e){return function(e){if(Array.isArray(e))return Pt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Pt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Nt=wp.data.useSelect;function kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Tt=wp.data.useSelect;const xt=function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return kt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Tt((function(e){return[e("jet-forms/block-conditions").getOperators(),e("jet-forms/block-conditions").getFunctions()]}),[]),2);return{operators:e[0],functions:e[1]}};var Rt=wp.blockEditor.useBlockProps;const Dt=function(){var e=Rt();return function(t){return t+"-"+e["data-block"]}};function Ft(e){return Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ft(e)}var Lt=wp.blockEditor.useBlockProps,Mt=wp.data,Bt=Mt.useSelect,$t=Mt.useDispatch;const Gt=function(){var e=Lt()["data-block"],t=Bt((function(t){return t("core/block-editor").getBlockAttributes(e)})),n=$t("core/block-editor",[]).updateBlock;return[t,function(r){"object"!==Ft(r)?n(e,{attributes:r(t)}):n(e,{attributes:r})}]};function Ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Vt=wp.data.useSelect;var qt=wp.blockEditor.useBlockProps,Jt=wp.data.useSelect;const Ht=function(e){var t=qt()["data-type"];return Jt((function(n){return!!n("core/blocks").getBlockType(t).attributes[e]}),[t])};function Xt(){return Xt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xt.apply(this,arguments)}function Wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kt(e){return Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kt(e)}var Zt=wp.hooks.applyFilters;const Qt=function(e){return function(t){return wp.element.createElement(e,Xt({key:"wrapped-preset-editor"},t,{parseValue:function(){var e={};if("object"===Kt(t.value))e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(n),!0).forEach((function(t){Yt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t.value);else if(t.value&&"string"==typeof t.value)try{if("number"==typeof(e=JSON.parse(t.value)))throw new Error}catch(t){e={}}return e.jet_preset=!0,e},isVisible:function(e,t,n){return(t.position&&n===t.position||!t.position||"query_var"!==e.from)&&function(e,t){return!t.condition&&!t.custom_condition||(t.custom_condition?"query_var"===t.custom_condition?"post"===e.from&&"query_var"===e.post_from||"user"===e.from&&"query_var"===e.user_from||"query_var"===e.from:Zt("jet.fb.preset.editor.custom.condition",!1,t.custom_condition,e):!t.condition||e[t.condition.field]===t.condition.value)}(e,t)},isMapFieldVisible:function(e,t,n){return!((t.condition||t.parent_condition)&&(t.parent_condition&&!t.condition?e[t.parent_condition.field]!==t.parent_condition.value:t.parent_condition&&t.condition?!e.fields_map||!e.fields_map[n]||e.fields_map[n][t.condition.field]!==t.condition.value||e[t.parent_condition.field]!==t.parent_condition.value:!t.parent_condition&&t.condition&&(!e.fields_map||!e.fields_map[n]||e.fields_map[n][t.condition.field]!==t.condition.value)))},isCurrentFieldVisible:function(e,t,n){return!((t.condition||t.parent_condition)&&(t.position&&n!==t.position||(t.parent_condition&&!t.condition?e[t.parent_condition.field]!==t.parent_condition.value:t.parent_condition&&t.condition?e["current_field_"+t.condition.field]!==t.condition.value||e[t.parent_condition.field]!==t.parent_condition.value:!t.parent_condition&&t.condition&&e["current_field_"+t.condition.field]!==t.condition.value)))},excludeOptions:function(e){var n=function(e){return function(e){if(Array.isArray(e))return Wt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Wt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e);return n.forEach((function(e,r){t.excludeSources&&t.excludeSources.includes(e.value)&&n.splice(r,1)})),n}}))}};var en=wp.components,tn=en.TextControl,nn=en.SelectControl;const rn=function(e){var t=e.data,n=e.value,r=e.index,o=e.onChangeValue,i=e.isVisible,a=e.excludeOptions,l=void 0===a?function(e){return e}:a,u=e.position;switch(t.type){case"text":return i(n,t,u)&&wp.element.createElement("div",{key:"field_"+t.name+r,className:"jet-form-preset__row"},wp.element.createElement(tn,{key:t.name+r,label:t.label,value:n[t.name],onChange:function(e){o(e,t.name)}}));case"select":return i(n,t,u)&&wp.element.createElement("div",{key:"field_"+t.name+r,className:"jet-form-preset__row"},wp.element.createElement(nn,{key:t.name+r,labelPosition:"side",options:l(t.options),label:t.label,value:n[t.name],onChange:function(e){o(e,t.name)}}))}return null};var on=window.lodash.isEmpty,an=window.wp.compose.withInstanceId,ln=window.wp.components.BaseControl;const un=an((function(e){var t=e.help,n=e.instanceId,r=e.label,o=(e.multiple,e.onChange),i=e.options,a=void 0===i?[]:i,l=e.className,u=e.value,c=e.hideLabelFromVision,s="inspector-select-control-".concat(n);return!on(a)&&wp.element.createElement(ln,{label:r,hideLabelFromVision:c,id:s,help:t,className:l},wp.element.createElement("select",{id:s,className:"components-select-control__input",onChange:function(e){o(e.target.value)},value:u,"aria-describedby":t?"".concat(s,"__help"):void 0},wp.element.createElement("option",{key:"".concat(r,"-placeholder"),value:""},"--"),a.map((function(e,t){return!on(e.values)&&wp.element.createElement("optgroup",{key:"".concat(e.label,"-").concat(t),label:e.label},e.values.map((function(e,n){return wp.element.createElement("option",{key:"".concat(e.value,"-").concat(n,"-").concat(t),value:e.value,disabled:e.disabled},e.label)})))}))))}));var cn=wp.components,sn=cn.TextControl,fn=cn.SelectControl,pn=cn.CustomSelectControl;const mn=function(e){var t=e.data,n=e.value,r=e.index,o=e.currentState,i=e.onChangeValue,a=e.isCurrentFieldVisible;switch(e.position,t.type){case"text":return a(o,t)&&wp.element.createElement("div",{key:t.name+r,className:"jet-form-preset__row"},wp.element.createElement(sn,{key:"control_"+t.name+r,placeholder:t.label,value:n,onChange:function(e){i(e,"current_field_"+t.name)}}));case"select":return a(o,t)&&wp.element.createElement("div",{key:t.name+r,className:"jet-form-preset__row"},wp.element.createElement(fn,{key:"control_"+t.name+r,labelPosition:"side",options:t.options,label:t.label,value:n,onChange:function(e){i(e,"current_field_"+t.name)}}));case"custom_select":return a(o,t)&&wp.element.createElement("div",{key:t.name+r,className:"jet-form-preset__row"},wp.element.createElement(pn,{className:"jet-custom-select-control",label:t.label,options:t.options,onChange:function(e){var r=e.selectedItem;n=r.key,i(n,"current_field_"+t.name)},value:t.options.find((function(e){return e.key===n}))}));case"grouped_select":return a(o,t)&&wp.element.createElement("div",{key:t.name+r,className:"jet-form-preset__row"},wp.element.createElement(un,{options:t.options,label:t.label,labelPosition:"side",value:n,onChange:function(e){i(e,"current_field_"+t.name)}}))}return null};function dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dn(Object(n),!0).forEach((function(t){bn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var hn=wp.element,wn=hn.useState,gn=hn.useEffect,On=hn.useContext,jn=function(e){var t=e.value,n=e.isSaveAction,r=e.onSavePreset,i=e.onUnMount,a=e.parseValue,l=e.excludeOptions,u=e.isCurrentFieldVisible,c=e.isVisible,s="dynamic",f=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(wn((function(){return a(t)})),2),p=f[0],m=f[1],d=On(o),y=d.actionClick,b=d.onRequestClose;void 0===n&&(n=y),void 0===i&&(i=b);var v=function(e,t){m((function(n){return yn(yn({},n),{},bn({},t,e))}))};return gn((function(){n&&r&&r(JSON.stringify(p)),null!==n&&i()}),[n]),wp.element.createElement(React.Fragment,null,window.JetFormEditorData.presetConfig.global_fields.map((function(e,t){return wp.element.createElement(rn,{key:"current_field_".concat(e.name,"_").concat(t),value:p,index:t,data:e,excludeOptions:l,onChangeValue:v,isVisible:c,position:s})})),window.JetFormEditorData.presetConfig.map_fields.map((function(e,t){return wp.element.createElement(mn,{key:"current_field_".concat(e.name,"_").concat(t),currentState:p,value:p["current_field_"+e.name],index:t,data:e,onChangeValue:v,isCurrentFieldVisible:u,position:s})})))};const Sn=jn=Qt(jn);function En(e){return En="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},En(e)}function An(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?An(Object(n),!0).forEach((function(t){In(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):An(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function In(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pn(e,t){return Pn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pn(e,t)}function Nn(e,t){if(t&&("object"===En(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function kn(e){return kn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},kn(e)}var Tn=wp.components,xn=Tn.SelectControl,Rn=Tn.TextControl,Dn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pn(e,t)}(a,wp.element.Component);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=kn(r);if(o){var n=kn(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Nn(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).fieldTypes=t.props.fieldTypes,t.taxonomiesList=t.props.taxonomiesList,t.className=t.props.className,t.metaProp=t.props.metaProp?t.props.metaProp:"post_meta",t.termsProp=t.props.termsProp?t.props.termsProp:"post_terms",t.index=t.props.index,t.init(),t.bindFunctions(),t.state={type:t.getFieldType(t.props.fieldValue)},t}return t=a,(n=[{key:"bindFunctions",value:function(){this.onChangeType=this.onChangeType.bind(this),this.onChangeValue=this.onChangeValue.bind(this)}},{key:"init",value:function(){if(this.id="inspector-select-control-".concat(this.index),this.preparedTaxes=[],this.taxPrefix="jet_tax__",this.taxonomiesList)for(var e=0;e<this.taxonomiesList.length;e++)this.preparedTaxes.push({value:this.taxPrefix+this.taxonomiesList[e].value,label:this.taxonomiesList[e].label})}},{key:"getFieldName",value:function(e){if(!e)return"";var t=this.getFieldType(e);return this.termsProp===t||this.metaProp===t?e:""}},{key:"isTermOrMeta",value:function(e){return this.termsProp===e||this.metaProp===e}},{key:"getFieldType",value:function(e){if(!e)return"";for(var t=0;t<this.fieldTypes.length;t++)if(e===this.fieldTypes[t].value)return e;return e.includes(this.taxPrefix)?this.termsProp:this.metaProp}},{key:"onChangeValue",value:function(e){this.props.onChange(Cn(Cn({},this.props.fieldsMap),{},In({},this.props.fieldName,e)))}},{key:"onChangeType",value:function(e){var t=this.getFieldType(e);this.setState({type:t}),this.isTermOrMeta(t)&&(t=""),this.onChangeValue(t)}},{key:"render",value:function(){return wp.element.createElement("div",{className:"jet-fields-map__row"},wp.element.createElement("div",{className:"jet-post-field-control"},wp.element.createElement(xn,{key:"field_type_"+this.props.fieldName+this.index,label:this.props.fieldName,labelPosition:"side",value:this.state.type,onChange:this.onChangeType,options:this.fieldTypes,style:{width:"160px"}}),this.metaProp===this.state.type&&wp.element.createElement(Rn,{key:"field_name_"+this.props.fieldName+this.index,value:this.props.fieldValue,onChange:this.onChangeValue,style:{width:"200px"}}),this.termsProp===this.state.type&&wp.element.createElement(xn,{className:"jet-control-without-label",key:"field_tax_"+this.props.fieldName+this.index,value:this.props.fieldValue,onChange:this.onChangeValue,options:this.preparedTaxes,style:{width:"200px"}})))}}])&&_n(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}();const Fn=Dn;function Ln(){return Ln=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ln.apply(this,arguments)}function Mn(e,t){if(e){if("string"==typeof e)return Bn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bn(e,t):void 0}}function Bn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $n=wp.components,Gn=$n.Path,Un=$n.SVG,Vn=$n.BaseControl,qn=wp.element.useState;function Jn(){return Jn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jn.apply(this,arguments)}function Hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hn(Object(n),!0).forEach((function(t){Wn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zn(e){return zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zn(e)}var Yn=wp.components,Kn=Yn.TextControl,Zn=Yn.SelectControl,Qn=Yn.CustomSelectControl,er=Yn.Card,tr=Yn.CardBody,nr=Yn.CardHeader;function rr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var or=wp.blocks.store;const ir=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t.id,this.blocks=[],this.setBlocksMeta(t.supported)}var t,n;return t=e,(n=[{key:"setBlocksMeta",value:function(e){e.length&&(this.blocks=e.map((function(e){var t=wp.data.select(or).getBlockType("jet-forms/".concat(e));return{title:t.title,icon:t.icon.src}})))}}])&&rr(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ar(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const lr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.items=[]}var t,n;return t=e,(n=[{key:"push",value:function(e){this.items.push(new ir(e))}}])&&ar(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ur(e,t){if(e){if("string"==typeof e)return cr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cr(e,t):void 0}}function cr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var sr=window.jetFormValidation.messages,fr=wp.element.useState,pr=sr.sort((function(e,t){return e.supported.length-t.supported.length}));function mr(){var e,t=new lr,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ur(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(pr);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(r)}}catch(e){n.e(e)}finally{n.f()}return t.items}const dr=function(e){return e.replace(/[^\w\-]/gi,"")},yr=function(e,t){1>=e.label.length||e.name&&"field_name"!==e.name||t({name:dr(G(e.label))})};var br=wp.components.BaseControl,vr=wp.blockEditor.RichText,hr=wp.i18n.__;function wr(e){return wp.element.createElement("small",{style:{whiteSpace:"nowrap",padding:"0.2em 0.8em 0 0",color:"#8e8a8a"}},e)}var gr=["children","fields","onFieldClick","customMacros","zIndex"];function Or(){return Or=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Or.apply(this,arguments)}function jr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Sr=wp.components,Er=Sr.Button,Ar=Sr.Popover,Cr=Sr.PanelBody,Ir=wp.element.useState;function _r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||xr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pr(Object(n),!0).forEach((function(t){kr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tr(e){return function(e){if(Array.isArray(e))return Rr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||xr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xr(e,t){if(e){if("string"==typeof e)return Rr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rr(e,t):void 0}}function Rr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Dr=wp.i18n.__,Fr=wp.components,Lr=Fr.Button,Mr=Fr.ButtonGroup,Br=Fr.Card,$r=Fr.CardBody,Gr=Fr.CardHeader,Ur=Fr.ToggleControl,Vr=Fr.Flex,qr=Fr.FlexItem,Jr=wp.element,Hr=Jr.useState,Xr=Jr.useEffect;function Wr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var zr=wp.i18n.__,Yr=wp.components.TextControl;const Kr=function(e){var t=e.label,n=e.help,r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Wr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Gt(),2),o=r[0],i=r[1];return Ht("placeholder")?wp.element.createElement(Yr,{label:null!=t?t:zr("Placeholder","jet-form-builder"),value:o.placeholder,help:null!=n?n:"",onChange:function(e){return i({placeholder:e})}}):null};function Zr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Qr=wp.i18n.__,eo=wp.components.ToggleControl;const to=function(e){var t=e.label,n=e.help,r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Zr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Gt(),2),o=r[0],i=r[1];return Ht("add_prev")?wp.element.createElement(eo,{label:null!=t?t:Qr("Add Prev Page Button","jet-form-builder"),help:null!=n?n:Qr('It is recommended to use the "Action Button" block \n\t\t\twith the "Go to Prev Page" type',"jet-form-builder"),checked:o.add_prev,onChange:function(e){return i({add_prev:e})}}):null};function no(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ro=wp.i18n.__,oo=wp.components.TextControl;const io=function(e){var t=e.label,n=e.help,r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return no(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?no(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Gt(),2),o=r[0],i=r[1];return o.add_prev?wp.element.createElement(oo,{label:null!=t?t:ro("Prev Page Button Label","jet-form-builder"),value:o.prev_label,help:null!=n?n:"",onChange:function(e){return i({prev_label:e})}}):null};function ao(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var lo=wp.i18n.__,uo=wp.components.SelectControl;const co=function(e){var t=e.label,n=e.help,r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ao(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ao(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Gt(),2),o=r[0],i=r[1];return Ht("visibility")?wp.element.createElement(uo,{options:[{value:"all",label:lo("For all","jet-form-builder")},{value:"logged_id",label:lo("Only for logged in users","jet-form-builder")},{value:"not_logged_in",label:lo("Only for NOT-logged in users","jet-form-builder")}],label:null!=t?t:lo("Field Visibility","jet-form-builder"),help:null!=n?n:"",value:o.visibility,onChange:function(e){return i({visibility:e})}}):null};function so(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var fo=wp.i18n.__,po=wp.components.TextControl;const mo=function(e){var t=e.label,n=e.help,r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return so(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?so(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Gt(),2),o=r[0],i=r[1];return wp.element.createElement(po,{label:null!=t?t:fo("CSS Class Name","jet-form-builder"),value:o.class_name,help:null!=n?n:"",onChange:function(e){return i({class_name:e})}})};var yo=wp.components.PanelBody,bo=wp.i18n.__;function vo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ho=wp.i18n.__,wo=wp.components.TextControl;const go=function(e){var t=e.label,n=e.help,r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Gt(),2),o=r[0],i=r[1];return wp.element.createElement(wo,{label:null!=t?t:ho("Field Label","jet-form-builder"),value:o.label,help:null!=n?n:"",onChange:function(e){return i({label:e})},onBlur:function(){return yr(o,i)}})};function Oo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var jo=wp.i18n.__,So=wp.components.TextControl;const Eo=function(e){var t=e.label,n=e.help,r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Oo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Gt(),2),o=r[0],i=r[1];return Ht("name")?wp.element.createElement(So,{label:null!=t?t:jo("Form field name","jet-form-builder"),value:o.name,help:null!=n?n:jo("Should contain only Latin letters, numbers, `-` or `_` chars, no spaces only lower case","jet-form-builder"),onChange:function(e){return i({name:dr(e)})}}):null};function Ao(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Co=wp.i18n.__,Io=wp.components.TextControl;const _o=function(e){var t=e.label,n=e.help,r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ao(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ao(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Gt(),2),o=r[0],i=r[1];return Ht("desc")?wp.element.createElement(Io,{label:null!=t?t:Co("Field Description","jet-form-builder"),value:o.desc,help:null!=n?n:"",onChange:function(e){return i({desc:e})}}):null};function Po(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var No=wp.i18n.__,ko=wp.components.Button,To=wp.element.useState;const xo=function(e){var t=e.value,n=e.onChange,r=e.title,o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Po(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Po(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(To(!1),2),i=o[0],a=o[1];return wp.element.createElement(React.Fragment,null,wp.element.createElement(ko,{icon:"database",variant:"tertiary",isSmall:!0,className:"jet-fb-is-thick",onClick:function(){return a(!0)}}),i&&wp.element.createElement(m,{classNames:["width-60"],title:null!=r?r:No("Edit Preset","jet-form-builder"),onRequestClose:function(){return a(!1)}},wp.element.createElement(Sn,{key:"dynamic_key_preset",value:t,onSavePreset:n})))},Ro=(0,wp.element.createContext)(!1);var Do=["children"];function Fo(){return Fo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fo.apply(this,arguments)}function Lo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Mo=wp.element,Bo=Mo.useState,$o=Mo.useRef,Go=wp.components,Uo=Go.Button,Vo=Go.Popover;const qo=function(e){var t=e.children,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Do),r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Lo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Bo(!1),2),o=r[0],i=r[1],a=$o();return wp.element.createElement(Ro.Provider,{value:{showPopover:o,setShowPopover:i}},wp.element.createElement(Uo,Fo({ref:a,icon:"admin-tools",variant:"tertiary",isSmall:!0,className:"jet-fb-is-thick",onClick:function(){return i(!0)}},n)),o&&wp.element.createElement(Vo,{anchorRef:a.current,position:"top-start",noArrow:!1,isAlternate:!0,onClose:function(){return i(!1)}},t))},Jo=(0,wp.element.createContext)([]),Ho=(0,wp.element.createContext)({name:""});function Xo(){}Xo.prototype={fullName:function(){},fullHelp:function(){}};const Wo=Xo;function zo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Yo=wp.element.useState,Ko=wp.components.Button;const Zo=function(e){var t=e.current,n=e.children,r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return zo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Yo(!1),2),o=r[0],i=r[1];if(!(t instanceof Wo))return wp.element.createElement("li",null,wp.element.createElement(Ho.Provider,{value:t},n));var a=t.fullHelp.bind(t);return wp.element.createElement("li",null,wp.element.createElement(Ho.Provider,{value:t},wp.element.createElement("div",{style:{display:"flex",alignItems:"center",gap:"0.6em"}},wp.element.createElement(Ko,{isSmall:!0,variant:"tertiary",icon:o?"arrow-down":"arrow-right",className:"jet-fb-is-thick",onClick:function(){return i((function(e){return!e}))}}),n),o&&wp.element.createElement(a,null)))};var Qo=wp.element,ei=Qo.Children,ti=Qo.cloneElement,ni=wp.components.PanelBody;const ri=function(e){var t=e.title,n=e.items,r=e.children,o=e.initialOpen,i=n.map((function(e){return wp.element.createElement(Zo,{current:e})}));return wp.element.createElement(ni,{title:t,initialOpen:o},wp.element.createElement("ul",{style:{padding:"0 0.5em"}},ei.map(i,(function(e){return ti(e,{},r)}))))};var oi=["withCurrent","children"];function ii(e){return function(e){if(Array.isArray(e))return ai(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ai(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ai(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ai(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var li=wp.element,ui=li.useMemo,ci=li.useContext,si=wp.i18n.__;const fi=function(e){var t,n,r,o,i,a,l=e.withCurrent,u=void 0!==l&&l,c=e.children,s=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,oi),f=ui((function(){return u?te():ce()}),[]),p=ci(Jo),m=[].concat(ii(null!==(t=p.beforeFields)&&void 0!==t?t:[]),ii(f),ii(null!==(n=p.afterFields)&&void 0!==n?n:[]));return m.length||null!=p&&null!==(r=p.extra)&&void 0!==r&&r.length||null!=p&&null!==(o=p.filters)&&void 0!==o&&o.length?wp.element.createElement(qo,s,Boolean(m.length)&&wp.element.createElement(ri,{title:si("Fields:","jet-form-builder"),items:m,initialOpen:!0},c),Boolean(null==p||null===(i=p.extra)||void 0===i?void 0:i.length)&&wp.element.createElement(ri,{title:si("Extra macros:","jet-form-builder"),items:p.extra},c),Boolean(null==p||null===(a=p.filters)||void 0===a?void 0:a.length)&&wp.element.createElement(ri,{title:si("Filters:","jet-form-builder"),items:p.filters},c)):null};var pi=["onClick","withCurrent"];function mi(){return mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mi.apply(this,arguments)}var di=wp.element.useContext,yi=wp.components.Button;function bi(e){var t=e.onClick,n=di(Ho),r=n.fullName?n.fullName():"%".concat(n.value,"%");return wp.element.createElement(yi,{isLink:!0,onClick:function(){return t(r)}},r)}const vi=function(e){var t=e.onClick,n=void 0===t?function(){}:t,r=e.withCurrent,o=void 0!==r&&r,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,pi);return wp.element.createElement(fi,mi({withCurrent:o},i),wp.element.createElement(bi,{onClick:n}))};var hi=wp.components,wi=hi.Flex,gi=hi.FlexItem,Oi=wp.compose.useInstanceId;const ji=function(e){var t=e.children,n=e.value,r=e.label,o=e.onChangePreset,i=void 0!==o&&o,a=e.onChangeMacros,l=void 0!==a&&a,u=Oi(gi,"jfb-AdvancedModalControl");return wp.element.createElement(React.Fragment,null,wp.element.createElement(wi,{align:"center",justify:"flex-start",style:{marginBottom:"8px"}},wp.element.createElement("label",{htmlFor:u,className:"jet-fb label"},r),!1!==i&&wp.element.createElement(xo,{value:n,onChange:i}),!1!==l&&wp.element.createElement(vi,{onClick:l})),"function"==typeof t?t({instanceId:u}):t)};function Si(){Wo.call(this)}Si.prototype=Object.create(Wo.prototype),Si.prototype.isServerSide=!1,Si.prototype.isClientSide=!1,Si.prototype.name="",Si.prototype.namespace="CT",Si.prototype.help=null,Si.prototype.fullHelp=function(){return this.help},Si.prototype.fullName=function(){return"%".concat(this.namespace,"::").concat(this.name,"%")};const Ei=Si;var Ai=wp.data.useSelect,Ci=wp.i18n.__,Ii=new Ei;Ii.fullName=function(){return"%this%"},Ii.fullHelp=function(){return Ci("Returns current field value","jet-form-builder")};const _i=function(e){var t=e.children,n=e.withThis,r=void 0!==n&&n,o=Ai((function(e){return e("jet-forms/macros").getClientMacros()}),[]),i=r?{extra:o,afterFields:[Ii]}:{extra:o};return wp.element.createElement(Jo.Provider,{value:i},t)};function Pi(e,t,n){var r,o=n.selectionStart,i=n.selectionEnd,a=(e=null!==(r=e)&&void 0!==r?r:"").slice(0,o),l=e.slice(i);return a+=t,setTimeout((function(){n.focus(),n.selectionStart=a.length,n.selectionEnd=a.length})),a+l}function Ni(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ki=wp.element.useRef;const Ti=function(e){var t,n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ni(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ni(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Gt(),2),r=n[0],o=n[1],i=null!==(t=r[e])&&void 0!==t?t:"",a=ki();return[a,function(t){var n,r,l;o((n={},r=e,l=Pi(i,t,a.current),r in n?Object.defineProperty(n,r,{value:l,enumerable:!0,configurable:!0,writable:!0}):n[r]=l,n))}]};function xi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ri(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ri(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ri(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Di=wp.i18n.__,Fi=wp.components.TextControl;const Li=function(e){var t=e.label,n=e.help,r=e.hasMacro,o=void 0===r||r,i=xi(Gt(),2),a=i[0],l=i[1],u=xi(Ti("default"),2),c=u[0],s=u[1];return Ht("default")?wp.element.createElement(_i,null,wp.element.createElement(ji,{value:a.default,label:null!=t?t:Di("Default Value","jet-form-builder"),onChangePreset:function(e){return l({default:e})},onChangeMacros:!!o&&s},(function(e){var t=e.instanceId;return wp.element.createElement(Fi,{ref:c,id:t,value:a.default,help:null!=n?n:"",onChange:function(e){return l({default:e})}})}))):null};var Mi=wp.components.PanelBody,Bi=wp.i18n.__;function $i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Gi=wp.blockEditor.BlockControls,Ui=wp.compose.useCopyToClipboard,Vi=wp.components,qi=Vi.TextControl,Ji=Vi.ToolbarGroup,Hi=Vi.ToolbarItem,Xi=Vi.Button;const Wi=function(e){var t=e.children,n=void 0===t?null:t,r=Dt(),o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Gt(),2),i=o[0],a=o[1],l=Me('Copied "'.concat(i.name,'" to clipboard.')),u=Ui(i.name,(function(){return l(!0)}));return wp.element.createElement(Gi,{key:r("ToolBarFields-BlockControls")},wp.element.createElement(Ji,{key:r("ToolBarFields-ToolbarGroup"),className:"jet-fb-block-toolbar"},wp.element.createElement(Hi,{as:"div",style:{display:"flex"}},wp.element.createElement(Xi,{isSmall:!0,icon:"admin-page",showTooltip:!0,shortcut:"Copy name",ref:u}),wp.element.createElement(qi,{value:i.name,onChange:function(e){return a({name:e})}})),n))};function zi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Yi=wp.i18n.__,Ki=wp.components.ToggleControl;const Zi=function(e){var t=e.label,n=e.help,r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return zi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Gt(),2),o=r[0],i=r[1];return wp.element.createElement(Ki,{label:null!=t?t:Yi("Is required","jet-form-builder"),checked:o.required,help:null!=n?n:"",onChange:function(e){return i({required:e})}})};function Qi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ea(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ta(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function na(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ta(Object(n),!0).forEach((function(t){ra(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ta(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ra(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ia(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ia(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ia(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var aa=wp.components,la=aa.TextControl,ua=aa.BaseControl,ca=wp.element,sa=(ca.useState,ca.useEffect),fa=wp.i18n.__;function pa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ma(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pa(Object(n),!0).forEach((function(t){da(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function da(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ya(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ba(e){return function(e){if(Array.isArray(e))return va(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return va(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?va(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function va(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ha=wp.i18n.__,wa=wp.components.PanelBody,ga=wp.hooks.applyFilters,Oa=wp.blockEditor.useBlockProps;var ja=wp.hooks.applyFilters;const Sa=function(){return ja("jet.fb.register.fields.controls",{})};function Ea(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Aa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ea(Object(n),!0).forEach((function(t){Ca(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ea(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ca(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ia=function(e){var t=e.children,n=e.style,r=void 0===n?{}:n;return wp.element.createElement("p",{className:"jet-fb-base-control__help",style:Aa({fontSize:"12px",fontStyle:"normal",color:"rgb(117, 117, 117)",marginTop:"0px"},r)},t)},_a=function(e){return{setLoading:function(t){e("jet-forms/actions").setLoading({actionId:t})},setResultSuccess:function(t,n){e("jet-forms/actions").setLoadingResult({actionId:t,success:!0,response:n})},setResultFail:function(t){e("jet-forms/actions").setLoadingResult({actionId:t,success:!1,response:{}})}}};var Pa=wp.compose.compose,Na=wp.data,ka=Na.withSelect,Ta=Na.withDispatch;const xa=Pa(ka(yt),Ta(_a))((function(e){var t=e.initialLabel,n=void 0===t?"Valid":t,r=e.label,o=void 0===r?"InValid":r,i=e.ajaxArgs,a=void 0===i?{}:i,l=e.loadingState,u=e.setLoading,c=e.id,s=e.setResultSuccess,f=e.setResultFail;return wp.element.createElement(g,{disabled:l.loading,ajaxArgs:a,label:-1===l.id&&n?n:o,onLoading:function(){u(c)},onSuccessRequest:function(e){s(c,e)},onFailRequest:function(){return f(c)},className:l.buttonClassName},wp.element.createElement("i",{className:"dashicons"}))}));function Ra(){return Ra=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ra.apply(this,arguments)}var Da=wp.data.useSelect;var Fa=wp.compose.compose,La=wp.data.withDispatch,Ma=wp.apiFetch;const Ba=Fa(La(_a))((function(e){var t=e.initialLabel,n=void 0===t?"Valid":t,r=e.label,o=void 0===r?"InValid":r,i=e.apiArgs,a=void 0===i?{}:i,l=e.loadingState,u=e.setLoading,c=e.id,s=e.setResultSuccess,f=e.setResultFail,p=e.onLoading,m=void 0===p?function(){}:p,d=e.onSuccess,y=void 0===d?function(){}:d,b=e.onFail,v=void 0===b?function(){}:b,h=e.isHidden,w=void 0!==h&&h;return wp.element.createElement(g,{disabled:l.loading,hasFetched:l.id,label:(-1===l.id||l.loading)&&n?n:o,className:l.buttonClassName,isHidden:w,customRequest:function(){u(c),m(),Ma(a).then((function(e){s(c,e),y(e)})).catch((function(e){f(c),v(e)}))}},wp.element.createElement("i",{className:"dashicons"}))})),$a=(0,wp.compose.compose)((0,wp.data.withSelect)(lt))((function(e){var t=e.initialLabel,n=void 0===t?"Valid":t,r=e.label,o=void 0===r?"InValid":r,i=e.apiArgs,a=void 0===i?{}:i,l=e.gatewayRequestId,u=e.loadingGateway,c=e.onLoading,s=void 0===c?function(){}:c,f=e.onSuccess,p=void 0===f?function(){}:f,m=e.onFail,d=void 0===m?function(){}:m,y=e.isHidden,b=void 0!==y&&y;return wp.element.createElement(Ba,{id:l,loadingState:u,initialLabel:n,label:o,apiArgs:a,onFail:d,onLoading:s,onSuccess:p,isHidden:b})})),Ga="SET_CURRENT_ACTION",Ua="SET_LOADING",Va="UPDATE_ACTION_SETTINGS",qa="UPDATE_ACTION_CONDITIONS",Ja="ADD_CALLBACK",Ha="ADD_DETAIL",Xa="SET_CURRENT_META",Wa="CLEAR_CURRENT",za="ADD_COMPUTED_FIELD";function Ya(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Ka={id:-1,state:"",success:!1,response:{},loading:!1,buttonClassName:(Za=j,function(e){if(Array.isArray(e))return Ya(e)}(Za)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(Za)||function(e,t){if(e){if("string"==typeof e)return Ya(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ya(e,t):void 0}}(Za)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())};var Za;function Qa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function el(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qa(Object(n),!0).forEach((function(t){tl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nl={getLoadingIndex:function(e,t){return e.loadingState.findIndex((function(e){return e.id===t}))},getLoading:function(e,t){var n=nl.getLoadingIndex(e,t);return-1!==n?e.loadingState[n]:el({},Ka)},getCallback:function(e,t){return e.callbacks[t]},getDetail:function(e,t){return e.details[t]},getComputedFields:function(e){return e.computedFields}};const rl=el(el({},nl),{},{isSettingsModal:function(e){var t;return"settings"===(null===(t=e.meta)||void 0===t?void 0:t.modalType)},isConditionalModal:function(e){var t;return"conditions"===(null===(t=e.meta)||void 0===t?void 0:t.modalType)},getMetaIndex:function(e){var t;return null===(t=e.meta)||void 0===t?void 0:t.index},getCurrentAction:function(e){return e.currentAction},getCurrentCallback:function(e){var t,n,r=null!==(t=null===(n=e.currentAction)||void 0===n?void 0:n.type)&&void 0!==t&&t;return nl.getCallback(e,r)},getCurrentDetail:function(e){var t,n,r=null!==(t=null===(n=e.currentAction)||void 0===n?void 0:n.type)&&void 0!==t&&t;return nl.getDetail(e,r)},getCurrentSettings:function(e){var t,n,r,o,i;return null!==(i=(null!==(t=null===(n=e.currentAction)||void 0===n?void 0:n.settings)&&void 0!==t?t:{})[null!==(r=null===(o=e.currentAction)||void 0===o?void 0:o.type)&&void 0!==r&&r])&&void 0!==i?i:{}},getCurrentLoading:function(e){var t,n=null===(t=e.currentAction)||void 0===t?void 0:t.id;return nl.getLoading(e,n)},dangerGetAllLoading:function(e){return e.loadingState}});function ol(e){return function(e){if(Array.isArray(e))return il(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return il(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?il(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function il(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function al(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ll(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?al(Object(n),!0).forEach((function(t){ul(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):al(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ul(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const cl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=ll({},Ka);return e.state&&(t.buttonClassName=[].concat(ol(j),[e.state])),ll(ll({},t),e)};function sl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sl(Object(n),!0).forEach((function(t){pl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ml=wp.components.withFilters;var dl;function yl(e){return function(e){if(Array.isArray(e))return bl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return bl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bl(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vl(Object(n),!0).forEach((function(t){wl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const gl=(wl(dl={},Ga,(function(e,t){var n={};return"function"==typeof t.item?n.currentAction=t.item(e.currentAction):n.currentAction=t.item,hl(hl({},e),n)})),wl(dl,Xa,(function(e,t){return hl(hl({},e),{},{meta:hl({},t.item)})})),wl(dl,Wa,(function(e){return hl(hl({},e),{},{currentAction:{},meta:{}})})),wl(dl,Ua,(function(e,t){var n=rl.getLoadingIndex(e,t.state.id),r=yl(e.loadingState);return-1!==n?r[n]=cl(t.state):r.push(cl(t.state)),hl(hl({},e),{},{loadingState:r})})),wl(dl,Va,(function(e,t){var n=e.currentAction,r=n.settings,o=n.type,i=hl(hl({},rl.getCurrentSettings(e)),t.item);return hl(hl({},e),{},{currentAction:hl(hl({},e.currentAction),{},{settings:hl(hl({},r),{},wl({},o,i))})})})),wl(dl,qa,(function(e,t){var n=e.currentAction.conditions,r=void 0===n?[]:n,o="function"==typeof t.item?t.item(r):t.item;return hl(hl({},e),{},{currentAction:hl(hl({},e.currentAction),{},{conditions:o})})})),wl(dl,Ja,(function(e,t){return hl(hl({},e),{},{callbacks:hl(hl({},e.callbacks),{},wl({},t.actionType,(n=t.actionType,r=t.callback,o=window.JetFBLocalizeHelper.getLocalizedFullPack(n),function(e){var t={onChangeSetting:function(t,n){e.onChange(fl(fl({},e.settings),{},pl({},n,t)))},getMapField:function(t){var n=t.source,r=void 0===n?"fields_map":n,o=t.name,i=e.settings;return void 0!==i[r]&&void 0!==i[r][o]?i[r][o]:""},setMapField:function(t){var n=t.source,r=void 0===n?"fields_map":n,o=t.nameField,i=t.value,a=fl(fl({},e.settings[r]),{},pl({},o,i));e.onChange(fl(fl({},e.settings),{},pl({},r,a)))},onChangeSettingObj:function(t){e.onChange(fl(fl({},e.settings),t))}},i=fl(fl(fl({},e),o),t),a=ml("jet.fb.render.action.".concat(n))((function(){return null}));return wp.element.createElement(ut.Provider,{value:i},wp.element.createElement(r,i),wp.element.createElement(a,i))})))});var n,r,o})),wl(dl,Ha,(function(e,t){return hl(hl({},e),{},{details:hl(hl({},e.details),{},wl({},t.actionType,t.item))})})),wl(dl,za,(function(e,t){return hl(hl({},e),{},{computedFields:[].concat(yl(e.computedFields),[t.field])})})),dl),Ol={currentAction:{},callbacks:{},details:{},meta:{},loadingState:[cl()],computedFields:[]},jl={setCurrentAction:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:Ga,item:e}},setMeta:function(e){return{type:Xa,item:e}},clearCurrent:function(){return{type:Wa}},setLoading:function(e){return{type:Ua,state:{id:e.actionId,state:"loading",loading:!0}}},setLoadingResult:function(e){return{type:"SET_LOADING",state:{id:e.actionId,state:e.success?"is-valid":"is-invalid",success:e.success,response:e.response,loading:!1}}},updateCurrentSettings:function(e){return{type:Va,item:e}},updateCurrentConditions:function(e){return{type:qa,item:e}},addCallback:function(e,t){return{type:Ja,actionType:e,callback:t}},addDetail:function(e,t){return{type:Ha,actionType:e,item:t}},addComputedField:function(e){return{type:za,field:e}}},Sl=(0,wp.data.createReduxStore)("jet-forms/actions",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ol,t=arguments.length>1?arguments[1]:void 0,n=gl[null==t?void 0:t.type];return n?n(e,t):e},actions:jl,selectors:rl}),El="CLEAR_GATEWAY",Al="CLEAR_SCENARIO",Cl="SET_CURRENT_GATEWAY_SCENARIO",Il="SET_CURRENT_GATEWAY",_l="SET_CURRENT_GATEWAY_SPECIFIC",Pl="SET_CURRENT_GATEWAY_INNER",Nl="SET_CURRENT_REQUEST",kl="SET_CURRENT_SCENARIO",Tl="REGISTER_EVENT_TYPE",xl="HARD_SET_CURRENT_GATEWAY",Rl="HARD_SET_CURRENT_GATEWAY_SPECIFIC";function Dl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dl(Object(n),!0).forEach((function(t){Ll(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ll(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ml={getCurrentRequestId:function(e){return e.currentRequest.id},getCurrentRequest:function(e){return e.currentRequest},getScenario:function(e){return e.currentScenario},getScenarioId:function(e){var t;return null===(t=e.currentScenario)||void 0===t?void 0:t.id},getGatewayId:function(e){var t;return null===(t=e.currentGateway)||void 0===t?void 0:t.gateway},getGateway:function(e){return e.currentGateway},getEventTypes:function(e){return e.eventTypes}};const Bl=Fl(Fl({},Ml),{},{getGatewaySpecific:function(e){return e.currentGateway[Ml.getGatewayId(e)]||{}}});var $l;function Gl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ul(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gl(Object(n),!0).forEach((function(t){Vl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ql=(Vl($l={},El,(function(e,t){return Ul(Ul({},e),{},{currentGateway:{}})})),Vl($l,Al,(function(e,t){return Ul(Ul({},e),{},{currentScenario:{}})})),Vl($l,Cl,(function(e,t){return Ul(Ul({},e),{},{currentScenario:Ul(Ul({},e.currentScenario),t.item||{})})})),Vl($l,Il,(function(e,t){return Ul(Ul({},e),{},{currentGateway:Ul(Ul({},e.currentGateway),t.item)})})),Vl($l,_l,(function(e,t){return Ul(Ul({},e),{},{currentGateway:Ul(Ul({},e.currentGateway),{},Vl({},e.currentGateway.gateway,Ul(Ul({},Bl.getGatewaySpecific(e)),t.item)))})})),Vl($l,Pl,(function(e,t){var n=t.item,r=n.key,o=n.value;return Ul(Ul({},e),{},{currentGateway:Ul(Ul({},e.currentGateway),{},Vl({},r,Ul(Ul({},e.currentGateway[r]||{}),o)))})})),Vl($l,Nl,(function(e,t){var n,r=[Bl.getGatewayId(e),null===(n=t.item)||void 0===n?void 0:n.id].filter((function(e){return e}));return t.item.id=r.join("/"),Ul(Ul({},e),{},{currentRequest:t.item})})),Vl($l,kl,(function(e,t){var n,r;return Ul(Ul({},e),{},{currentScenario:Ul(Ul({},e.currentScenario),{},Vl({},null===(n=e.currentScenario)||void 0===n?void 0:n.id,Ul(Ul({},e.currentScenario[null===(r=e.currentScenario)||void 0===r?void 0:r.id]||{}),t.item||{})))})})),Vl($l,xl,(function(e,t){return t.item&&(e.currentGateway[t.item]=t.value),Ul({},e)})),Vl($l,Rl,(function(e,t){var n,r,o;return t.item&&null!==(n=e.currentGateway)&&void 0!==n&&n.gateway&&(e.currentGateway[null===(r=e.currentGateway)||void 0===r?void 0:r.gateway]={},e.currentGateway[null===(o=e.currentGateway)||void 0===o?void 0:o.gateway][t.item]=t.value),Ul({},e)})),Vl($l,Tl,(function(e,t){var n,r,o,i,a,l,u=Ul(Ul({},t.item),{},{gateway:null!==(n=null===(r=t.item)||void 0===r?void 0:r.gateway)&&void 0!==n?n:null===(o=e.currentGateway)||void 0===o?void 0:o.gateway,scenario:null!==(i=null===(a=t.item)||void 0===a?void 0:a.scenario)&&void 0!==i?i:null===(l=e.currentScenario)||void 0===l?void 0:l.id});return e.eventTypes.push(u),e})),$l);var Jl={currentRequest:{id:-1},currentGateway:{},currentScenario:{},eventTypes:[]};const Hl={clearGateway:function(){return{type:El}},clearScenario:function(){return{type:Al}},setRequest:function(e){return{type:Nl,item:e}},setGateway:function(e){return{type:Il,item:e}},setGatewayInner:function(e){return{type:Pl,item:e}},setGatewaySpecific:function(e){return{type:_l,item:e}},setScenario:function(e){return{type:Cl,item:e}},setCurrentScenario:function(e){return{type:kl,item:e}},registerEventType:function(e){return{type:Tl,item:e}},hardSetGateway:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{type:xl,item:e,value:t}},hardSetGatewaySpecific:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{type:Rl,item:e,value:t}}},Xl=(0,wp.data.createReduxStore)("jet-forms/gateways",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jl,t=arguments.length>1?arguments[1]:void 0,n=ql[null==t?void 0:t.type];return n?n(e,t):e},actions:Hl,selectors:Bl}),Wl="REGISTER",zl="UNREGISTER",Yl="LOCK_ACTIONS",Kl="CLEAR_DYNAMIC_EVENTS";function Zl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ql(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var tu={getTypeIndex:function(e,t){return e.types.findIndex((function(e){return e.value===t}))},getTypes:function(e){return e.types},getGatewayTypes:function(e){return e.types.filter((function(e){return"gateway"in e}))},getAlwaysTypes:function(e){return e.types.filter((function(e){return"always"in e}))},getDynamicTypes:function(e){return e.types.filter((function(e){return e.isDynamic}))},getType:function(e,t){var n=tu.getTypeIndex(e,t);return e.types[n]},getUnsupported:function(e,t){var n,r=null!==(n=e.lockedActions[t])&&void 0!==n&&n;return!1===r?[]:r.unsupported},getSupported:function(e,t){var n,r=null!==(n=e.lockedActions[t])&&void 0!==n&&n;return!1===r?[]:r.supported},isValid:function(e,t,n){var r=tu.getUnsupported(e,t);if(r.length&&r.includes(n))return!1;var o=tu.getSupported(e,t);return!o.length||o.includes(n)},filterList:function(e,t,n){return n.filter((function(n){return tu.isValid(e,t,n)}))},getHelpMap:function(e){var t,n={},r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return eu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eu(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(e.types);try{for(r.s();!(t=r.n()).done;){var o=t.value,i=o.value,a=o.help;n[i]=a}}catch(e){r.e(e)}finally{r.f()}return n}};const nu=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zl(Object(n),!0).forEach((function(t){Ql(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},tu);var ru;function ou(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function iu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ou(Object(n),!0).forEach((function(t){au(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ou(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function au(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lu(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return uu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uu(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function uu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const cu=(au(ru={},Wl,(function(e,t){var n,r=lu(t.items);try{for(r.s();!(n=r.n()).done;){var o=n.value;o.title=o.label;var i=nu.getTypeIndex(e,o.value);-1===i?e.types.push(iu({},o)):e.types[i]=iu({},o)}}catch(e){r.e(e)}finally{r.f()}return e})),au(ru,Yl,(function(e,t){var n,r=lu(window.jetFormActionTypes);try{var o=function(){var t,r=n.value,o=r.id,i=r.self,a=null!==(t=window[i])&&void 0!==t&&t;if(!1===a)return"continue";var l=a.__unsupported_events,u=a.__supported_events,c={unsupported:e.types.filter((function(e){var t=e.self;return l.includes(t)})).map((function(e){return e.value})),supported:e.types.filter((function(e){var t=e.self;return u.includes(t)})).map((function(e){return e.value}))};if(!c.supported.length&&!c.unsupported.length)return"continue";e.lockedActions[o]=c};for(r.s();!(n=r.n()).done;)o()}catch(e){r.e(e)}finally{r.f()}return e})),au(ru,zl,(function(e,t){var n=t.types;return e.types=e.types.filter((function(e){var t=e.value;return!n.includes(t)})),e})),au(ru,Kl,(function(e){return e.types=e.types.filter((function(e){var t=e.isDynamic;return!(void 0!==t&&t)})),e})),ru);var su={types:[],labels:{},lockedActions:{}};const fu={register:function(e){return{type:Wl,items:e}},lockActions:function(){return{type:Yl}},unRegister:function(e){return{type:zl,types:e}},clearDynamicEvents:function(){return{type:Kl}}},pu=(0,wp.data.createReduxStore)("jet-forms/events",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:su,t=arguments.length>1?arguments[1]:void 0,n=cu[null==t?void 0:t.type];return n?n(e,t):e},actions:fu,selectors:nu}),mu="REGISTER",du="ADD_RENDER_STATE",yu="ADD_RENDER_STATES",bu="DELETE_RENDER_STATES";var vu;function hu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gu(e){return function(e){if(Array.isArray(e))return ju(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ou(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ou(e,t){if(e){if("string"==typeof e)return ju(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ju(e,t):void 0}}function ju(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Su=wp.hooks.doAction,Eu=(wu(vu={},mu,(function(e,t){var n=t.items,r=n.operators,o=n.functions,i=n.render_states;return e.operators=gu(r),e.functions=gu(o),e.renderStates=gu(i),Su("jet.fb.change.blockConditions.renderState",e.renderStates),e})),wu(vu,du,(function(e,t){return e.renderStates.push(t.item),Su("jet.fb.change.blockConditions.renderState",e.renderStates),e})),wu(vu,yu,(function(e,t){var n,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ou(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(t.items);try{for(r.s();!(n=r.n()).done;){var o=n.value;e.renderStates.push(o)}}catch(e){r.e(e)}finally{r.f()}return Su("jet.fb.change.blockConditions.renderState",e.renderStates),e})),wu(vu,bu,(function(e,t){var n=Array.isArray(t.items)?gu(t.items):[t.items];return e.renderStates=e.renderStates.filter((function(e){var t=e.value;return!n.includes(t)})),Su("jet.fb.change.blockConditions.renderState",e.renderStates),e})),vu);const Au=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hu(Object(n),!0).forEach((function(t){wu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Eu),Cu=function(e){var t,n;try{n=JSON.parse(e)}catch(e){return!1}return!(null===(t=n)||void 0===t||!t.jet_preset)};var Iu=wp.i18n.__;const _u=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"code";if(e=null!==(t=e)&&void 0!==t?t:"",!Cu(e))return e;var o,i=JSON.parse(e),a=Iu("Preset from","jet-form-builder"),l=null!==(n=null==i?void 0:i.from)&&void 0!==n?n:"(empty)";switch(r){case"code":o="<code>".concat(l,"</code>");break;case"b":o="<b>".concat(l,"</b>")}return[a,o].join(" ")};var Pu=wp.data.select,Nu=wp.i18n.__,ku=function(e){var t=Pu("jet-forms/block-conditions").getOperator(null==e?void 0:e.operator);if(!t)return"";var n=(null==e?void 0:e.field)||"(no field)";return["<code>".concat(n,"</code>"),t.label].join(" ")},Tu={functions:[],operators:[],conditionReaders:{default:function(e){var t=Pu("jet-forms/block-conditions").getOperator(null==e?void 0:e.operator);if(!t)return"";var n=(null==e?void 0:e.field)||"(no field)",r=_u(e.value,"b")||"(no value)";return["<code>".concat(n,"</code>"),t.label,"<code>".concat(r,"</code>")].join(" ")},empty:ku,not_empty:ku,render_state:function(e){var t,n=(null!==(t=null==e?void 0:e.render_state)&&void 0!==t?t:[]).map((function(e){return"<code>".concat(e,"</code>")}));return[1===n.length?Nu("Is render state","jet-form-builder"):Nu("One of the render states","jet-form-builder"),n.join(", ")].join(": ")}},renderStates:[]};const xu={register:function(e){return{type:mu,items:e}},addRenderState:function(e){return{type:du,item:e}},addRenderStates:function(e){return{type:yu,items:e}},deleteRenderStates:function(e){return{type:bu,items:e}}};function Ru(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Du(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Fu=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ru(Object(n),!0).forEach((function(t){Du(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ru(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},{getFunctions:function(e){return e.functions},getOperators:function(e){return e.operators},getRenderStates:function(e){return e.renderStates},getSwitchableRenderStates:function(e){return e.renderStates.filter((function(e){var t=e.is_custom,n=void 0!==t&&t,r=e.can_be_switched;return n||void 0!==r&&r}))},getCustomRenderStates:function(e){return e.renderStates.filter((function(e){var t=e.is_custom;return void 0!==t&&t}))},getOperator:function(e,t){var n=e.operators.findIndex((function(e){return e.value===t}));return-1!==n&&e.operators[n]},readCondition:function(e,t){var n,r=t.operator,o=void 0===r?"":r;if(!o)return"";var i=null!==(n=e.conditionReaders[o])&&void 0!==n&&n;return"function"==typeof i?i(t):e.conditionReaders.default(t)},getFunctionDisplay:function(e,t){var n=e.functions.find((function(e){return e.value===t}));return null==n?void 0:n.display}}),Lu=(0,wp.data.createReduxStore)("jet-forms/block-conditions",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tu,t=arguments.length>1?arguments[1]:void 0,n=Au[null==t?void 0:t.type];return n?n(e,t):e},actions:xu,selectors:Fu}),Mu="REGISTER";function Bu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Gu=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bu(Object(n),!0).forEach((function(t){$u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},$u({},Mu,(function(e,t){var n=t.slug,r=t.settings;return e.buttons[n]=r,e})));var Uu={buttons:{}};const Vu={register:function(e,t){return{type:Mu,slug:e,settings:t}}};function qu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ju(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Hu=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qu(Object(n),!0).forEach((function(t){Ju(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},{getButtonEdit:function(e,t){var n;return null!==(n=e.buttons[t])&&void 0!==n?n:null}}),Xu=(0,wp.data.createReduxStore)("jet-forms/action-buttons",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Uu,t=arguments.length>1?arguments[1]:void 0,n=Gu[null==t?void 0:t.type];return n?n(e,t):e},actions:Vu,selectors:Hu}),Wu="REGISTER_MACRO";function zu(e){return function(e){if(Array.isArray(e))return Ku(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Yu(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yu(e,t){if(e){if("string"==typeof e)return Ku(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ku(e,t):void 0}}function Ku(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Zu=(tc=function(e,t){var n,r,o,i=t.items,a=t.isClient,l=Array.isArray(i)?i:[i],u=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Yu(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(l);try{for(u.s();!(n=u.n()).done;){var c=n.value;if(!(c instanceof Ei))throw console.error(c),new Error("^^^ Invalid macro item ^^^")}}catch(e){u.e(e)}finally{u.f()}return a?(r=e.clientMacros).push.apply(r,zu(l)):(o=e.serverMacros).push.apply(o,zu(l)),e},(ec=Wu)in(Qu={})?Object.defineProperty(Qu,ec,{value:tc,enumerable:!0,configurable:!0,writable:!0}):Qu[ec]=tc,Qu);var Qu,ec,tc,nc=wp.i18n.__;function rc(){Ei.call(this),this.name="CurrentDate",this.isClientSide=!0,this.fullHelp=function(){return wp.element.createElement(React.Fragment,null,nc("Returns the current timestamp. Replacing","jet-form-builder")," ",wp.element.createElement("code",null,"Date.now()"))}}rc.prototype=Object.create(Ei.prototype);const oc=rc;var ic=wp.i18n.__;function ac(){Ei.call(this),this.name="Min_In_Sec",this.isClientSide=!0,this.help=ic("Number of milliseconds in one minute","jet-form-builder")}ac.prototype=Object.create(Ei.prototype);const lc=ac;var uc=wp.i18n.__;function cc(){Ei.call(this),this.name="Month_In_Sec",this.isClientSide=!0,this.help=uc("Number of milliseconds in one month","jet-form-builder")}cc.prototype=Object.create(Ei.prototype);const sc=cc;var fc=wp.i18n.__;function pc(){Ei.call(this),this.name="Day_In_Sec",this.isClientSide=!0,this.help=fc("Number of milliseconds in one day","jet-form-builder")}pc.prototype=Object.create(Ei.prototype);const mc=pc;var dc=wp.i18n.__;function yc(){Ei.call(this),this.name="Year_In_Sec",this.isClientSide=!0,this.help=dc("Number of milliseconds in one year","jet-form-builder")}yc.prototype=Object.create(Ei.prototype);const bc=yc;function vc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var hc=wp.i18n.__;function wc(){Wo.call(this)}wc.prototype=Object.create(Wo.prototype),wc.prototype.docArgument=!1,wc.prototype.help=null,wc.prototype.isServerSide=!1,wc.prototype.isClientSide=!1,wc.prototype.getArgumentsList=function(){if(!this.docArgument||!this.docArgument.length)return null;var e,t=[],n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return vc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vc(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(Array.isArray(this.docArgument)?this.docArgument:[this.docArgument]);try{for(n.s();!(e=n.n()).done;)switch(e.value){case"string":case String:t.push(hc("String","jet-form-builder"));break;case"number":case Number:t.push(hc("Number","jet-form-builder"));break;case"array":case Array:t.push(hc("Array","jet-form-builder"));break;case"any":t.push(hc("Anything","jet-form-builder"))}}catch(e){n.e(e)}finally{n.f()}return t.join(" | ")},wc.prototype.fullHelp=function(){if(!this.docArgument&&!this.help)return null;var e=this.help,t=this.getArgumentsList();return wp.element.createElement(React.Fragment,null,t&&wp.element.createElement("div",{style:{marginBottom:"0.5em"}},hc("Arguments:","jet-form-builder")+" ",wp.element.createElement("code",null,t)),"function"!=typeof e?e:wp.element.createElement(e,null))};const gc=wc;var Oc=wp.i18n.__;function jc(){gc.call(this),this.fullName=function(){return"addDay"},this.docArgument=Number,this.isClientSide=!0,this.help=Oc("Adds the passed number of days via an argument \n\t\tto a macro that returns a date or a timestamp.","jet-form-builder")}jc.prototype=Object.create(gc.prototype);const Sc=jc;var Ec=wp.i18n.__;function Ac(){gc.call(this),this.fullName=function(){return"addMonth"},this.docArgument=Number,this.isClientSide=!0,this.help=Ec("Adds the passed number of months via an argument \n\t\tto a macro that returns a date or a timestamp.","jet-form-builder")}Ac.prototype=Object.create(gc.prototype);const Cc=Ac;var Ic=wp.i18n.__;function _c(){gc.call(this),this.fullName=function(){return"addYear"},this.docArgument=Number,this.isClientSide=!0,this.help=Ic("Adds the passed number of years through an argument \n\t\tto a macro that returns a date or a timestamp.","jet-form-builder")}_c.prototype=Object.create(gc.prototype);const Pc=_c;var Nc=wp.i18n.__;function kc(){gc.call(this),this.fullName=function(){return"ifEmpty"},this.docArgument="any",this.isClientSide=!0,this.help=Nc("If the macro returns an empty value, \n\t\tthen the filter returns the value passed in the argument","jet-form-builder")}kc.prototype=Object.create(gc.prototype);const Tc=kc;var xc=wp.i18n.__;function Rc(){gc.call(this),this.fullName=function(){return"length"},this.isClientSide=!0,this.help=xc("Returns the length of a string or array","jet-form-builder")}Rc.prototype=Object.create(gc.prototype);const Dc=Rc;var Fc=wp.i18n.__;function Lc(){gc.call(this),this.fullName=function(){return"toDate"},this.isClientSide=!0,this.help=function(){return wp.element.createElement(React.Fragment,null,Fc("Gets the timestamp from the macro and formats it according \n\t\tto the format of the Date Field.","jet-form-builder"),wp.element.createElement("hr",null),Fc("Example:","jet-form-builder")+" ",wp.element.createElement("code",null,"2022-02-24"))}}Lc.prototype=Object.create(gc.prototype);const Mc=Lc;var Bc=wp.i18n.__;function $c(){gc.call(this),this.fullName=function(){return"toDateTime"},this.isClientSide=!0,this.help=function(){return wp.element.createElement(React.Fragment,null,Bc("Gets the timestamp from the macro and formats it according \n\t\tto the format of the Datetime Field.","jet-form-builder"),wp.element.createElement("hr",null),Bc("Example:","jet-form-builder")+" ",wp.element.createElement("code",null,"2022-02-24T04:25"))}}$c.prototype=Object.create(gc.prototype);const Gc=$c;var Uc=wp.i18n.__;function Vc(){gc.call(this),this.fullName=function(){return"toTime"},this.isClientSide=!0,this.help=function(){return wp.element.createElement(React.Fragment,null,Uc("Gets the timestamp from the macro and formats it according \n\t\tto the format of the Time Field.","jet-form-builder"),wp.element.createElement("hr",null),Uc("Example:","jet-form-builder")+" ",wp.element.createElement("code",null,"04:25"))}}Vc.prototype=Object.create(gc.prototype);const qc=Vc;var Jc=wp.i18n.__;function Hc(){gc.call(this),this.fullName=function(){return"subDay"},this.docArgument=Number,this.isClientSide=!0,this.help=Jc("Subtracts the number of days by argument\nfrom a macro that returns a date or timestamp.","jet-form-builder")}Hc.prototype=Object.create(gc.prototype);const Xc=Hc;var Wc=wp.i18n.__;function zc(){gc.call(this),this.fullName=function(){return"subMonth"},this.docArgument=Number,this.isClientSide=!0,this.help=Wc("Subtracts the number of months by argument\nfrom a macro that returns a date or timestamp.","jet-form-builder")}zc.prototype=Object.create(gc.prototype);const Yc=zc;var Kc=wp.i18n.__;function Zc(){gc.call(this),this.fullName=function(){return"subYear"},this.docArgument=Number,this.isClientSide=!0,this.help=Kc("Subtracts the number of years by argument\nfrom a macro that returns a date or timestamp.","jet-form-builder")}Zc.prototype=Object.create(gc.prototype);const Qc=Zc;var es={macros:[new oc,new lc,new mc,new sc,new bc],filters:[new Tc,new Dc,new Sc,new Cc,new Pc,new Xc,new Yc,new Qc,new Mc,new Gc,new qc]};const ts={registerMacro:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:Wu,items:e,isClient:t}}};function ns(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const os=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ns(Object(n),!0).forEach((function(t){rs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ns(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},{getClientMacros:function(e){return e.macros.filter((function(e){return e.isClientSide}))},getServerMacros:function(e){return e.macros.filter((function(e){return e.isServerSide}))},getClientFilters:function(e){return e.filters.filter((function(e){return e.isClientSide}))},getServerFilters:function(e){return e.filters.filter((function(e){return e.isServerSide}))}}),is=(0,wp.data.createReduxStore)("jet-forms/macros",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:es,t=arguments.length>1?arguments[1]:void 0,n=Zu[null==t?void 0:t.type];return n?n(e,t):e},actions:ts,selectors:os}),as="REGISTER";function ls(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function us(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cs=us({},as,(function(e,t){var n=t.items,r=n.messages,o=n.ssr_callbacks,i=n.formats,a=n.rule_types;return e.messages=JSON.parse(JSON.stringify(r)),e.ssrCallbacks=JSON.parse(JSON.stringify(o)),e.formats=JSON.parse(JSON.stringify(i)),e.ruleTypes=JSON.parse(JSON.stringify(a)),e}));const ss=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ls(Object(n),!0).forEach((function(t){us(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ls(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},cs);var fs=wp.data.select,ps=wp.i18n.__,ms={messages:[],ssrCallbacks:[],formats:[],ruleTypes:[],ruleReaders:{default:function(e){var t=fs("jet-forms/validation").getRule(e.type);if(!t)return"";var n=(null==e?void 0:e.field)||(null==e?void 0:e.value)||"";return n=_u(n,"b")||"(no value)",[t.label,"<code>".concat(n,"</code>")].join(" ")},ssr:function(e){return[ps("Function:","jet-form-builder"),null==e?void 0:e.value].join(" ")}}};const ds={register:function(e){return{type:as,items:e}}};function ys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const vs=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ys(Object(n),!0).forEach((function(t){bs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},{getRule:function(e,t){var n=e.ruleTypes.findIndex((function(e){return e.value===t}));return-1!==n&&e.ruleTypes[n]},readRule:function(e,t){var n,r=t.type,o=void 0===r?"":r;if(!o)return"";var i=null!==(n=e.ruleReaders[o])&&void 0!==n&&n;return"function"==typeof i?i(t):e.ruleReaders.default(t)}}),hs=(0,wp.data.createReduxStore)("jet-forms/validation",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ms,t=arguments.length>1?arguments[1]:void 0,n=ss[null==t?void 0:t.type];return n?n(e,t):e},actions:ds,selectors:vs});n(7194);var ws=wp.data,gs=ws.register,Os=ws.dispatch,js=wp.hooks.addAction;[Xl,pu,Sl,Xu,Lu,is,hs].forEach(gs),Os("jet-forms/events").register(window.jetFormEvents.types),Os("jet-forms/events").lockActions(),Os("jet-forms/validation").register(window.jetFormValidation),js("jet.fb.change.blockConditions.renderState","jet-form-builder/events",(function(e){Os("jet-forms/events").clearDynamicEvents();var t=e.map((function(e){var t=e.value;return{value:t="ON."+t,label:t,isDynamic:!0}}));Os("jet-forms/events").register(t)})),Os("jet-forms/block-conditions").register(window.jetFormBlockConditions);const Ss=(0,wp.element.createContext)(!1),Es=(0,wp.element.createContext)({currentItem:{},changeCurrentItem:function(){},currentIndex:-1}),As=(0,wp.element.createContext)({index:-1,action:{}}),Cs=(0,wp.element.createContext)({isSupported:function(e){return!1},render:function(e){return e.children}}),Is=(0,wp.element.createContext)({isSupported:function(e){return!1},render:function(e){return e.currentItem,e.index,null}}),_s=(0,wp.element.createContext)({edit:function(e){return!0},move:function(e){return!0},clone:function(e){return!0},delete:function(e){return!0}}),Ps=(0,wp.element.createContext)({});function Ns(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ks=wp.components.ToggleControl,Ts=wp.i18n.__,xs=wp.element.useState;function Rs(e){return function(e){if(Array.isArray(e))return Ds(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ds(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ds(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ds(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ls(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fs(Object(n),!0).forEach((function(t){Ms(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ms(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bs=wp.element.useContext,$s=wp.i18n.__;const Gs=function(e){if(void 0===e)return null;var t=Bs(Ss),n=function(t){var n=t.oldIndex,r=t.newIndex;e((function(e){var t=JSON.parse(JSON.stringify(e)),o=[t[n],t[r]];return t[r]=o[0],t[n]=o[1],t}))};return{changeCurrentItem:function(t,n){e((function(e){var r=JSON.parse(JSON.stringify(e));return r[n]=Ls(Ls({},e[n]),t),r}))},toggleVisible:function(t){e((function(e){var n=JSON.parse(JSON.stringify(e));return n[t].__visible=!n[t].__visible,n}))},moveDown:function(e){n({oldIndex:e,newIndex:e+1})},moveUp:function(e){n({oldIndex:e,newIndex:e-1})},cloneItem:function(t){e((function(e){var n=JSON.parse(JSON.stringify(e)),r=[n.slice(0,t+1),n.slice(t+1)],o=r[1];return[].concat(Rs(r[0]),[n[t]],Rs(o))}))},addNewItem:function(t){e((function(e){return[].concat(Rs(e),[Ls({__visible:!0},t)])}))},removeOption:function(n){t&&!function(e){return confirm($s("Are you sure you want to remove item ".concat(e+1,"?"),"jet-form-builder"))}(n)||e((function(e){var t=JSON.parse(JSON.stringify(e));return t.splice(n,1),t}))}}},Us=(0,wp.element.createContext)(!1);var Vs=wp.components.Button,qs=wp.element.useContext;const Js=function(e){var t,n=e.item,r=e.onSetState,o=e.functions,i=e.children,a=(null!==(t=null!=o?o:Gs(r))&&void 0!==t?t:qs(Us)).addNewItem;return wp.element.createElement(Vs,{icon:"plus-alt2",isSecondary:!0,onClick:function(){return a(n)}},i)};var Hs=wp.components,Xs=Hs.Card,Ws=Hs.ButtonGroup,zs=Hs.Button,Ys=Hs.CardHeader,Ks=Hs.CardBody,Zs=wp.element.useContext,Qs=wp.i18n.__;const ef=function(e){var t,n=e.items,r=e.onSetState,o=e.functions,i=e.children,a=null!==(t=null!=o?o:Gs(r))&&void 0!==t?t:Zs(Us),l=a.cloneItem,u=a.moveUp,c=a.moveDown,s=a.toggleVisible,f=a.changeCurrentItem,p=a.removeOption,m=Zs(Is),d=m.isSupported,y=m.render,b=Zs(_s),v=b.edit,h=b.move,w=b.clone,g=b.delete,O=function(e){var t=e.currentItem,n=e.index;return d(t)?wp.element.createElement(y,{currentItem:t,index:n}):wp.element.createElement("span",{className:"repeater-item-title"},"#".concat(n+1))};return wp.element.createElement("div",{className:"jet-form-builder__repeater-component",key:"jet-form-builder-repeater"},n.map((function(e,t){return wp.element.createElement(Xs,{size:"small",elevation:2,className:"jet-form-builder__repeater-component-item",key:"jet-form-builder__repeater-component-item-".concat(t)},wp.element.createElement(Ys,{className:"repeater__item__header"},wp.element.createElement("div",{className:"repeater-item__left-heading"},wp.element.createElement(Ws,{className:"repeater-action-buttons"},(!v||v(e))&&wp.element.createElement(zs,{variant:"tertiary",isSmall:!0,icon:e.__visible?"no-alt":"edit",onClick:function(){return s(t)},className:"repeater-action-button jet-fb-is-thick"}),(!h||h(e))&&wp.element.createElement(zs,{variant:"tertiary",isSmall:!0,isSecondary:!0,disabled:!Boolean(t),icon:"arrow-up-alt2",onClick:function(){return u(t)},className:"repeater-action-button jet-fb-is-thick"}),(!h||h(e))&&wp.element.createElement(zs,{variant:"tertiary",isSmall:!0,isSecondary:!0,disabled:!(t<n.length-1),icon:"arrow-down-alt2",onClick:function(){return c(t)},className:"repeater-action-button jet-fb-is-thick"})),wp.element.createElement(O,{currentItem:e,index:t})),wp.element.createElement(Ws,null,(!w||w(e))&&wp.element.createElement(zs,{variant:"tertiary",isSmall:!0,isSecondary:!0,onClick:function(){return l(t)},className:"jet-fb-is-thick",icon:"admin-page"}),(!g||g(e))&&wp.element.createElement(qo,{icon:"trash",isDestructive:!0},wp.element.createElement(Ro.Consumer,null,(function(e){var n=e.setShowPopover;return wp.element.createElement("div",{style:{padding:"0.5em",width:"max-content"}},wp.element.createElement("span",null,Qs("Delete this item?","jet-form-builder"))," ",wp.element.createElement(zs,{isLink:!0,isDestructive:!0,onClick:function(){return p(t)}},Qs("Yes","jet-form-builder"))," / ",wp.element.createElement(zs,{isLink:!0,onClick:function(){return n(!1)}},Qs("No","jet-form-builder")))}))))),e.__visible&&wp.element.createElement(Ks,{className:"repeater-item__content",key:"jet-form-builder__card-body-".concat(t)},(r={currentItem:e,changeCurrentItem:function(e){return f(e,t)},currentIndex:t},wp.element.createElement(Es.Provider,{value:r},!i&&"Set up your Repeater Template, please.","function"==typeof i?i(r):i))));var r})))};function tf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tf(Object(n),!0).forEach((function(t){rf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function of(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var af=wp.components,lf=af.__experimentalToggleGroupControl,uf=af.__experimentalToggleGroupControlOption,cf=wp.i18n.__,sf=window.jetFormValidation.formats;var ff=window.jetFormValidation.messages;const pf=function(e){return ff.find((function(t){var n=t.id;return e===n}))};function mf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function df(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mf(Object(n),!0).forEach((function(t){yf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var hf=wp.components.TextControl;var wf=["message","update","value","help"];function gf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Of(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gf(Object(n),!0).forEach((function(t){jf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Sf=wp.components,Ef=Sf.TextControl,Af=Sf.Tooltip;const Cf=(0,wp.element.createContext)({FieldSelect:null,property:""});function If(e,t){if(e){if("string"==typeof e)return _f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_f(e,t):void 0}}function _f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Pf=wp.element,Nf=Pf.useState,kf=Pf.useContext,Tf=wp.components.SelectControl;var xf=["currentAction"];function Rf(){return Rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rf.apply(this,arguments)}var Df=wp.compose.compose,Ff=wp.data.withSelect;const Lf=Df(Ff((function(e){return{currentAction:e("jet-forms/actions").getCurrentAction()}})),Ff(yt))((function(e){var t=e.currentAction,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,xf);return wp.element.createElement(Ba,Rf({id:t.id},n))})),Mf=function(e){var t=e.state,n=e.children,r=Gs(t);return wp.element.createElement(Us.Provider,{value:r},n)};function Bf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bf(Object(n),!0).forEach((function(t){Gf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||Vf(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vf(e,t){if(e){if("string"==typeof e)return qf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qf(e,t):void 0}}function qf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Jf=wp.components,Hf=Jf.Button,Xf=Jf.TextControl,Wf=wp.i18n.__,zf=wp.element.useState,Yf=wp.data,Kf=Yf.useSelect,Zf=Yf.useDispatch,Qf=wp.apiFetch,ep=window.jetFormBlockConditions,tp=ep.rest_add_state,np=ep.rest_delete_state;const rp=function(e){var t,n=e.setShowModal,r=e.changeCurrentItem,o=e.currentItem,i=Uf(zf(!1),2),a=i[0],l=i[1],u=Uf(zf({}),2),c=u[0],s=u[1],f=Uf(zf(""),2),p=f[0],d=f[1],y=function(e){return function(e){if(Array.isArray(e))return qf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Vf(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(null!==(t=o.render_state)&&void 0!==t?t:[]),b=Zf("jet-forms/block-conditions",[]),v=b.addRenderState,h=b.deleteRenderStates,w=Kf((function(e){return e("jet-forms/block-conditions").getCustomRenderStates()}),[a,c]);return wp.element.createElement(m,{title:Wf("Register custom render state"),onRequestClose:function(){return n(!1)},isUseActions:!1,classNames:["width-45"]},wp.element.createElement("div",{className:"jet-fb with-button"},wp.element.createElement(Xf,{value:p,onChange:function(e){return d(e)},placeholder:Wf("Set your custom state name","jet-form-builder")}),wp.element.createElement(Hf,{variant:"secondary",onClick:function(){l(!0),tp.data={value:p},Qf(tp).then((function(e){var t;t=e.state,v(t),y.push(t.value),r({render_state:y}),l(!1),n(!1)})).catch((function(e){console.error(e),l(!1)}))},disabled:a,isBusy:a,style:{padding:"7px 12px",height:"unset"}},Wf("Add","jet-form-builder"))),Boolean(null==w?void 0:w.length)&&wp.element.createElement(React.Fragment,null,wp.element.createElement("b",{className:"jet-fb flex mb-05-em"},Wf("Manage your custom states:","jet-form-builder")),wp.element.createElement("div",{className:"jet-fb-buttons-flex"},w.map((function(e){var t;return wp.element.createElement(Hf,{key:e.value,icon:"no-alt",iconPosition:"right",onClick:function(){return t=e.value,np.data={list:[t]},s((function(e){return $f($f({},e),{},Gf({},t,!0))})),void Qf(np).then((function(){!function(e){h(e),y=y.filter((function(t){return t!==e})),r({render_state:y})}(t)})).catch(console.error).finally((function(){s((function(e){return $f($f({},e),{},Gf({},t,!1))}))}));var t},isBusy:null!==(t=c[e.value])&&void 0!==t&&t},e.label)})))))};function op(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ip=wp.components,ap=ip.Button,lp=ip.BaseControl,up=ip.FormTokenField,cp=wp.i18n.__,sp=wp.element.useState,fp=wp.data.useSelect;const pp=function(e){var t=e.currentItem,n=e.changeCurrentItem,r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return op(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?op(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(sp(!1),2),o=r[0],i=r[1],a=fp((function(e){return M(e("jet-forms/block-conditions").getRenderStates(),"value")}),[o]);return wp.element.createElement(React.Fragment,null,wp.element.createElement(lp,{label:cp("Render State","jet-form-builder"),className:"control-flex"},wp.element.createElement("div",null,wp.element.createElement("label",{className:"jet-fb label mb-05-em"},cp("Add render state","jet-form-builder")),wp.element.createElement("div",{className:"jet-fb with-button clear-label"},wp.element.createElement(up,{value:t.render_state,suggestions:a,onChange:function(e){return n({render_state:e})},tokenizeOnSpace:!0,__experimentalExpandOnFocus:!0}),wp.element.createElement(ap,{label:cp("New render state","jet-form-builder"),variant:"secondary",icon:"plus-alt2",onClick:function(){return i(!0)}})))),o&&wp.element.createElement(rp,{setShowModal:i,changeCurrentItem:n,currentItem:t}))};var mp=wp.components,dp=mp.Flex,yp=mp.FlexItem,bp=wp.compose.useInstanceId;const vp=function(e){var t=e.children,n=e.value,r=e.label,o=e.onChangePreset,i=void 0!==o&&o,a=e.onChangeMacros,l=void 0!==a&&a,u=e.macroWithCurrent,c=void 0!==u&&u,s=bp(yp,"jfb-AdvancedModalControl");return wp.element.createElement("div",{className:"components-base-control"},wp.element.createElement(dp,{align:"flex-start",className:"components-base-control__field"},wp.element.createElement(yp,{isBlock:!0},wp.element.createElement(dp,{align:"center",justify:"flex-start"},wp.element.createElement("label",{htmlFor:s,className:"jet-fb label"},r),!1!==i&&wp.element.createElement(xo,{value:n,onChange:i}),!1!==l&&wp.element.createElement(vi,{onClick:l,withCurrent:c}))),wp.element.createElement(yp,{isBlock:!0,style:{flex:3,marginLeft:"unset"}},"function"==typeof t?t({instanceId:s}):t)))};var hp=wp.components,gp=hp.TextareaControl,Op=hp.withFilters,jp=wp.i18n.__,Sp=Op("jet.fb.block.conditions.options")((function(e){var t=e.currentItem,n=e.changeCurrentItem,r=Dt();return["empty","not_empty"].includes(t.operator)?null:"render_state"===t.operator?wp.element.createElement(pp,{key:r("RenderStateOptions"),changeCurrentItem:n,currentItem:t}):wp.element.createElement(_i,null,wp.element.createElement(vp,{value:t.value,label:jp("Value to compare","jet-form-builder"),onChangePreset:function(e){return n({value:e})},onChangeMacros:function(e){var r;return n({value:(null!==(r=t.value)&&void 0!==r?r:"")+e})}},(function(e){var r=e.instanceId;return wp.element.createElement(gp,{id:r,value:t.value,onChange:function(e){return n({value:e})}})})))}));const Ep=Sp;function Ap(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Cp=wp.components,Ip=Cp.SelectControl,_p=Cp.withFilters,Pp=wp.i18n.__,Np=wp.element.useState;const kp=_p("jet.fb.block.conditions.options")((function(e){var t=e.currentItem,n=e.changeCurrentItem,r=Dt(),o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ap(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ap(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Np((function(){return te([],"--")})),1)[0];return"render_state"===t.operator?null:wp.element.createElement(Ip,{key:r("SelectControl-field"),label:Pp("Field","jet-form-builder"),labelPosition:"side",value:t.field,options:o,onChange:function(e){n({field:e})}})}));var Tp=wp.element.useContext,xp=wp.components.SelectControl,Rp=wp.i18n.__;const Dp=function(){var e=Tp(Es),t=e.currentItem,n=e.changeCurrentItem,r=Dt(),o=xt().operators;return wp.element.createElement(React.Fragment,null,wp.element.createElement(kp,{currentItem:t,changeCurrentItem:n}),wp.element.createElement(xp,{key:r("SelectControl-operator"),label:Rp("Operator","jet-form-builder"),labelPosition:"side",value:t.operator,options:o,onChange:function(e){return n({operator:e})}}),wp.element.createElement(Ep,{currentItem:t,changeCurrentItem:n}))};var Fp=wp.data.select;const Lp=function(e){return Fp("jet-forms/block-conditions").readCondition(e)};var Mp=wp.i18n.__;const Bp=function(e){var t=e.children;return wp.element.createElement(Is.Provider,{value:{isSupported:function(){return!0},render:function(e){var t=e.currentItem;return wp.element.createElement("span",{className:"repeater-item-title",dangerouslySetInnerHTML:{__html:null!=t&&t.or_operator?Mp("OR","jet-form-builder"):Lp(t)}})}}},wp.element.createElement(_s.Provider,{value:{edit:function(e){return!e.or_operator}}},t))};function $p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$p(Object(n),!0).forEach((function(t){Up(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Up(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return qp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qp(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Jp=wp.i18n.__,Hp=wp.element,Xp=Hp.useState,Wp=Hp.useContext,zp=Hp.Fragment,Yp=Hp.useEffect,Kp=wp.components,Zp=Kp.SelectControl,Qp=Kp.TextareaControl,em=Kp.FlexItem,tm=(Kp.Button,Kp.Flex),nm=Kp.ToggleControl,rm=[{key:"commas",render:function(){return wp.element.createElement("li",null,Jp("If this field supports multiple values, \n\t\t\tyou can separate them with commas","jet-form-builder"))}}],om=[{value:"on_change",label:Jp("On change conditions result","jet-form-builder"),help:Jp("The value will be applied if condition check-ups return a result \ndifferent from the first check-up's cached value","jet-form-builder")},{value:"once",label:Jp("Once","jet-form-builder"),help:Jp("The value will be applied only the first time \nthe condition is matched","jet-form-builder")},{value:"always",label:Jp("Always","jet-form-builder"),help:Jp("The value will be applied every time the condition is matched","jet-form-builder")}],im=function(e){return om.find((function(t){return t.value===(null!=e?e:"on_change")})).help};const am=function(){var e,t,n,r,o=Wp(Ps),i=o.current,a=o.update,l=Vp(Xp((function(){return i})),2),u=l[0],c=l[1],s=Vp(Xp((function(){return im(u.frequency)})),2),f=s[0],p=s[1];Yp((function(){p(im(u.frequency))}),[u.frequency]);var m=function(e){c((function(t){return Gp(Gp({},t),e)}))};return tt((function(){return a(u)})),wp.element.createElement(React.Fragment,null,wp.element.createElement(tm,{align:"flex-start"},wp.element.createElement(em,{isBlock:!0},wp.element.createElement(tm,{align:"center",justify:"flex-start"},wp.element.createElement("span",{className:"jet-fb label"},Jp("Value to set","jet-form-builder")),wp.element.createElement(xo,{value:u.to_set,onChange:function(e){return m({to_set:e})}}),wp.element.createElement(_i,{withThis:!0},wp.element.createElement(vi,{onClick:function(e){var t;return m({to_set:"".concat(null!==(t=u.to_set)&&void 0!==t?t:"").concat(e)})}}))),wp.element.createElement(Ia,null,wp.element.createElement("ul",null,rm.map((function(e){return wp.element.createElement(zp,{key:e.key},e.render())}))))),wp.element.createElement(em,{isBlock:!0,style:{flex:3,marginLeft:"unset"}},wp.element.createElement(Qp,{className:"jet-control-clear",hideLabelFromVision:!0,value:null!==(e=u.to_set)&&void 0!==e?e:"",onChange:function(e){return m({to_set:e})}}))),wp.element.createElement(Zp,{options:om,value:null!==(t=u.frequency)&&void 0!==t?t:"on_change",label:Jp("Apply type","jet-form-builder"),labelPosition:"side",onChange:function(e){return m({frequency:e})},help:f}),wp.element.createElement(Mf,{state:function(e){var t;m({conditions:"function"==typeof e?e(null!==(t=u.conditions)&&void 0!==t?t:[]):e})}},wp.element.createElement(Bp,null,wp.element.createElement(ef,{items:null!==(n=u.conditions)&&void 0!==n?n:[]},wp.element.createElement(Dp,null))),wp.element.createElement("div",{className:"jet-fb flex jc-space-between ai-center"},wp.element.createElement(Js,null,Jp("Add New Condition","jet-form-builder")),wp.element.createElement(nm,{className:"jet-fb m-unset clear-control",label:Jp("Set value only if field is empty","jet-form-builder"),checked:null!==(r=u.set_on_empty)&&void 0!==r&&r,onChange:function(e){return m({set_on_empty:e})}}))))};var lm=wp.i18n.__,um=wp.element,cm=um.Children,sm=um.cloneElement;const fm=function(e){var t=e.conditions,n=e.showWarning,r=void 0!==n&&n,o=[],i="";return Boolean(null==t?void 0:t.length)&&(i=Lp(t[0]),o=t.filter((function(e,t){return 0!==t})).map((function(e){return wp.element.createElement("span",{"data-title":lm("And","jet-form-builder")+":",dangerouslySetInnerHTML:{__html:Lp(e)}})}))),i?wp.element.createElement(React.Fragment,null,wp.element.createElement("span",{"data-title":lm("If","jet-form-builder")+":",dangerouslySetInnerHTML:{__html:i}}),cm.map(o,sm)):r&&wp.element.createElement("span",{"data-title":lm("The condition is not fully configured.","jet-form-builder")})},pm=function(e){var t=e.isHover,n=void 0!==t&&t,r=e.children;return wp.element.createElement("div",{className:["jet-fb",n?"show":"hide","p-absolute","wh-100","flex-center","gap-05em"].join(" "),style:{backgroundColor:"#ffffffcc",transition:"0.3s"}},r)},mm=function(e){var t=e.children;return wp.element.createElement("div",{className:["jet-fb","flex","flex-dir-column","container","gap-1em"].join(" ")},t)};function dm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ym(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ym(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ym(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bm(Object(n),!0).forEach((function(t){hm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wm=wp.i18n.__,gm=wp.element.useState,Om=wp.components.Button;const jm=function(e){var t,n=e.current,r=e.update,o=e.isOpenModal,i=e.setOpenModal,a=dm(gm(!1),2),l=a[0],u=a[1],c=dm(gm(!1),2),s=c[0],f=c[1],p=1>=(null===(t=Object.keys(n))||void 0===t?void 0:t.length);return wp.element.createElement(Ps.Provider,{value:{update:function(e){r((function(t){var r=JSON.parse(JSON.stringify(t.groups));for(var o in r)r.hasOwnProperty(o)&&n.id===r[o].id&&(r[o]=vm(vm({},r[o]),e));return{groups:r}}))},current:n}},wp.element.createElement("div",{className:"jet-fb p-relative",onMouseOver:function(){return f(!0)},onMouseOut:function(){return f(!1)}},wp.element.createElement(pm,{isHover:s},wp.element.createElement(Om,{isSmall:!0,isSecondary:!0,icon:l?"no-alt":"edit",onClick:function(){return u((function(e){return!e}))}},wm("Edit","jet-form-builder")),wp.element.createElement(Om,{isSmall:!0,isDestructive:!0,icon:"trash",onClick:function(){r((function(e){return{groups:JSON.parse(JSON.stringify(e.groups)).filter((function(e){return e.id!==n.id}))}}))}},wm("Delete","jet-form-builder"))),wp.element.createElement(mm,null,p?wp.element.createElement("div",{"data-title":wm("This value item is empty","jet-form-builder")}):wp.element.createElement(React.Fragment,null,wp.element.createElement("span",{"data-title":wm("Set","jet-form-builder")+":",dangerouslySetInnerHTML:{__html:_u(n.to_set)}}),wp.element.createElement(fm,{conditions:null==n?void 0:n.conditions})))),(l||o===n.id)&&wp.element.createElement(m,{classNames:["width-60"],onRequestClose:function(){u(!1),i(!1)},title:wm("Edit Dynamic Value","jet-form-builder")},wp.element.createElement(am,null)))};var Sm=["children"];function Em(){return Em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Em.apply(this,arguments)}const Am=function(e){var t=e.children,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Sm);return wp.element.createElement("div",Em({className:"jet-fb flex flex-dir-column gap-default",style:{marginBottom:"1em"}},n),t)};function Cm(e){return function(e){if(Array.isArray(e))return Tm(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||km(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Im(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Im(Object(n),!0).forEach((function(t){Pm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Im(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||km(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function km(e,t){if(e){if("string"==typeof e)return Tm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tm(e,t):void 0}}function Tm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xm=wp.i18n.__,Rm=wp.element.useState,Dm=wp.components,Fm=Dm.Button;Dm.Flex;const Lm=function(){var e,t,n=Nm(Gt(),2),r=n[0],o=n[1],i=Dt(),a=null!==(e=r.value)&&void 0!==e?e:{},l=null!==(t=a.groups)&&void 0!==t?t:[],u=l.filter((function(e,t){return 0!==t})),c=Nm(Rm(!1),2),s=c[0],f=c[1];if(!Ht("value"))return null;var p=function(e){o(_m(_m({},r),{},{value:_m(_m({},a),"function"==typeof e?e(a):e)}))};return wp.element.createElement(React.Fragment,null,wp.element.createElement(Ia,null,xm("Or use a condition-dependent value","jet-form-builder")+" ",wp.element.createElement(Fm,{isLink:!0,onClick:function(){},label:xm("Former Set Value functionality, moved from the Conditional Block","jet-form-builder"),showTooltip:!0},"(?)")),Boolean(l.length)?wp.element.createElement(Am,null,wp.element.createElement(jm,{key:i(l[0].id),current:l[0],update:p,isOpenModal:s,setOpenModal:f}),Boolean(u.length)&&u.map((function(e){return wp.element.createElement(React.Fragment,null,wp.element.createElement("b",null,xm("OR","jet-form-builder")),wp.element.createElement(jm,{key:i(e.id),current:e,update:p,isOpenModal:s,setOpenModal:f}))}))):null,wp.element.createElement(Fm,{icon:"plus-alt2",isSecondary:!0,onClick:function(){var e=V.getRandomID();p({groups:[].concat(Cm(l),[{id:e,conditions:[{__visible:!0}]}])}),f(e)}},xm("Add Dynamic Value","jet-form-builder")))};var Mm=wp.components.Button,Bm=wp.element.useContext;var $m=wp.components.SelectControl,Gm=wp.element,Um=Gm.useContext,Vm=Gm.useMemo,qm=wp.i18n.__;const Jm=function(){var e=Um(Es),t=e.currentItem,n=e.changeCurrentItem,r=Vm((function(){return ce(qm("Custom value","jet-form-builder"))}),[]);return wp.element.createElement($m,{labelPosition:"side",options:r,label:qm("Choose field","jet-form-builder"),value:t.field,onChange:function(e){return n({field:e})}})};function Hm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Xm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Wm=wp.components,zm=Wm.SelectControl,Ym=Wm.TextareaControl,Km=Wm.TextControl,Zm=Wm.withFilters,Qm=wp.element,ed=Qm.useContext,td=Qm.useState,nd=Qm.useEffect,rd=wp.i18n.__,od=wp.hooks.addFilter,id=window.jetFormValidation,ad=id.rule_types,ld=id.ssr_callbacks,ud=ld.map((function(e){return e.value}));function cd(e){var t,n,r=ad.findIndex((function(t){return t.value===e})),o=rd("Enter value","jet-form-builder");return-1===r?o:null!==(t=null===(n=ad[r])||void 0===n?void 0:n.control_label)&&void 0!==t?t:o}od("jet.fb.advanced.rule.controls","jet-form-builder",(function(e){return function(t){var n=t.currentItem,r=t.changeCurrentItem,o=Hm(td(!1),2),i=o[0],a=o[1];if("ssr"!==n.type)return wp.element.createElement(e,t);var l=n.value||"custom_jfb_field_validation";return wp.element.createElement(React.Fragment,null,wp.element.createElement(zm,{labelPosition:"side",options:V.withPlaceholder(ld,rd("Custom function","jet-form-builder")),label:rd("Choose callback","jet-form-builder"),value:n.value,onChange:function(e){return r({value:e})}}),!ud.includes(n.value)&&wp.element.createElement(React.Fragment,null,wp.element.createElement(Km,{label:rd("Function name","jet-form-builder"),value:n.value,onChange:function(e){return r({value:e})}}),wp.element.createElement(Ia,null,rd("Example of registering a function below.")+" ",wp.element.createElement("a",{href:"javascript:void(0)",onClick:function(){return a((function(e){return!e}))}},rd(i?"Hide":"Show","jet-form-builder"))),i&&wp.element.createElement("pre",null,"/**\n * To get all the values of the fields in the form, you can use the expression:\n * jet_fb_request_handler()->get_request() or $context->get_request()\n *\n * If the field is located in the middle of the repeater, then only\n * jet_fb_request_handler()->get_request(), but $context->get_request() \n * will return the values of all fields of the current repeater element\n *\n * @param $value mixed\n * @param $context \\Jet_Form_Builder\\Request\\Parser_Context\n *\n * @return bool\n */\nfunction ".concat(l,"( $value, $context ): bool {\n\t// your logic\n\treturn true;\n}"))))}}));var sd=Zm("jet.fb.advanced.rule.controls")((function(e){var t=e.currentItem,n=e.changeCurrentItem,r=Hm(td((function(){return cd(t.type)})),2),o=r[0],i=r[1];switch(nd((function(){i(cd(t.type))}),[t.type]),t.type){case"equal":case"contain":case"contain_not":case"regexp":case"regexp_not":return wp.element.createElement(React.Fragment,null,wp.element.createElement(Jm,null),!Boolean(t.field)&&wp.element.createElement(vp,{value:t.value,label:o,onChangePreset:function(e){return n({value:e})},onChangeMacros:function(e){var r;return n({value:(null!==(r=t.value)&&void 0!==r?r:"")+e})}},(function(e){var r=e.instanceId;return wp.element.createElement(Ym,{id:r,value:t.value,onChange:function(e){return n({value:e})}})})));default:return null}}));const fd=function(){var e=ed(Es),t=e.currentItem,n=e.changeCurrentItem;return wp.element.createElement(React.Fragment,null,wp.element.createElement(zm,{labelPosition:"side",options:V.withPlaceholder(ad),label:rd("Rule type","jet-form-builder"),value:t.type,onChange:function(e){return n({type:e})}}),wp.element.createElement(sd,{currentItem:t,changeCurrentItem:n}),wp.element.createElement(Ym,{label:rd("Error message","jet-form-builder"),value:t.message,onChange:function(e){return n({message:e})}}))};var pd=wp.data.select;const md=function(e){return pd("jet-forms/validation").readRule(e)};function dd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dd(Object(n),!0).forEach((function(t){bd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return hd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hd(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var wd=wp.element.useState,gd=wp.i18n.__;const Od=function(){var e=vd(Gt(),2),t=e[0],n=e[1],r=vd(wd((function(){var e,n;return null!==(e=null===(n=t.validation)||void 0===n?void 0:n.rules)&&void 0!==e?e:[]})),2),o=r[0],i=r[1];return tt((function(){n((function(e){return yd(yd({},e),{},{validation:yd(yd({},t.validation),{},{rules:o})})}))})),wp.element.createElement(Mf,{state:i},wp.element.createElement(Is.Provider,{value:{isSupported:function(){return!0},render:function(e){var t=e.currentItem;return wp.element.createElement("span",{className:"repeater-item-title",dangerouslySetInnerHTML:{__html:md(t)}})}}},wp.element.createElement(ef,{items:o},wp.element.createElement(fd,null))),wp.element.createElement(Js,null,gd("Add Rule","jet-form-builder")))},jd=(0,wp.element.createContext)({showModal:!1,setShowModal:function(){}});function Sd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ed(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sd(Object(n),!0).forEach((function(t){Ad(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ad(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Id(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Id(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Id(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _d=wp.element,Pd=_d.useContext,Nd=_d.useState,kd=wp.i18n.__,Td=wp.components.Button;const xd=function(){var e=Pd(jd).setShowModal,t=Cd(Gt(),2),n=t[0],r=t[1],o=Cd(Nd(!1),2),i=o[0],a=o[1];return wp.element.createElement("div",{className:"jet-fb p-relative",onMouseOver:function(){return a(!0)},onMouseOut:function(){return a(!1)}},wp.element.createElement(pm,{isHover:i},wp.element.createElement(Td,{isSmall:!0,isSecondary:!0,icon:"plus-alt2",onClick:function(){r({validation:Ed(Ed({},n.validation),{},{rules:[{__visible:!0}]})}),e((function(e){return!e}))}},kd("Add new","jet-form-builder"))),wp.element.createElement(mm,null,wp.element.createElement("span",{"data-title":kd("You have no rules for this field.","jet-form-builder")}),wp.element.createElement("span",{"data-title":kd("Please click here to add new.","jet-form-builder")})))};var Rd=wp.i18n.__;const Dd=function(e){var t=e.rule;return t.type?wp.element.createElement(React.Fragment,null,wp.element.createElement("span",{"data-title":Rd("Rule:","jet-form-builder"),dangerouslySetInnerHTML:{__html:md(t)}}),Boolean(t.message)&&wp.element.createElement("span",{"data-title":Rd("Message:","jet-form-builder"),dangerouslySetInnerHTML:{__html:t.message}})):wp.element.createElement("span",{"data-title":Rd("The rule is not fully configured.","jet-form-builder")})};function Fd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ld(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fd(Object(n),!0).forEach((function(t){Md(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Md(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Gd=wp.element,Ud=Gd.useContext,Vd=Gd.useState,qd=wp.i18n.__,Jd=wp.components.Button;const Hd=function(e){var t=e.rule,n=e.index,r=void 0===n?0:n,o=Ud(jd).setShowModal,i=Bd(Gt(),2),a=i[0],l=i[1],u=Bd(Vd(!1),2),c=u[0],s=u[1];return wp.element.createElement("div",{className:"jet-fb p-relative",onMouseOver:function(){return s(!0)},onMouseOut:function(){return s(!1)}},wp.element.createElement(pm,{isHover:c},wp.element.createElement(Jd,{isSmall:!0,isSecondary:!0,icon:"edit",onClick:function(){l({validation:Ld(Ld({},a.validation),{},{rules:a.validation.rules.map((function(e,t){return e.__visible=r===t,e}))})}),o((function(e){return!e}))}},qd("Edit","jet-form-builder")),wp.element.createElement(Jd,{isSmall:!0,isDestructive:!0,icon:"trash",onClick:function(){l({validation:Ld(Ld({},a.validation),{},{rules:a.validation.rules.filter((function(e,t){return t!==r}))})})}},qd("Delete","jet-form-builder"))),wp.element.createElement(mm,null,wp.element.createElement(Dd,{rule:t})))};function Xd(e,t){if(e){if("string"==typeof e)return Wd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wd(e,t):void 0}}function Wd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var zd=wp.i18n.__,Yd=wp.element,Kd=Yd.Children,Zd=Yd.cloneElement;function Qd(e){var t=e.filter((function(e,t){return 0!==t}));return[wp.element.createElement(Hd,{rule:e[0]})].concat(function(e){return function(e){if(Array.isArray(e))return Wd(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Xd(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.map((function(e,t){return function(e,t){return wp.element.createElement(React.Fragment,null,wp.element.createElement("b",null,zd("AND","jet-form-builder")),wp.element.createElement(Hd,{rule:e,index:t}))}(e,t+1)}))))}const ey=function(){var e,t,n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||Xd(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Gt(),1)[0];return null!=n&&null!==(e=n.validation)&&void 0!==e&&null!==(t=e.rules)&&void 0!==t&&t.length?wp.element.createElement(Am,null,Kd.map(Qd(n.validation.rules),Zd)):wp.element.createElement(xd,null)};function ty(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ny=wp.element.useState,ry=wp.i18n.__;var oy=["help","attrName","label"],iy=["help","attrName","label"];function ay(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function ly(e){return ly="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ly(e)}var uy=wp.blockEditor.useBlockProps,cy=wp.components,sy=cy.TextControl,fy=cy.SelectControl,py=cy.ToggleControl,my=cy.BaseControl,dy=cy.__experimentalNumberControl,yy=wp.components.NumberControl;void 0===yy&&(yy=dy);var by=["help","label","hasMacro"];var vy=wp.components.ToggleControl;function hy(){this.action=null}hy.prototype.isSupported=function(e){return this.getSupportedActions().includes(e.type)},hy.prototype.isSupportedGlobal=function(){return!1},hy.prototype.getSupportedActions=function(){return[]},hy.prototype.setAction=function(e){this.action=e},hy.prototype.getName=function(){return""},hy.prototype.getLabel=function(){return""},hy.prototype.getHelp=function(){return""};const wy=hy;var gy=wp.blockEditor.useBlockProps;function Oy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.list=e}jy.prototype={setList:function(e){this.list=e},resetID:function(){var e,t=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Oy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oy(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(this.list);try{for(t.s();!(e=t.n()).done;)e.value.resetID()}catch(e){t.e(e)}finally{t.f()}},hasType:function(e){return this.list.some((function(t){return t.type===e}))}};const Sy=jy;function Ey(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ay(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ay(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function Ay(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Cy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Iy=wp.data,_y=Iy.useSelect,Py=Iy.useDispatch;const Ny=function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Cy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cy(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(_y((function(e){return[e("jet-forms/actions").getCurrentAction(),e("jet-forms/actions").getCurrentSettings()]})),2);return{currentAction:e[0],currentSettings:e[1],updateSettings:Py("jet-forms/actions").updateCurrentSettings}};function ky(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ty(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ky(Object(n),!0).forEach((function(t){xy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ky(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ry(e){return function(e){if(Array.isArray(e))return Fy(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Dy(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dy(e,t){if(e){if("string"==typeof e)return Fy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fy(e,t):void 0}}function Fy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Ly=function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||Dy(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Se(),2),t=e[0],n=e[1],r=function(e,r){var o=t.map((function(t){return e!==t.id?t:Ty(Ty({},JSON.parse(JSON.stringify(t))),r)}));n(Ry(o))};return{actions:t,setActions:n,moveAction:function(e,r){var o=JSON.parse(JSON.stringify(t[e])),i=JSON.parse(JSON.stringify(t[r]));t.splice(r,1,o),t.splice(e,1,i),n(Ry(t))},deleteAction:function(e){t.splice(e,1),n(Ry(t))},updateActionObj:r,toggleExecute:function(e){var t;r(e.id,{is_execute:!(null===(t=e.is_execute)||void 0===t||t)})}}};function My(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function By(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?My(Object(n),!0).forEach((function(t){$y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):My(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gy=wp.data.useDispatch;var Uy=wp.data.useSelect;var Vy=wp.data.useSelect;window.JetFBComponents={ActionFieldsMap:function(n){var o=n.fields,i=void 0===o?[]:o,a=n.label,l=void 0===a?"[Empty label]":a,u=n.children,c=void 0===u?null:u,s=n.plainHelp,f=void 0===s?"":s,p=n.customHelp,m=void 0!==p&&p;return wp.element.createElement(r,{label:l,key:"jet_fields_map"},wp.element.createElement("div",{className:"jet-user-fields-map__list"},m&&"function"==typeof m&&m(),Boolean(f.length)&&wp.element.createElement("span",{className:"description-controls"},f),i.map((function(n,r){var o=function(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n,2),i=o[0],a=o[1];return wp.element.createElement(React.Fragment,{key:"field_in_map_".concat(i+r)},wp.element.createElement(e.Provider,{value:{name:i,data:a,index:r}},"function"==typeof c?c({fieldId:i,fieldData:a,index:r}):c))}))))},ActionModal:m,ActionModalContext:o,SafeDeleteContext:Ss,RepeaterItemContext:Es,ActionListItemContext:As,RepeaterBodyContext:Cs,RepeaterHeadContext:Is,RepeaterButtonsContext:_s,CurrentActionEditContext:ut,ActionFieldsMapContext:e,CurrentPropertyMapContext:Cf,BlockValueItemContext:Ps,DynamicPropertySelect:function(t){var n,r=t.dynamic,o=void 0===r?[]:r,i=t.parseValue,a=void 0===i?null:i,l=t.children,u=void 0===l?null:l,c=t.properties,s=void 0===c?null:c,f=kf(ut),p=f.source,m=f.settings,d=f.setMapField;s=null!==(n=s)&&void 0!==n?n:p.properties;var y=kf(e),b=y.name,v=y.index,h=m.fields_map,w=void 0===h?{}:h;function g(e){var t,n,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=If(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(s);try{for(r.s();!(n=r.n()).done;)if(e===n.value.value)return e}catch(e){r.e(e)}finally{r.f()}return a?a(e):null!==(t=o[0])&&void 0!==t?t:""}var O,j,S=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||If(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Nf((function(){var e;return g(null!==(e=w[b])&&void 0!==e?e:"")})),2),E=S[0],A=S[1],C=wp.element.createElement(Tf,{key:b+v,value:E,options:s,help:(j=s.find((function(e){return e.value===E})),null!==(O=null==j?void 0:j.help)&&void 0!==O?O:""),onChange:function(e){var t=g(e);A(t),d({nameField:b,value:o.includes(e)?"":e})}});return wp.element.createElement(Cf.Provider,{value:{FieldSelect:C,property:E}},u&&u,!u&&C)},SafeDeleteToggle:function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ns(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ns(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(xs(!0),2),n=t[0],r=t[1];return wp.element.createElement(React.Fragment,null,wp.element.createElement(ks,{label:Ts("Safe deleting","jet-form-builder"),checked:n,onChange:r}),wp.element.createElement(Ss.Provider,{value:n},e.children))},RepeaterAddNew:Js,RepeaterAddOrOperator:function(e){var t,n=e.onSetState,r=e.functions,o=e.children,i=(null!==(t=null!=r?r:Gs(n))&&void 0!==t?t:Bm(Us)).addNewItem;return wp.element.createElement(Mm,{isSecondary:!0,icon:"randomize",onClick:function(){return i({__visible:!1,or_operator:!0})}},o)},Repeater:ef,RequestButton:g,ValidateButton:function(e){var t=e.initialValid,n=e.label,r=e.ajaxArgs,o=void 0===r?{}:r,i=e.onValid,a=void 0===i?function(){}:i,l=e.onInvalid,u=void 0===l?function(){}:l,c=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(E(t||!1),4),s=c[0],f=c[1],p=c[2],m=c[3];return wp.element.createElement(g,{ajaxArgs:o,label:n,onLoading:m,onSuccessRequest:function(e){f(),a(e)},onFailRequest:function(){p(),u()},className:s},wp.element.createElement("i",{className:"dashicons"}))},RequestLoadingButton:function(e){var t=e.label,n=e.ajaxArgs,r=void 0===n?{}:n,o=e.onSuccessRequest,i=void 0===o?function(){}:o,a=e.onFailRequest,l=void 0===a?function(){}:a,u=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ya(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ya(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(_e(),3),c=u[0],s=u[1],f=u[2];return wp.element.createElement(g,{ajaxArgs:r,label:t,onLoading:s,onSuccessRequest:function(e){f(),i(e)},onFailRequest:function(){f(),l()},className:c},wp.element.createElement("i",{className:"dashicons"}))},WrapperRequiredControl:function(t){var n=t.children,r=t.labelKey,o=void 0===r?"label":r,i=t.requiredKey,a=void 0===i?"required":i,l=t.helpKey,u=void 0===l?"help":l,c=t.field,s=void 0===c?[]:c,f=v(e),p=f.name,m=f.data;if(s.length){var y=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(s,2);p=y[0],m=y[1]}return wp.element.createElement("div",{className:"jet-user-meta__row",key:"user_meta_"+p},wp.element.createElement("div",{className:"jet-field-map__row-label"},wp.element.createElement("span",{className:"fields-map__label"},m.hasOwnProperty(o)&&m[o]&&m[o],!m.hasOwnProperty(o)&&m),m.hasOwnProperty(a)&&m[a]&&wp.element.createElement("span",{className:"fields-map__required"}," *"),m[u]&&wp.element.createElement("p",{className:"components-base-control__help",style:{color:"rgb(117, 117, 117)",margin:"1em 0 0 0"}},wp.element.createElement(b,null,m[u]))),n)},DynamicPreset:Sn,JetFieldsMapControl:Fn,FieldWithPreset:function(e){var t=e.children,n=void 0===t?null:t,r=e.ModalEditor,o=e.triggerClasses,i=void 0===o?[]:o,a=e.baseControlProps,l=void 0===a?{}:a,u=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||Mn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(qn(!1),2),c=u[0],s=u[1],f=function(){s((function(e){return!e}))},p=["jet-form-dynamic-preset__trigger"].concat(function(e){return function(e){if(Array.isArray(e))return Bn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Mn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(i)).join(" ");return wp.element.createElement(React.Fragment,null,wp.element.createElement(Vn,Ln({className:"jet-form-dynamic-preset"},l),n,wp.element.createElement("div",{className:p,onClick:f},wp.element.createElement(Un,{viewBox:"0 0 54 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement(Gn,{d:"M42.6396 26.4347C37.8682 27.3436 32.5666 28.0252 27.1894 28.0252C21.8121 28.0252 16.4348 27.3436 11.7391 26.4347C6.96774 25.4502 3.18093 23.8597 0.37868 21.9663L0.37868 28.0252C0.37868 29.5399 1.59046 31.1304 3.78682 32.4179C5.98317 33.7054 9.46704 34.9172 13.6325 35.5988C17.798 36.2805 22.115 36.8106 27.1894 36.8106C32.2637 36.8106 36.6564 36.5077 40.7462 35.5988C44.8359 34.69 48.3198 33.7054 50.5162 32.4179C52.7125 31.1304 54 29.5399 54 28.0252L54 21.9663C51.122 23.8597 47.3352 25.4502 42.6396 26.4347ZM42.6396 53.5484C37.8682 54.5329 32.5666 55.1388 27.1894 55.1388C21.8121 55.1388 16.4348 54.5329 11.7391 53.5484C7.04348 52.5638 3.18093 51.0491 0.378682 49.1556L0.378682 55.1388C0.378683 56.7293 1.59046 58.3197 3.78682 59.5315C6.36186 60.819 9.46705 62.1066 13.6325 62.7125C17.7223 63.697 22.115 64 27.1894 64C32.2637 64 36.6564 63.697 40.7462 62.7125C44.8359 61.8036 48.3198 60.819 50.5162 59.5315C52.7125 57.9411 54 56.7293 54 54.8359L54 48.8527C51.122 51.0491 47.3352 52.2608 42.6396 53.5484ZM42.6396 39.9915C37.8682 40.9004 32.5666 41.582 27.1894 41.582C21.8121 41.582 16.4348 40.9004 11.7391 39.9915C6.96774 39.007 3.18093 37.4922 0.378681 35.5988L0.378681 41.582C0.378681 43.1725 1.59046 44.6872 3.78682 45.9747C6.36185 47.2622 9.46705 48.474 13.6325 49.1556C17.7223 50.0645 22.115 50.3674 27.1894 50.3674C32.2637 50.3674 36.6564 50.0645 40.7462 49.1556C44.8359 48.1711 48.3198 47.2622 50.5162 45.9747C52.7125 44.3843 54 43.1725 54 41.582L54 35.5988C51.122 37.4922 47.3352 39.007 42.6396 39.9915ZM40.4432 2.12337C36.3535 1.13879 31.885 0.835848 26.8864 0.835849C21.8878 0.835849 17.4194 1.13879 13.2539 2.12337C9.08836 3.10794 5.68022 4.01678 3.48387 5.3043C1.28751 6.59181 -3.4782e-06 8.10654 -3.33916e-06 9.697L-2.95513e-06 14.0897C-2.81609e-06 15.6802 1.28752 17.2706 3.48387 18.5582C6.05891 19.7699 9.1641 21.0575 13.2539 21.6633C17.3436 22.2692 21.8121 22.9509 26.8864 22.9509C31.9607 22.9509 36.3535 22.9509 40.4432 22.345C44.533 21.7391 48.0169 20.4516 50.2132 19.164C52.7125 17.5736 54 15.9831 54 14.3927L54 9.99995C54 8.40948 52.7125 6.81902 50.5162 5.60724C48.3198 4.39546 44.533 2.72926 40.4432 2.12337Z",fill:"#7E8993"})))),c&&wp.element.createElement(m,{onRequestClose:f,classNames:["width-60"],title:"Edit Preset"},(function(e){return wp.element.createElement(r,e)})))},GlobalField:rn,AvailableMapField:function(e){var t=e.fieldsMap,n=e.field,r=e.index,o=e.value,i=e.onChangeValue,a=e.isMapFieldVisible,l=null;t||(t={}),(l=t[n])&&"object"===zn(l)||(l={});var u=function(e){var t=e.field,n=e.name,r=e.index,o=e.fIndex,i=e.children;return wp.element.createElement(er,{key:t+n+r+o,size:"extraSmall",style:{marginBottom:"10px"}},wp.element.createElement(nr,null,wp.element.createElement("span",{className:"jet-label-overflow"},t)),wp.element.createElement(tr,{key:t+n+r+o,className:"jet-form-preset__fields-map-item"},i))};return wp.element.createElement(React.Fragment,{key:"map_field_preset_".concat(n+r)},window.JetFormEditorData.presetConfig.map_fields.map((function(e,c){var s={field:n,name:e.name,index:r,fIndex:c},f="control_"+n+e.name+r+c;switch(e.type){case"text":return a(o,e,n)&&function(e,t){var n=e.field,r=e.name,o=e.index,i=e.fIndex;return wp.element.createElement(er,{key:n+r+o+i,size:"extraSmall",style:{marginBottom:"10px"}},wp.element.createElement(nr,null,wp.element.createElement("span",{className:"jet-label-overflow"},n)),wp.element.createElement(tr,{key:n+r+o+i,className:"jet-form-preset__fields-map-item"},t))}(s,wp.element.createElement(Kn,{key:f+"TextControl",placeholder:e.label,value:l[e.name],onChange:function(r){l[e.name]=r,i(Xn(Xn({},t),{},Wn({},n,l)),"fields_map")}}));case"select":return a(o,e,n)&&wp.element.createElement(u,Jn({},s,{key:f}),wp.element.createElement(Zn,{options:e.options,labelPosition:"top",value:l[e.name],onChange:function(r){l[e.name]=r,i(Xn(Xn({},t),{},Wn({},n,l)),"fields_map")}}));case"custom_select":return a(o,e,n)&&wp.element.createElement(u,Jn({},s,{key:f}),wp.element.createElement(Qn,{options:e.options,onChange:function(r){var o=r.selectedItem;l[e.name]=o.key,i(Xn(Xn({},t),{},Wn({},n,l)),"fields_map")},value:e.options.find((function(t){return t.key===l[e.name]}))}));case"grouped_select":return a(o,e,n)&&wp.element.createElement(u,Jn({},s,{key:f}),wp.element.createElement(un,{options:e.options,labelPosition:"top",value:l[e.name],onChange:function(r){l[e.name]=r,i(Xn(Xn({},t),{},Wn({},n,l)),"fields_map")}}))}})))},MapField:mn,FieldWrapper:function(e){var t=e.attributes,n=e.editProps,r=n.uniqKey,o=(n.blockName,e.children),i=e.wrapClasses,a=void 0===i?[]:i,l=e.valueIfEmptyLabel,u=void 0===l?"":l,c=e.setAttributes,s=e.childrenPosition,f=void 0===s?"between":s,p=Ke("_jf_args");function m(){return wp.element.createElement(br.VisualLabel,null,wr(hr("input label:","jet-form-builder")),wp.element.createElement("div",{onBlur:function(){return yr(t,c)},className:"jet-form-builder__label"},wp.element.createElement(vr,{key:r("rich-label"),placeholder:"Label...",allowedFormats:[],value:t.label?t.label:u,onChange:function(e){return c({label:e})}}),t.required&&wp.element.createElement("span",{className:"jet-form-builder__required"},p.required_mark?p.required_mark:"*")))}function d(){return wp.element.createElement("div",{className:"jet-form-builder__desc--wrapper"},wr(hr("input description:","jet-form-builder")),wp.element.createElement(br,{key:"custom_help_description",className:"jet-form-builder__desc"},wp.element.createElement("div",{className:"components-base-control__help"},wp.element.createElement(vr,{key:r("rich-description"),tagName:"small",placeholder:"Description...",allowedFormats:[],value:t.desc,onChange:function(e){return c({desc:e})},style:{marginTop:"0px"}}))))}return"row"===p.fields_layout&&a.push("jet-form-builder-row__flex"),wp.element.createElement(br,{key:r("placeHolder_block"),className:U("jet-form-builder__field-wrap","jet-form-builder-row",a)},"row"!==p.fields_layout&&wp.element.createElement(React.Fragment,null,"top"===f&&o,m(),"between"===f&&o,d(),"bottom"===f&&o),"row"===p.fields_layout&&wp.element.createElement(React.Fragment,null,wp.element.createElement("div",{className:"jet-form-builder-row__flex--label"},m(),d()),wp.element.createElement("div",{className:"jet-form-builder-row__flex--content"},o)))},MacrosInserter:function(e){e.children;var t=e.fields,n=e.onFieldClick,r=e.customMacros,o=e.zIndex,i=void 0===o?1e6:o,a=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,gr),l=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return jr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Ir((function(){return!1})),2),u=l[0],c=l[1];return wp.element.createElement("div",{className:"jet-form-editor__macros-inserter"},wp.element.createElement(Er,{isTertiary:!0,isSmall:!0,icon:u?"no-alt":"admin-tools",label:"Insert macros",className:"jet-form-editor__macros-trigger",onClick:function(){c((function(e){return!e}))}}),u&&wp.element.createElement(Ar,Or({style:{zIndex:i},position:"bottom left"},a),t.length&&wp.element.createElement(Cr,{title:"Form Fields"},t.map((function(e){return wp.element.createElement("div",{key:"field_"+e.name},wp.element.createElement(Er,{isLink:!0,onClick:function(){n(e.name)}},"%"+e.name+"%"))}))),r&&wp.element.createElement(Cr,{title:"Custom Macros"},r.map((function(e){return wp.element.createElement("div",{key:"macros_"+e},wp.element.createElement(Er,{isLink:!0,onClick:function(){n(e)}},"%"+e+"%"))})))))},RepeaterWithState:function(e){var t=e.children,n=e.ItemHeading,r=e.repeaterClasses,o=void 0===r?[]:r,i=e.repeaterItemClasses,a=void 0===i?[]:i,l=e.newItem,u=e.addNewButtonLabel,c=void 0===u?"Add New":u,s=e.items,f=void 0===s?[]:s,p=e.isSaveAction,m=e.onSaveItems,d=e.onUnMount,y=e.onAddNewItem,b=e.onRemoveItem,v=e.help,h=void 0===v?{helpSource:{},helpVisible:function(){return!1},helpKey:""}:v,w=e.additionalControls,g=void 0===w?null:w,O=["jet-form-builder__repeater-component"].concat(Tr(o)).join(" "),j=["jet-form-builder__repeater-component-item"].concat(Tr(a)).join(" "),S=_r(Hr([]),2),E=S[0],A=S[1];Xr((function(){A(f&&f.length>0?f.map((function(e){return e.__visible=!1,e})):[Nr(Nr({},l),{},{__visible:!0})])}),[]);var C=_r(Hr(!0),2),I=C[0],_=C[1],P=function(e,t){A((function(n){var r=JSON.parse(JSON.stringify(n));return r[t]=Nr(Nr({},n[t]),e),r}))},N=function(e){var t=e.oldIndex,n=e.newIndex;A((function(e){var r=JSON.parse(JSON.stringify(e)),o=[r[t],r[n]];return r[n]=o[0],r[t]=o[1],r}))},k=function(e){return!(e<E.length-1)};Xr((function(){if(!0===p){for(var e in E)for(var t in E[e])t.startsWith("__")&&delete E[e][t];m(E),d()}else!1===p&&d()}),[p]);var T=function(e){return"jet-form-builder-repeater__item_".concat(e)},x=h.helpSource,R=h.helpVisible,D=h.helpKey,F=R(E)&&x&&x[D];return wp.element.createElement("div",{className:O,key:"jet-form-builder-repeater"},F&&wp.element.createElement("p",null,x[D].label),0<E.length&&wp.element.createElement(React.Fragment,null,wp.element.createElement(Vr,null,wp.element.createElement(qr,null,wp.element.createElement(Ur,{label:Dr("Safe deleting","jet-form-builder"),checked:I,onChange:_})),wp.element.createElement(qr,{style:{flex:"unset",marginBottom:"1em"}}))),g,E.map((function(e,r){return wp.element.createElement(Br,{elevation:2,className:j,key:T(r)},wp.element.createElement(Gr,{className:"repeater__item__header"},wp.element.createElement("div",{className:"repeater-item__left-heading"},wp.element.createElement(Mr,{className:"repeater-action-buttons"},wp.element.createElement(Lr,{isSmall:!0,icon:e.__visible?"no-alt":"edit",onClick:function(){return function(e){A((function(t){var n=JSON.parse(JSON.stringify(t));return n[e].__visible=!n[e].__visible,n}))}(r)},className:"repeater-action-button"}),wp.element.createElement(Lr,{isSmall:!0,isSecondary:!0,disabled:!Boolean(r),icon:"arrow-up-alt2",onClick:function(){return function(e){N({oldIndex:e,newIndex:e-1})}(r)},className:"repeater-action-button"}),wp.element.createElement(Lr,{isSmall:!0,isSecondary:!0,disabled:k(r),icon:"arrow-down-alt2",onClick:function(){return function(e){N({oldIndex:e,newIndex:e+1})}(r)},className:"repeater-action-button"})),wp.element.createElement("span",{className:"repeater-item-title"},n&&wp.element.createElement(n,{currentItem:e,index:r,changeCurrentItem:function(e){return P(e,r)}}),!n&&"#".concat(r+1))),wp.element.createElement(Mr,null,wp.element.createElement(Lr,{isSmall:!0,isSecondary:!0,onClick:function(){return function(e){A((function(t){var n=JSON.parse(JSON.stringify(t)),r=[n.slice(0,e+1),n.slice(e+1)],o=r[1];return[].concat(Tr(r[0]),[n[e]],Tr(o))}))}(r)}},Dr("Clone","jet-form-builder")),wp.element.createElement(Lr,{isSmall:!0,isSecondary:!0,isDestructive:!0,onClick:function(){return function(e){I&&!function(e){return confirm(Dr("Are you sure you want to remove item ".concat(e+1,"?"),"jet-form-builder"))}(e)||b&&!b(e,E)||A((function(t){var n=JSON.parse(JSON.stringify(t));return n.splice(e,1),n}))}(r)}},Dr("Delete","jet-form-builder")))),e.__visible&&wp.element.createElement($r,{className:"repeater-item__content"},t&&wp.element.createElement(React.Fragment,{key:"repeater-component__item_".concat(r)},"function"==typeof t&&t({currentItem:e,changeCurrentItem:function(e){return P(e,r)},currentIndex:r}),"function"!=typeof t&&t),!t&&"Set up your Repeater Template, please."))})),1<E.length&&wp.element.createElement(React.Fragment,null,g,wp.element.createElement(Ur,{className:"jet-control-clear",label:Dr("Safe deleting"),checked:I,onChange:_})),wp.element.createElement(Lr,{isSecondary:!0,onClick:function(){return e=l,y&&y(e,E),void A((function(t){return[].concat(Tr(t),[Nr(Nr({},e),{},{__visible:!0})])}));var e}},c))},AdvancedFields:function(){return wp.element.createElement(yo,{title:bo("Advanced","jet-form-builder"),key:"jet-form-advanced-fields",initialOpen:!1},wp.element.createElement(Kr,null),wp.element.createElement(to,null),wp.element.createElement(io,null),wp.element.createElement(co,null),wp.element.createElement(mo,null))},GeneralFields:function(e){var t=e.hasMacro,n=void 0===t||t;return wp.element.createElement(Mi,{title:Bi("General","jet-form-builder"),key:"jet-form-general-fields"},wp.element.createElement(go,null),wp.element.createElement(Eo,null),wp.element.createElement(_o,null),wp.element.createElement(Li,{hasMacro:n}))},ToolBarFields:function(e){var t=e.children;return wp.element.createElement(Wi,null,wp.element.createElement(Zi,null),t)},FieldControl:function(e){var t=e.setAttributes,n=e.attributes,r=function(e){var t=e.type,n=e.attributes,r=e.attrsSettings,o=void 0===r?{}:r,i=uy()["data-type"],a=Sa();return a[t]?a[t].attrs.filter((function(e){e.help;var t=e.attrName,r=(e.label,ay(e,oy)),a=t in n,l=function(e){if(!e.condition)return!0;if(i&&e.condition.blockName){if("string"==typeof e.condition.blockName&&i!==e.condition.blockName)return!1;if("object"===ly(e.condition.blockName)&&e.condition.blockName.length&&!e.condition.blockName.includes(i))return!1}return!(!function(){if("object"!==ly(e.condition.attr))return!0;var t=e.condition.attr,r=t.operator,o=void 0===r?"and":r,i=t.items,a=void 0===i?{}:i;if("or"===o.toLowerCase())for(var l in a)if(a[l]===n[l])return!0;return"and"!==o.toLowerCase()||function(){for(var e in a)if(a[e]!==n[e])return!1;return!0}()}()||"string"==typeof e.condition.attr&&e.condition.attr&&!n[e.condition.attr]||"string"==typeof e.condition&&!n[e.condition])}(r),u=t in o&&"show"in o[t]&&!1===o[t].show;return a&&l&&!u})):[]}(e),o=function(e,n){t(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,e))};return r.map((function(e){var t=e.help,r=void 0===t?"":t,i=e.attrName,a=e.label,l=ay(e,iy);switch(l.type){case"text":return wp.element.createElement(sy,{key:"".concat(l.type,"-").concat(i,"-TextControl"),label:a,help:r,value:n[i],onChange:function(e){return o(e,i)}});case"select":return wp.element.createElement(fy,{key:"".concat(l.type,"-").concat(i,"-SelectControl"),label:a,help:r,value:n[i],options:l.options,onChange:function(e){o(e,i)}});case"toggle":return wp.element.createElement(py,{key:"".concat(l.type,"-").concat(i,"-ToggleControl"),label:a,help:r,checked:n[i],onChange:function(e){o(e,i)}});case"number":return wp.element.createElement(my,{key:"".concat(l.type,"-").concat(i,"-BaseControl"),label:a},wp.element.createElement(yy,{key:"".concat(l.type,"-").concat(i,"-NumberControl"),value:n[i],onChange:function(e){o(Number(e),i)}}),wp.element.createElement("p",{className:"components-base-control__help",style:{color:"rgb(117, 117, 117)"}},r))}}))},PlaceholderMessage:function(e){var t=e.style,n=e.children,r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qi(Object(n),!0).forEach((function(t){ea(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({fontSize:"1.5em",padding:"2em",textAlign:"center",backgroundColor:"aliceblue"},t);return wp.element.createElement("p",{style:r},n)},HorizontalLine:function(e){return wp.element.createElement("hr",{style:ma({},e)})},FieldSettingsWrapper:function(e){var t=e.title,n=e.children,r=Oa()["data-type"].replace("/","-"),o=ga("jet.fb.render.settings.".concat(r),null);return(n||o)&&wp.element.createElement(wa,{title:t||ha("Field","jet-form-builder")},n,o)},ActionMessages:function(e){var t=e.settings,n=e.source,r=e.getMapField,o=e.setMapField,i=e.messages,a=e.onChangeSetting;return sa((function(){var e=t.messages||{},r={};Object.entries(n.__messages).forEach((function(t){var n=oa(t,2),o=n[0],i=n[1];e[o]||(r[o]=i.value)})),r&&a(na(na({},e),r),"messages")}),[]),wp.element.createElement(ua,{label:fa("Messages Settings:"),key:"messages_settings_fields"},wp.element.createElement("div",{className:"jet-user-fields-map__list"},t.messages&&Object.entries(t.messages).map((function(e,t){var n,a=oa(e,2),l=a[0];return a[1],wp.element.createElement("div",{className:"jet-user-meta__row",key:"message_"+l+t},wp.element.createElement(la,{key:l+t,label:i(l).label,value:(n=l,r({name:n,source:"messages"})),onChange:function(e){o({value:e,nameField:l,source:"messages"})}}))}))))},GroupedSelectControl:un,BaseHelp:Ia,ValidateButtonWithStore:function(e){var t=Da((function(e){return e("jet-forms/actions").getCurrentAction()}),[]);return wp.element.createElement(xa,Ra({id:t.id},e))},GatewayFetchButton:$a,ValidationToggleGroup:function(e){var t,n,r=e.excludeBrowser,o=void 0!==r&&r,i=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return of(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?of(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Gt(),2),a=i[0],l=i[1],u=Dt();return sf=sf.filter((function(e){return"browser"!==e.value||!o})),wp.element.createElement(lf,{onChange:function(e){return l((function(t){return nf(nf({},t),{},{validation:nf(nf({},a.validation),{},{type:e})})}))},value:null!==(t=null===(n=a.validation)||void 0===n?void 0:n.type)&&void 0!==t?t:"",label:cf("Validation type","jet-form-builder"),isBlock:!0,isAdaptiveWidth:!1},wp.element.createElement(uf,{label:cf("Inherit","jet-form-builder"),value:"","aria-label":cf("Inherit from form's args","jet-form-builder"),showTooltip:!0}),sf.map((function(e){return wp.element.createElement(uf,{key:u(e.value+"_key"),label:e.label,value:e.value,"aria-label":e.title,showTooltip:!0})})))},ValidationBlockMessage:function(e){var t,n,r,o,i,a=e.name,l=Dt(),u=bf(Gt(),2),c=u[0],s=u[1],f=bf(je("_jf_validation","{}",[]),1)[0],p=!(null!==(t=c.validation)&&void 0!==t&&t.type),m=p?null!==(n=null==f?void 0:f.messages)&&void 0!==n?n:{}:null!==(r=null===(o=c.validation)||void 0===o?void 0:o.messages)&&void 0!==r?r:{},d=pf(a);return wp.element.createElement(React.Fragment,null,wp.element.createElement(hf,{disabled:p,key:l("massage_"+a),label:null==d?void 0:d.label,help:null==d?void 0:d.help,value:null!==(i=m[a])&&void 0!==i?i:null==d?void 0:d.initial,onChange:function(e){return s((function(t){return df(df({},t),{},{validation:df(df({},c.validation),{},{messages:df(df({},m),{},yf({},a,e))})})}))}}))},ValidationMetaMessage:function(e){var t=e.message,n=e.update,r=e.value,o=void 0===r?null:r,i=e.help,a=void 0===i?null:i,l=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,wf),u=pf(t.id);return wp.element.createElement("div",l,wp.element.createElement("label",{htmlFor:t.id,className:"jet-fb flex jc-space-between"},wp.element.createElement("span",null,u.label),wp.element.createElement("span",{className:"jet-fb flex gap-1em"},t.blocks.map((function(e){return wp.element.createElement("span",{key:"message_block_item"+e.title,className:"jet-fb-validation-messages-item-heading-pair__icon"},wp.element.createElement(Af,{text:e.title,delay:200,position:"top center"},wp.element.createElement("div",null,e.icon)))})))),wp.element.createElement(Ef,{id:t.id,key:"validation_message_"+t.id,help:null!=a?a:null==u?void 0:u.help,value:null!=o?o:null==u?void 0:u.initial,onChange:function(e){return n((function(n){return Of(Of({},n),{},jf({},t.id,e))}))}}))},ActionFetchButton:Lf,DynamicValues:Lm,EditAdvancedRulesButton:function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ty(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ty(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(ny(!1),2),t=e[0],n=e[1];return wp.element.createElement(React.Fragment,null,wp.element.createElement(jd.Provider,{value:{showModal:t,setShowModal:n}},wp.element.createElement("div",{className:"jet-fb mb-24"},wp.element.createElement(ey,null))),t&&wp.element.createElement(m,{title:ry("Edit Advanced Rules","jet-form-builder"),classNames:["width-60"],onRequestClose:function(){return n(!1)}},wp.element.createElement(Od,null)))},RepeaterStateContext:Us,RepeaterState:Mf,BlockLabel:go,BlockName:Eo,BlockDescription:_o,BlockDefaultValue:Li,BlockPlaceholder:Kr,BlockAddPrevButton:to,BlockPrevButtonLabel:io,BlockVisibility:co,BlockClassName:mo,BlockAdvancedValue:function(e){var t=e.help,n=e.label,r=e.hasMacro,o=void 0===r||r,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,by);return wp.element.createElement("div",i,wp.element.createElement(Li,{help:t,label:n,hasMacro:o}),wp.element.createElement("hr",null),wp.element.createElement(Lm,null))},MacrosFields:vi,MacrosButtonTemplate:qo,MacrosFieldsTemplate:fi,ShowPopoverContext:Ro,PopoverItem:Ho,PresetButton:xo,ConditionItem:Dp,AdvancedInspectorControl:ji,AdvancedModalControl:vp,ClientSideMacros:_i,ToggleControl:function(e){var t=e.checked,n=void 0!==t&&t,r=e.onChange,o=void 0===r?function(){}:r,i=e.children,a=void 0===i?null:i,l=e.help,u=void 0===l?null:l,c=wp.element.createElement("div",{className:"jet-fb flex"},wp.element.createElement(vy,{checked:n,onChange:o}),wp.element.createElement("div",{className:"jet-fb--label"},a)),s=u;return null===u?c:wp.element.createElement("div",null,c,"string"==typeof s?wp.element.createElement(Ia,null,s):wp.element.createElement(s,null))},BaseAction:Ve,BaseComputedField:wy,DetailsContainer:mm,HoverContainer:pm,ContainersList:Am,HumanReadableConditions:fm,ConditionsRepeaterContextProvider:Bp,ServerSideMacros:function(e){var t=e.children,n=ze();return wp.element.createElement(Jo.Provider,{value:{afterFields:n}},t)},ActionsFlow:Sy},window.JetFBActions={addAction:function(e,t){wp.data.dispatch("jet-forms/actions").addCallback(e,t)},withPreset:Qt,getInnerBlocks:se,getAvailableFieldsString:function(e){var t=ne([e]),n=[];return t.forEach((function(e){n.push("%FIELD::"+e+"%")})),re("Available fields: ","jet-form-builder")+n.join(", ")},getAvailableFields:ne,getFormFieldsBlocks:te,getFieldsWithoutCurrent:ce,gatewayAttr:pe,gatewayLabel:me,registerGateway:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"cred";window.JetFBGatewaysList=window.JetFBGatewaysList||{},window.JetFBGatewaysList[e]=window.JetFBGatewaysList[e]||{},window.JetFBGatewaysList[e][n]=t},Tools:V,event:function(e){var t=new Event(e);return function(){return document.dispatchEvent(t)}},listen:function(e,t){document.addEventListener(e,t)},renderGateway:ye,renderGatewayWithPlaceholder:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"cred",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return de(e,n)?(t.Placeholder=r,ye(e,t,n)):r},globalTab:at,versionCompare:function(e,t,n){try{return function(e){switch(e){case">":return T;case">=":return R;case"<":return x;case"<=":return D}return function(){return!1}}(n)(e,t)}catch(e){return!1}},convertListToFieldsMap:function(){for(var e=[],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var o=0,i=n;o<i.length;o++){var a=i[o];e.push.apply(e,ba(a.map((function(e){return[e.value,e]}))))}return e},maybeCyrToLatin:$,getConvertedName:G,getBlockControls:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";if(!e)return!1;var t=Sa();return"all"===e?t:!!(t[e]&&t[e].attrs&&Array.isArray(t[e].attrs)&&0<t[e].attrs.length)&&t[e].attrs},classnames:U,getBlocksByName:function(e){var t=[];return z((function(n){e.includes(n.name)&&t.push(n)})),t},convertObjectToOptionsList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.usePlaceholder,r=void 0===n||n,o=t.label,i=void 0===o?"--":o,a=t.value,l=void 0===a?"":a,u={label:i,value:l};if(!e)return r?[u]:[];var c=Object.entries(e).map((function(e){var t=C(e,2);return{value:t[0],label:t[1]}}));return r?[u].concat(_(c)):c},appendField:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];fe("jet.fb.register.fields","jet-form-builder",(function(n){return n.map((function(n){return t.length&&!t.includes(n.name)?n:e(n)}))}))},insertMacro:Pi,addDetail:function(e,t){return wp.data.dispatch("jet-forms/actions").addDetail(e,t)},column:M,addComputedField:function(e){wp.data.dispatch("jet-forms/actions").addComputedField(e)},getCurrentInnerBlocks:function(){var e=gy()["data-block"];return se(e)},humanReadableCondition:Lp,convertFlow:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[],r=Ey(t);try{for(r.s();!(e=r.n()).done;){var o=e.value,i=new Ve(o),a=i.settings;i.settings={},i.selfSettings=a,n.push(i)}}catch(e){r.e(e)}finally{r.f()}return new Sy(n)}},window.JetFBHooks={useActions:Se,useMetaState:je,useSelectPostMeta:Ke,useStateValidClasses:E,useStateLoadingClasses:_e,useSuccessNotice:Me,useRequestEvents:function(){var e=Nt((function(e){return e("jet-forms/actions").getCurrentAction()})),t=[].concat(_t(Ct()),_t(jt()),_t(function(e){var t=e.index,n=Ke("_jf_actions");n.splice(t,1);var r,o=[],i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=vt(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(n);try{for(i.s();!(r=i.n()).done;){var a,l=r.value,u=l.settings[l.type],c=void 0===u?{}:u;null!==(a=c.provideEvents)&&void 0!==a&&a.length&&o.push.apply(o,bt(c.provideEvents))}}catch(e){i.e(e)}finally{i.f()}return bt(new Set(o))}(e)),_t(It((function(e){return e("jet-forms/events").getDynamicTypes().map((function(e){return e.value}))}))));return Nt((function(n){return n("jet-forms/events").filterList(e.type,t)}))},useBlockConditions:xt,useUniqKey:Dt,useBlockAttributes:Gt,useIsAdvancedValidation:function(){var e,t,n=Ke("_jf_validation").type,r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ut(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ut(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Gt(),1)[0];return null!==(e=r.validation)&&void 0!==e&&e.type?"advanced"===(null===(t=r.validation)||void 0===t?void 0:t.type):"advanced"===n},useActionButtonEdit:function(e){return Vt((function(t){return t("jet-forms/action-buttons").getButtonEdit(e)}),[e])},useGroupedValidationMessages:function(){return function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||ur(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(fr(mr),1)[0]},useSanitizeFieldsMap:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"fields_map",t=ze(),n=dt(ut),r=n.settings,o=n.onChangeSettingObj;mt((function(){if(r.hasOwnProperty(e)){var n=[].concat(st(te()),st(t)),i=r[e],a=function(e){return-1!==n.findIndex((function(t){return t.value===e}))};for(var l in i)i.hasOwnProperty(l)&&(a(l)||delete i[l]);o(ct({},e,i))}}),[])},withRequestFields:function(e){var t=e("core/editor").getEditedPostAttribute("meta")||{},n=JSON.parse(t._jf_actions||"[]"),r=e("jet-forms/actions").getCurrentAction();return n.splice(r.index),{requestFields:We(Xe(n),n)}},useRequestFields:ze,withSelectActionLoading:yt,withSelectFormFields:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(r){var o=[],i=["submit","form-break","heading","group-break","conditional"].concat(nt(e));return it((function(e){e.name.includes("jet-forms/")&&e.attributes.name&&!i.find((function(t){return e.name.includes(t)}))&&o.push({blockName:e.name,name:e.attributes.name,label:e.attributes.label||e.attributes.name,value:e.attributes.name})}),r("core/block-editor").getBlocks()),o=t?[{value:"",label:t}].concat(nt(o)):o,{formFields:n?o:ot("jet.fb.getFormFieldsBlocks",o)}}},withSelectGateways:lt,withDispatchGateways:function(e){var t=e("jet-forms/gateways");return{setGatewayRequest:t.setRequest,setGatewayScenario:t.setScenario,setScenario:t.setCurrentScenario,setGateway:t.setGateway,setGatewayInner:t.setGatewayInner,setGatewaySpecific:t.setGatewaySpecific,clearGateway:t.clearGateway,clearScenario:t.clearScenario}},useOnUpdateModal:tt,useInsertMacro:Ti,useIsHasAttribute:Ht,useCurrentAction:Ny,useUpdateCurrentAction:function(){var e=Ny().currentAction,t=Gy("jet-forms/actions",[]),n=t.setCurrentAction,r=t.clearCurrent,o=t.updateCurrentConditions;return{setCurrentAction:n,setTypeSettings:function(t){n(By(By({},e),{},{settings:By(By({},e.settings),{},$y({},e.type,t))}))},clearCurrent:r,updateCurrentConditions:o}},useUpdateCurrentActionMeta:function(){var e=Ny().currentAction,t=Ly().updateActionObj;return function(n){t(e.id,n)}},useActionsEdit:Ly,useActionCallback:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Uy((function(t){return e?t("jet-forms/actions").getCallback(e):t("jet-forms/actions").getCurrentCallback()}),[e])},useActionDetail:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Vy((function(t){return e?t("jet-forms/actions").getDetail(e):t("jet-forms/actions").getCurrentDetail()}),[e])}}})()})();