{"version":3,"file":"package.js","mappings":"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","sources":["webpack:///./package/stores/gateways-store.js","webpack:///../node_modules/semver/classes/semver.js","webpack:///../node_modules/semver/functions/compare.js","webpack:///../node_modules/semver/functions/gt.js","webpack:///../node_modules/semver/functions/gte.js","webpack:///../node_modules/semver/functions/lt.js","webpack:///../node_modules/semver/functions/lte.js","webpack:///../node_modules/semver/internal/constants.js","webpack:///../node_modules/semver/internal/debug.js","webpack:///../node_modules/semver/internal/identifiers.js","webpack:///../node_modules/semver/internal/parse-options.js","webpack:///../node_modules/semver/internal/re.js","webpack:///webpack/bootstrap","webpack:///./package/components/action-fields-map.js","webpack:///./package/components/action-modal.js","webpack:///./package/components/wrapper-required-control.js","webpack:///./package/components/request-button.js","webpack:///./package/helpers/gateways/gateway-action-attrubites.js","webpack:///./package/helpers/actions/action-helper.js","webpack:///./package/helpers/settings/helper.js","webpack:///./package/helpers/gateways/gateway-helper.js","webpack:///./package/helpers/hooks/hooks-helper.js","webpack:///./package/helpers/actions/action-wrapper.js","webpack:///./package/helpers/tools.js","webpack:///./package/components/presets/preset-editor.js","webpack:///./package/components/grouped-select-control.js","webpack:///./package/components/presets/preset-render.js","webpack:///./package/components/presets/dynamic-preset.js","webpack:///./editor/blocks/controls/fields-map.js","webpack:///./package/components/fields/field-with-preset.js","webpack:///./package/helpers/blocks/blocks-helper.js","webpack:///./package/components/fields/field-wrapper.js","webpack:///./package/components/fields/macros-inserter.js","webpack:///./package/components/fields/repeater-with-state.js","webpack:///./package/components/fields/controls.js","webpack:///./package/components/fields/field-control.js","webpack:///./package/components/actions/action-messages.js","webpack:///./package/components/fields/field-settings-wrapper.js","webpack:///./package/stores/action-store.js","webpack:///./package/components/fetch-ajax-button.js","webpack:///./package/components/validate-button-with-store.js","webpack:///./package/components/fetch-api-button.js","webpack:///./package/components/gateway-fetch-button.js","webpack:///./package/manager.js","webpack:///./package/components/validate-button.js","webpack:///./package/components/request-loading-button.js","webpack:///./package/components/actions/placeholder-message.js","webpack:///./package/components/horizontal-line.js","webpack:///./package/components/controls/base-help.js","webpack:///./package/helpers/actions/action-manager.js"],"sourcesContent":["const { createReduxStore, register } = wp.data;\r\n\r\nconst DEFAULT_STATE = {\r\n\tcurrentRequest: {\r\n\t\tid: - 1,\r\n\t},\r\n\tcurrentGateway: {},\r\n\tcurrentScenario: {},\r\n};\r\n\r\nconst actions = {\r\n\tclearGateway() {\r\n\t\treturn {\r\n\t\t\ttype: 'CLEAR_GATEWAY',\r\n\t\t};\r\n\t},\r\n\tclearScenario() {\r\n\t\treturn {\r\n\t\t\ttype: 'CLEAR_SCENARIO',\r\n\t\t};\r\n\t},\r\n\tsetRequest( item ) {\r\n\t\treturn {\r\n\t\t\ttype: 'SET_CURRENT_REQUEST',\r\n\t\t\titem,\r\n\t\t};\r\n\t},\r\n\tsetGateway( item ) {\r\n\t\treturn {\r\n\t\t\ttype: 'SET_CURRENT_GATEWAY',\r\n\t\t\titem,\r\n\t\t};\r\n\t},\r\n\tsetGatewayInner( item ) {\r\n\t\treturn {\r\n\t\t\ttype: 'SET_CURRENT_GATEWAY_INNER',\r\n\t\t\titem,\r\n\t\t};\r\n\t},\r\n\tsetGatewaySpecific( item ) {\r\n\t\treturn {\r\n\t\t\ttype: 'SET_CURRENT_GATEWAY_SPECIFIC',\r\n\t\t\titem,\r\n\t\t};\r\n\t},\r\n\tsetScenario( item ) {\r\n\t\treturn {\r\n\t\t\ttype: 'SET_CURRENT_GATEWAY_SCENARIO',\r\n\t\t\titem,\r\n\t\t};\r\n\t},\r\n\tsetCurrentScenario( item ) {\r\n\t\treturn {\r\n\t\t\ttype: 'SET_CURRENT_SCENARIO',\r\n\t\t\titem,\r\n\t\t};\r\n\t},\r\n\thardSetGateway( item, value = '' ) {\r\n\t\treturn {\r\n\t\t\ttype: 'HARD_SET_CURRENT_GATEWAY',\r\n\t\t\titem,\r\n\t\t\tvalue,\r\n\t\t};\r\n\t},\r\n\thardSetGatewaySpecific( item, value = '' ) {\r\n\t\treturn {\r\n\t\t\ttype: 'HARD_SET_CURRENT_GATEWAY_SPECIFIC',\r\n\t\t\titem,\r\n\t\t\tvalue,\r\n\t\t};\r\n\t},\r\n};\r\n\r\nconst selectors = {\r\n\tgetCurrentRequestId( state ) {\r\n\t\treturn state.currentRequest.id;\r\n\t},\r\n\tgetCurrentRequest( state ) {\r\n\t\treturn state.currentRequest;\r\n\t},\r\n\tgetScenario( state ) {\r\n\t\treturn state.currentScenario;\r\n\t},\r\n\tgetScenarioId( state ) {\r\n\t\treturn state.currentScenario?.id;\r\n\t},\r\n\tgetGatewayId( state ) {\r\n\t\treturn state.currentGateway?.gateway;\r\n\t},\r\n\tgetGateway( state ) {\r\n\t\treturn state.currentGateway;\r\n\t},\r\n\tgetGatewaySpecific( state ) {\r\n\t\treturn state.currentGateway[ selectors.getGatewayId( state ) ] || {};\r\n\t},\r\n};\r\n\r\nconst store = createReduxStore( 'jet-forms/gateways', {\r\n\treducer( state = DEFAULT_STATE, action ) {\r\n\t\tswitch ( action.type ) {\r\n\t\t\tcase 'CLEAR_GATEWAY':\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tcurrentGateway: {}\r\n\t\t\t\t};\r\n\t\t\tcase 'CLEAR_SCENARIO':\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tcurrentScenario: {}\r\n\t\t\t\t};\r\n\t\t\tcase 'SET_CURRENT_REQUEST':\r\n\t\t\t\tconst items = [ selectors.getGatewayId( state ), action.item?.id ].filter( value => value );\r\n\t\t\t\taction.item.id = items.join( '/' );\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tcurrentRequest: action.item,\r\n\t\t\t\t};\r\n\t\t\tcase 'SET_CURRENT_GATEWAY':\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tcurrentGateway: {\r\n\t\t\t\t\t\t...state.currentGateway,\r\n\t\t\t\t\t\t...action.item,\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\tcase 'SET_CURRENT_GATEWAY_SPECIFIC':\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tcurrentGateway: {\r\n\t\t\t\t\t\t...state.currentGateway,\r\n\t\t\t\t\t\t[ state.currentGateway.gateway ]: {\r\n\t\t\t\t\t\t\t...selectors.getGatewaySpecific( state ),\r\n\t\t\t\t\t\t\t...action.item,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\tcase 'SET_CURRENT_GATEWAY_INNER':\r\n\t\t\t\tconst { key, value } = action.item;\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tcurrentGateway: {\r\n\t\t\t\t\t\t...state.currentGateway,\r\n\t\t\t\t\t\t[ key ]: {\r\n\t\t\t\t\t\t\t...(\r\n\t\t\t\t\t\t\t\tstate.currentGateway[ key ] || {}\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t...value,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\tcase 'SET_CURRENT_GATEWAY_SCENARIO':\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tcurrentScenario: {\r\n\t\t\t\t\t\t...state.currentScenario,\r\n\t\t\t\t\t\t...(\r\n\t\t\t\t\t\t\taction.item || {}\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\r\n\t\t\tcase 'SET_CURRENT_SCENARIO':\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tcurrentScenario: {\r\n\t\t\t\t\t\t...state.currentScenario,\r\n\t\t\t\t\t\t[ state.currentScenario?.id ]: {\r\n\t\t\t\t\t\t\t...(\r\n\t\t\t\t\t\t\t\tstate.currentScenario[ state.currentScenario?.id ] || {}\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t...(\r\n\t\t\t\t\t\t\t\taction.item || {}\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\r\n\t\t\tcase 'HARD_SET_CURRENT_GATEWAY':\r\n\t\t\t\tif ( action.item ) {\r\n\t\t\t\t\tstate.currentGateway[ action.item ] = action.value;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t};\r\n\t\t\tcase 'HARD_SET_CURRENT_GATEWAY_SPECIFIC':\r\n\t\t\t\tif ( action.item && state.currentGateway?.gateway ) {\r\n\t\t\t\t\tstate.currentGateway[ state.currentGateway?.gateway ] = {};\r\n\t\t\t\t\tstate.currentGateway[ state.currentGateway?.gateway ][ action.item ] = action.value;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t};\r\n\t\t}\r\n\t\treturn state;\r\n\t},\r\n\tactions,\r\n\tselectors,\r\n} );\r\n\r\nregister( store );","const debug = require('../internal/debug')\nconst { MAX_LENGTH, MAX_SAFE_INTEGER } = require('../internal/constants')\nconst { re, t } = require('../internal/re')\n\nconst parseOptions = require('../internal/parse-options')\nconst { compareIdentifiers } = require('../internal/identifiers')\nclass SemVer {\n  constructor (version, options) {\n    options = parseOptions(options)\n\n    if (version instanceof SemVer) {\n      if (version.loose === !!options.loose &&\n          version.includePrerelease === !!options.includePrerelease) {\n        return version\n      } else {\n        version = version.version\n      }\n    } else if (typeof version !== 'string') {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    if (version.length > MAX_LENGTH) {\n      throw new TypeError(\n        `version is longer than ${MAX_LENGTH} characters`\n      )\n    }\n\n    debug('SemVer', version, options)\n    this.options = options\n    this.loose = !!options.loose\n    // this isn't actually relevant for versions, but keep it so that we\n    // don't run into trouble passing this.options around.\n    this.includePrerelease = !!options.includePrerelease\n\n    const m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n    if (!m) {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    this.raw = version\n\n    // these are actually numbers\n    this.major = +m[1]\n    this.minor = +m[2]\n    this.patch = +m[3]\n\n    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n      throw new TypeError('Invalid major version')\n    }\n\n    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n      throw new TypeError('Invalid minor version')\n    }\n\n    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n      throw new TypeError('Invalid patch version')\n    }\n\n    // numberify any prerelease numeric ids\n    if (!m[4]) {\n      this.prerelease = []\n    } else {\n      this.prerelease = m[4].split('.').map((id) => {\n        if (/^[0-9]+$/.test(id)) {\n          const num = +id\n          if (num >= 0 && num < MAX_SAFE_INTEGER) {\n            return num\n          }\n        }\n        return id\n      })\n    }\n\n    this.build = m[5] ? m[5].split('.') : []\n    this.format()\n  }\n\n  format () {\n    this.version = `${this.major}.${this.minor}.${this.patch}`\n    if (this.prerelease.length) {\n      this.version += `-${this.prerelease.join('.')}`\n    }\n    return this.version\n  }\n\n  toString () {\n    return this.version\n  }\n\n  compare (other) {\n    debug('SemVer.compare', this.version, this.options, other)\n    if (!(other instanceof SemVer)) {\n      if (typeof other === 'string' && other === this.version) {\n        return 0\n      }\n      other = new SemVer(other, this.options)\n    }\n\n    if (other.version === this.version) {\n      return 0\n    }\n\n    return this.compareMain(other) || this.comparePre(other)\n  }\n\n  compareMain (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    return (\n      compareIdentifiers(this.major, other.major) ||\n      compareIdentifiers(this.minor, other.minor) ||\n      compareIdentifiers(this.patch, other.patch)\n    )\n  }\n\n  comparePre (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    // NOT having a prerelease is > having one\n    if (this.prerelease.length && !other.prerelease.length) {\n      return -1\n    } else if (!this.prerelease.length && other.prerelease.length) {\n      return 1\n    } else if (!this.prerelease.length && !other.prerelease.length) {\n      return 0\n    }\n\n    let i = 0\n    do {\n      const a = this.prerelease[i]\n      const b = other.prerelease[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  compareBuild (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    let i = 0\n    do {\n      const a = this.build[i]\n      const b = other.build[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  // preminor will bump the version up to the next minor release, and immediately\n  // down to pre-release. premajor and prepatch work the same way.\n  inc (release, identifier) {\n    switch (release) {\n      case 'premajor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor = 0\n        this.major++\n        this.inc('pre', identifier)\n        break\n      case 'preminor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor++\n        this.inc('pre', identifier)\n        break\n      case 'prepatch':\n        // If this is already a prerelease, it will bump to the next version\n        // drop any prereleases that might already exist, since they are not\n        // relevant at this point.\n        this.prerelease.length = 0\n        this.inc('patch', identifier)\n        this.inc('pre', identifier)\n        break\n      // If the input is a non-prerelease version, this acts the same as\n      // prepatch.\n      case 'prerelease':\n        if (this.prerelease.length === 0) {\n          this.inc('patch', identifier)\n        }\n        this.inc('pre', identifier)\n        break\n\n      case 'major':\n        // If this is a pre-major version, bump up to the same major version.\n        // Otherwise increment major.\n        // 1.0.0-5 bumps to 1.0.0\n        // 1.1.0 bumps to 2.0.0\n        if (\n          this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0\n        ) {\n          this.major++\n        }\n        this.minor = 0\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'minor':\n        // If this is a pre-minor version, bump up to the same minor version.\n        // Otherwise increment minor.\n        // 1.2.0-5 bumps to 1.2.0\n        // 1.2.1 bumps to 1.3.0\n        if (this.patch !== 0 || this.prerelease.length === 0) {\n          this.minor++\n        }\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'patch':\n        // If this is not a pre-release version, it will increment the patch.\n        // If it is a pre-release it will bump up to the same patch version.\n        // 1.2.0-5 patches to 1.2.0\n        // 1.2.0 patches to 1.2.1\n        if (this.prerelease.length === 0) {\n          this.patch++\n        }\n        this.prerelease = []\n        break\n      // This probably shouldn't be used publicly.\n      // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n      case 'pre':\n        if (this.prerelease.length === 0) {\n          this.prerelease = [0]\n        } else {\n          let i = this.prerelease.length\n          while (--i >= 0) {\n            if (typeof this.prerelease[i] === 'number') {\n              this.prerelease[i]++\n              i = -2\n            }\n          }\n          if (i === -1) {\n            // didn't increment anything\n            this.prerelease.push(0)\n          }\n        }\n        if (identifier) {\n          // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n          // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n          if (this.prerelease[0] === identifier) {\n            if (isNaN(this.prerelease[1])) {\n              this.prerelease = [identifier, 0]\n            }\n          } else {\n            this.prerelease = [identifier, 0]\n          }\n        }\n        break\n\n      default:\n        throw new Error(`invalid increment argument: ${release}`)\n    }\n    this.format()\n    this.raw = this.version\n    return this\n  }\n}\n\nmodule.exports = SemVer\n","const SemVer = require('../classes/semver')\nconst compare = (a, b, loose) =>\n  new SemVer(a, loose).compare(new SemVer(b, loose))\n\nmodule.exports = compare\n","const compare = require('./compare')\nconst gt = (a, b, loose) => compare(a, b, loose) > 0\nmodule.exports = gt\n","const compare = require('./compare')\nconst gte = (a, b, loose) => compare(a, b, loose) >= 0\nmodule.exports = gte\n","const compare = require('./compare')\nconst lt = (a, b, loose) => compare(a, b, loose) < 0\nmodule.exports = lt\n","const compare = require('./compare')\nconst lte = (a, b, loose) => compare(a, b, loose) <= 0\nmodule.exports = lte\n","// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nconst SEMVER_SPEC_VERSION = '2.0.0'\n\nconst MAX_LENGTH = 256\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n  /* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nconst MAX_SAFE_COMPONENT_LENGTH = 16\n\nmodule.exports = {\n  SEMVER_SPEC_VERSION,\n  MAX_LENGTH,\n  MAX_SAFE_INTEGER,\n  MAX_SAFE_COMPONENT_LENGTH\n}\n","const debug = (\n  typeof process === 'object' &&\n  process.env &&\n  process.env.NODE_DEBUG &&\n  /\\bsemver\\b/i.test(process.env.NODE_DEBUG)\n) ? (...args) => console.error('SEMVER', ...args)\n  : () => {}\n\nmodule.exports = debug\n","const numeric = /^[0-9]+$/\nconst compareIdentifiers = (a, b) => {\n  const anum = numeric.test(a)\n  const bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nconst rcompareIdentifiers = (a, b) => compareIdentifiers(b, a)\n\nmodule.exports = {\n  compareIdentifiers,\n  rcompareIdentifiers\n}\n","// parse out just the options we care about so we always get a consistent\n// obj with keys in a consistent order.\nconst opts = ['includePrerelease', 'loose', 'rtl']\nconst parseOptions = options =>\n  !options ? {}\n  : typeof options !== 'object' ? { loose: true }\n  : opts.filter(k => options[k]).reduce((options, k) => {\n    options[k] = true\n    return options\n  }, {})\nmodule.exports = parseOptions\n","const { MAX_SAFE_COMPONENT_LENGTH } = require('./constants')\nconst debug = require('./debug')\nexports = module.exports = {}\n\n// The actual regexps go on exports.re\nconst re = exports.re = []\nconst src = exports.src = []\nconst t = exports.t = {}\nlet R = 0\n\nconst createToken = (name, value, isGlobal) => {\n  const index = R++\n  debug(index, value)\n  t[name] = index\n  src[index] = value\n  re[index] = new RegExp(value, isGlobal ? 'g' : undefined)\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ncreateToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*')\ncreateToken('NUMERICIDENTIFIERLOOSE', '[0-9]+')\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ncreateToken('NONNUMERICIDENTIFIER', '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*')\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ncreateToken('MAINVERSION', `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('MAINVERSIONLOOSE', `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\ncreateToken('PRERELEASEIDENTIFIER', `(?:${src[t.NUMERICIDENTIFIER]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\ncreateToken('PRERELEASEIDENTIFIERLOOSE', `(?:${src[t.NUMERICIDENTIFIERLOOSE]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ncreateToken('PRERELEASE', `(?:-(${src[t.PRERELEASEIDENTIFIER]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`)\n\ncreateToken('PRERELEASELOOSE', `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`)\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ncreateToken('BUILDIDENTIFIER', '[0-9A-Za-z-]+')\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ncreateToken('BUILD', `(?:\\\\+(${src[t.BUILDIDENTIFIER]\n}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`)\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ncreateToken('FULLPLAIN', `v?${src[t.MAINVERSION]\n}${src[t.PRERELEASE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('FULL', `^${src[t.FULLPLAIN]}$`)\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ncreateToken('LOOSEPLAIN', `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]\n}${src[t.PRERELEASELOOSE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('LOOSE', `^${src[t.LOOSEPLAIN]}$`)\n\ncreateToken('GTLT', '((?:<|>)?=?)')\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ncreateToken('XRANGEIDENTIFIERLOOSE', `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`)\ncreateToken('XRANGEIDENTIFIER', `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`)\n\ncreateToken('XRANGEPLAIN', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:${src[t.PRERELEASE]})?${\n                     src[t.BUILD]}?` +\n                   `)?)?`)\n\ncreateToken('XRANGEPLAINLOOSE', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:${src[t.PRERELEASELOOSE]})?${\n                          src[t.BUILD]}?` +\n                        `)?)?`)\n\ncreateToken('XRANGE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`)\ncreateToken('XRANGELOOSE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ncreateToken('COERCE', `${'(^|[^\\\\d])' +\n              '(\\\\d{1,'}${MAX_SAFE_COMPONENT_LENGTH}})` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:$|[^\\\\d])`)\ncreateToken('COERCERTL', src[t.COERCE], true)\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ncreateToken('LONETILDE', '(?:~>?)')\n\ncreateToken('TILDETRIM', `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true)\nexports.tildeTrimReplace = '$1~'\n\ncreateToken('TILDE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('TILDELOOSE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ncreateToken('LONECARET', '(?:\\\\^)')\n\ncreateToken('CARETTRIM', `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true)\nexports.caretTrimReplace = '$1^'\n\ncreateToken('CARET', `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('CARETLOOSE', `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ncreateToken('COMPARATORLOOSE', `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`)\ncreateToken('COMPARATOR', `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`)\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ncreateToken('COMPARATORTRIM', `(\\\\s*)${src[t.GTLT]\n}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true)\nexports.comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ncreateToken('HYPHENRANGE', `^\\\\s*(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s+-\\\\s+` +\n                   `(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s*$`)\n\ncreateToken('HYPHENRANGELOOSE', `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s+-\\\\s+` +\n                        `(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s*$`)\n\n// Star ranges basically just allow anything at all.\ncreateToken('STAR', '(<|>)?=?\\\\s*\\\\*')\n// >=0.0.0 is like a star\ncreateToken('GTE0', '^\\\\s*>=\\\\s*0\\.0\\.0\\\\s*$')\ncreateToken('GTE0PRE', '^\\\\s*>=\\\\s*0\\.0\\.0-0\\\\s*$')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","const {\r\n\t\t  BaseControl,\r\n\t  } = wp.components;\r\n\r\nexport default function ActionFieldsMap( {\r\n\t\t\t\t\t\t\t\t\t\t\t fields = [],\r\n\t\t\t\t\t\t\t\t\t\t\t label = '[Empty label]',\r\n\t\t\t\t\t\t\t\t\t\t\t children = () => {},\r\n\t\t\t\t\t\t\t\t\t\t\t plainHelp = '',\r\n\t\t\t\t\t\t\t\t\t\t\t customHelp = false,\r\n\t\t\t\t\t\t\t\t\t\t } ) {\r\n\r\n\treturn <BaseControl\r\n\t\tlabel={ label }\r\n\t\tkey='jet_fields_map'\r\n\t>\r\n\t\t<div className='jet-user-fields-map__list'>\r\n\t\t\t{ ( customHelp && 'function' === typeof customHelp ) && customHelp() }\r\n\r\n\t\t\t{ Boolean( plainHelp.length ) && <span\r\n\t\t\t\tclassName={ 'description-controls' }\r\n\t\t\t>{ plainHelp }</span> }\r\n\r\n\t\t\t{ fields.map( ( [ fieldId, fieldData ], index ) => <React.Fragment\r\n\t\t\t\tkey={ `field_in_map_${ fieldId + index }` }\r\n\t\t\t>\r\n\t\t\t\t{ children( { fieldId, fieldData, index } ) }\r\n\t\t\t</React.Fragment> ) }\r\n\t\t</div>\r\n\t</BaseControl>\r\n};\r\n\r\n","const {\r\n\t\t  Button,\r\n\t\t  ButtonGroup,\r\n\t\t  Modal,\r\n\t  } = wp.components;\r\n\r\nconst {\r\n\t\t  useState,\r\n\t\t  useEffect,\r\n\t  } = wp.element;\r\n\r\nfunction ActionModal( {\r\n\t\t\t\t\t\t  onRequestClose,\r\n\t\t\t\t\t\t  children,\r\n\t\t\t\t\t\t  title,\r\n\t\t\t\t\t\t  classNames = [],\r\n\t\t\t\t\t\t  onUpdateClick,\r\n\t\t\t\t\t\t  onCancelClick,\r\n\t\t\t\t\t\t  updateBtnLabel = 'Update',\r\n\t\t\t\t\t\t  updateBtnProps = {},\r\n\t\t\t\t\t\t  cancelBtnProps = {},\r\n\t\t\t\t\t\t  cancelBtnLabel = 'Cancel',\r\n\t\t\t\t\t\t  fixedHeight = '',\r\n\t\t\t\t\t  } ) {\r\n\r\n\tconst modalClasses = [ 'jet-form-edit-modal', ...classNames ];\r\n\r\n\tconst [ actionClick, setActionClick ] = useState( null );\r\n\r\n\tconst updateClick = () => {\r\n\t\tif ( onUpdateClick ) {\r\n\t\t\tonUpdateClick();\r\n\t\t}\r\n\t\tsetActionClick( true )\r\n\t}\r\n\tconst cancelClick = () => {\r\n\t\tif ( onCancelClick ) {\r\n\t\t\tonCancelClick();\r\n\t\t}\r\n\t\tsetActionClick( false );\r\n\t}\r\n\r\n\tlet style = {}\r\n\tif ( fixedHeight ) {\r\n\t\tstyle = { height: fixedHeight };\r\n\t\tmodalClasses.push( 'jet-modal-fixed-height' )\r\n\t}\r\n\r\n\treturn <Modal\r\n\t\tonRequestClose={ onRequestClose }\r\n\t\tclassName={ modalClasses.join( ' ' ) }\r\n\t\ttitle={ title }\r\n\t\tstyle={ style }\r\n\t>\r\n\t\t{ ! children && <div\r\n\t\t\tclassName=\"jet-form-edit-modal__content\"\r\n\t\t>\r\n\t\t\t{ 'Action callback is not found.' }\r\n\t\t</div> }\r\n\t\t{ children && <div className='jet-form-edit-modal__wrapper'>\r\n\t\t\t<div className=\"jet-form-edit-modal__content\">\r\n\t\t\t\t{ 'function' === typeof children && children( { actionClick, onRequestClose } ) }\r\n\t\t\t\t{ 'function' !== typeof children && children }\r\n\t\t\t</div>\r\n\t\t\t<ButtonGroup\r\n\t\t\t\tclassName=\"jet-form-edit-modal__actions\"\r\n\t\t\t>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tisPrimary\r\n\t\t\t\t\tonClick={ updateClick }\r\n\t\t\t\t\t{ ...updateBtnProps }\r\n\t\t\t\t>{ updateBtnLabel }</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tisSecondary\r\n\t\t\t\t\tstyle={ {\r\n\t\t\t\t\t\tmargin: '0 0 0 10px',\r\n\t\t\t\t\t} }\r\n\t\t\t\t\tonClick={ cancelClick }\r\n\t\t\t\t\t{ ...cancelBtnProps }\r\n\t\t\t\t>{ cancelBtnLabel }</Button>\r\n\t\t\t</ButtonGroup>\r\n\t\t</div> }\r\n\t</Modal>;\r\n}\r\n\r\nexport default ActionModal;","const { RawHTML } = wp.element;\r\n\r\nexport default function WrapperRequiredControl( {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfield,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tchildren,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabelKey = 'label',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trequiredKey = 'required',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thelpKey = 'help',\r\n\t\t\t\t\t\t\t\t\t\t\t\t} ) {\r\n\tconst [ name, data ] = field;\r\n\r\n\t/*const IconComponent = data.icon ? props => {\r\n\t\treturn <div\r\n\t\t\tkey={ 'inner_icon_field_' + name }\r\n\t\t\t{ ...props }\r\n\t\t>{ data.icon }</div>\r\n\t} : null;*/\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName=\"jet-user-meta__row\"\r\n\t\t\tkey={ 'user_meta_' + name }\r\n\t\t>\r\n\t\t\t{/*<IconComponent\r\n\t\t\t\tclassName={ 'jet-field-map__row-icon' }\r\n\t\t\t\tkey={ 'icon_field_' + name }\r\n\t\t\t\tstyle={ { height: '48px', width: '48px' } }\r\n\t\t\t/>*/}\r\n\t\t\t<div className=\"jet-field-map__row-label\">\r\n\r\n\t\t\t\t<span className={ 'fields-map__label' }>\r\n\t\t\t\t\t{ ( data.hasOwnProperty( labelKey ) && data[ labelKey ] ) && data[ labelKey ] }\r\n\t\t\t\t\t{ ( ! data.hasOwnProperty( labelKey ) ) && data }\r\n\t\t\t\t</span>\r\n\t\t\t\t{ ( data.hasOwnProperty( requiredKey ) && data[ requiredKey ] ) &&\r\n\t\t\t\t<span className={ 'fields-map__required' }> *</span> }\r\n\t\t\t\t{ data[ helpKey ] && <p\r\n\t\t\t\t\tclassName={ 'components-base-control__help' }\r\n\t\t\t\t\tstyle={ {\r\n\t\t\t\t\t\tcolor: 'rgb(117, 117, 117)',\r\n\t\t\t\t\t\tmargin: '1em 0 0 0',\r\n\t\t\t\t\t} }>\r\n\t\t\t\t\t<RawHTML>{ data[ helpKey ] }</RawHTML>\r\n\t\t\t\t</p> }\r\n\t\t\t</div>\r\n\t\t\t{ children }\r\n\t\t</div>\r\n\t);\r\n}","const { __ } = wp.i18n;\r\n\r\nconst {\r\n\tButton,\r\n} = wp.components;\r\n\r\n\r\nfunction RequestButton( {\r\n\tlabel,\r\n\tajaxArgs = {},\r\n\tonSuccessRequest = () => {\r\n\t},\r\n\tonFailRequest = () => {\r\n\t},\r\n\tonLoading = () => {\r\n\t},\r\n\tclassName = '',\r\n\tchildren = () => {\r\n\t},\r\n\tdisabled = false,\r\n\tcustomRequest = false,\r\n} ) {\r\n\r\n\tconst defaultRequest = () => {\r\n\t\tonLoading();\r\n\r\n\t\tjQuery.ajax( {\r\n\t\t\turl: ajaxurl,\r\n\t\t\ttype: 'POST',\r\n\t\t\tdata: ajaxArgs,\r\n\t\t} ).done( response => response.success ? onSuccessRequest( response ) : onFailRequest() ).fail( () => onFailRequest() );\r\n\t};\r\n\r\n\tconst request = () => {\r\n\t\tif ( false === customRequest ) {\r\n\t\t\tdefaultRequest();\r\n\t\t} else if ( 'function' === typeof customRequest ) {\r\n\t\t\tcustomRequest();\r\n\t\t} else {\r\n\t\t\tonFailRequest();\r\n\t\t}\r\n\t};\r\n\r\n\treturn <Button\r\n\t\tdisabled={ disabled }\r\n\t\tkey={ 'validate_api_key' }\r\n\t\tisPrimary\r\n\t\tonClick={ request }\r\n\t\tclassName={ className }\r\n\t>\r\n\t\t{ children && children }\r\n\t\t{ label }\r\n\t</Button>;\r\n}\r\n\r\nexport default RequestButton;\r\n","import {\r\n\tfromLocalizeHelper,\r\n\tgetActionSettings,\r\n} from \"../actions/action-helper\";\r\n\r\nfunction gatewayActionAttributes( action ) {\r\n\tconst { gatewayAttrs, label } = fromLocalizeHelper( 'getLocalizedFullPack' )( action.type );\r\n\tconst actionSettings = getActionSettings( action.id );\r\n\r\n\tconst value = attr => {\r\n\t\tif ( actionSettings[ attr ] ) {\r\n\t\t\treturn actionSettings[ attr ];\r\n\t\t}\r\n\t\tif ( actionSettings[ action.type ] && actionSettings[ action.type ][ attr ] ) {\r\n\t\t\treturn actionSettings[ action.type ][ attr ];\r\n\t\t}\r\n\t\treturn 'NULL';\r\n\t};\r\n\r\n\tconst labelWithAttrs = gatewayAttrs().map( attr => ( `${ label( attr ) } ${ value( attr ) }` ) );\r\n\r\n\treturn labelWithAttrs.join( ', ' );\r\n}\r\n\r\nexport default gatewayActionAttributes;","import { useActions } from '../hooks/hooks-helper';\r\nimport gatewayActionAttributes from '../gateways/gateway-action-attrubites';\r\n\r\nexport const getActionsByType = type => {\r\n\tconst [ actions ] = useActions();\r\n\r\n\treturn actions.filter( action => type === action.type );\r\n};\r\n\r\nexport const fromLocalizeHelper = name => {\r\n\treturn name ? window.JetFBLocalizeHelper[ name ] : window.JetFBLocalizeHelper;\r\n};\r\n\r\nexport const actionByTypeList = ( actionType, withDesc = false ) => {\r\n\treturn prepareActionsListByType( getActionsByType( actionType ), actionType, withDesc );\r\n};\r\n\r\nexport const prepareActionsListByType = ( source, actionType, withDesc = false ) => {\r\n\treturn source.filter( action => actionType === action.type ).map( action => {\r\n\t\tconst newAction = {\r\n\t\t\tvalue: action.id,\r\n\t\t\tlabel: fromLocalizeHelper( 'getActionLabel' )( action.type ),\r\n\t\t};\r\n\t\tif ( withDesc ) {\r\n\t\t\tnewAction.label += ` (${ gatewayActionAttributes( action ) })`;\r\n\t\t}\r\n\r\n\t\treturn newAction;\r\n\t} );\r\n};\r\n\r\nexport const getActionSettings = actionId => {\r\n\tconst [ actions ] = useActions();\r\n\tconst action = actions.find( action => actionId === action.id );\r\n\r\n\treturn (\r\n\t\taction && action.settings\r\n\t) ? action.settings : false;\r\n};\r\n\r\nexport const convertListToFieldsMap = ( ...sources ) => {\r\n\tconst response = [];\r\n\r\n\tfor ( const source of sources ) {\r\n\t\tresponse.push( ...source.map( item => {\r\n\t\t\tconst id = item.value;\r\n\r\n\t\t\treturn [ id, item ];\r\n\t\t} ) );\r\n\t}\r\n\r\n\treturn response;\r\n};\r\n\r\n","\r\nfunction globalTab( { slug, element = '', empty = '' } ) {\r\n\tconst global = JetFormEditorData.global_settings;\r\n\r\n\tif( ! global ) {\r\n\t\treturn empty;\r\n\t}\r\n\r\n\tif ( element ) {\r\n\t\treturn ( global[ slug ] && global[ slug ][ element ] ) ? global[ slug ][ element ] : empty;\r\n\t}\r\n\r\n\treturn global[ slug ] || empty;\r\n}\r\n\r\nexport { globalTab };","export const gatewayAttr = ( attr = false, isEmpty = '' ) => {\r\n\tconst data = window.JetFormEditorData.gateways;\r\n\r\n\tif ( ! attr ) {\r\n\t\treturn data;\r\n\t}\r\n\tif ( ! data[ attr ] ) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tconst source = data[ attr ];\r\n\r\n\treturn name => source[ name ] ? source[ name ] : isEmpty;\r\n};\r\n\r\nexport const gatewayLabel = ( type, isEmpty = '' ) => {\r\n\tconst label = gatewayAttr( 'labels' );\r\n\r\n\treturn attr => label( type ) ? label( type )[ attr ] : isEmpty;\r\n};\r\n\r\nexport const registerGateway = ( id, callback, forWhat = 'cred' ) => {\r\n\twindow.JetFBGatewaysList = window.JetFBGatewaysList || {};\r\n\twindow.JetFBGatewaysList[ id ] = window.JetFBGatewaysList[ id ] || {};\r\n\twindow.JetFBGatewaysList[ id ][ forWhat ] = callback;\r\n};\r\n\r\nexport const issetRenderGateway = ( id, what = 'cred' ) => {\r\n\treturn (\r\n\t\twindow.JetFBGatewaysList && window.JetFBGatewaysList[ id ] && window.JetFBGatewaysList[ id ][ what ]\r\n\t);\r\n};\r\n\r\nexport const renderGateway = ( id, props, what = 'cred' ) => {\r\n\tif ( ! issetRenderGateway( id, what ) ) {\r\n\t\treturn null;\r\n\t}\r\n\tconst GatewayComponent = window.JetFBGatewaysList[ id ][ what ];\r\n\r\n\treturn <GatewayComponent { ...props } />;\r\n};\r\n\r\nexport const renderGatewayWithPlaceholder = ( id, props, what = 'cred', Placeholder = null ) => {\r\n\tif ( ! issetRenderGateway( id, what ) ) {\r\n\t\treturn Placeholder;\r\n\t}\r\n\r\n\treturn renderGateway( id, props, what );\r\n};","import { prepareActionsListByType } from '../actions/action-helper';\r\nimport { globalTab } from '../settings/helper';\r\nimport { gatewayAttr, gatewayLabel } from '../gateways/gateway-helper';\r\n\r\nconst {\r\n\tuseState,\r\n\tuseEffect,\r\n} = wp.element;\r\n\r\nconst {\r\n\tuseSelect,\r\n\tuseDispatch,\r\n} = wp.data;\r\n\r\nconst { applyFilters } = wp.hooks;\r\n\r\nexport const useMetaState = ( key, ifEmpty = '{}' ) => {\r\n\tconst meta = useSelect( ( select ) => {\r\n\t\treturn select( 'core/editor' ).getEditedPostAttribute( 'meta' ) || {};\r\n\t} );\r\n\r\n\tconst {\r\n\t\teditPost,\r\n\t} = useDispatch( 'core/editor' );\r\n\r\n\tconst [ metaStateValue, setMetaStateValue ] = useState( JSON.parse( meta[ key ] || ifEmpty ) );\r\n\r\n\tuseEffect( () => {\r\n\t\teditPost( {\r\n\t\t\tmeta: (\r\n\t\t\t\t{\r\n\t\t\t\t\t...meta,\r\n\t\t\t\t\t[ key ]: JSON.stringify( metaStateValue ),\r\n\t\t\t\t}\r\n\t\t\t),\r\n\t\t} );\r\n\t}, [ metaStateValue ] );\r\n\r\n\treturn [ metaStateValue, setMetaStateValue ];\r\n};\r\n\r\nexport const useActions = ( withEditPostEffect = false ) => {\r\n\tconst meta = useSelect( ( select ) => {\r\n\t\treturn select( 'core/editor' ).getEditedPostAttribute( 'meta' ) || {};\r\n\t} );\r\n\r\n\tconst {\r\n\t\teditPost,\r\n\t} = useDispatch( 'core/editor' );\r\n\r\n\tconst [ actions, setActions ] = useState( JSON.parse( meta._jf_actions || '[]' ) );\r\n\r\n\tuseEffect( () => {\r\n\t\tif ( withEditPostEffect ) {\r\n\t\t\teditPost( {\r\n\t\t\t\tmeta: (\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t...meta,\r\n\t\t\t\t\t\t_jf_actions: JSON.stringify( actions ),\r\n\t\t\t\t\t}\r\n\t\t\t\t),\r\n\t\t\t} );\r\n\t\t}\r\n\t}, [ actions ] );\r\n\r\n\treturn [ actions, setActions ];\r\n};\r\nexport const initClasses = [ 'jet-form-validate-button' ];\r\n\r\nexport const useStateValidClasses = initialValid => {\r\n\tconst validClass = 'is-valid';\r\n\tconst invalidClass = 'is-invalid';\r\n\r\n\tconst initStateClasses = () => {\r\n\t\tif ( initialValid ) {\r\n\t\t\treturn [ ...initClasses, validClass ];\r\n\t\t} else if ( ! initialValid ) {\r\n\t\t\treturn [ ...initClasses, invalidClass ];\r\n\t\t}\r\n\t};\r\n\r\n\tconst [ classes, setClasses ] = useState( initStateClasses() );\r\n\r\n\tconst setValidClass = () => {\r\n\t\tsetClasses( [ ...initClasses, validClass ] );\r\n\t};\r\n\tconst setInvalidClass = () => {\r\n\t\tsetClasses( [ ...initClasses, invalidClass ] );\r\n\t};\r\n\tconst setLoadingClass = () => {\r\n\t\tsetClasses( [ ...initClasses, 'loading' ] );\r\n\t};\r\n\r\n\treturn [ classes.join( ' ' ), setValidClass, setInvalidClass, setLoadingClass ];\r\n};\r\n\r\nexport const useStateLoadingClasses = () => {\r\n\tconst [ classes, setClasses ] = useState( [ ...initClasses ] );\r\n\r\n\tconst setLoadingClass = () => {\r\n\t\tsetClasses( [ ...initClasses, 'loading' ] );\r\n\t};\r\n\tconst clearLoadingClass = () => {\r\n\t\tsetClasses( initClasses );\r\n\t};\r\n\r\n\treturn [ classes.join( ' ' ), setLoadingClass, clearLoadingClass ];\r\n};\r\n\r\nexport const useSuccessNotice = ( text, options = {} ) => {\r\n\tconst [ hasCopied, setHasCopied ] = useState( false );\r\n\tconst noticeStore = useDispatch( wp.notices.store );\r\n\r\n\tuseEffect( () => {\r\n\t\tif ( hasCopied ) {\r\n\t\t\tnoticeStore.createWarningNotice( text, { type: 'snackbar', ...options } );\r\n\t\t}\r\n\t}, [ hasCopied ] );\r\n\r\n\treturn setHasCopied;\r\n};\r\n\r\nexport const withDispatchNotice = ( dispatch ) => {\r\n\treturn {\r\n\t\tcreateNotice: ( status, text, options = {} ) => {\r\n\t\t\tdispatch( wp.notices.store ).createNotice(\r\n\t\t\t\tstatus, text, {\r\n\t\t\t\t\ttype: 'default',\r\n\t\t\t\t\tstatus: 'info',\r\n\t\t\t\t\t...options,\r\n\t\t\t\t},\r\n\t\t\t);\r\n\t\t},\r\n\t};\r\n};\r\n\r\nexport const getRequestFields = actions => {\r\n\tconst requestFields = [];\r\n\r\n\tfor ( const action of actions ) {\r\n\t\tconst {\r\n\t\t\t[ action.type ]: current = {},\r\n\t\t} = action.settings;\r\n\r\n\t\tif ( ! current.requestFields ) {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\tfor ( const requestField of current.requestFields ) {\r\n\t\t\tconst index = requestFields.findIndex( field => field.value === requestField.name );\r\n\r\n\t\t\tif ( - 1 !== index ) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\trequestFields.push( {\r\n\t\t\t\tfrom: action.type,\r\n\t\t\t\tid: action.id,\r\n\t\t\t\tlabel: requestField.name,\r\n\t\t\t\tvalue: requestField.name,\r\n\t\t\t\tname: requestField.name,\r\n\t\t\t\thelp: requestField.help,\r\n\t\t\t} );\r\n\t\t}\r\n\t}\r\n\r\n\treturn requestFields;\r\n};\r\n\r\nexport const useRequestFields = ( options = {} ) => {\r\n\tconst meta = useSelect( ( select ) => {\r\n\t\treturn select( 'core/editor' ).getEditedPostAttribute( 'meta' ) || {};\r\n\t} );\r\n\tconst actions = JSON.parse( meta._jf_actions || '[]' );\r\n\r\n\treturn getRequestFields( actions );\r\n};\r\n\r\nconst selectPostMeta = select => {\r\n\treturn select( 'core/editor' ).getEditedPostAttribute( 'meta' ) || {};\r\n};\r\n\r\nconst selectParsedPostMeta = ( select, name ) => {\r\n\tconst allMeta = selectPostMeta( select );\r\n\r\n\treturn JSON.parse( allMeta[ name ] || '{}' );\r\n};\r\n\r\nexport const withCurrentAction = select => {\r\n\tconst currentAction = select( 'jet-forms/actions' ).getCurrentAction();\r\n\r\n\treturn { currentAction };\r\n};\r\n\r\nexport const withRequestFields = select => {\r\n\tconst meta = select( 'core/editor' ).getEditedPostAttribute( 'meta' ) || {};\r\n\tconst actions = JSON.parse( meta._jf_actions || '[]' );\r\n\tconst currentAction = select( 'jet-forms/actions' ).getCurrentAction();\r\n\r\n\tactions.splice( currentAction.index );\r\n\r\n\treturn { requestFields: getRequestFields( actions ) };\r\n};\r\n\r\nexport const withSelectActionLoading = select => {\r\n\tconst loadingState = select( 'jet-forms/actions' ).getCurrentLoading();\r\n\r\n\treturn { loadingState };\r\n};\r\n\r\nexport const withDispatchActionLoading = dispatch => {\r\n\treturn {\r\n\t\tsetLoading( actionId ) {\r\n\t\t\tdispatch( 'jet-forms/actions' ).setLoading( { actionId } );\r\n\t\t},\r\n\t\tsetResultSuccess( actionId, response ) {\r\n\t\t\tdispatch( 'jet-forms/actions' ).setLoadingResult( {\r\n\t\t\t\tactionId,\r\n\t\t\t\tsuccess: true,\r\n\t\t\t\tresponse,\r\n\t\t\t} );\r\n\t\t},\r\n\t\tsetResultFail( actionId ) {\r\n\t\t\tdispatch( 'jet-forms/actions' ).setLoadingResult( {\r\n\t\t\t\tactionId,\r\n\t\t\t\tsuccess: false,\r\n\t\t\t\tresponse: {},\r\n\t\t\t} );\r\n\t\t},\r\n\t};\r\n};\r\n\r\nexport const withDispatchMeta = ( metaSlug, callbackName ) => ( dispatch, ownProps, { select } ) => {\r\n\tconst allMeta = selectPostMeta( select );\r\n\r\n\tconst {\r\n\t\teditPost,\r\n\t} = dispatch( 'core/editor' );\r\n\r\n\tconst change = newState => editPost( {\r\n\t\tmeta: (\r\n\t\t\t{\r\n\t\t\t\t...allMeta,\r\n\t\t\t\t[ metaSlug ]: JSON.stringify( newState ),\r\n\t\t\t}\r\n\t\t),\r\n\t} );\r\n\r\n\treturn {\r\n\t\t[ callbackName ]: change,\r\n\t};\r\n};\r\n\r\nexport const withSelectMeta = ( metaSlug, ifEmpty = {} ) => select => {\r\n\tconst current = selectParsedPostMeta( select, metaSlug );\r\n\r\n\treturn {\r\n\t\t[ metaSlug ]: (\r\n\t\t\tcurrent || ifEmpty\r\n\t\t),\r\n\t};\r\n};\r\n\r\nexport const withSelectGateways = select => {\r\n\tconst store = select( 'jet-forms/gateways' );\r\n\r\n\tconst gatewayRequestId = store.getCurrentRequestId();\r\n\tconst gatewaySpecific = store.getGatewaySpecific();\r\n\tconst scenario = store.getScenario();\r\n\r\n\tconst CURRENT_GATEWAY = store.getGatewayId();\r\n\tconst { id: CURRENT_SCENARIO = 'PAY_NOW' } = scenario;\r\n\r\n\tconst {\r\n\t\tuse_global = false,\r\n\t} = gatewaySpecific;\r\n\r\n\tconst currentTab = globalTab( { slug: CURRENT_GATEWAY } );\r\n\r\n\tconst getSpecificOrGlobal = ( key, ifEmpty = '' ) => {\r\n\t\treturn (\r\n\t\t\tuse_global ? (\r\n\t\t\t\tcurrentTab[ key ] || ifEmpty\r\n\t\t\t) : (\r\n\t\t\t\tgatewaySpecific[ key ] || ifEmpty\r\n\t\t\t)\r\n\t\t);\r\n\t};\r\n\r\n\tconst callableGateway = gatewayAttr( 'additional' );\r\n\tconst additionalSourceGateway = callableGateway( CURRENT_GATEWAY );\r\n\r\n\tconst loadingGateway = select( 'jet-forms/actions' ).getLoading( gatewayRequestId );\r\n\r\n\tconst globalGatewayLabel = gatewayAttr( 'labels' );\r\n\tconst specificGatewayLabel = gatewayLabel( CURRENT_GATEWAY );\r\n\r\n\tconst customGatewayLabel = function ( key ) {\r\n\t\treturn globalGatewayLabel( `${ CURRENT_GATEWAY }.${ key }` );\r\n\t};\r\n\tconst scenarioLabel = function ( key ) {\r\n\t\treturn customGatewayLabel( `scenario.${ CURRENT_SCENARIO }.${ key }` );\r\n\t};\r\n\r\n\treturn {\r\n\t\tgatewayGeneral: store.getGateway(),\r\n\t\tgatewayRequest: store.getCurrentRequest(),\r\n\t\tscenarioSource: additionalSourceGateway[ CURRENT_SCENARIO ] || {},\r\n\t\tcurrentScenario: scenario[ CURRENT_SCENARIO ] || {},\r\n\t\tgatewayScenario: scenario,\r\n\t\tadditionalSourceGateway,\r\n\t\tgatewaySpecific,\r\n\t\tgatewayRequestId,\r\n\t\tloadingGateway,\r\n\t\tgetSpecificOrGlobal,\r\n\t\tglobalGatewayLabel,\r\n\t\tspecificGatewayLabel,\r\n\t\tcustomGatewayLabel,\r\n\t\tscenarioLabel,\r\n\t};\r\n};\r\n\r\nexport const withDispatchGateways = ( dispatch ) => {\r\n\tconst store = dispatch( 'jet-forms/gateways' );\r\n\r\n\treturn {\r\n\t\tsetGatewayRequest: store.setRequest,\r\n\t\tsetGatewayScenario: store.setScenario,\r\n\t\tsetScenario: store.setCurrentScenario,\r\n\t\tsetGateway: store.setGateway,\r\n\t\tsetGatewayInner: store.setGatewayInner,\r\n\t\tsetGatewaySpecific: store.setGatewaySpecific,\r\n\t\tclearGateway: store.clearGateway,\r\n\t\tclearScenario: store.clearScenario,\r\n\t};\r\n};\r\n\r\nconst getFormFields = ( blockParserFunc, blocks ) => {\r\n\tblocks.map( block => {\r\n\t\tblockParserFunc( block );\r\n\r\n\t\tif ( block.innerBlocks.length ) {\r\n\t\t\tgetFormFields( blockParserFunc, block.innerBlocks );\r\n\t\t}\r\n\t} );\r\n};\r\n\r\nexport const withSelectFormFields = (\r\n\texclude = [],\r\n\tplaceholder = false,\r\n\tsuppressFilter = false,\r\n) => select => {\r\n\r\n\tlet formFields = [];\r\n\tlet skipFields = [ 'submit', 'form-break', 'heading', 'group-break', 'conditional', ...exclude ];\r\n\r\n\tgetFormFields( block => {\r\n\t\tif ( block.name.includes( 'jet-forms/' )\r\n\t\t     && block.attributes.name\r\n\t\t     && ! skipFields.find( field => block.name.includes( field ) )\r\n\t\t) {\r\n\r\n\t\t\t/*const blockType = select( blocksStore ).getBlockType( block.name );*/\r\n\r\n\t\t\tformFields.push( {\r\n\t\t\t\tblockName: block.name,\r\n\t\t\t\tname: block.attributes.name,\r\n\t\t\t\tlabel: block.attributes.label || block.attributes.name,\r\n\t\t\t\tvalue: block.attributes.name,\r\n\t\t\t\t//icon: blockType.icon.src,\r\n\t\t\t} );\r\n\t\t}\r\n\t}, select( 'core/block-editor' ).getBlocks() );\r\n\r\n\tformFields = placeholder\r\n\t\t? [ { value: '', label: placeholder }, ...formFields ]\r\n\t\t: formFields;\r\n\r\n\treturn {\r\n\t\tformFields: suppressFilter ? formFields : applyFilters( 'jet.fb.getFormFieldsBlocks', formFields ),\r\n\t};\r\n};\r\n\r\nexport const withSelectActionsByType = ( actionType, withDesc = false ) => select => {\r\n\tconst { _jf_actions } = withSelectMeta( '_jf_actions', [] )( select );\r\n\r\n\treturn {\r\n\t\t[ actionType ]: prepareActionsListByType( _jf_actions, actionType, withDesc ),\r\n\t};\r\n};\r\n","import { fromLocalizeHelper } from \"./action-helper\";\r\n\r\nconst { applyFilters } = wp.hooks;\r\n\r\nexport default function withActionLocalizeScript( actionType, ActionInstance ) {\r\n\tconst localizedData = fromLocalizeHelper( 'getLocalizedFullPack' )( actionType );\r\n\r\n\treturn props => {\r\n\t\tconst onChangeSetting = ( value, key ) => {\r\n\t\t\tprops.onChange( {\r\n\t\t\t\t...props.settings,\r\n\t\t\t\t[ key ]: value,\r\n\t\t\t} );\r\n\t\t};\r\n\r\n\t\tconst onChangeSettingObj = ( value ) => {\r\n\t\t\tprops.onChange( {\r\n\t\t\t\t...props.settings,\r\n\t\t\t\t...value,\r\n\t\t\t} );\r\n\t\t};\r\n\r\n\t\tconst getMapField = ( { source = 'fields_map', name } ) => {\r\n\t\t\tconst settings = props.settings;\r\n\r\n\t\t\tif ( typeof settings[ source ] !== 'undefined' && typeof settings[ source ][ name ] !== 'undefined' ) {\r\n\t\t\t\treturn settings[ source ][ name ];\r\n\t\t\t}\r\n\t\t\treturn '';\r\n\t\t};\r\n\r\n\t\tconst setMapField = ( { source = 'fields_map', nameField, value } ) => {\r\n\t\t\tconst fieldsMap = {\r\n\t\t\t\t...props.settings[ source ],\r\n\t\t\t\t[ nameField ]: value,\r\n\t\t\t};\r\n\r\n\t\t\tprops.onChange( {\r\n\t\t\t\t...props.settings,\r\n\t\t\t\t[ source ]: fieldsMap,\r\n\t\t\t} );\r\n\t\t}\r\n\r\n\t\tconst additionalProps = { onChangeSetting, getMapField, setMapField, onChangeSettingObj };\r\n\t\tconst resultProps = { ...props, ...localizedData, ...additionalProps };\r\n\r\n\t\treturn <>\r\n\t\t\t<ActionInstance { ...resultProps } />\r\n\t\t\t{ applyFilters( `jet.fb.render.action.${ actionType }`, <></>, resultProps ) }\r\n\t\t</>\r\n\t};\r\n}","const semverGt = require( 'semver/functions/gt' )\r\nconst semverLt = require( 'semver/functions/lt' )\r\nconst semverGte = require( 'semver/functions/gte' )\r\nconst semverLte = require( 'semver/functions/lte' )\r\n\r\nconst { __ } = wp.i18n;\r\nconst { applyFilters } = wp.hooks;\r\n\r\nclass Tools {\r\n\r\n\tstatic getLabel( meta, attrs ) {\r\n\t\tconst label = {};\r\n\t\tlabel.name = attrs.label;\r\n\t\tif ( attrs.required ) {\r\n\t\t\tlabel.mark = JSON.parse( meta._jf_args ).required_mark || '';\r\n\t\t}\r\n\t\treturn label;\r\n\t}\r\n\r\n\tstatic withPlaceholder( source, label = '--', value = '' ) {\r\n\t\treturn [\r\n\t\t\t{ label, value },\r\n\t\t\t...source,\r\n\t\t];\r\n\t}\r\n\r\n\tstatic isEmptyObject( object ) {\r\n\t\treturn 'object' === typeof object && Object.keys( object ).length === 0;\r\n\t}\r\n\r\n\tstatic getFuncCondition( nameFunction ) {\r\n\t\treturn new Function( `return window.JetFormBuilderConditions[ '${ nameFunction }' ]` );\r\n\t}\r\n\r\n\tstatic addConditionForCondType( name, callable ) {\r\n\t\twindow.JetFormBuilderConditions = window.JetFormBuilderConditions || {};\r\n\t\twindow.JetFormBuilderConditions[ name ] = callable;\r\n\t}\r\n\r\n\tstatic parseConditionsFunc( source ) {\r\n\t\tconst types = [];\r\n\r\n\t\tsource.forEach( type => {\r\n\t\t\tif ( type.condition ) {\r\n\t\t\t\tif ( Tools.getFuncCondition( type.condition )()( type.value ) ) {\r\n\t\t\t\t\ttypes.push( type );\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\ttypes.push( type );\r\n\t\t\t}\r\n\t\t} );\r\n\r\n\t\treturn types;\r\n\r\n\t}\r\n}\r\n\r\nexport const event = name => {\r\n\tconst initializeCallbacksEvent = new Event( name );\r\n\treturn () => document.dispatchEvent( initializeCallbacksEvent );\r\n};\r\n\r\nexport const listen = ( name, func ) => {\r\n\tdocument.addEventListener( name, func );\r\n};\r\n\r\nfunction getSemVerFunc( operator ) {\r\n\tswitch ( operator ) {\r\n\t\tcase '>':\r\n\t\t\treturn semverGt;\r\n\t\tcase '>=':\r\n\t\t\treturn semverGte;\r\n\t\tcase '<':\r\n\t\t\treturn semverLt;\r\n\t\tcase '<=':\r\n\t\t\treturn semverLte;\r\n\t}\r\n\r\n\treturn () => false;\r\n}\r\n\r\nexport function versionCompare( version1, version2, operator ) {\r\n\ttry {\r\n\t\treturn getSemVerFunc( operator )( version1, version2 );\r\n\t} catch ( te ) {\r\n\t\treturn false;\r\n\t}\r\n}\r\n\r\nconst convertSymbols = applyFilters( 'jet.fb.tools.convertSymbols', {\r\n\tcheckCyrRegex: /[-]/i,\r\n\tcyrRegex: /[-]/gi,\r\n\tcharsMap: {\r\n\t\t'': 'a', '': 'b', '': 'v', '': 'g', '': 'd',\r\n\t\t'': 'e', '': 'io', '': 'zh', '': 'z', '': 'i',\r\n\t\t'': 'i', '': 'k', '': 'l', '': 'm', '': 'n',\r\n\t\t'': 'o', '': 'p', '': 'r', '': 's', '': 't',\r\n\t\t'': 'u', '': 'f', '': 'kh', '': 'ts', '': 'ch',\r\n\t\t'': 'sh', '': 'shch', '': 'y', '': 'e', '': 'iu',\r\n\t\t'': 'ia', '': 'i', '': 'ie', '': 'g', '': 'i',\r\n\t},\r\n} );\r\n\r\nexport function maybeCyrToLatin( str ) {\r\n\tif ( convertSymbols.checkCyrRegex.test( str ) ) {\r\n\t\tstr = str.replace( convertSymbols.cyrRegex, function ( match ) {\r\n\r\n\t\t\tif ( undefined === convertSymbols.charsMap[ match ] ) {\r\n\t\t\t\treturn '';\r\n\t\t\t}\r\n\r\n\t\t\treturn convertSymbols.charsMap[ match ];\r\n\t\t} );\r\n\t}\r\n\r\n\treturn str;\r\n}\r\n\r\nexport function getConvertedName( valueToChange ) {\r\n\tvar regex = /\\s+/g,\r\n\t\tslug = valueToChange.toLowerCase().replace( regex, '_' );\r\n\r\n\t// Replace accents\r\n\tslug = slug.normalize( 'NFD' ).replace( /[\\u0300-\\u036f]/g, '' );\r\n\r\n\t// Replace cyrillic\r\n\tslug = maybeCyrToLatin( slug );\r\n\r\n\tif ( 20 < slug.length ) {\r\n\t\t// 34 - Lionel Messi's age when he left Barcelona\r\n\t\tslug = slug.substr( 0, 34 );\r\n\r\n\t\tif ( '-' === slug.slice( - 1 ) ) {\r\n\t\t\tslug = slug.slice( 0, - 1 );\r\n\t\t}\r\n\t}\r\n\r\n\treturn slug;\r\n}\r\n\r\nexport function classnames( ...additional ) {\r\n\tconst result = [];\r\n\r\n\tconst parseValues = source => {\r\n\t\tsource.forEach( itemClass => {\r\n\t\t\tif ( ! itemClass ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif ( Array.isArray( itemClass ) ) {\r\n\t\t\t\tparseValues( itemClass );\r\n\t\t\t}\r\n\t\t\tif ( 'string' === typeof itemClass ) {\r\n\t\t\t\tresult.push( itemClass.trim() );\r\n\t\t\t}\r\n\t\t\tif ( 'object' === typeof itemClass ) {\r\n\t\t\t\tfor ( const itemClassKey in itemClass ) {\r\n\t\t\t\t\tif ( itemClass[ itemClassKey ] ) {\r\n\t\t\t\t\t\tresult.push( (\r\n\t\t\t\t\t\t\titemClassKey + ''\r\n\t\t\t\t\t\t).trim() );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} );\r\n\t};\r\n\r\n\tparseValues( additional );\r\n\r\n\treturn result.join( ' ' );\r\n}\r\n\r\nexport function convertObjectToOptionsList( entries = [], {\r\n\tusePlaceholder = true,\r\n\tlabel = '--',\r\n\tvalue = '',\r\n} = {} ) {\r\n\tconst placeholder = { label, value };\r\n\r\n\tif ( ! entries ) {\r\n\t\treturn usePlaceholder ? [ placeholder ] : [];\r\n\t}\r\n\r\n\tconst options = Object.entries( entries ).map( ( [ value, label ] ) => {\r\n\t\treturn { value, label };\r\n\t} );\r\n\r\n\treturn usePlaceholder ? [ placeholder, ...options ] : options;\r\n}\r\n\r\nexport default Tools;","const { applyFilters } = wp.hooks;\r\n\r\nfunction withPreset( WrappedComponent ) {\r\n\treturn function JetFormPresetEditor( props ) {\r\n\r\n\t\tconst parseValue = () => {\r\n\t\t\tlet val = {};\r\n\r\n\t\t\tif ( 'object' === typeof props.value ) {\r\n\t\t\t\tval = { ...props.value };\r\n\t\t\t}\r\n\t\t\telse if ( props.value && 'string' === typeof props.value ) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tval = JSON.parse( props.value );\r\n\t\t\t\t\tif ( 'number' === typeof val ) {\r\n\t\t\t\t\t\tthrow new Error();\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch ( exception ) {\r\n\t\t\t\t\tval = {};\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tval.jet_preset = true;\r\n\r\n\t\t\treturn val;\r\n\t\t}\r\n\r\n\t\tconst isVisible = ( currentState, data, position ) => {\r\n\t\t\treturn ( ( data.position && position === data.position )\r\n\t\t\t\t|| ! data.position || 'query_var' !== currentState.from ) && isGlobalVisible( currentState, data );\r\n\t\t};\r\n\r\n\t\tconst isGlobalVisible = ( currentState, data ) => {\r\n\t\t\tif ( ! data.condition && ! data.custom_condition ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\tif ( data.custom_condition ) {\r\n\t\t\t\tswitch ( data.custom_condition ) {\r\n\t\t\t\t\tcase 'query_var':\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t( 'post' === currentState.from && 'query_var' === currentState.post_from )\r\n\t\t\t\t\t\t\t|| ( 'user' === currentState.from && 'query_var' === currentState.user_from )\r\n\t\t\t\t\t\t\t|| ( 'query_var' === currentState.from )\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\treturn applyFilters( 'jet.fb.preset.editor.custom.condition', false, data.custom_condition, currentState );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif ( data.condition ) {\r\n\t\t\t\treturn currentState[ data.condition.field ] === data.condition.value;\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tconst isCurrentFieldVisible = ( currentState, data, position ) => {\r\n\r\n\t\t\tif ( ! data.condition && ! data.parent_condition ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tif ( data.position && position !== data.position ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tif ( data.parent_condition && ! data.condition ) {\r\n\t\t\t\treturn currentState[ data.parent_condition.field ] === data.parent_condition.value;\r\n\t\t\t}\r\n\t\t\telse if ( data.parent_condition && data.condition ) {\r\n\t\t\t\treturn currentState[ 'current_field_' + data.condition.field ] === data.condition.value && currentState[ data.parent_condition.field ] === data.parent_condition.value;\r\n\t\t\t}\r\n\t\t\telse if ( ! data.parent_condition && data.condition ) {\r\n\t\t\t\treturn currentState[ 'current_field_' + data.condition.field ] === data.condition.value;\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tconst isMapFieldVisible = ( currentState, data, field ) => {\r\n\r\n\t\t\tif ( ! data.condition && ! data.parent_condition ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\tif ( data.parent_condition && ! data.condition ) {\r\n\t\t\t\treturn currentState[ data.parent_condition.field ] === data.parent_condition.value;\r\n\t\t\t}\r\n\t\t\telse if ( data.parent_condition && data.condition ) {\r\n\t\t\t\tif ( ! currentState.fields_map || ! currentState.fields_map[ field ] ) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\treturn currentState.fields_map[ field ][ data.condition.field ] === data.condition.value && currentState[ data.parent_condition.field ] === data.parent_condition.value;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if ( ! data.parent_condition && data.condition ) {\r\n\t\t\t\tif ( ! currentState.fields_map || ! currentState.fields_map[ field ] ) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\treturn currentState.fields_map[ field ][ data.condition.field ] === data.condition.value;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\r\n\t\t};\r\n\r\n\t\tconst excludeOptions = ( selectOptions ) => {\r\n\t\t\tconst options = [ ...selectOptions ];\r\n\t\t\toptions.forEach( ( option, index ) => {\r\n\t\t\t\tif ( props.excludeSources && props.excludeSources.includes( option.value ) ) {\r\n\t\t\t\t\toptions.splice( index, 1 );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t\treturn options;\r\n\t\t};\r\n\r\n\t\treturn <WrappedComponent\r\n\t\t\tkey='wrapped-preset-editor'\r\n\t\t\t{ ...props }\r\n\t\t\tparseValue={ parseValue }\r\n\t\t\tisVisible={ isVisible }\r\n\t\t\tisMapFieldVisible={ isMapFieldVisible }\r\n\t\t\tisCurrentFieldVisible={ isCurrentFieldVisible }\r\n\t\t\texcludeOptions={ excludeOptions }\r\n\t\t/>;\r\n\t}\r\n}\r\n\r\nexport default withPreset;\r\n","const { isEmpty } = window.lodash;\r\n\r\n/**\r\n * WordPress dependencies\r\n */\r\nconst { withInstanceId } = window.wp.compose;\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nconst BaseControl = window.wp.components.BaseControl;\r\n\r\nfunction GroupedSelectControl( {\r\n\t\t\t\t\t\t\t\t   help,\r\n\t\t\t\t\t\t\t\t   instanceId,\r\n\t\t\t\t\t\t\t\t   label,\r\n\t\t\t\t\t\t\t\t   multiple = false,\r\n\t\t\t\t\t\t\t\t   onChange,\r\n\t\t\t\t\t\t\t\t   options = [],\r\n\t\t\t\t\t\t\t\t   className,\r\n\t\t\t\t\t\t\t\t   value,\r\n\t\t\t\t\t\t\t\t   hideLabelFromVision,\r\n\t\t\t\t\t\t\t   } ) {\r\n\tconst id = `inspector-select-control-${ instanceId }`;\r\n\tconst onChangeValue = ( event ) => {\r\n\t\tonChange( event.target.value );\r\n\t};\r\n\r\n\t// Disable reason: A select with an onchange throws a warning\r\n\r\n\t/* eslint-disable jsx-a11y/no-onchange */\r\n\treturn ! isEmpty( options ) && (\r\n\t\t<BaseControl label={ label } hideLabelFromVision={ hideLabelFromVision } id={ id } help={ help }\r\n\t\t\t\t\t className={ className }>\r\n\t\t\t<select\r\n\t\t\t\tid={ id }\r\n\t\t\t\tclassName=\"components-select-control__input\"\r\n\t\t\t\tonChange={ onChangeValue }\r\n\t\t\t\tvalue={ value }\r\n\t\t\t\taria-describedby={ !! help ? `${ id }__help` : undefined }\r\n\t\t\t>\r\n\t\t\t\t<option\r\n\t\t\t\t\tkey={ `${ label }-placeholder` }\r\n\t\t\t\t\tvalue={ `` }\r\n\t\t\t\t>{ `--` }</option>\r\n\t\t\t\t{ options.map( ( optGroup, groupIndex ) => {\r\n\t\t\t\t\treturn ! isEmpty( optGroup.values ) && <optgroup\r\n\t\t\t\t\t\tkey={ `${ optGroup.label }-${ groupIndex }` }\r\n\t\t\t\t\t\tlabel={ optGroup.label }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{ optGroup.values.map( ( option, index ) =>\r\n\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\tkey={ `${ option.value }-${ index }-${ groupIndex }` }\r\n\t\t\t\t\t\t\t\tvalue={ option.value }\r\n\t\t\t\t\t\t\t\tdisabled={ option.disabled }\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{ option.label }\r\n\t\t\t\t\t\t\t</option>,\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t</optgroup>;\r\n\t\t\t\t} ) }\r\n\t\t\t</select>\r\n\t\t</BaseControl>\r\n\t);\r\n\t/* eslint-enable jsx-a11y/no-onchange */\r\n}\r\n\r\nexport default withInstanceId( GroupedSelectControl );","import GroupedSelectControl from '../grouped-select-control';\r\n\r\nconst {\r\n\t\t  TextControl,\r\n\t\t  SelectControl,\r\n\t\t  CustomSelectControl,\r\n\t\t  Card,\r\n\t\t  CardBody,\r\n\t\t  CardHeader,\r\n\t  } = wp.components;\r\n\r\nfunction GlobalField( {\r\n\t\t\t\t\t\t  data,\r\n\t\t\t\t\t\t  value,\r\n\t\t\t\t\t\t  index,\r\n\t\t\t\t\t\t  onChangeValue,\r\n\t\t\t\t\t\t  isVisible,\r\n\t\t\t\t\t\t  excludeOptions = options => options,\r\n\t\t\t\t\t\t  position,\r\n\t\t\t\t\t  } ) {\r\n\r\n\tswitch ( data.type ) {\r\n\t\tcase 'text':\r\n\t\t\treturn ( isVisible( value, data, position ) &&\r\n\t\t\t\t<div\r\n\t\t\t\t\tkey={ 'field_' + data.name + index }\r\n\t\t\t\t\tclassName={ 'jet-form-preset__row' }\r\n\t\t\t\t>\r\n\t\t\t\t\t<TextControl\r\n\t\t\t\t\t\tkey={ data.name + index }\r\n\t\t\t\t\t\tlabel={ data.label }\r\n\t\t\t\t\t\tvalue={ value[ data.name ] }\r\n\t\t\t\t\t\tonChange={ newVal => {\r\n\t\t\t\t\t\t\tonChangeValue( newVal, data.name )\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\tcase 'select':\r\n\t\t\treturn ( isVisible( value, data, position ) &&\r\n\t\t\t\t<div\r\n\t\t\t\t\tkey={ 'field_' + data.name + index }\r\n\t\t\t\t\tclassName={ 'jet-form-preset__row' }\r\n\t\t\t\t>\r\n\t\t\t\t\t<SelectControl\r\n\t\t\t\t\t\tkey={ data.name + index }\r\n\t\t\t\t\t\tlabelPosition=\"side\"\r\n\t\t\t\t\t\toptions={ excludeOptions( data.options ) }\r\n\t\t\t\t\t\tlabel={ data.label }\r\n\t\t\t\t\t\tvalue={ value[ data.name ] }\r\n\t\t\t\t\t\tonChange={ newVal => {\r\n\t\t\t\t\t\t\tonChangeValue( newVal, data.name )\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t}\r\n\r\n\treturn null;\r\n}\r\n\r\nfunction AvailableMapField( {\r\n\t\t\t\t\t\t\t\tfieldsMap,\r\n\t\t\t\t\t\t\t\tfield,\r\n\t\t\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\t\t\tonChangeValue,\r\n\t\t\t\t\t\t\t\tisMapFieldVisible,\r\n\t\t\t\t\t\t\t} ) {\r\n\r\n\tlet currentVal = null;\r\n\r\n\tif ( ! fieldsMap ) {\r\n\t\tfieldsMap = {};\r\n\t}\r\n\r\n\tcurrentVal = fieldsMap[ field ];\r\n\r\n\tif ( ! currentVal || 'object' !== typeof currentVal ) {\r\n\t\tcurrentVal = {};\r\n\t}\r\n\r\n\tconst AvailableFieldWrapper = ( { field, name, index, fIndex, children } ) => <Card\r\n\t\tkey={ field + name + index + fIndex }\r\n\t\tsize={ 'extraSmall' }\r\n\t\tstyle={ { marginBottom: '10px' } }\r\n\t>\r\n\t\t<CardHeader>\r\n\t\t\t<span className='jet-label-overflow'>{ field }</span>\r\n\t\t</CardHeader>\r\n\t\t<CardBody\r\n\t\t\tkey={ field + name + index + fIndex }\r\n\t\t\tclassName={ 'jet-form-preset__fields-map-item' }\r\n\t\t>\r\n\t\t\t{ children }\r\n\t\t</CardBody>\r\n\t</Card>;\r\n\r\n\tfunction AvailableFieldWrapperFunc( { field, name, index, fIndex }, children ) {\r\n\t\treturn <Card\r\n\t\t\tkey={ field + name + index + fIndex }\r\n\t\t\tsize={ 'extraSmall' }\r\n\t\t\tstyle={ { marginBottom: '10px' } }\r\n\t\t>\r\n\t\t\t<CardHeader>\r\n\t\t\t\t<span className='jet-label-overflow'>{ field }</span>\r\n\t\t\t</CardHeader>\r\n\t\t\t<CardBody\r\n\t\t\t\tkey={ field + name + index + fIndex }\r\n\t\t\t\tclassName={ 'jet-form-preset__fields-map-item' }\r\n\t\t\t>\r\n\t\t\t\t{ children }\r\n\t\t\t</CardBody>\r\n\t\t</Card>;\r\n\t}\r\n\r\n\treturn <React.Fragment key={ `map_field_preset_${ field + index }` }>\r\n\r\n\t\t{ window.JetFormEditorData.presetConfig.map_fields.map( ( data, fIndex ) => {\r\n\t\t\tconst props = { field, name: data.name, index, fIndex };\r\n\r\n\t\t\tconst uniqKey = 'control_' + field + data.name + index + fIndex;\r\n\r\n\t\t\tswitch ( data.type ) {\r\n\t\t\t\tcase 'text':\r\n\t\t\t\t\treturn ( isMapFieldVisible( value, data, field ) &&\r\n\t\t\t\t\t\tAvailableFieldWrapperFunc( props, <TextControl\r\n\t\t\t\t\t\t\tkey={ uniqKey + 'TextControl' }\r\n\t\t\t\t\t\t\tplaceholder={ data.label }\r\n\t\t\t\t\t\t\tvalue={ currentVal[ data.name ] }\r\n\t\t\t\t\t\t\tonChange={ newVal => {\r\n\t\t\t\t\t\t\t\tcurrentVal[ data.name ] = newVal;\r\n\t\t\t\t\t\t\t\tonChangeValue( {\r\n\t\t\t\t\t\t\t\t\t...fieldsMap,\r\n\t\t\t\t\t\t\t\t\t[ field ]: currentVal,\r\n\t\t\t\t\t\t\t\t}, 'fields_map' );\r\n\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t/> )\r\n\t\t\t\t\t);\r\n\t\t\t\tcase 'select':\r\n\t\t\t\t\treturn ( isMapFieldVisible( value, data, field ) &&\r\n\t\t\t\t\t\t<AvailableFieldWrapper { ...props } key={ uniqKey }>\r\n\t\t\t\t\t\t\t<SelectControl\r\n\t\t\t\t\t\t\t\toptions={ data.options }\r\n\t\t\t\t\t\t\t\t//label={ data.label }\r\n\t\t\t\t\t\t\t\tlabelPosition=\"top\"\r\n\t\t\t\t\t\t\t\tvalue={ currentVal[ data.name ] }\r\n\t\t\t\t\t\t\t\tonChange={ newVal => {\r\n\t\t\t\t\t\t\t\t\tcurrentVal[ data.name ] = newVal;\r\n\t\t\t\t\t\t\t\t\tonChangeValue( {\r\n\t\t\t\t\t\t\t\t\t\t...fieldsMap,\r\n\t\t\t\t\t\t\t\t\t\t[ field ]: currentVal,\r\n\t\t\t\t\t\t\t\t\t}, 'fields_map' );\r\n\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</AvailableFieldWrapper>\r\n\t\t\t\t\t);\r\n\t\t\t\tcase 'custom_select':\r\n\t\t\t\t\treturn ( isMapFieldVisible( value, data, field ) &&\r\n\t\t\t\t\t\t<AvailableFieldWrapper { ...props } key={ uniqKey }>\r\n\t\t\t\t\t\t\t<CustomSelectControl\r\n\t\t\t\t\t\t\t\toptions={ data.options }\r\n\t\t\t\t\t\t\t\tonChange={ ( { selectedItem } ) => {\r\n\t\t\t\t\t\t\t\t\tcurrentVal[ data.name ] = selectedItem.key;\r\n\t\t\t\t\t\t\t\t\tonChangeValue( {\r\n\t\t\t\t\t\t\t\t\t\t...fieldsMap,\r\n\t\t\t\t\t\t\t\t\t\t[ field ]: currentVal,\r\n\t\t\t\t\t\t\t\t\t}, 'fields_map' );\r\n\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t\tvalue={ data.options.find( option => option.key === currentVal[ data.name ] ) }\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</AvailableFieldWrapper> );\r\n\t\t\t\tcase 'grouped_select':\r\n\t\t\t\t\treturn ( isMapFieldVisible( value, data, field ) &&\r\n\t\t\t\t\t\t<AvailableFieldWrapper { ...props } key={ uniqKey }>\r\n\t\t\t\t\t\t\t<GroupedSelectControl\r\n\t\t\t\t\t\t\t\toptions={ data.options }\r\n\t\t\t\t\t\t\t\t//label={ data.label }\r\n\t\t\t\t\t\t\t\tlabelPosition=\"top\"\r\n\t\t\t\t\t\t\t\tvalue={ currentVal[ data.name ] }\r\n\t\t\t\t\t\t\t\tonChange={ newVal => {\r\n\t\t\t\t\t\t\t\t\tcurrentVal[ data.name ] = newVal;\r\n\t\t\t\t\t\t\t\t\tonChangeValue( {\r\n\t\t\t\t\t\t\t\t\t\t...fieldsMap,\r\n\t\t\t\t\t\t\t\t\t\t[ field ]: currentVal,\r\n\t\t\t\t\t\t\t\t\t}, 'fields_map' );\r\n\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</AvailableFieldWrapper> );\r\n\t\t\t}\r\n\t\t} ) }\r\n\t</React.Fragment>;\r\n}\r\n\r\nfunction MapField( {\r\n\t\t\t\t\t   data,\r\n\t\t\t\t\t   value,\r\n\t\t\t\t\t   index,\r\n\t\t\t\t\t   currentState,\r\n\t\t\t\t\t   onChangeValue,\r\n\t\t\t\t\t   isCurrentFieldVisible,\r\n\t\t\t\t\t   position = 'general',\r\n\t\t\t\t   } ) {\r\n\r\n\tswitch ( data.type ) {\r\n\t\tcase 'text':\r\n\t\t\treturn ( isCurrentFieldVisible( currentState, data ) &&\r\n\t\t\t\t<div\r\n\t\t\t\t\tkey={ data.name + index }\r\n\t\t\t\t\tclassName={ 'jet-form-preset__row' }\r\n\t\t\t\t>\r\n\t\t\t\t\t<TextControl\r\n\t\t\t\t\t\tkey={ 'control_' + data.name + index }\r\n\t\t\t\t\t\tplaceholder={ data.label }\r\n\t\t\t\t\t\tvalue={ value }\r\n\t\t\t\t\t\tonChange={ newVal => {\r\n\t\t\t\t\t\t\tonChangeValue( newVal, 'current_field_' + data.name )\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\tcase 'select':\r\n\t\t\treturn ( isCurrentFieldVisible( currentState, data ) &&\r\n\t\t\t\t<div\r\n\t\t\t\t\tkey={ data.name + index }\r\n\t\t\t\t\tclassName={ 'jet-form-preset__row' }\r\n\t\t\t\t>\r\n\t\t\t\t\t<SelectControl\r\n\t\t\t\t\t\tkey={ 'control_' + data.name + index }\r\n\t\t\t\t\t\tlabelPosition=\"side\"\r\n\t\t\t\t\t\toptions={ data.options }\r\n\t\t\t\t\t\tlabel={ data.label }\r\n\t\t\t\t\t\tvalue={ value }\r\n\t\t\t\t\t\tonChange={ newVal => {\r\n\t\t\t\t\t\t\tonChangeValue( newVal, 'current_field_' + data.name )\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\tcase 'custom_select':\r\n\t\t\treturn ( isCurrentFieldVisible( currentState, data ) &&\r\n\t\t\t\t<div\r\n\t\t\t\t\tkey={ data.name + index }\r\n\t\t\t\t\tclassName={ 'jet-form-preset__row' }\r\n\t\t\t\t>\r\n\t\t\t\t\t<CustomSelectControl\r\n\t\t\t\t\t\tclassName='jet-custom-select-control'\r\n\t\t\t\t\t\tlabel={ data.label }\r\n\t\t\t\t\t\toptions={ data.options }\r\n\t\t\t\t\t\tonChange={ ( { selectedItem } ) => {\r\n\t\t\t\t\t\t\tvalue = selectedItem.key;\r\n\t\t\t\t\t\t\tonChangeValue( value, 'current_field_' + data.name )\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t\tvalue={ data.options.find( option => option.key === value ) }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div> );\r\n\t\tcase 'grouped_select':\r\n\t\t\treturn ( isCurrentFieldVisible( currentState, data ) &&\r\n\t\t\t\t<div\r\n\t\t\t\t\tkey={ data.name + index }\r\n\t\t\t\t\tclassName={ 'jet-form-preset__row' }\r\n\t\t\t\t>\r\n\t\t\t\t\t<GroupedSelectControl\r\n\t\t\t\t\t\toptions={ data.options }\r\n\t\t\t\t\t\tlabel={ data.label }\r\n\t\t\t\t\t\tlabelPosition=\"side\"\r\n\t\t\t\t\t\tvalue={ value }\r\n\t\t\t\t\t\tonChange={ newVal => {\r\n\t\t\t\t\t\t\tonChangeValue( newVal, 'current_field_' + data.name )\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div> );\r\n\t}\r\n\treturn null;\r\n}\r\n\r\nexport {\r\n\tGlobalField,\r\n\tAvailableMapField,\r\n\tMapField,\r\n};","import withPreset from \"./preset-editor\";\r\nimport {\r\n\tGlobalField,\r\n\tMapField\r\n} from \"./preset-render\";\r\n\r\nconst {\r\n\tuseState,\r\n\tuseEffect\r\n} = wp.element;\r\n\r\nfunction DynamicPreset( {\r\n\t\t\t\t\t\t\tvalue,\r\n\t\t\t\t\t\t\tisSaveAction,\r\n\t\t\t\t\t\t\tonSavePreset,\r\n\t\t\t\t\t\t\tonUnMount,\r\n\t\t\t\t\t\t\tparseValue,\r\n\t\t\t\t\t\t\texcludeOptions,\r\n\t\t\t\t\t\t\tisCurrentFieldVisible,\r\n\t\t\t\t\t\t\tisVisible,\r\n\t\t\t\t\t\t} ) {\r\n\r\n\tconst position = 'dynamic';\r\n\tconst [ stateValue, setValue ] = useState( () => parseValue( value ) );\r\n\r\n\tconst onChangeValue = ( newValue, name ) => {\r\n\t\tsetValue( prev => ( { ...prev, [ name ]: newValue } ) );\r\n\t}\r\n\r\n\tuseEffect( () => {\r\n\t\tif ( true === isSaveAction ) {\r\n\t\t\tif ( onSavePreset ) {\r\n\t\t\t\tonSavePreset( JSON.stringify( stateValue ) );\r\n\t\t\t}\r\n\t\t\tonUnMount();\r\n\r\n\t\t}\r\n\t\telse if ( false === isSaveAction ) {\r\n\t\t\tonUnMount();\r\n\t\t}\r\n\t}, [ isSaveAction ] );\r\n\r\n\treturn <>\r\n\t\t{ window.JetFormEditorData.presetConfig.global_fields.map( ( data, index ) => <GlobalField\r\n\t\t\tkey={ `current_field_${ data.name }_${ index }` }\r\n\t\t\tvalue={ stateValue }\r\n\t\t\tindex={ index }\r\n\t\t\tdata={ data }\r\n\t\t\texcludeOptions={ excludeOptions }\r\n\t\t\tonChangeValue={ onChangeValue }\r\n\t\t\tisVisible={ isVisible }\r\n\t\t\tposition={ position }\r\n\t\t/> ) }\r\n\r\n\t\t{ window.JetFormEditorData.presetConfig.map_fields.map( ( data, index ) => <MapField\r\n\t\t\tkey={ `current_field_${ data.name }_${ index }` }\r\n\t\t\tcurrentState={ stateValue }\r\n\t\t\tvalue={ stateValue[ 'current_field_' + data.name ] }\r\n\t\t\tindex={ index }\r\n\t\t\tdata={ data }\r\n\t\t\tonChangeValue={ onChangeValue }\r\n\t\t\tisCurrentFieldVisible={ isCurrentFieldVisible }\r\n\t\t\tposition={ position }\r\n\t\t/> ) }\r\n\t</>;\r\n}\r\n\r\nexport default withPreset( DynamicPreset );","\r\n/**\r\n * Internal dependencies\r\n */\r\nconst {\r\n\tSelectControl,\r\n\tTextControl\r\n} = wp.components;\r\n\r\n\r\nclass JetFieldsMapControl extends wp.element.Component {\r\n\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\r\n\t\tthis.fieldTypes = this.props.fieldTypes;\r\n\t\tthis.taxonomiesList = this.props.taxonomiesList;\r\n\t\tthis.className = this.props.className;\r\n\t\tthis.metaProp = this.props.metaProp ? this.props.metaProp : 'post_meta';\r\n\t\tthis.termsProp = this.props.termsProp ? this.props.termsProp : 'post_terms';\r\n\t\tthis.index = this.props.index;\r\n\r\n\t\tthis.init();\r\n\t\tthis.bindFunctions();\r\n\r\n\t\tthis.state = {\r\n\t\t\ttype: this.getFieldType( this.props.fieldValue ),\r\n\t\t};\r\n\t}\r\n\r\n\tbindFunctions() {\r\n\t\tthis.onChangeType = this.onChangeType.bind( this );\r\n\t\tthis.onChangeValue = this.onChangeValue.bind( this );\r\n\t}\r\n\r\n\r\n\tinit() {\r\n\t\tthis.id = `inspector-select-control-${ this.index }`;\r\n\t\tthis.preparedTaxes = [];\r\n\t\tthis.taxPrefix = 'jet_tax__';\r\n\r\n\t\tif ( ! this.taxonomiesList ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tfor ( var i = 0; i < this.taxonomiesList.length; i ++ ) {\r\n\t\t\tthis.preparedTaxes.push( {\r\n\t\t\t\tvalue: this.taxPrefix + this.taxonomiesList[ i ].value,\r\n\t\t\t\tlabel: this.taxonomiesList[ i ].label,\r\n\t\t\t} );\r\n\t\t}\r\n\t}\r\n\r\n\tgetFieldName( value ) {\r\n\r\n\t\tif ( ! value ) {\r\n\t\t\treturn '';\r\n\t\t}\r\n\r\n\t\tconst fieldType = this.getFieldType( value );\r\n\r\n\t\tif ( this.termsProp === fieldType || this.metaProp === fieldType ) {\r\n\t\t\treturn value;\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn '';\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tisTermOrMeta( value ) {\r\n\t\treturn ( this.termsProp === value || this.metaProp === value );\r\n\t}\r\n\r\n\r\n\tgetFieldType( value ) {\r\n\r\n\t\tif ( ! value ) {\r\n\t\t\treturn '';\r\n\t\t}\r\n\r\n\t\tfor ( var i = 0; i < this.fieldTypes.length; i ++ ) {\r\n\t\t\tif ( value === this.fieldTypes[ i ].value ) {\r\n\t\t\t\treturn value;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( value.includes( this.taxPrefix ) ) {\r\n\t\t\treturn this.termsProp;\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn this.metaProp;\r\n\t\t}\r\n\r\n\t};\r\n\r\n\r\n\tonChangeValue( newValue ) {\r\n\t\tthis.props.onChange( {\r\n\t\t\t...this.props.fieldsMap,\r\n\t\t\t[ this.props.fieldName ]: newValue\r\n\t\t} );\r\n\t};\r\n\r\n\r\n\tonChangeType( newValue ) {\r\n\t\tlet val = this.getFieldType( newValue );\r\n\r\n\t\tthis.setState( {\r\n\t\t\ttype: val\r\n\t\t} );\r\n\r\n\t\tif ( this.isTermOrMeta( val ) ) {\r\n\t\t\tval = '';\r\n\t\t}\r\n\r\n\t\tthis.onChangeValue( val );\r\n\t}\r\n\r\n\r\n\t// Disable reason: A select with an onchange throws a warning\r\n\r\n\t/* eslint-disable jsx-a11y/no-onchange */\r\n\trender() {\r\n\t\treturn <div\r\n\t\t\tclassName=\"jet-fields-map__row\"\r\n\t\t>\r\n\t\t\t<div className=\"jet-post-field-control\">\r\n\t\t\t\t<SelectControl\r\n\t\t\t\t\tkey={ 'field_type_' + this.props.fieldName + this.index }\r\n\t\t\t\t\tlabel={ this.props.fieldName }\r\n\t\t\t\t\tlabelPosition=\"side\"\r\n\t\t\t\t\tvalue={ this.state.type }\r\n\t\t\t\t\tonChange={ this.onChangeType }\r\n\t\t\t\t\toptions={ this.fieldTypes }\r\n\t\t\t\t\tstyle={ {\r\n\t\t\t\t\t\twidth: '160px'\r\n\t\t\t\t\t} }\r\n\t\t\t\t/>\r\n\t\t\t\t{ ( this.metaProp === this.state.type ) && <TextControl\r\n\t\t\t\t\tkey={ 'field_name_' + this.props.fieldName + this.index }\r\n\t\t\t\t\tvalue={ this.props.fieldValue }\r\n\t\t\t\t\tonChange={ this.onChangeValue }\r\n\t\t\t\t\tstyle={ { width: '200px' } }\r\n\t\t\t\t/> }\r\n\t\t\t\t{ ( this.termsProp === this.state.type ) && <SelectControl\r\n\t\t\t\t\tclassName='jet-control-without-label'\r\n\t\t\t\t\tkey={ 'field_tax_' + this.props.fieldName + this.index }\r\n\t\t\t\t\tvalue={ this.props.fieldValue }\r\n\t\t\t\t\tonChange={ this.onChangeValue }\r\n\t\t\t\t\toptions={ this.preparedTaxes }\r\n\t\t\t\t\tstyle={ { width: '200px' } }\r\n\t\t\t\t/> }\r\n\t\t\t</div>\r\n\t\t</div>;\r\n\t}\r\n\r\n\t/* eslint-enable jsx-a11y/no-onchange */\r\n}\r\n\r\nexport default JetFieldsMapControl;","import ActionModal from \"../action-modal\";\r\n\r\nconst {\r\n\t\t  Path,\r\n\t\t  SVG,\r\n\t\t  BaseControl,\r\n\t  } = wp.components;\r\n\r\nconst {\r\n\tuseState,\r\n} = wp.element;\r\n\r\nfunction FieldWithPreset( {\r\n\t\t\t\t\t\t\t  children = null,\r\n\t\t\t\t\t\t\t  ModalEditor,\r\n\t\t\t\t\t\t\t  triggerClasses = [],\r\n\t\t\t\t\t\t\t  baseControlProps = {},\r\n\t\t\t\t\t\t  } ) {\r\n\r\n\tconst [ modalState, setModalState ] = useState( false );\r\n\r\n\tconst changeModalState = () => {\r\n\t\tsetModalState( prev => ! prev );\r\n\t};\r\n\tconst classNames = [ 'jet-form-dynamic-preset__trigger', ...triggerClasses ].join( ' ' );\r\n\r\n\treturn <>\r\n\t\t<BaseControl\r\n\t\t\tclassName=\"jet-form-dynamic-preset\"\r\n\t\t\t{ ...baseControlProps }\r\n\t\t>\r\n\t\t\t{ children }\r\n\t\t\t<div\r\n\t\t\t\tclassName={ classNames }\r\n\t\t\t\tonClick={ changeModalState }\r\n\t\t\t><SVG viewBox=\"0 0 54 64\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><Path\r\n\t\t\t\td=\"M42.6396 26.4347C37.8682 27.3436 32.5666 28.0252 27.1894 28.0252C21.8121 28.0252 16.4348 27.3436 11.7391 26.4347C6.96774 25.4502 3.18093 23.8597 0.37868 21.9663L0.37868 28.0252C0.37868 29.5399 1.59046 31.1304 3.78682 32.4179C5.98317 33.7054 9.46704 34.9172 13.6325 35.5988C17.798 36.2805 22.115 36.8106 27.1894 36.8106C32.2637 36.8106 36.6564 36.5077 40.7462 35.5988C44.8359 34.69 48.3198 33.7054 50.5162 32.4179C52.7125 31.1304 54 29.5399 54 28.0252L54 21.9663C51.122 23.8597 47.3352 25.4502 42.6396 26.4347ZM42.6396 53.5484C37.8682 54.5329 32.5666 55.1388 27.1894 55.1388C21.8121 55.1388 16.4348 54.5329 11.7391 53.5484C7.04348 52.5638 3.18093 51.0491 0.378682 49.1556L0.378682 55.1388C0.378683 56.7293 1.59046 58.3197 3.78682 59.5315C6.36186 60.819 9.46705 62.1066 13.6325 62.7125C17.7223 63.697 22.115 64 27.1894 64C32.2637 64 36.6564 63.697 40.7462 62.7125C44.8359 61.8036 48.3198 60.819 50.5162 59.5315C52.7125 57.9411 54 56.7293 54 54.8359L54 48.8527C51.122 51.0491 47.3352 52.2608 42.6396 53.5484ZM42.6396 39.9915C37.8682 40.9004 32.5666 41.582 27.1894 41.582C21.8121 41.582 16.4348 40.9004 11.7391 39.9915C6.96774 39.007 3.18093 37.4922 0.378681 35.5988L0.378681 41.582C0.378681 43.1725 1.59046 44.6872 3.78682 45.9747C6.36185 47.2622 9.46705 48.474 13.6325 49.1556C17.7223 50.0645 22.115 50.3674 27.1894 50.3674C32.2637 50.3674 36.6564 50.0645 40.7462 49.1556C44.8359 48.1711 48.3198 47.2622 50.5162 45.9747C52.7125 44.3843 54 43.1725 54 41.582L54 35.5988C51.122 37.4922 47.3352 39.007 42.6396 39.9915ZM40.4432 2.12337C36.3535 1.13879 31.885 0.835848 26.8864 0.835849C21.8878 0.835849 17.4194 1.13879 13.2539 2.12337C9.08836 3.10794 5.68022 4.01678 3.48387 5.3043C1.28751 6.59181 -3.4782e-06 8.10654 -3.33916e-06 9.697L-2.95513e-06 14.0897C-2.81609e-06 15.6802 1.28752 17.2706 3.48387 18.5582C6.05891 19.7699 9.1641 21.0575 13.2539 21.6633C17.3436 22.2692 21.8121 22.9509 26.8864 22.9509C31.9607 22.9509 36.3535 22.9509 40.4432 22.345C44.533 21.7391 48.0169 20.4516 50.2132 19.164C52.7125 17.5736 54 15.9831 54 14.3927L54 9.99995C54 8.40948 52.7125 6.81902 50.5162 5.60724C48.3198 4.39546 44.533 2.72926 40.4432 2.12337Z\"\r\n\t\t\t\tfill=\"#7E8993\"/></SVG>\r\n\t\t\t</div>\r\n\t\t</BaseControl>\r\n\t\t{ modalState && (\r\n\t\t\t<ActionModal\r\n\t\t\t\tonRequestClose={ changeModalState }\r\n\t\t\t\tclassNames={ [ 'width-60' ] }\r\n\t\t\t\ttitle={ 'Edit Preset' }\r\n\t\t\t>\r\n\t\t\t\t{ modalProps => <ModalEditor\r\n\t\t\t\t\t{ ...modalProps }\r\n\t\t\t\t/> }\r\n\t\t\t</ActionModal>\r\n\t\t) }\r\n\t</>;\r\n}\r\n\r\nexport default FieldWithPreset;","const { __ } = wp.i18n;\r\n\r\nconst { applyFilters, addFilter } = wp.hooks;\r\n\r\nconst { select } = wp.data;\r\n\r\nconst { store: blocksStore } = wp.blocks;\r\n\r\nconst blocksRecursiveIterator = ( blockParserFunc ) => {\r\n\tconst blocksRecursiveIterator = ( blocks ) => {\r\n\r\n\t\tblocks = blocks || select( 'core/block-editor' ).getBlocks();\r\n\r\n\t\tblocks.map( block => {\r\n\t\t\tblockParserFunc( block );\r\n\r\n\t\t\tif ( block.innerBlocks.length ) {\r\n\t\t\t\tblocksRecursiveIterator( block.innerBlocks );\r\n\t\t\t}\r\n\t\t} );\r\n\t};\r\n\r\n\tblocksRecursiveIterator();\r\n};\r\n\r\nconst getFormFieldsBlocks = (\r\n\texclude = [],\r\n\tplaceholder = false,\r\n\tsuppressFilter = false,\r\n\tcontext = 'default',\r\n) => {\r\n\tlet formFields = [];\r\n\tlet skipFields = [ 'submit', 'form-break', 'heading', 'group-break', 'conditional', ...exclude ];\r\n\r\n\tblocksRecursiveIterator( block => {\r\n\t\tif ( block.name.includes( 'jet-forms/' )\r\n\t\t     && block.attributes.name\r\n\t\t     && ! skipFields.find( field => block.name.includes( field ) )\r\n\t\t) {\r\n\r\n\t\t\t/*const blockType = select( blocksStore ).getBlockType( block.name );*/\r\n\r\n\t\t\tformFields.push( {\r\n\t\t\t\tblockName: block.name,\r\n\t\t\t\tname: block.attributes.name,\r\n\t\t\t\tlabel: block.attributes.label || block.attributes.name,\r\n\t\t\t\tvalue: block.attributes.name,\r\n\t\t\t\t//icon: blockType.icon.src,\r\n\t\t\t} );\r\n\t\t}\r\n\t} );\r\n\r\n\tformFields = placeholder\r\n\t\t? [ { value: '', label: placeholder }, ...formFields ]\r\n\t\t: formFields;\r\n\r\n\treturn suppressFilter ? formFields : applyFilters( 'jet.fb.getFormFieldsBlocks', formFields, context );\r\n};\r\n\r\nconst getFieldsWithoutCurrent = (\r\n\tplaceholder = false,\r\n\tsuppressFilter = false,\r\n\tcontext = 'default',\r\n) => {\r\n\r\n\tconst skipFields = [ 'submit', 'form-break', 'heading', 'group-break', 'conditional' ];\r\n\tlet formFields = [];\r\n\r\n\tconst current = wp.data.select( 'core/block-editor' ).getSelectedBlock();\r\n\r\n\tif ( null === current ) {\r\n\t\treturn [];\r\n\t}\r\n\r\n\tblocksRecursiveIterator( block => {\r\n\t\tif ( block.name.includes( 'jet-forms/' )\r\n\t\t     && current.clientId !== block.clientId\r\n\t\t     && ! skipFields.find( field => block.name.includes( field ) )\r\n\t\t) {\r\n\t\t\tformFields.push( {\r\n\t\t\t\tblockName: block.name,\r\n\t\t\t\tlabel: block.attributes.label || block.attributes.name,\r\n\t\t\t\tvalue: block.attributes.name,\r\n\t\t\t} );\r\n\t\t}\r\n\t} );\r\n\r\n\tformFields = placeholder\r\n\t\t? [ { value: '', label: placeholder }, ...formFields ]\r\n\t\t: formFields;\r\n\r\n\treturn suppressFilter ? formFields : applyFilters( 'jet.fb.getFormFieldsBlocks', formFields, context );\r\n};\r\n\r\nconst getAvailableFields = ( exclude = [], context = 'default' ) => {\r\n\tlet fields = [];\r\n\tconst blocks = getFormFieldsBlocks( exclude, false, false, context );\r\n\r\n\tif ( blocks ) {\r\n\t\tblocks.forEach( item => fields.push( item.name ) );\r\n\t}\r\n\treturn fields;\r\n};\r\n\r\nconst getAvailableFieldsString = ( blockName ) => {\r\n\tconst fields = getAvailableFields( [ blockName ] );\r\n\r\n\tlet fieldsString = [];\r\n\tfields.forEach( function ( item ) {\r\n\t\tfieldsString.push( '%FIELD::' + item + '%' );\r\n\t} );\r\n\r\n\treturn __( 'Available fields: ', 'jet-form-builder' ) + fieldsString.join( ', ' );\r\n};\r\n\r\nconst getInnerBlocks = ( clientId ) => {\r\n\tconst block = wp.data.select( 'core/block-editor' ).getBlock( clientId );\r\n\treturn block ? block.innerBlocks : [];\r\n};\r\n\r\nconst getFormFieldsByBlock = ( blockExclude ) => {\r\n\treturn () => getFormFieldsBlocks( [ blockExclude.name ] );\r\n};\r\n\r\nconst getBlocksByName = blockNames => {\r\n\tconst blocks = [];\r\n\r\n\tblocksRecursiveIterator( block => {\r\n\t\tif ( ! blockNames.includes( block.name ) ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tblocks.push( block );\r\n\t} );\r\n\r\n\treturn blocks;\r\n};\r\n\r\nconst appendField = ( callback, fieldNames = [] ) => {\r\n\taddFilter( 'jet.fb.register.fields', 'jet-form-builder', blocks => {\r\n\t\treturn blocks.map( block => {\r\n\t\t\tif ( fieldNames.length && ! fieldNames.includes( block.name ) ) {\r\n\t\t\t\treturn block;\r\n\t\t\t}\r\n\r\n\t\t\treturn callback( block );\r\n\t\t} );\r\n\t} );\r\n};\r\n\r\nexport {\r\n\tgetFormFieldsByBlock,\r\n\tgetInnerBlocks,\r\n\tgetAvailableFieldsString,\r\n\tgetAvailableFields,\r\n\tgetFormFieldsBlocks,\r\n\tgetFieldsWithoutCurrent,\r\n\tgetBlocksByName,\r\n\tappendField,\r\n};\r\n\r\n","import {\r\n\tclassnames,\r\n\tgetConvertedName,\r\n} from '../../helpers/tools';\r\n\r\nconst {\r\n\t\t  BaseControl,\r\n\t  } = wp.components;\r\n\r\nconst {\r\n\t\t  withSelect,\r\n\t  } = wp.data;\r\n\r\nconst {\r\n\t\t  RichText,\r\n\t  } = wp.blockEditor;\r\n\r\nconst { __ } = wp.i18n;\r\n\r\nfunction RichDescription( content ) {\r\n\treturn <small style={ {\r\n\t\twhiteSpace: 'nowrap',\r\n\t\tpadding: '0.2em 0.8em 0 0',\r\n\t\tcolor: '#8e8a8a',\r\n\t} }>\r\n\t\t{ content }\r\n\t</small>;\r\n}\r\n\r\nfunction FieldWrapper( props ) {\r\n\r\n\tconst {\r\n\t\t\t  attributes,\r\n\t\t\t  editProps: { uniqKey, blockName = '' },\r\n\t\t\t  children,\r\n\t\t\t  wrapClasses       = [],\r\n\t\t\t  valueIfEmptyLabel = '',\r\n\t\t\t  setAttributes,\r\n\t\t\t  childrenPosition  = 'between',\r\n\t\t\t  _jf_args,\r\n\t\t  } = props;\r\n\r\n\tconst setDynamicName = () => {\r\n\t\tif ( 1 < attributes.label.length\r\n\t\t\t&& ( ! attributes.name || 'field_name' === attributes.name )\r\n\t\t) {\r\n\t\t\tsetAttributes( { name: getConvertedName( attributes.label ) } )\r\n\t\t}\r\n\t};\r\n\r\n\tfunction renderLabel() {\r\n\t\treturn <BaseControl.VisualLabel>\r\n\t\t\t{ RichDescription( __( 'input label:', 'jet-form-builder' ) ) }\r\n\t\t\t<div onBlur={ setDynamicName } className='jet-form-builder__label'>\r\n\t\t\t\t<RichText\r\n\t\t\t\t\tkey={ uniqKey( 'rich-label' ) }\r\n\t\t\t\t\tplaceholder='Label...'\r\n\t\t\t\t\tallowedFormats={ [] }\r\n\t\t\t\t\tvalue={ attributes.label ? attributes.label : valueIfEmptyLabel }\r\n\t\t\t\t\tonChange={ newLabel => setAttributes( { label: newLabel } ) }\r\n\t\t\t\t/>\r\n\t\t\t\t{ attributes.required && <span className={ 'jet-form-builder__required' }>\r\n\t\t\t\t\t{ _jf_args.required_mark ? _jf_args.required_mark : '*' }\r\n\t\t\t\t</span> }\r\n\t\t\t</div>\r\n\t\t</BaseControl.VisualLabel>;\r\n\t}\r\n\r\n\tfunction renderDescription() {\r\n\t\treturn <div className='jet-form-builder__desc--wrapper'>\r\n\t\t\t{ RichDescription( __( 'input description:', 'jet-form-builder' ) ) }\r\n\t\t\t<BaseControl key={ 'custom_help_description' } className={ 'jet-form-builder__desc' }>\r\n\t\t\t\t<div className='components-base-control__help'>\r\n\t\t\t\t\t<RichText\r\n\t\t\t\t\t\tkey={ uniqKey( 'rich-description' ) }\r\n\t\t\t\t\t\ttagName='small'\r\n\t\t\t\t\t\tplaceholder='Description...'\r\n\t\t\t\t\t\tallowedFormats={ [] }\r\n\t\t\t\t\t\tvalue={ attributes.desc }\r\n\t\t\t\t\t\tonChange={ desc => setAttributes( { desc } ) }\r\n\t\t\t\t\t\tstyle={ { marginTop: '0px' } }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</BaseControl>\r\n\t\t</div>;\r\n\t}\r\n\r\n\tif ( 'row' === _jf_args.fields_layout ) {\r\n\t\twrapClasses.push( 'jet-form-builder-row__flex' );\r\n\t}\r\n\r\n\treturn (\r\n\t\t<BaseControl\r\n\t\t\tkey={ uniqKey( 'placeHolder_block' ) }\r\n\t\t\tclassName={ classnames(\r\n\t\t\t\t'jet-form-builder__field-wrap',\r\n\t\t\t\t'jet-form-builder-row',\r\n\t\t\t\twrapClasses,\r\n\t\t\t) }\r\n\t\t>\r\n\t\t\t{ 'row' !== _jf_args.fields_layout && <>\r\n\t\t\t\t{ 'top' === childrenPosition && children }\r\n\t\t\t\t{ renderLabel() }\r\n\t\t\t\t{ 'between' === childrenPosition && children }\r\n\t\t\t\t{ renderDescription() }\r\n\t\t\t\t{ 'bottom' === childrenPosition && children }\r\n\t\t\t</> }\r\n\t\t\t{ 'row' === _jf_args.fields_layout && <>\r\n\t\t\t\t<div className='jet-form-builder-row__flex--label'>\r\n\t\t\t\t\t{ renderLabel() }\r\n\t\t\t\t\t{ renderDescription() }\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='jet-form-builder-row__flex--content'>{ children }</div>\r\n\t\t\t</> }\r\n\t\t</BaseControl>\r\n\t);\r\n}\r\n\r\nexport default withSelect( select => {\r\n\tconst meta = select( 'core/editor' ).getEditedPostAttribute( 'meta' ) || {};\r\n\r\n\treturn {\r\n\t\t_jf_args: JSON.parse( meta._jf_args || {} ),\r\n\t}\r\n} )( FieldWrapper );","const {\r\n\t\t  Button,\r\n\t\t  Popover,\r\n\t\t  PanelBody,\r\n\t  } = wp.components;\r\n\r\nconst {\r\n\t\t  useState,\r\n\t  } = wp.element;\r\n\r\nfunction MacrosInserter( {\r\n\t\t\t\t\t\t\t children,\r\n\t\t\t\t\t\t\t fields,\r\n\t\t\t\t\t\t\t onFieldClick,\r\n\t\t\t\t\t\t\t customMacros,\r\n\t\t\t\t\t\t\t zIndex = 1000000,\r\n\t\t\t\t\t\t\t ...popoverProps\r\n\t\t\t\t\t\t } ) {\r\n\r\n\tconst [ showPopover, setPopoverState ] = useState( () => false );\r\n\r\n\treturn <div className=\"jet-form-editor__macros-inserter\">\r\n\t\t<Button\r\n\t\t\tisTertiary\r\n\t\t\tisSmall\r\n\t\t\ticon={ showPopover ? 'no-alt' : 'admin-tools' }\r\n\t\t\tlabel={ 'Insert macros' }\r\n\t\t\tclassName=\"jet-form-editor__macros-trigger\"\r\n\t\t\tonClick={ () => {\r\n\t\t\t\tsetPopoverState( prev => ! prev );\r\n\t\t\t} }\r\n\t\t/>\r\n\t\t{ showPopover && (\r\n\t\t\t<Popover\r\n\t\t\t\tstyle={ { zIndex } }\r\n\t\t\t\tposition={ 'bottom left' }\r\n\t\t\t\t{ ...popoverProps }\r\n\t\t\t>\r\n\t\t\t\t{ fields.length && <PanelBody title={ 'Form Fields' }>\r\n\t\t\t\t\t{ fields.map( field => {\r\n\t\t\t\t\t\treturn <div key={ 'field_' + field.name }>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tisLink\r\n\t\t\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\t\t\tonFieldClick( field.name )\r\n\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t>{ '%' + field.name + '%' }</Button>\r\n\t\t\t\t\t\t</div>;\r\n\t\t\t\t\t} ) }\r\n\t\t\t\t</PanelBody> }\r\n\t\t\t\t{ customMacros && <PanelBody title={ 'Custom Macros' }>\r\n\t\t\t\t\t{ customMacros.map( macros => {\r\n\t\t\t\t\t\treturn <div key={ 'macros_' + macros }>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tisLink\r\n\t\t\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\t\t\tonFieldClick( macros )\r\n\t\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t\t>{ '%' + macros + '%' }</Button>\r\n\t\t\t\t\t\t</div>;\r\n\t\t\t\t\t} ) }\r\n\t\t\t\t</PanelBody> }\r\n\t\t\t</Popover>\r\n\t\t) }\r\n\t</div>;\r\n}\r\n\r\nexport default MacrosInserter;","const { __ } = wp.i18n;\r\n\r\nconst {\r\n\t\t  Button,\r\n\t\t  ButtonGroup,\r\n\t\t  Card,\r\n\t\t  CardBody,\r\n\t\t  CardHeader,\r\n\t\t  ToggleControl,\r\n\t\t  Flex,\r\n\t\t  FlexItem,\r\n\t  } = wp.components;\r\n\r\nconst {\r\n\t\t  useState,\r\n\t\t  useEffect,\r\n\t  } = wp.element;\r\n\r\nfunction RepeaterWithState( {\r\n\t\t\t\t\t\t\t\tchildren,\r\n\t\t\t\t\t\t\t\tItemHeading,\r\n\t\t\t\t\t\t\t\trepeaterClasses = [],\r\n\t\t\t\t\t\t\t\trepeaterItemClasses = [],\r\n\t\t\t\t\t\t\t\tnewItem,\r\n\t\t\t\t\t\t\t\taddNewButtonLabel = 'Add New',\r\n\t\t\t\t\t\t\t\titems = [],\r\n\t\t\t\t\t\t\t\tisSaveAction,\r\n\t\t\t\t\t\t\t\tonSaveItems,\r\n\t\t\t\t\t\t\t\tonUnMount,\r\n\t\t\t\t\t\t\t\tonAddNewItem,\r\n\t\t\t\t\t\t\t\tonRemoveItem,\r\n\t\t\t\t\t\t\t\thelp = {\r\n\t\t\t\t\t\t\t\t\thelpSource: {},\r\n\t\t\t\t\t\t\t\t\thelpVisible: () => false,\r\n\t\t\t\t\t\t\t\t\thelpKey: '',\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tadditionalControls = null,\r\n\t\t\t\t\t\t\t} ) {\r\n\r\n\tconst classNames = [ 'jet-form-builder__repeater-component', ...repeaterClasses ].join( ' ' );\r\n\tconst itemClassNames = [ 'jet-form-builder__repeater-component-item', ...repeaterItemClasses ].join( ' ' );\r\n\r\n\tconst parsedItems = () => {\r\n\t\tif ( items && items.length > 0 ) {\r\n\t\t\treturn items.map( item => {\r\n\t\t\t\titem.__visible = false;\r\n\r\n\t\t\t\treturn item;\r\n\t\t\t} );\r\n\t\t} else {\r\n\t\t\treturn [ {\r\n\t\t\t\t...newItem,\r\n\t\t\t\t__visible: true,\r\n\t\t\t} ];\r\n\t\t}\r\n\t}\r\n\r\n\tconst [ itemsData, setItemsData ] = useState( [] );\r\n\r\n\tuseEffect( () => {\r\n\t\tsetItemsData( parsedItems() );\r\n\t}, [] );\r\n\r\n\tconst [ isSafeDeleting, setSafeDeleting ] = useState( true );\r\n\r\n\tconst changeCurrentItem = ( valueToSet, index ) => {\r\n\t\tsetItemsData( prev => {\r\n\t\t\tconst prevClone = JSON.parse( JSON.stringify( prev ) );\r\n\r\n\t\t\tprevClone[ index ] = {\r\n\t\t\t\t...prev[ index ],\r\n\t\t\t\t...valueToSet,\r\n\t\t\t};\r\n\t\t\treturn prevClone;\r\n\t\t} );\r\n\t};\r\n\r\n\tconst onSaveDeleting = index => {\r\n\t\treturn confirm( __( `Are you sure you want to remove item ${ index + 1 }?`, 'jet-form-builder' ) );\r\n\t}\r\n\r\n\tconst removeOption = ( index ) => {\r\n\t\tif (\r\n\t\t\tisSafeDeleting && ! onSaveDeleting( index ) ||\r\n\t\t\tonRemoveItem && ! onRemoveItem( index, itemsData )\r\n\t\t) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsetItemsData( prev => {\r\n\t\t\tconst prevClone = JSON.parse( JSON.stringify( prev ) );\r\n\t\t\tprevClone.splice( index, 1 );\r\n\r\n\t\t\treturn prevClone;\r\n\t\t} );\r\n\t}\r\n\r\n\tconst addNewItem = ( value ) => {\r\n\t\tif ( onAddNewItem ) {\r\n\t\t\tonAddNewItem( value, itemsData );\r\n\t\t}\r\n\t\tsetItemsData( prev => [ ...prev, {\r\n\t\t\t...value,\r\n\t\t\t__visible: true,\r\n\t\t} ] );\r\n\t}\r\n\r\n\tconst cloneItem = ( index ) => {\r\n\t\tsetItemsData( prev => {\r\n\t\t\tconst prevClone = JSON.parse( JSON.stringify( prev ) );\r\n\t\t\tconst [ before, after ] = [ prevClone.slice( 0, index + 1 ), prevClone.slice( index + 1 ) ];\r\n\r\n\t\t\treturn [ ...before, prevClone[ index ], ...after ];\r\n\t\t} );\r\n\t}\r\n\r\n\tconst moveRepeaterItem = ( { oldIndex, newIndex } ) => {\r\n\t\tsetItemsData( prev => {\r\n\t\t\tconst prevClone = JSON.parse( JSON.stringify( prev ) );\r\n\r\n\t\t\t[ prevClone[ newIndex ], prevClone[ oldIndex ] ] = [ prevClone[ oldIndex ], prevClone[ newIndex ] ];\r\n\r\n\t\t\treturn prevClone;\r\n\t\t} );\r\n\t}\r\n\r\n\tconst moveUp = ( index ) => {\r\n\t\tmoveRepeaterItem( { oldIndex: index, newIndex: index - 1 } );\r\n\t}\r\n\tconst moveDown = ( index ) => {\r\n\t\tmoveRepeaterItem( { oldIndex: index, newIndex: index + 1 } );\r\n\t}\r\n\r\n\tconst isDisabledEnd = ( index ) => {\r\n\t\treturn ! ( index < itemsData.length - 1 );\r\n\t}\r\n\r\n\tconst toggleVisible = index => {\r\n\t\tsetItemsData( prev => {\r\n\t\t\tconst prevClone = JSON.parse( JSON.stringify( prev ) );\r\n\t\t\tprevClone[ index ].__visible = ! ( prevClone[ index ].__visible );\r\n\r\n\t\t\treturn prevClone;\r\n\t\t} );\r\n\t};\r\n\r\n\tuseEffect( () => {\r\n\t\tif ( true === isSaveAction ) {\r\n\t\t\tfor ( const itemsDataKey in itemsData ) {\r\n\t\t\t\tfor ( const itemKey in itemsData[ itemsDataKey ] ) {\r\n\t\t\t\t\tif ( itemKey.startsWith( '__' ) ) {\r\n\t\t\t\t\t\tdelete itemsData[ itemsDataKey ][ itemKey ];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tonSaveItems( itemsData );\r\n\t\t\tonUnMount();\r\n\t\t} else if ( false === isSaveAction ) {\r\n\t\t\tonUnMount();\r\n\t\t}\r\n\t}, [ isSaveAction ] );\r\n\r\n\tconst getRepeaterItemId = index => `jet-form-builder-repeater__item_${ index }`;\r\n\r\n\tconst {\r\n\t\t\t  helpSource,\r\n\t\t\t  helpVisible,\r\n\t\t\t  helpKey,\r\n\t\t  } = help;\r\n\r\n\tconst isVisibleHelp = helpVisible( itemsData ) && helpSource && helpSource[ helpKey ];\r\n\r\n\treturn <div\r\n\t\tclassName={ classNames }\r\n\t\tkey={ 'jet-form-builder-repeater' }\r\n\t>\r\n\t\t{ isVisibleHelp && <p>{ helpSource[ helpKey ].label }</p> }\r\n\r\n\t\t{ 0 < itemsData.length && <>\r\n\t\t\t<Flex>\r\n\t\t\t\t<FlexItem>\r\n\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\tlabel={ __( 'Safe deleting', 'jet-form-builder' ) }\r\n\t\t\t\t\t\tchecked={ isSafeDeleting }\r\n\t\t\t\t\t\tonChange={ setSafeDeleting }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</FlexItem>\r\n\t\t\t\t<FlexItem style={ {\r\n\t\t\t\t\tflex: 'unset',\r\n\t\t\t\t\tmarginBottom: '1em',\r\n\t\t\t\t} }>\r\n\t\t\t\t\t{/*<ButtonGroup>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tisSecondary\r\n\t\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{ __( 'Copy items to clipboard', 'jet-from-builder' ) }\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tisSecondary\r\n\t\t\t\t\t\t\tonClick={ () => {\r\n\t\t\t\t\t\t\t} }\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{ __( 'Import items from clipboard', 'jet-from-builder' ) }\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</ButtonGroup>*/ }\r\n\t\t\t\t</FlexItem>\r\n\t\t\t</Flex>\r\n\t\t</> }\r\n\t\t{ additionalControls }\r\n\t\t{ itemsData.map( ( currentItem, index ) => <Card\r\n\t\t\tisElevated={ true }\r\n\t\t\tclassName={ itemClassNames }\r\n\t\t\tkey={ getRepeaterItemId( index ) }\r\n\t\t>\r\n\t\t\t<CardHeader className={ 'repeater__item__header' }>\r\n\t\t\t\t<div className='repeater-item__left-heading'>\r\n\t\t\t\t\t<ButtonGroup className={ 'repeater-action-buttons' }>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tisSmall\r\n\t\t\t\t\t\t\ticon={ currentItem.__visible ? 'no-alt' : 'edit' }\r\n\t\t\t\t\t\t\tonClick={ () => toggleVisible( index ) }\r\n\t\t\t\t\t\t\tclassName={ 'repeater-action-button' }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tisSmall\r\n\t\t\t\t\t\t\tisSecondary\r\n\t\t\t\t\t\t\tdisabled={ ! Boolean( index ) }\r\n\t\t\t\t\t\t\ticon={ 'arrow-up-alt2' }\r\n\t\t\t\t\t\t\tonClick={ () => moveUp( index ) }\r\n\t\t\t\t\t\t\tclassName={ 'repeater-action-button' }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tisSmall\r\n\t\t\t\t\t\t\tisSecondary\r\n\t\t\t\t\t\t\tdisabled={ isDisabledEnd( index ) }\r\n\t\t\t\t\t\t\ticon={ 'arrow-down-alt2' }\r\n\t\t\t\t\t\t\tonClick={ () => moveDown( index ) }\r\n\t\t\t\t\t\t\tclassName={ 'repeater-action-button' }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t<span className={ 'repeater-item-title' }>\r\n\t\t\t\t\t\t\t{ ItemHeading && <ItemHeading\r\n\t\t\t\t\t\t\t\tcurrentItem={ currentItem }\r\n\t\t\t\t\t\t\t\tindex={ index }\r\n\t\t\t\t\t\t\t\tchangeCurrentItem={ data => changeCurrentItem( data, index ) }\r\n\t\t\t\t\t\t\t/> }\r\n\t\t\t\t\t\t{ ! ItemHeading && `#${ index + 1 }` }\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<ButtonGroup>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tisSmall\r\n\t\t\t\t\t\tisSecondary\r\n\t\t\t\t\t\tonClick={ () => cloneItem( index ) }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{ __( 'Clone', 'jet-form-builder' ) }\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tisSmall\r\n\t\t\t\t\t\tisSecondary\r\n\t\t\t\t\t\tisDestructive\r\n\t\t\t\t\t\tonClick={ () => removeOption( index ) }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{ __( 'Delete', 'jet-form-builder' ) }\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</ButtonGroup>\r\n\t\t\t</CardHeader>\r\n\t\t\t{ currentItem.__visible && <CardBody\r\n\t\t\t\tclassName={ 'repeater-item__content' }\r\n\t\t\t>\r\n\t\t\t\t{ children && <React.Fragment\r\n\t\t\t\t\tkey={ `repeater-component__item_${ index }` }\r\n\t\t\t\t>\r\n\t\t\t\t\t{ 'function' === typeof children && children( {\r\n\t\t\t\t\t\tcurrentItem,\r\n\t\t\t\t\t\tchangeCurrentItem: data => changeCurrentItem( data, index ),\r\n\t\t\t\t\t\tcurrentIndex: index,\r\n\t\t\t\t\t} ) }\r\n\t\t\t\t\t{ 'function' !== typeof children && children }\r\n\t\t\t\t</React.Fragment> }\r\n\t\t\t\t{ ! children && 'Set up your Repeater Template, please.' }\r\n\t\t\t</CardBody> }\r\n\t\t</Card> ) }\r\n\t\t{ 1 < itemsData.length && <>\r\n\t\t\t{ additionalControls }\r\n\t\t\t<ToggleControl\r\n\t\t\t\tclassName='jet-control-clear'\r\n\t\t\t\tlabel={ __( 'Safe deleting' ) }\r\n\t\t\t\tchecked={ isSafeDeleting }\r\n\t\t\t\tonChange={ setSafeDeleting }\r\n\t\t\t/>\r\n\t\t</> }\r\n\t\t<Button\r\n\t\t\tisSecondary\r\n\t\t\tonClick={ () => addNewItem( newItem ) }\r\n\t\t>\r\n\t\t\t{ addNewButtonLabel }\r\n\t\t</Button>\r\n\t</div>;\r\n}\r\n\r\nexport default RepeaterWithState;","const { __ } = wp.i18n;\r\nconst { applyFilters } = wp.hooks;\r\n\r\nexport const ControlsSettings = () => applyFilters( 'jet.fb.register.fields.controls', {\r\n\t\"general\": {\r\n\t\tlabel: __( 'General', 'jet-form-builder' ),\r\n\t\tattrs: [\r\n\t\t\t{\r\n\t\t\t\t\"attrName\": \"label\",\r\n\t\t\t\t\"type\": \"text\",\r\n\t\t\t\t\"label\": __( \"Field Label\", 'jet-form-builder' ),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"attrName\": \"name\",\r\n\t\t\t\t\"type\": \"text\",\r\n\t\t\t\t\"label\": __( \"Form field name\", 'jet-form-builder' ),\r\n\t\t\t\t\"help\": __( \"Should contain only Latin letters, numbers, `-` or `_` chars, no spaces only lower case\", 'jet-form-builder' ),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"attrName\": \"desc\",\r\n\t\t\t\t\"type\": \"text\",\r\n\t\t\t\t\"label\": __( \"Field Description\", 'jet-form-builder' ),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"attrName\": \"default\",\r\n\t\t\t\t\"type\": \"dynamic_text\",\r\n\t\t\t\t\"label\": __( \"Default Value\", 'jet-form-builder' ),\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n\t\"toolbar\": {\r\n\t\tattrs: [\r\n\t\t\t{\r\n\t\t\t\t\"attrName\": \"required\",\r\n\t\t\t\t\"type\": \"toggle\",\r\n\t\t\t\t\"label\": __( \"Is Required\", 'jet-form-builder' ),\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n\t\"advanced\": {\r\n\t\tlabel: __( 'Advanced', 'jet-form-builder' ),\r\n\t\tattrs: [\r\n\t\t\t{\r\n\t\t\t\t\"attrName\": \"placeholder\",\r\n\t\t\t\t\"type\": \"text\",\r\n\t\t\t\t\"label\": __( \"Placeholder\", 'jet-form-builder' ),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"attrName\": \"add_prev\",\r\n\t\t\t\t\"type\": \"toggle\",\r\n\t\t\t\t\"label\": __( \"Add Prev Page Button\", 'jet-form-builder' ),\r\n\t\t\t\thelp: __( `It is recommended to use \r\n\t\t\t\tthe \"Action Button\" block with the \"Go to Prev Page\" type`, 'jet-from-builder' ),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"attrName\": \"prev_label\",\r\n\t\t\t\t\"type\": \"text\",\r\n\t\t\t\t\"label\": __( \"Prev Page Button Label\", 'jet-form-builder' ),\r\n\t\t\t\t\"condition\": \"add_prev\",\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"attrName\": \"visibility\",\r\n\t\t\t\t\"label\": __( \"Field Visibility\", 'jet-form-builder' ),\r\n\t\t\t\t\"type\": \"select\",\r\n\t\t\t\t\"options\": [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"value\": \"all\",\r\n\t\t\t\t\t\t\"label\": __( \"For all\", 'jet-form-builder' ),\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"value\": \"logged_id\",\r\n\t\t\t\t\t\t\"label\": __( \"Only for logged in users\", 'jet-form-builder' ),\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"value\": \"not_logged_in\",\r\n\t\t\t\t\t\t\"label\": __( \"Only for NOT-logged in users\", 'jet-form-builder' ),\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"attrName\": \"class_name\",\r\n\t\t\t\t\"type\": \"text\",\r\n\t\t\t\t\"label\": __( \"CSS Class Name\", 'jet-form-builder' ),\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n} )\r\n\r\nexport function getBlockControls( type = 'all' ) {\r\n\tif ( ! type ) {\r\n\t\treturn false;\r\n\t}\r\n\tconst controls = ControlsSettings();\r\n\r\n\tif ( 'all' === type ) {\r\n\t\treturn controls;\r\n\t}\r\n\r\n\tif ( controls[ type ]\r\n\t\t&& controls[ type ].attrs\r\n\t\t&& Array.isArray( controls[ type ].attrs )\r\n\t\t&& 0 < controls[ type ].attrs.length\r\n\t) {\r\n\t\treturn controls[ type ].attrs;\r\n\t}\r\n\r\n\treturn false;\r\n}","import { ControlsSettings } from \"./controls\";\r\nimport FieldWithPreset from \"./field-with-preset\";\r\nimport DynamicPreset from \"../presets/dynamic-preset\";\r\nimport { getConvertedName } from '../../helpers/tools';\r\nimport { useSuccessNotice } from '../../helpers/hooks/hooks-helper';\r\n\r\nconst {\r\n\t\t  BlockControls,\r\n\t\t  RichText,\r\n\t  } = wp.blockEditor ? wp.blockEditor : wp.editor;\r\n\r\nconst {\r\n\t\t  useState,\r\n\t\t  useEffect,\r\n\t  } = wp.element;\r\n\r\nconst {\r\n\t\t  useDispatch,\r\n\t  } = wp.data;\r\n\r\nconst {\r\n\t\t  TextControl,\r\n\t\t  SelectControl,\r\n\t\t  PanelBody,\r\n\t\t  ToggleControl,\r\n\t\t  ToolbarGroup,\r\n\t\t  Flex,\r\n\t\t  BaseControl,\r\n\t\t  __experimentalNumberControl,\r\n\t\t  ClipboardButton,\r\n\t\t  Snackbar,\r\n\t  } = wp.components;\r\n\r\nlet { NumberControl } = wp.components;\r\n\r\nif ( typeof NumberControl === 'undefined' ) {\r\n\tNumberControl = __experimentalNumberControl;\r\n}\r\n\r\nfunction filterFieldControls( {\r\n\t\t\t\t\t\t\t\t  type,\r\n\t\t\t\t\t\t\t\t  attributes,\r\n\t\t\t\t\t\t\t\t  attrsSettings = {},\r\n\t\t\t\t\t\t\t\t  editProps: {\r\n\t\t\t\t\t\t\t\t\t  attrHelp = () => '',\r\n\t\t\t\t\t\t\t\t\t  blockName = '',\r\n\t\t\t\t\t\t\t\t  },\r\n\t\t\t\t\t\t\t  } ) {\r\n\tconst controls = ControlsSettings();\r\n\r\n\tif ( ! controls[ type ] ) {\r\n\t\treturn [];\r\n\t}\r\n\r\n\tconst currentControl = controls[ type ];\r\n\r\n\tconst isValidCondition = ( attr ) => {\r\n\t\tif ( ! attr.condition ) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tif ( blockName && attr.condition.blockName ) {\r\n\t\t\tif ( 'string' === typeof attr.condition.blockName && blockName !== attr.condition.blockName ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif ( 'object' === typeof attr.condition.blockName\r\n\t\t\t\t&& attr.condition.blockName.length\r\n\t\t\t\t&& ! attr.condition.blockName.includes( blockName )\r\n\t\t\t) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst objectNotMatch = ( function() {\r\n\t\t\tif ( 'object' !== typeof attr.condition.attr ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tconst { operator = 'and', items = {} } = attr.condition.attr\r\n\r\n\t\t\tif ( 'or' === operator.toLowerCase() ) {\r\n\t\t\t\tfor ( const attrToCompare in items ) {\r\n\t\t\t\t\tconst valueCompare = items[ attrToCompare ];\r\n\r\n\t\t\t\t\tif ( valueCompare === attributes[ attrToCompare ] ) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif ( 'and' === operator.toLowerCase() ) {\r\n\t\t\t\treturn ( function() {\r\n\t\t\t\t\tfor ( const attrToCompare in items ) {\r\n\t\t\t\t\t\tif ( items[ attrToCompare ] !== attributes[ attrToCompare ] ) {\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t} )()\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\t\t} )()\r\n\r\n\t\tif ( ! objectNotMatch\r\n\t\t\t|| (\r\n\t\t\t\t'string' === typeof attr.condition.attr\r\n\t\t\t\t&& attr.condition.attr\r\n\t\t\t\t&& ! attributes[ attr.condition.attr ]\r\n\t\t\t)\r\n\t\t\t|| (\r\n\t\t\t\t'string' === typeof attr.condition\r\n\t\t\t\t&& ! attributes[ attr.condition ]\r\n\t\t\t)\r\n\t\t) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t};\r\n\r\n\treturn currentControl.attrs.filter( ( { help = '', attrName, label, ...attr } ) => {\r\n\t\tconst isRegisterAttribute = ( attrName in attributes );\r\n\t\tconst validCondition = isValidCondition( attr );\r\n\t\tconst isHidden = (\r\n\t\t\tattrName in attrsSettings\r\n\t\t\t&& 'show' in attrsSettings[ attrName ]\r\n\t\t\t&& false === attrsSettings[ attrName ].show\r\n\t\t);\r\n\r\n\t\treturn ( isRegisterAttribute && validCondition && ! isHidden )\r\n\t} );\r\n}\r\n\r\nfunction FieldControl( props ) {\r\n\tlet {\r\n\t\t\tsetAttributes,\r\n\t\t\tattributes,\r\n\t\t\teditProps: {\r\n\t\t\t\tattrHelp  = () => '',\r\n\t\t\t\tblockName = '',\r\n\t\t\t},\r\n\t\t\tfieldControls = [],\r\n\t\t\tautoCompleteLabel = true\r\n\t\t} = props;\r\n\r\n\tif ( ! fieldControls.length ) {\r\n\t\tfieldControls = filterFieldControls( props );\r\n\t}\r\n\r\n\tconst onChangeValue = ( value, key ) => {\r\n\t\tsetAttributes( { [ key ]: value } );\r\n\t};\r\n\r\n\treturn fieldControls.map( ( { help = '', attrName, label, ...attr } ) => {\r\n\t\tswitch ( attr.type ) {\r\n\t\t\tcase 'text':\r\n\t\t\t\treturn <TextControl\r\n\t\t\t\t\tkey={ `${ attr.type }-${ attrName }-TextControl` }\r\n\t\t\t\t\tlabel={ label }\r\n\t\t\t\t\thelp={ help }\r\n\t\t\t\t\tvalue={ attributes[ attrName ] }\r\n\t\t\t\t\tonChange={ newVal => onChangeValue( newVal, attrName ) }\r\n\t\t\t\t\tonBlur={ () => {\r\n\t\t\t\t\t\tif ( 'label' === attrName\r\n\t\t\t\t\t\t\t&& 1 < attributes.label.length\r\n\t\t\t\t\t\t\t&& ( ! attributes.name || 'field_name' === attributes.name )\r\n\t\t\t\t\t\t\t&& autoCompleteLabel\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\tonChangeValue( getConvertedName( attributes.label ), 'name' );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} }\r\n\t\t\t\t/>;\r\n\t\t\tcase 'dynamic_text':\r\n\t\t\t\treturn <FieldWithPreset\r\n\t\t\t\t\tkey={ `${ attr.type }-${ attrName }-FieldWithPreset` }\r\n\t\t\t\t\tModalEditor={ ( { actionClick, onRequestClose } ) => <DynamicPreset\r\n\t\t\t\t\t\tvalue={ attributes[ attrName ] }\r\n\t\t\t\t\t\tisSaveAction={ actionClick }\r\n\t\t\t\t\t\tonSavePreset={ newVal => {\r\n\t\t\t\t\t\t\tonChangeValue( newVal, attrName )\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t\tonUnMount={ onRequestClose }\r\n\t\t\t\t\t/> }\r\n\t\t\t\t>\r\n\t\t\t\t\t<TextControl\r\n\t\t\t\t\t\tkey={ `${ attr.type }-${ attrName }-TextControlDynamic` }\r\n\t\t\t\t\t\tlabel={ label }\r\n\t\t\t\t\t\thelp={ help || attrHelp( attrName ) }\r\n\t\t\t\t\t\tvalue={ attributes[ attrName ] }\r\n\t\t\t\t\t\tonChange={ newVal => {\r\n\t\t\t\t\t\t\tonChangeValue( newVal, attrName )\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</FieldWithPreset>;\r\n\t\t\tcase 'select':\r\n\t\t\t\treturn <SelectControl\r\n\t\t\t\t\tkey={ `${ attr.type }-${ attrName }-SelectControl` }\r\n\t\t\t\t\tlabel={ label }\r\n\t\t\t\t\thelp={ help || attrHelp( attrName ) }\r\n\t\t\t\t\tvalue={ attributes[ attrName ] }\r\n\t\t\t\t\toptions={ attr.options }\r\n\t\t\t\t\tonChange={ newVal => {\r\n\t\t\t\t\t\tonChangeValue( newVal, attrName )\r\n\t\t\t\t\t} }\r\n\t\t\t\t/>;\r\n\t\t\tcase 'toggle':\r\n\t\t\t\treturn <ToggleControl\r\n\t\t\t\t\tkey={ `${ attr.type }-${ attrName }-ToggleControl` }\r\n\t\t\t\t\tlabel={ label }\r\n\t\t\t\t\thelp={ help || attrHelp( attrName ) }\r\n\t\t\t\t\tchecked={ attributes[ attrName ] }\r\n\t\t\t\t\tonChange={ newVal => {\r\n\t\t\t\t\t\tonChangeValue( newVal, attrName )\r\n\t\t\t\t\t} }\r\n\t\t\t\t/>;\r\n\t\t\tcase 'number':\r\n\t\t\t\treturn <BaseControl\r\n\t\t\t\t\tkey={ `${ attr.type }-${ attrName }-BaseControl` }\r\n\t\t\t\t\tlabel={ label }\r\n\t\t\t\t>\r\n\t\t\t\t\t<NumberControl\r\n\t\t\t\t\t\tkey={ `${ attr.type }-${ attrName }-NumberControl` }\r\n\t\t\t\t\t\tvalue={ attributes[ attrName ] }\r\n\t\t\t\t\t\tonChange={ newVal => {\r\n\t\t\t\t\t\t\tonChangeValue( Number( newVal ), attrName )\r\n\t\t\t\t\t\t} }\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<p className={ 'components-base-control__help' }\r\n\t\t\t\t\t   style={ {\r\n\t\t\t\t\t\t   color: 'rgb(117, 117, 117)',\r\n\t\t\t\t\t   } }>{ help || attrHelp( attrName ) }</p>\r\n\t\t\t\t</BaseControl>;\r\n\t\t}\r\n\r\n\t} );\r\n\r\n}\r\n\r\nfunction GeneralFields( props ) {\r\n\tconst currentControl = ControlsSettings().general;\r\n\r\n\treturn <PanelBody title={ currentControl.label } key={ 'jet-form-general-fields' }>\r\n\t\t<FieldControl\r\n\t\t\ttype='general'\r\n\t\t\tkey={ 'jet-form-general-fields-component' }\r\n\t\t\t{ ...props }\r\n\t\t/>\r\n\t\t<FieldControl\r\n\t\t\ttype='custom_general'\r\n\t\t\tkey={ 'jet-form-general-custom-fields-component' }\r\n\t\t\t{ ...props }\r\n\t\t/>\r\n\t</PanelBody>;\r\n}\r\n\r\nfunction AdvancedFields( props ) {\r\n\tconst currentControl = ControlsSettings().advanced;\r\n\r\n\treturn <PanelBody title={ currentControl.label } key={ 'jet-form-advanced-fields' } initialOpen={ false }>\r\n\t\t<FieldControl\r\n\t\t\ttype='advanced'\r\n\t\t\tkey={ 'jet-form-advanced-fields-component' }\r\n\t\t\t{ ...props }\r\n\t\t/>\r\n\t\t<FieldControl\r\n\t\t\ttype='custom_advanced'\r\n\t\t\tkey={ 'jet-form-advanced-custom-fields-component' }\r\n\t\t\t{ ...props }\r\n\t\t/>\r\n\t</PanelBody>;\r\n}\r\n\r\nfunction ToolBarFields( props ) {\r\n\r\n\tconst {\r\n\t\t\t  editProps: { uniqKey },\r\n\t\t\t  children    = [],\r\n\t\t\t  displayName = true,\r\n\t\t\t  attributes,\r\n\t\t\t  setAttributes,\r\n\t\t  } = props;\r\n\r\n\tconst displayNotice = useSuccessNotice( `Copied \"${ attributes.name }\" to clipboard.` );\r\n\r\n\treturn <BlockControls key={ uniqKey( 'ToolBarFields-BlockControls' ) }>\r\n\t\t<ToolbarGroup key={ uniqKey( 'ToolBarFields-ToolbarGroup' ) }>\r\n\t\t\t<Flex\r\n\t\t\t\talign={ 'center' }\r\n\t\t\t\tjustify={ 'center' }\r\n\t\t\t\tclassName={ 'jet-form-toggle-box' }\r\n\t\t\t>\r\n\t\t\t\t{ displayName && <div className={'jet-input-with-button'}>\r\n\t\t\t\t\t<ClipboardButton\r\n\t\t\t\t\t\tisSmall\r\n\t\t\t\t\t\ticon='admin-page'\r\n\t\t\t\t\t\tshowTooltip\r\n\t\t\t\t\t\tshortcut='Copy name'\r\n\t\t\t\t\t\ttext={ attributes.name }\r\n\t\t\t\t\t\tonCopy={ () => displayNotice( true ) }\r\n\t\t\t\t\t\tonFinishCopy={ () => displayNotice( false ) }\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextControl\r\n\t\t\t\t\t\tvalue={ attributes.name }\r\n\t\t\t\t\t\tonChange={ name => setAttributes( { name } ) }\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div> }\r\n\t\t\t\t<FieldControl\r\n\t\t\t\t\ttype='toolbar'\r\n\t\t\t\t\tkey={ uniqKey( 'jet-form-toolbar-fields-component' ) }\r\n\t\t\t\t\t{ ...props }\r\n\t\t\t\t/>\r\n\t\t\t\t{ children }\r\n\t\t\t</Flex>\r\n\t\t</ToolbarGroup>\r\n\t</BlockControls>;\r\n}\r\n\r\nexport {\r\n\tGeneralFields,\r\n\tToolBarFields,\r\n\tAdvancedFields,\r\n\tFieldControl,\r\n\tfilterFieldControls\r\n};","const {\r\n\t\t  TextControl,\r\n\t\t  BaseControl,\r\n\t  } = wp.components;\r\n\r\nconst {\r\n\t\t  useState,\r\n\t\t  useEffect,\r\n\t  } = wp.element;\r\n\r\nconst { __ } = wp.i18n;\r\n\r\nfunction ActionMessages( props ) {\r\n\r\n\tconst {\r\n\t\t\t  settings,\r\n\t\t\t  source,\r\n\t\t\t  getMapField,\r\n\t\t\t  setMapField,\r\n\t\t\t  messages,\r\n\t\t\t  onChangeSetting,\r\n\t\t  } = props;\r\n\r\n\tuseEffect( () => {\r\n\t\tconst oldMessages = settings.messages || {};\r\n\t\tconst messages = {};\r\n\r\n\t\tObject.entries( source.__messages ).forEach( ( [ type, data ] ) => {\r\n\t\t\tif ( ! oldMessages[ type ] ) {\r\n\t\t\t\tmessages[ type ] = data.value;\r\n\t\t\t}\r\n\t\t} )\r\n\r\n\t\tif ( messages ) {\r\n\t\t\tonChangeSetting( { ...oldMessages, ...messages }, 'messages' );\r\n\t\t}\r\n\t}, [] );\r\n\r\n\tconst setMessage = ( value, nameField ) => {\r\n\t\tconst source = 'messages';\r\n\r\n\t\tsetMapField( { value, nameField, source } );\r\n\t};\r\n\r\n\tconst getMessage = name => {\r\n\t\tconst source = 'messages';\r\n\r\n\t\treturn getMapField( { name, source } )\r\n\t};\r\n\r\n\treturn <BaseControl\r\n\t\tlabel={ __( 'Messages Settings:' ) }\r\n\t\tkey='messages_settings_fields'\r\n\t>\r\n\t\t<div className='jet-user-fields-map__list'>\r\n\t\t\t{ settings.messages && Object.entries( settings.messages )\r\n\t\t\t\t.map( ( [ type, data ], id ) => <div\r\n\t\t\t\t\t\tclassName=\"jet-user-meta__row\"\r\n\t\t\t\t\t\tkey={ 'message_' + type + id }\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<TextControl\r\n\t\t\t\t\t\t\tkey={ type + id }\r\n\t\t\t\t\t\t\tlabel={ messages( type ).label }\r\n\t\t\t\t\t\t\tvalue={ getMessage( type ) }\r\n\t\t\t\t\t\t\tonChange={ newValue => setMessage( newValue, type ) }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>,\r\n\t\t\t\t) }\r\n\r\n\t\t</div>\r\n\t</BaseControl>;\r\n}\r\n\r\nexport default ActionMessages;","import {\r\n\tFieldControl,\r\n\tfilterFieldControls,\r\n} from './field-control';\r\n\r\nconst { __ } = wp.i18n;\r\nconst { PanelBody } = wp.components;\r\n\r\nexport default function FieldSettingsWrapper( props ) {\r\n\tconst {\r\n\t\t\t  title,\r\n\t\t\t  children,\r\n\t\t\t  editProps: { uniqKey = val => val },\r\n\t\t  } = props;\r\n\r\n\tconst fieldControls = filterFieldControls( { ...props, type: 'custom_settings' } );\r\n\r\n\treturn Boolean( fieldControls.length || children ) && <PanelBody\r\n\t\ttitle={ title || __( 'Field Settings' ) }\r\n\t>\r\n\t\t{ children }\r\n\t\t<FieldControl\r\n\t\t\ttype='custom_settings'\r\n\t\t\tfieldControls={ fieldControls }\r\n\t\t\tkey={ uniqKey( 'customSettingsFields' ) }\r\n\t\t\t{ ...props }\r\n\t\t/>\r\n\t</PanelBody>;\r\n}","import { initClasses } from '../helpers/hooks/hooks-helper';\r\n\r\nconst { createReduxStore, register } = wp.data;\r\n\r\nconst DEFAULT_LOADING_STATE = {\r\n\tid: - 1,\r\n\tstate: '',\r\n\tsuccess: false,\r\n\tresponse: {},\r\n\tloading: false,\r\n\tbuttonClassName: [ ...initClasses ],\r\n};\r\n\r\nconst getLoadingItem = ( additional = {} ) => {\r\n\tconst item = { ...DEFAULT_LOADING_STATE };\r\n\tif ( additional.state ) {\r\n\t\titem.buttonClassName = [ ...initClasses, additional.state ];\r\n\t}\r\n\treturn { ...item, ...additional };\r\n};\r\n\r\nconst DEFAULT_STATE = {\r\n\tcurrentAction: {},\r\n\tloadingState: [\r\n\t\tgetLoadingItem(),\r\n\t],\r\n};\r\n\r\nconst actions = {\r\n\tsetCurrentAction( item ) {\r\n\t\treturn {\r\n\t\t\ttype: 'SET_CURRENT_ACTION',\r\n\t\t\titem,\r\n\t\t};\r\n\t},\r\n\tsetLoading( item ) {\r\n\t\treturn {\r\n\t\t\ttype: 'SET_LOADING',\r\n\t\t\tstate: {\r\n\t\t\t\tid: item.actionId,\r\n\t\t\t\tstate: 'loading',\r\n\t\t\t\tloading: true,\r\n\t\t\t},\r\n\t\t};\r\n\t},\r\n\tsetLoadingResult( item ) {\r\n\t\treturn {\r\n\t\t\ttype: 'SET_LOADING',\r\n\t\t\tstate: {\r\n\t\t\t\tid: item.actionId,\r\n\t\t\t\tstate: item.success ? 'is-valid' : 'is-invalid',\r\n\t\t\t\tsuccess: item.success,\r\n\t\t\t\tresponse: item.response,\r\n\t\t\t\tloading: false,\r\n\t\t\t},\r\n\t\t};\r\n\t},\r\n};\r\n\r\nconst selectors = {\r\n\tgetCurrentAction( state ) {\r\n\t\treturn state.currentAction;\r\n\t},\r\n\tgetLoadingIndex( state, actionId ) {\r\n\t\treturn state.loadingState.findIndex( action => action.id === actionId );\r\n\t},\r\n\tgetLoading( state, actionId ) {\r\n\t\tconst actionIndex = selectors.getLoadingIndex( state, actionId );\r\n\r\n\t\treturn - 1 !== actionIndex ? state.loadingState[ actionIndex ] : DEFAULT_LOADING_STATE;\r\n\t},\r\n\tgetCurrentLoading( state ) {\r\n\t\tconst actionId = state.currentAction?.id;\r\n\r\n\t\treturn selectors.getLoading( state, actionId );\r\n\t},\r\n\tdangerGetAllLoading( state ) {\r\n\t\treturn state.loadingState;\r\n\t},\r\n};\r\n\r\nregister( createReduxStore( 'jet-forms/actions', {\r\n\treducer( state = DEFAULT_STATE, action ) {\r\n\t\tswitch ( action.type ) {\r\n\t\t\tcase 'SET_CURRENT_ACTION':\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tcurrentAction: action.item,\r\n\t\t\t\t};\r\n\t\t\tcase 'SET_LOADING':\r\n\t\t\t\tconst actionIndex = selectors.getLoadingIndex( state, action.state.id );\r\n\t\t\t\tconst loading = [ ...state.loadingState ];\r\n\r\n\t\t\t\tif ( - 1 !== actionIndex ) {\r\n\t\t\t\t\tloading[ actionIndex ] = getLoadingItem( action.state );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tloading.push( getLoadingItem( action.state ) );\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tloadingState: loading,\r\n\t\t\t\t};\r\n\t\t}\r\n\t\treturn state;\r\n\t},\r\n\tactions,\r\n\tselectors,\r\n} ) );","import RequestButton from './request-button';\r\nimport { withDispatchActionLoading, withSelectActionLoading } from '../helpers/hooks/hooks-helper';\r\n\r\nconst { compose } = wp.compose;\r\n\r\nconst {\r\n\twithSelect,\r\n\twithDispatch,\r\n} = wp.data;\r\n\r\n\r\nfunction FetchAjaxButton( {\r\n\tinitialLabel = 'Valid',\r\n\tlabel = 'InValid',\r\n\tajaxArgs = {},\r\n\tloadingState,\r\n\tsetLoading,\r\n\tid,\r\n\tsetResultSuccess,\r\n\tsetResultFail,\r\n} ) {\r\n\r\n\tconst getLabel = () => {\r\n\t\tif ( - 1 === loadingState.id && initialLabel ) {\r\n\t\t\treturn initialLabel;\r\n\t\t}\r\n\r\n\t\treturn label;\r\n\t};\r\n\r\n\treturn <RequestButton\r\n\t\tdisabled={ loadingState.loading }\r\n\t\tajaxArgs={ ajaxArgs }\r\n\t\tlabel={ getLabel() }\r\n\t\tonLoading={ () => {\r\n\t\t\tsetLoading( id );\r\n\t\t} }\r\n\t\tonSuccessRequest={ response => {\r\n\t\t\tsetResultSuccess( id, response );\r\n\t\t} }\r\n\t\tonFailRequest={ () => setResultFail( id ) }\r\n\t\tclassName={ loadingState.buttonClassName }\r\n\t>\r\n\t\t<i className=\"dashicons\"/>\r\n\t</RequestButton>;\r\n}\r\n\r\nexport default compose(\r\n\twithSelect( withSelectActionLoading ),\r\n\twithDispatch( withDispatchActionLoading ),\r\n)( FetchAjaxButton );","import { withCurrentAction } from '../helpers/hooks/hooks-helper';\r\nimport FetchAjaxButton from './fetch-ajax-button';\r\n\r\nconst { compose } = wp.compose;\r\n\r\nconst {\r\n\twithSelect,\r\n\twithDispatch,\r\n} = wp.data;\r\n\r\n\r\nfunction ValidateButtonWithStore( {\r\n\tcurrentAction,\r\n\t...props\r\n} ) {\r\n\r\n\treturn <FetchAjaxButton\r\n\t\tid={ currentAction.id }\r\n\t\t{ ...props }\r\n\t/>;\r\n}\r\n\r\nexport default compose(\r\n\twithSelect( withCurrentAction ),\r\n)( ValidateButtonWithStore );","import RequestButton from './request-button';\r\nimport { withDispatchActionLoading, withSelectActionLoading } from '../helpers/hooks/hooks-helper';\r\n\r\nconst { compose } = wp.compose;\r\n\r\nconst {\r\n\twithSelect,\r\n\twithDispatch,\r\n} = wp.data;\r\n\r\nconst { apiFetch } = wp;\r\n\r\n\r\nfunction FetchApiButton( {\r\n\tinitialLabel = 'Valid',\r\n\tlabel = 'InValid',\r\n\tapiArgs = {},\r\n\tloadingState,\r\n\tsetLoading,\r\n\tid,\r\n\tsetResultSuccess,\r\n\tsetResultFail,\r\n\tonLoading = () => {},\r\n\tonSuccess = () => {},\r\n\tonFail = () => {}\r\n} ) {\r\n\r\n\tconst getLabel = () => {\r\n\t\tif ( - 1 === loadingState.id && initialLabel ) {\r\n\t\t\treturn initialLabel;\r\n\t\t}\r\n\r\n\t\treturn label;\r\n\t};\r\n\r\n\treturn <RequestButton\r\n\t\tdisabled={ loadingState.loading }\r\n\t\tlabel={ getLabel() }\r\n\t\tclassName={ loadingState.buttonClassName }\r\n\t\tcustomRequest={ () => {\r\n\t\t\tsetLoading( id );\r\n\t\t\tonLoading();\r\n\r\n\t\t\tapiFetch( apiArgs ).then( response => {\r\n\t\t\t\tsetResultSuccess( id, response );\r\n\t\t\t\tonSuccess( response );\r\n\t\t\t} ).catch( error => {\r\n\t\t\t\tsetResultFail( id );\r\n\t\t\t\tonFail( error );\r\n\t\t\t} );\r\n\t\t} }\r\n\t>\r\n\t\t<i className=\"dashicons\"/>\r\n\t</RequestButton>;\r\n}\r\n\r\nexport default compose(\r\n\twithDispatch( withDispatchActionLoading )\r\n)( FetchApiButton );","import FetchApiButton from './fetch-api-button';\r\nimport { withSelectGateways } from '../helpers/hooks/hooks-helper';\r\n\r\nconst { compose } = wp.compose;\r\n\r\nconst {\r\n\twithSelect,\r\n} = wp.data;\r\n\r\nfunction GatewayFetchButton( {\r\n\tinitialLabel = 'Valid',\r\n\tlabel = 'InValid',\r\n\tapiArgs = {},\r\n\tgatewayRequestId,\r\n\tloadingGateway,\r\n\tonLoading = () => {},\r\n\tonSuccess = () => {},\r\n\tonFail = () => {}\r\n} ) {\r\n\r\n\treturn <FetchApiButton\r\n\t\tid={ gatewayRequestId }\r\n\t\tloadingState={ loadingGateway }\r\n\t\tinitialLabel={ initialLabel }\r\n\t\tlabel={ label }\r\n\t\tapiArgs={ apiArgs }\r\n\t\tonFail={ onFail }\r\n\t\tonLoading={ onLoading }\r\n\t\tonSuccess={ onSuccess }\r\n\t/>;\r\n}\r\n\r\nexport default compose(\r\n\twithSelect( withSelectGateways ),\r\n)( GatewayFetchButton );","import ActionFieldsMap from './components/action-fields-map';\r\nimport ActionModal from './components/action-modal';\r\nimport WrapperRequiredControl from './components/wrapper-required-control';\r\nimport RequestButton from './components/request-button';\r\nimport ValidateButton from './components/validate-button';\r\nimport addAction from './helpers/actions/action-manager';\r\nimport Tools, {\r\n\tclassnames,\r\n\tevent,\r\n\tgetConvertedName,\r\n\tlisten,\r\n\tmaybeCyrToLatin,\r\n\tversionCompare,\r\n\tconvertObjectToOptionsList,\r\n} from './helpers/tools';\r\nimport DynamicPreset from './components/presets/dynamic-preset';\r\nimport JetFieldsMapControl from '../editor/blocks/controls/fields-map';\r\nimport FieldWithPreset from './components/fields/field-with-preset';\r\nimport {\r\n\tGlobalField,\r\n\tAvailableMapField,\r\n\tMapField,\r\n} from './components/presets/preset-render';\r\n\r\nimport {\r\n\tgetAvailableFields,\r\n\tgetAvailableFieldsString,\r\n\tgetBlocksByName,\r\n\tgetFieldsWithoutCurrent,\r\n\tgetFormFieldsBlocks,\r\n\tgetFormFieldsByBlock,\r\n\tgetInnerBlocks,\r\n\tappendField,\r\n} from './helpers/blocks/blocks-helper';\r\nimport {\r\n\tgatewayAttr,\r\n\tgatewayLabel,\r\n\tregisterGateway,\r\n\trenderGateway,\r\n\trenderGatewayWithPlaceholder,\r\n} from './helpers/gateways/gateway-helper';\r\nimport {\r\n\tuseActions,\r\n\tuseMetaState,\r\n\tuseStateValidClasses,\r\n\tuseStateLoadingClasses,\r\n\tuseSuccessNotice,\r\n\tuseRequestFields,\r\n\twithRequestFields,\r\n\twithSelectActionLoading,\r\n\twithDispatchMeta,\r\n\twithSelectMeta,\r\n\twithDispatchNotice,\r\n\twithSelectFormFields,\r\n\twithSelectGateways,\r\n\twithDispatchGateways, withSelectActionsByType,\r\n} from './helpers/hooks/hooks-helper';\r\nimport FieldWrapper from './components/fields/field-wrapper';\r\nimport MacrosInserter from './components/fields/macros-inserter';\r\nimport RepeaterWithState from './components/fields/repeater-with-state';\r\nimport withPreset from './components/presets/preset-editor';\r\nimport {\r\n\tAdvancedFields,\r\n\tGeneralFields,\r\n\tToolBarFields,\r\n\tFieldControl,\r\n} from './components/fields/field-control';\r\nimport PlaceholderMessage from './components/actions/placeholder-message';\r\nimport ActionMessages from './components/actions/action-messages';\r\nimport HorizontalLine from './components/horizontal-line';\r\nimport RequestLoadingButton from './components/request-loading-button';\r\nimport {\r\n\tactionByTypeList,\r\n\tconvertListToFieldsMap,\r\n\tfromLocalizeHelper,\r\n\tgetActionSettings, prepareActionsListByType,\r\n} from './helpers/actions/action-helper';\r\nimport gatewayActionAttributes from './helpers/gateways/gateway-action-attrubites';\r\nimport { globalTab } from './helpers/settings/helper';\r\nimport FieldSettingsWrapper from './components/fields/field-settings-wrapper';\r\nimport GroupedSelectControl from './components/grouped-select-control';\r\nimport {\r\n\tgetBlockControls,\r\n} from './components/fields/controls';\r\nimport BaseHelp from './components/controls/base-help';\r\nimport './stores/action-store';\r\nimport './stores/gateways-store';\r\nimport ValidateButtonWithStore from './components/validate-button-with-store';\r\nimport GatewayFetchButton from './components/gateway-fetch-button';\r\n\r\n// JFBComponents\r\nwindow.JetFBComponents = {\r\n\tActionFieldsMap,\r\n\tActionModal,\r\n\tRequestButton,\r\n\tValidateButton,\r\n\tRequestLoadingButton,\r\n\tWrapperRequiredControl,\r\n\tDynamicPreset,\r\n\tJetFieldsMapControl,\r\n\tFieldWithPreset,\r\n\tGlobalField,\r\n\tAvailableMapField,\r\n\tMapField,\r\n\tFieldWrapper,\r\n\tMacrosInserter,\r\n\tRepeaterWithState,\r\n\tAdvancedFields,\r\n\tGeneralFields,\r\n\tToolBarFields,\r\n\tFieldControl,\r\n\tPlaceholderMessage,\r\n\tHorizontalLine,\r\n\tFieldSettingsWrapper,\r\n\tActionMessages,\r\n\tGroupedSelectControl,\r\n\tBaseHelp,\r\n\tValidateButtonWithStore,\r\n\tGatewayFetchButton,\r\n};\r\n\r\n// JFBFunctions\r\nwindow.JetFBActions = {\r\n\taddAction,\r\n\twithPreset,\r\n\tgetFormFieldsByBlock,\r\n\tgetInnerBlocks,\r\n\tgetAvailableFieldsString,\r\n\tgetAvailableFields,\r\n\tgetFormFieldsBlocks,\r\n\tgetFieldsWithoutCurrent,\r\n\tgatewayAttr,\r\n\tgatewayLabel,\r\n\tregisterGateway,\r\n\tTools,\r\n\tevent,\r\n\tlisten,\r\n\tactionByTypeList,\r\n\tgetActionSettings,\r\n\tfromLocalizeHelper,\r\n\trenderGateway,\r\n\trenderGatewayWithPlaceholder,\r\n\tgatewayActionAttributes,\r\n\tglobalTab,\r\n\tversionCompare,\r\n\tconvertListToFieldsMap,\r\n\tmaybeCyrToLatin,\r\n\tgetConvertedName,\r\n\tgetBlockControls,\r\n\tclassnames,\r\n\tgetBlocksByName,\r\n\tconvertObjectToOptionsList,\r\n\tprepareActionsListByType,\r\n\tappendField,\r\n};\r\n\r\n// JFBHooks\r\nwindow.JetFBHooks = {\r\n\tuseActions,\r\n\tuseMetaState,\r\n\tuseStateValidClasses,\r\n\tuseStateLoadingClasses,\r\n\tuseSuccessNotice,\r\n\twithRequestFields,\r\n\tuseRequestFields,\r\n\twithSelectActionLoading,\r\n\twithDispatchMeta,\r\n\twithSelectMeta,\r\n\twithDispatchNotice,\r\n\twithSelectFormFields,\r\n\twithSelectGateways,\r\n\twithDispatchGateways,\r\n\twithSelectActionsByType\r\n};\r\n\r\n","import RequestButton from \"./request-button\";\r\nimport { useStateValidClasses } from \"../helpers/hooks/hooks-helper\";\r\n\r\nfunction ValidateButton( {\r\n\t\t\t\t\t\t\t initialValid,\r\n\t\t\t\t\t\t\t label,\r\n\t\t\t\t\t\t\t ajaxArgs = {},\r\n\t\t\t\t\t\t\t onValid = () => {},\r\n\t\t\t\t\t\t\t onInvalid = () => {},\r\n\t\t\t\t\t\t } ) {\r\n\r\n\tconst [\r\n\t\tclassName,\r\n\t\tsetValidClass,\r\n\t\tsetInvalidClass,\r\n\t\tsetLoadingClass\r\n\t] = useStateValidClasses( initialValid || false );\r\n\r\n\tconst setValid = response => {\r\n\t\tsetValidClass();\r\n\t\tonValid( response );\r\n\t};\r\n\r\n\tconst setInvalid = () => {\r\n\t\tsetInvalidClass();\r\n\t\tonInvalid();\r\n\t};\r\n\r\n\treturn <RequestButton\r\n\t\tajaxArgs={ ajaxArgs }\r\n\t\tlabel={ label }\r\n\t\tonLoading={ setLoadingClass }\r\n\t\tonSuccessRequest={ setValid }\r\n\t\tonFailRequest={ setInvalid }\r\n\t\tclassName={ className }\r\n\t>\r\n\t\t<i className=\"dashicons\"/>\r\n\t</RequestButton>;\r\n}\r\n\r\nexport default ValidateButton;","import RequestButton from \"./request-button\";\r\nimport { useStateLoadingClasses } from \"../helpers/hooks/hooks-helper\";\r\n\r\nfunction RequestLoadingButton( {\r\n\t\t\t\t\t\t\t\t   label,\r\n\t\t\t\t\t\t\t\t   ajaxArgs = {},\r\n\t\t\t\t\t\t\t\t   onSuccessRequest = () => {},\r\n\t\t\t\t\t\t\t\t   onFailRequest = () => {},\r\n\t\t\t\t\t\t\t   } ) {\r\n\r\n\tconst [\r\n\t\tclassName,\r\n\t\tsetLoadingClass,\r\n\t\tclearLoadingClass\r\n\t] = useStateLoadingClasses();\r\n\r\n\treturn <RequestButton\r\n\t\tajaxArgs={ ajaxArgs }\r\n\t\tlabel={ label }\r\n\t\tonLoading={ setLoadingClass }\r\n\t\tonSuccessRequest={ response => {\r\n\t\t\tclearLoadingClass();\r\n\t\t\tonSuccessRequest( response )\r\n\t\t} }\r\n\t\tonFailRequest={ () => {\r\n\t\t\tclearLoadingClass();\r\n\t\t\tonFailRequest();\r\n\t\t} }\r\n\t\tclassName={ className }\r\n\t>\r\n\t\t<i className=\"dashicons\"/>\r\n\t</RequestButton>;\r\n}\r\n\r\nexport default RequestLoadingButton;","function PlaceholderMessage( { style, children } ) {\r\n\tconst propStyle = {\r\n\t\tfontSize: '1.5em',\r\n\t\tpadding: '2em',\r\n\t\ttextAlign: 'center',\r\n\t\tbackgroundColor: 'aliceblue',\r\n\t\t...style\r\n\t};\r\n\r\n\treturn <p style={ propStyle }>{ children }</p>;\r\n}\r\n\r\nexport default PlaceholderMessage;","function HorizontalLine( props ) {\r\n\treturn <hr style={ { ...props } }/>;\r\n}\r\n\r\nexport default HorizontalLine;","function BaseHelp( {\r\n\t\t\t\t\t   children,\r\n\t\t\t\t\t   style = {},\r\n\t\t\t\t   } ) {\r\n\treturn <p\r\n\t\tclassName={ 'jet-fb-base-control__help' }\r\n\t\tstyle={ {\r\n\t\t\tfontSize: '12px',\r\n\t\t\tfontStyle: 'normal',\r\n\t\t\tcolor: 'rgb(117, 117, 117)',\r\n\t\t\tmarginTop: '0px',\r\n\t\t\t...style,\r\n\t\t} }\r\n\t>\r\n\t\t{ children }\r\n\t</p>;\r\n}\r\n\r\nexport default BaseHelp;","import withActionLocalizeScript from \"./action-wrapper\";\r\n\r\nfunction addAction( actionType, actionInstance ) {\r\n\twindow.jetFormDefaultActions = window.jetFormDefaultActions || {};\r\n\twindow.jetFormDefaultActions[ actionType ] = withActionLocalizeScript( actionType, actionInstance );\r\n}\r\n\r\nexport default addAction;\r\n"],"names":["wp","data","createReduxStore","register","DEFAULT_STATE","currentRequest","id","currentGateway","currentScenario","selectors","getCurrentRequestId","state","getCurrentRequest","getScenario","getScenarioId","getGatewayId","gateway","getGateway","getGatewaySpecific","reducer","action","type","items","item","filter","value","join","key","actions","clearGateway","clearScenario","setRequest","setGateway","setGatewayInner","setGatewaySpecific","setScenario","setCurrentScenario","hardSetGateway","hardSetGatewaySpecific","debug","MAX_LENGTH","MAX_SAFE_INTEGER","re","t","parseOptions","compareIdentifiers","SemVer","constructor","version","options","loose","includePrerelease","TypeError","length","this","m","trim","match","LOOSE","FULL","raw","major","minor","patch","prerelease","split","map","test","num","build","format","toString","compare","other","compareMain","comparePre","i","a","b","undefined","compareBuild","inc","release","identifier","push","isNaN","Error","module","exports","Number","SEMVER_SPEC_VERSION","MAX_SAFE_COMPONENT_LENGTH","process","env","NODE_DEBUG","args","console","error","numeric","anum","bnum","rcompareIdentifiers","opts","k","reduce","src","R","createToken","name","isGlobal","index","RegExp","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","BUILDIDENTIFIER","MAINVERSION","PRERELEASE","BUILD","FULLPLAIN","MAINVERSIONLOOSE","PRERELEASELOOSE","LOOSEPLAIN","XRANGEIDENTIFIER","XRANGEIDENTIFIERLOOSE","GTLT","XRANGEPLAIN","XRANGEPLAINLOOSE","COERCE","LONETILDE","tildeTrimReplace","LONECARET","caretTrimReplace","comparatorTrimReplace","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","BaseControl","components","Button","ButtonGroup","Modal","element","useState","useEffect","onRequestClose","children","title","classNames","onUpdateClick","onCancelClick","updateBtnLabel","updateBtnProps","cancelBtnProps","cancelBtnLabel","fixedHeight","modalClasses","actionClick","setActionClick","style","height","className","isPrimary","onClick","isSecondary","margin","RawHTML","i18n","__","label","ajaxArgs","onSuccessRequest","onFailRequest","onLoading","disabled","customRequest","jQuery","ajax","url","ajaxurl","done","response","success","fail","fromLocalizeHelper","gatewayAttrs","actionSettings","getActionSettings","attr","getActionsByType","useActions","window","JetFBLocalizeHelper","prepareActionsListByType","source","actionType","withDesc","newAction","gatewayActionAttributes","actionId","find","settings","globalTab","slug","empty","global","JetFormEditorData","global_settings","gatewayAttr","isEmpty","gateways","gatewayLabel","issetRenderGateway","what","JetFBGatewaysList","renderGateway","props","GatewayComponent","useSelect","useDispatch","applyFilters","hooks","withEditPostEffect","meta","select","getEditedPostAttribute","editPost","JSON","parse","_jf_actions","setActions","stringify","initClasses","useStateValidClasses","initialValid","validClass","invalidClass","classes","setClasses","useStateLoadingClasses","useSuccessNotice","text","hasCopied","setHasCopied","noticeStore","notices","store","createWarningNotice","getRequestFields","requestFields","current","requestField","findIndex","field","from","help","selectPostMeta","selectParsedPostMeta","allMeta","withSelectActionLoading","loadingState","getCurrentLoading","withDispatchActionLoading","dispatch","setLoading","setResultSuccess","setLoadingResult","setResultFail","withSelectMeta","metaSlug","ifEmpty","withSelectGateways","gatewayRequestId","gatewaySpecific","scenario","CURRENT_GATEWAY","CURRENT_SCENARIO","use_global","currentTab","additionalSourceGateway","callableGateway","loadingGateway","getLoading","globalGatewayLabel","specificGatewayLabel","customGatewayLabel","gatewayGeneral","gatewayRequest","scenarioSource","gatewayScenario","getSpecificOrGlobal","scenarioLabel","getFormFields","blockParserFunc","blocks","block","innerBlocks","semverGt","require","semverLt","semverGte","semverLte","Tools","attrs","required","mark","_jf_args","required_mark","object","Object","keys","nameFunction","Function","callable","JetFormBuilderConditions","types","forEach","condition","getFuncCondition","convertSymbols","checkCyrRegex","cyrRegex","charsMap","maybeCyrToLatin","str","replace","getConvertedName","valueToChange","toLowerCase","normalize","substr","slice","classnames","result","parseValues","itemClass","Array","isArray","itemClassKey","additional","WrappedComponent","parseValue","val","exception","jet_preset","isVisible","currentState","position","custom_condition","post_from","user_from","isGlobalVisible","isMapFieldVisible","parent_condition","fields_map","isCurrentFieldVisible","excludeOptions","selectOptions","option","excludeSources","includes","splice","lodash","withInstanceId","compose","instanceId","onChange","multiple","hideLabelFromVision","event","target","optGroup","groupIndex","values","TextControl","SelectControl","CustomSelectControl","Card","CardBody","CardHeader","GlobalField","onChangeValue","newVal","labelPosition","MapField","placeholder","selectedItem","withPreset","isSaveAction","onSavePreset","onUnMount","stateValue","setValue","newValue","prev","presetConfig","global_fields","map_fields","JetFieldsMapControl","Component","fieldTypes","taxonomiesList","metaProp","termsProp","init","bindFunctions","getFieldType","fieldValue","onChangeType","bind","preparedTaxes","taxPrefix","fieldType","fieldsMap","fieldName","setState","isTermOrMeta","width","Path","SVG","ModalEditor","triggerClasses","baseControlProps","modalState","setModalState","changeModalState","viewBox","fill","xmlns","d","modalProps","addFilter","blocksRecursiveIterator","getBlocks","getFormFieldsBlocks","exclude","suppressFilter","context","formFields","skipFields","attributes","blockName","getAvailableFields","fields","withSelect","RichText","blockEditor","RichDescription","content","whiteSpace","padding","color","editProps","uniqKey","wrapClasses","valueIfEmptyLabel","setAttributes","childrenPosition","setDynamicName","renderLabel","VisualLabel","onBlur","allowedFormats","newLabel","renderDescription","tagName","desc","marginTop","fields_layout","Popover","PanelBody","ToggleControl","Flex","FlexItem","ControlsSettings","editor","BlockControls","ToolbarGroup","__experimentalNumberControl","ClipboardButton","NumberControl","Snackbar","filterFieldControls","attrsSettings","attrHelp","controls","attrName","isRegisterAttribute","validCondition","operator","attrToCompare","isValidCondition","isHidden","show","FieldControl","fieldControls","autoCompleteLabel","checked","DEFAULT_LOADING_STATE","loading","buttonClassName","getLoadingItem","currentAction","getCurrentAction","getLoadingIndex","actionIndex","dangerGetAllLoading","setCurrentAction","withDispatch","initialLabel","apiFetch","apiArgs","onSuccess","onFail","then","catch","JetFBComponents","ActionFieldsMap","plainHelp","customHelp","Boolean","fieldId","fieldData","React","Fragment","ActionModal","RequestButton","ValidateButton","onValid","onInvalid","setValidClass","setInvalidClass","setLoadingClass","RequestLoadingButton","clearLoadingClass","WrapperRequiredControl","labelKey","requiredKey","helpKey","hasOwnProperty","DynamicPreset","FieldWithPreset","AvailableMapField","currentVal","AvailableFieldWrapper","fIndex","size","marginBottom","AvailableFieldWrapperFunc","FieldWrapper","MacrosInserter","onFieldClick","customMacros","zIndex","popoverProps","showPopover","setPopoverState","isTertiary","isSmall","icon","isLink","macros","RepeaterWithState","ItemHeading","repeaterClasses","repeaterItemClasses","newItem","addNewButtonLabel","onSaveItems","onAddNewItem","onRemoveItem","helpSource","helpVisible","additionalControls","itemClassNames","itemsData","setItemsData","__visible","isSafeDeleting","setSafeDeleting","changeCurrentItem","valueToSet","prevClone","moveRepeaterItem","oldIndex","newIndex","isDisabledEnd","itemsDataKey","itemKey","startsWith","getRepeaterItemId","isVisibleHelp","flex","currentItem","isElevated","toggleVisible","moveUp","moveDown","after","cloneItem","isDestructive","confirm","onSaveDeleting","removeOption","currentIndex","AdvancedFields","currentControl","advanced","initialOpen","GeneralFields","general","ToolBarFields","displayName","displayNotice","align","justify","showTooltip","shortcut","onCopy","onFinishCopy","PlaceholderMessage","propStyle","fontSize","textAlign","backgroundColor","HorizontalLine","FieldSettingsWrapper","ActionMessages","getMapField","setMapField","messages","onChangeSetting","oldMessages","entries","__messages","nameField","GroupedSelectControl","BaseHelp","fontStyle","ValidateButtonWithStore","GatewayFetchButton","JetFBActions","addAction","actionInstance","jetFormDefaultActions","ActionInstance","localizedData","additionalProps","onChangeSettingObj","resultProps","withActionLocalizeScript","getFormFieldsByBlock","blockExclude","getInnerBlocks","clientId","getBlock","getAvailableFieldsString","fieldsString","getFieldsWithoutCurrent","getSelectedBlock","registerGateway","callback","forWhat","initializeCallbacksEvent","Event","document","dispatchEvent","listen","func","addEventListener","actionByTypeList","renderGatewayWithPlaceholder","Placeholder","versionCompare","version1","version2","getSemVerFunc","te","convertListToFieldsMap","sources","getBlockControls","getBlocksByName","blockNames","convertObjectToOptionsList","usePlaceholder","appendField","fieldNames","JetFBHooks","useMetaState","metaStateValue","setMetaStateValue","withRequestFields","useRequestFields","withDispatchMeta","callbackName","ownProps","newState","withDispatchNotice","createNotice","status","withSelectFormFields","withDispatchGateways","setGatewayRequest","setGatewayScenario","withSelectActionsByType"],"sourceRoot":""}