(()=>{"use strict";function t(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function r(t,r,e,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void e(t)}u.done?r(s):Promise.resolve(s).then(n,o)}function e(){this.reporting=null,this.macros={}}var n,o;e.prototype={isSupported:function(t,r){return!0},isServerSide:function(){return!1},setReporting:function(t){this.reporting=t,this.macros=this.getSupportedMacros()},getSupportedMacros:function(){return function(t){var r={};At.length||(At=wt("jet.fb.restrictions.macros",[tt,et,ot,at]));var e,n=mt(At);try{for(n.s();!(e=n.n()).done;){var o=new(0,e.value);o.isSupported(t)&&(o.setRestriction(t),r[o.getSlug()]=o)}}catch(t){n.e(t)}finally{n.f()}return r}(this)},getValue:function(){return this.reporting.input.value.current},validate:function(){throw new Error("validate is wrong")},validatePromise:(n=regeneratorRuntime.mark((function t(){var r,e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,r=this.validate(),t.next=7;break;case 4:return t.prev=4,t.t0=t.catch(0),t.abrupt("return",Promise.reject(null!==(e=null===t.t0||void 0===t.t0?void 0:t.t0.message)&&void 0!==e?e:t.t0));case 7:return t.abrupt("return",r?Promise.resolve():Promise.reject("validate is wrong"));case 8:case"end":return t.stop()}}),t,this,[[0,4]])})),o=function(){var t=this,e=arguments;return new Promise((function(o,i){var a=n.apply(t,e);function u(t){r(a,o,i,u,s,"next",t)}function s(t){r(a,o,i,u,s,"throw",t)}u(void 0)}))},function(){return o.apply(this,arguments)}),getMessage:function(){var r,e=this;return null!==(r=Object.keys(this.macros))&&void 0!==r&&r.length?this.getRawMessage().replace(/%(.+?)%/g,(function(r,n){var o,i=function(t){if(Array.isArray(t))return t}(o=n.split("|"))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(o)||function(r,e){if(r){if("string"==typeof r)return t(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);return"Object"===n&&r.constructor&&(n=r.constructor.name),"Map"===n||"Set"===n?Array.from(r):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(r,e):void 0}}(o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=i[0],u=i.slice(1);return e.macros.hasOwnProperty(a)?((a=e.macros[a]).setFilters(u),a.apply()):r})):this.getRawMessage()},getRawMessage:function(){return"Error"},getMessageBySlug:function(t){return function(t,r){var e,n,o,i=t.reporting,a=null!==(e=i.messages[r])&&void 0!==e?e:"";if(a&&"inherit"!==i.type)return a;var u=i.input.getSubmit();return null!==(o=(null!==(n=window.JetFormsValidation[u.getFormId()])&&void 0!==n?n:{}).messages[r])&&void 0!==o?o:""}(this,t)}};const i=e;function a(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function u(){i.call(this),this.isSupported=function(t,r){return""!==(null==t?void 0:t.min)&&"number"===t.type},this.setReporting=function(t){var r,e,n=(r=t.input.nodes,e=1,function(t){if(Array.isArray(t))return t}(r)||function(t,r){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,o,i=[],a=!0,u=!1;try{for(e=e.call(t);!(a=(n=e.next()).done)&&(i.push(n.value),!r||i.length!==r);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==e.return||e.return()}finally{if(u)throw o}}return i}}(r,e)||function(t,r){if(t){if("string"==typeof t)return a(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?a(t,r):void 0}}(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];this.max=+n.max,i.prototype.setReporting.call(this,t)},this.validate=function(){return this.getValue()<=this.max},this.getRawMessage=function(){return this.getMessageBySlug("number_max")}}u.prototype=Object.create(i.prototype);const s=u;function c(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function l(){i.call(this),this.isSupported=function(t,r){return""!==(null==t?void 0:t.min)&&"number"===t.type},this.setReporting=function(t){var r,e,n=(r=t.input.nodes,e=1,function(t){if(Array.isArray(t))return t}(r)||function(t,r){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,o,i=[],a=!0,u=!1;try{for(e=e.call(t);!(a=(n=e.next()).done)&&(i.push(n.value),!r||i.length!==r);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==e.return||e.return()}finally{if(u)throw o}}return i}}(r,e)||function(t,r){if(t){if("string"==typeof t)return c(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?c(t,r):void 0}}(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];this.min=+(null==n?void 0:n.min),i.prototype.setReporting.call(this,t)},this.validate=function(){return this.getValue()>=this.min},this.getRawMessage=function(){return this.getMessageBySlug("number_min")}}l.prototype=Object.create(i.prototype);const f=l;function p(){i.call(this),this.isSupported=function(t,r){return"url"===t.type},this.validate=function(){return/((mailto\:|(news|(ht|f)tp(s?))\:\/\/)\S+)/.test(this.getValue())},this.getRawMessage=function(){return this.getMessageBySlug("url")}}p.prototype=Object.create(i.prototype);const y=p;function h(){i.call(this),this.isSupported=function(t,r){return"email"===t.type},this.validate=function(){var t=this.getValue();return/^[\w-\.]+@([\w-]+\.)+[\w-]{1,6}$/.test(t)},this.getRawMessage=function(){return this.getMessageBySlug("email")}}h.prototype=Object.create(i.prototype);const d=h;function v(){i.call(this),this.isSupported=function(t,r){return t.classList.contains("jet-form-builder__masked-field")&&jQuery.fn.inputmask},this.validate=function(){return this.reporting.getNode().inputmask.isComplete()},this.getRawMessage=function(){return this.getMessageBySlug("inputmask")}}v.prototype=Object.create(i.prototype);const g=v;function m(){i.call(this),this.isSupported=function(t,r){return[String,Array,FileList].includes(r.input.valueType())},this.validate=function(){var t=this.getValue();if(null===t)return!1;switch(this.reporting.input.valueType()){case String:return!!(null!=t?t:"").toString().length;case Array:case FileList:return!!t.length}},this.getSupportedMacros=function(){return{}},this.getRawMessage=function(){return this.getMessageBySlug("empty")}}m.prototype=Object.create(i.prototype);const b=m;function S(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function w(){b.call(this),this.isSupported=function(t,r){return 1==+t.dataset.repeater},this.validate=function(){var t=this.getValue();if(null===t||!t.length)return!1;var r,e=function(t,r){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,r){if(t){if("string"==typeof t)return S(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?S(t,r):void 0}}(t))||r&&t&&"number"==typeof t.length){e&&(t=e);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==e.return||e.return()}finally{if(u)throw i}}}}(t);try{for(e.s();!(r=e.n()).done;)if(!r.value.inputsAreValid())return!1}catch(t){e.e(t)}finally{e.f()}return!0}}w.prototype=Object.create(b.prototype);const j=w;function O(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function A(){i.call(this),this.isSupported=function(t,r){return 0<=(null==t?void 0:t.minLength)},this.setReporting=function(t){var r,e,n=(r=t.input.nodes,e=1,function(t){if(Array.isArray(t))return t}(r)||function(t,r){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,o,i=[],a=!0,u=!1;try{for(e=e.call(t);!(a=(n=e.next()).done)&&(i.push(n.value),!r||i.length!==r);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==e.return||e.return()}finally{if(u)throw o}}return i}}(r,e)||function(t,r){if(t){if("string"==typeof t)return O(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?O(t,r):void 0}}(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];this.min=n.minLength,i.prototype.setReporting.call(this,t)},this.validate=function(){var t;return(null===(t=this.getValue())||void 0===t?void 0:t.length)>=this.min},this.getRawMessage=function(){return this.getMessageBySlug("char_min")}}A.prototype=Object.create(i.prototype);const I=A;function M(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function P(){i.call(this),this.isSupported=function(t,r){return 0<=(null==t?void 0:t.maxLength)},this.setReporting=function(t){var r,e,n=(r=t.input.nodes,e=1,function(t){if(Array.isArray(t))return t}(r)||function(t,r){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,o,i=[],a=!0,u=!1;try{for(e=e.call(t);!(a=(n=e.next()).done)&&(i.push(n.value),!r||i.length!==r);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==e.return||e.return()}finally{if(u)throw o}}return i}}(r,e)||function(t,r){if(t){if("string"==typeof t)return M(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?M(t,r):void 0}}(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];this.max=n.maxLength,i.prototype.setReporting.call(this,t)},this.validate=function(){var t;return(null===(t=this.getValue())||void 0===t?void 0:t.length)<=this.max},this.getRawMessage=function(){return this.getMessageBySlug("char_max")}}P.prototype=Object.create(i.prototype);const R=P;function x(t){return function(t){if(Array.isArray(t))return E(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,r){if(t){if("string"==typeof t)return E(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?E(t,r):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function T(){i.call(this),this.isSupported=function(t,r){var e,n,o=t.closest(".jet-form-builder-row"),i=JSON.parse(null!==(e=null===(n=o.dataset)||void 0===n?void 0:n.validationRules)&&void 0!==e?e:"[]");return!!Boolean(i.length)&&(r.restrictions=[].concat(x(r.restrictions),x(function(t,r){var e=[];Ot.length||(Ot=wt("jet.fb.advanced.rules",[$,L,D,N,G]));var n,o=mt(t);try{for(o.s();!(n=o.n()).done;){var i,a=n.value,u=mt(Ot);try{for(u.s();!(i=u.n()).done;){var s=new(0,i.value);if(a.type===s.getSlug()){delete a.type,s.setReporting(r),s.attrs=vt({},a),e.push(s);break}}}catch(t){u.e(t)}finally{u.f()}}}catch(t){o.e(t)}finally{o.f()}return e}(i,r))),!1)}}T.prototype=Object.create(i.prototype);const V=T;function k(){i.call(this)}k.prototype=Object.create(i.prototype),k.prototype.attrs={},k.prototype.getSlug=function(){throw new Error("you need to return slug of rule")},k.prototype.getRawMessage=function(){var t,r;return null!==(t=null===(r=this.attrs)||void 0===r?void 0:r.message)&&void 0!==t?t:""};const C=k;function F(){C.call(this),this.getSlug=function(){return"contain"},this.validate=function(){return this.getValue().includes(this.attrs.value)}}F.prototype=Object.create(C.prototype);const $=F;function B(){$.call(this),this.getSlug=function(){return"contain_not"},this.validate=function(){return!$.prototype.validate.call(this)}}B.prototype=Object.create($.prototype);const L=B;function U(){C.call(this),this.getSlug=function(){return"regexp"},this.validate=function(){var t=this.getValue();return new RegExp(this.attrs.value,"gi").test(t)}}U.prototype=Object.create(C.prototype);const D=U;function _(){D.call(this),this.getSlug=function(){return"regexp_not"},this.validate=function(){return!D.prototype.validate.call(this)}}_.prototype=Object.create(D.prototype);const N=_;function J(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),e.push.apply(e,n)}return e}function q(t){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{};r%2?J(Object(e),!0).forEach((function(r){H(t,r,e[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):J(Object(e)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}))}return t}function H(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function W(t,r,e,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void e(t)}u.done?r(s):Promise.resolve(s).then(n,o)}function Q(t){return function(){var r=this,e=arguments;return new Promise((function(n,o){var i=t.apply(r,e);function a(t){W(i,n,o,a,u,"next",t)}function u(t){W(i,n,o,a,u,"throw",t)}a(void 0)}))}}function z(){C.call(this);var t=wp.apiFetch,r=JetFormBuilderSettings.validation_endpoint;this.getSlug=function(){return"ssr"},this.isServerSide=function(){return!0},this.validatePromise=Q(regeneratorRuntime.mark((function e(){var n,o,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.reporting.input.getRoot(),o=n.rootNode,i=new FormData(o),a=this.getValue(),e.next=5,t(q(q({},r),{},{data:{callback:this.attrs.value,formData:i,current:a}}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})))}z.prototype=Object.create(C.prototype);const G=z;function K(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function X(){this.restriction=null,this.filters=null}X.prototype.apply=function(){var t,r=this.value(),e=function(t,r){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,r){if(t){if("string"==typeof t)return K(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?K(t,r):void 0}}(t))||r&&t&&"number"==typeof t.length){e&&(t=e);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==e.return||e.return()}finally{if(u)throw i}}}}(this.filters);try{for(e.s();!(t=e.n()).done;)r=t.value.applyWithProps(r)}catch(t){e.e(t)}finally{e.f()}return r},X.prototype.setFilters=function(t){null===this.filters&&(this.filters=function(t){var r,e=mt(t);try{for(e.s();!(r=e.n()).done;){var n=r.value,o=n.match(/^(\w+)\(([^()]+)\)/);null!==o?Rt(o[1],o[2]):Rt(n)}}catch(t){e.e(t)}finally{e.f()}var i,a=function(t){if(Array.isArray(t))return St(t)}(i=Pt)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(i)||bt(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();return Pt=[],a}(t))},X.prototype.value=function(){throw new Error("value is empty")},X.prototype.getSlug=function(){throw new Error("getSlug is empty")},X.prototype.isSupported=function(t){return!1},X.prototype.setRestriction=function(t){this.restriction=t};const Y=X;function Z(){Y.call(this),this.getSlug=function(){return"value"},this.isSupported=function(t){return!0},this.value=function(){return this.restriction.getValue()}}Z.prototype=Object.create(Y.prototype);const tt=Z;function rt(){Y.call(this),this.getSlug=function(){return"min"},this.isSupported=function(t){return t.hasOwnProperty("min")},this.value=function(){var t,r;return null!==(t=null===(r=this.restriction)||void 0===r?void 0:r.min)&&void 0!==t?t:""}}rt.prototype=Object.create(Y.prototype);const et=rt;function nt(){Y.call(this),this.getSlug=function(){return"max"},this.isSupported=function(t){return t.hasOwnProperty("max")},this.value=function(){var t,r;return null!==(t=null===(r=this.restriction)||void 0===r?void 0:r.max)&&void 0!==t?t:""}}nt.prototype=Object.create(Y.prototype);const ot=nt;function it(){Y.call(this),this.getSlug=function(){return"remaining"},this.isSupported=function(t){return t.hasOwnProperty("max")},this.value=function(){return this.restriction.max-this.restriction.getValue()}}it.prototype=Object.create(Y.prototype);const at=it;function ut(t){return function(t){if(Array.isArray(t))return st(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,r){if(t){if("string"==typeof t)return st(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?st(t,r):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function st(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function ct(){this.props=[]}ct.prototype.getSlug=function(){throw new Error("getSlug is empty")},ct.prototype.setProps=function(t){var r;(r=this.props).push.apply(r,ut(t))},ct.prototype.applyWithProps=function(t){return this.apply.apply(this,[t].concat(ut(this.props)))},ct.prototype.apply=function(t){return t};const lt=ct;function ft(){lt.call(this),this.getSlug=function(){return"length"},this.apply=function(t){return t.length}}ft.prototype=Object.create(lt.prototype);const pt=ft;function yt(){lt.call(this),this.getSlug=function(){return"ifEmpty"},this.apply=function(t,r){return t||r}}yt.prototype=Object.create(lt.prototype);const ht=yt;function dt(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),e.push.apply(e,n)}return e}function vt(t){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{};r%2?dt(Object(e),!0).forEach((function(r){gt(t,r,e[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):dt(Object(e)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}))}return t}function gt(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function mt(t,r){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=bt(t))||r&&t&&"number"==typeof t.length){e&&(t=e);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==e.return||e.return()}finally{if(u)throw i}}}}function bt(t,r){if(t){if("string"==typeof t)return St(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?St(t,r):void 0}}function St(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}var wt=wp.hooks.applyFilters,jt=[],Ot=[],At=[],It=function(){return wt("jet.fb.restrictions.filters",[pt,ht])},Mt=[],Pt=[];function Rt(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";Mt.length||(Mt=It().map((function(t){return new t})));var e=Mt.find((function(r){return t===r.getSlug()}));e&&(r=r.split(",").map((function(t){return t.trim()})),e.setProps(r),Pt.push(e))}function xt(t){return t.closest(".jet-form-builder-row")}function Et(t,r){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,r){if(t){if("string"==typeof t)return Tt(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Tt(t,r):void 0}}(t))||r&&t&&"number"==typeof t.length){e&&(t=e);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==e.return||e.return()}finally{if(u)throw i}}}}function Tt(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function Vt(t,r,e,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void e(t)}u.done?r(s):Promise.resolve(s).then(n,o)}function kt(t){return function(){var r=this,e=arguments;return new Promise((function(n,o){var i=t.apply(r,e);function a(t){Vt(i,n,o,a,u,"next",t)}function u(t){Vt(i,n,o,a,u,"throw",t)}a(void 0)}))}}var Ct=JetFormBuilderAbstract.ReportingInterface;function Ft(){Ct.call(this),this.type="inherit",this.restrictions=[],this.messages={},this.isSupported=function(t,r){this.type=function(t){var r,e=xt(t),n=(null!==(r=null==e?void 0:e.dataset)&&void 0!==r?r:{}).validationType;return void 0===n?"":n}(t);var e="inherit"===this.type?function(t){var r,e=t.getSubmit(),n=(null!==(r=window.JetFormsValidation[e.getFormId()])&&void 0!==r?r:{}).type;return void 0===n?"":n}(r):this.type;return!(null==e||!e.length)},this.isValid=kt(regeneratorRuntime.mark((function t(){var r,e,n,o,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=Et(this.restrictions);try{for(o=function(){var t=n.value;r.push((function(r,e){t.validatePromise().then(r).catch((function(){e(t)}))}))},e.s();!(n=e.n()).done;)o()}catch(t){e.e(t)}finally{e.f()}return t.next=5,Promise.allSettled(r.map((function(t){return new Promise(t)})));case 5:return i=t.sent,a=i.filter((function(t){return"rejected"===t.status})),t.abrupt("return",a.map((function(t){var r=t.reason,e=t.value;return null!=r?r:e})));case 8:case"end":return t.stop()}}),t,this)}))),this.report=function(t){this.insertError(t[0].getMessage())},this.setInput=function(t){var r,e,n,o;Ct.prototype.setInput.call(this,t),this.messages=(o=void 0===(n=(null!==(r=null==(e=xt(t.nodes[0]))?void 0:e.dataset)&&void 0!==r?r:{}).validationMessages)?"{}":n,JSON.parse(o)),this.isRequired&&(this.setRestrictions(),this.hasServerSide=this.restrictions.some((function(t){return t.isServerSide()})))},this.setRestrictions=function(){return function(t){jt.length||(jt=wt("jet.fb.restrictions",[s,f,y,d,g,j,I,R,b,V]));var r,e=mt(jt);try{for(e.s();!(r=e.n()).done;){var n=new(0,r.value);n.isSupported(t.getNode(),t)&&(n.setReporting(t),t.restrictions.push(n))}}catch(t){e.e(t)}finally{e.f()}}(this)},this.clearReport=function(){var t=this.getNode();t.classList.remove("field-has-error");var r=t.parentElement.querySelector(".error-message");r&&r.remove()},this.insertError=function(t){var r=this.getNode(),e=this.createError(r,t);r.classList.add("field-has-error"),e.isConnected||r.parentElement.appendChild(e)},this.createError=function(t,r){var e=t.parentElement.querySelector(".error-message");if(e)return e.innerHTML=r,e;var n=document.createElement("div");return n.classList.add("error-message"),n.innerHTML=r,n}}Ft.prototype=Object.create(Ct.prototype);const $t=Ft;function Bt(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}(0,wp.hooks.addFilter)("jet.fb.reporting","jet-form-builder/advanced-reporting",(function(t){return[$t].concat(function(t){if(Array.isArray(t))return Bt(t)}(r=t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(r)||function(t,r){if(t){if("string"==typeof t)return Bt(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Bt(t,r):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var r}))})();