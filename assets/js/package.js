(()=>{var e={6089:()=>{function e(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,n)||t(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=function(){return(0,wp.data.select)("core/editor").getEditedPostAttribute("meta")},l=function(e,t){(0,(0,wp.data.dispatch)("core/editor").editPost)({meta:o(o({},a()),{},i({},e,JSON.stringify(t)))})},c=function(t){for(var n=[],r=0,o=Object.entries(t);r<o.length;r++){var i=e(o[r],2),a=i[0],l=i[1].active;void 0!==l&&l&&n.push(+a)}return n},u=function(){var r={},o=[];try{var i=function(){var e=a(),t={},n=[];try{t=JSON.parse(e._jf_gateways)}catch(e){return[]}if(1===t.last_migrate)throw"migrated";try{n=JSON.parse(e._jf_actions)}catch(e){return[t]}return[t,n]}(),u=e(i,2),s=u[0];r=void 0===s?{}:s;var f=u[1];o=void 0===f?[]:f}catch(e){return}r.last_migrate=1,l("_jf_gateways",r);var p,m=[];try{m.push.apply(m,(p=function(e,t){var n,r,o,i,a=c(null!==(n=e.notifications_success)&&void 0!==n?n:{}),l=c(null!==(r=e.notifications_failed)&&void 0!==r?r:{}),u=c(null!==(o=e.notifications_before)&&void 0!==o?o:{}),s=null!==(i=e.use_success_redirect)&&void 0!==i&&i,f=!1;if(!(a.length||l.length||u.length||s))throw"nothing_to_migrate";return t.map((function(e){var t;return e.events=null!==(t=e.events)&&void 0!==t?t:[],a.includes(e.id)&&e.events.push("GATEWAY.SUCCESS"),l.includes(e.id)&&e.events.push("GATEWAY.FAILED"),u.includes(e.id)&&e.events.push("DEFAULT.PROCESS"),s&&!f&&"redirect_to_page"===e.type&&(e.events.push("GATEWAY.SUCCESS"),f=!0),e}))}(r,o),function(e){if(Array.isArray(e))return n(e)}(p)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(p)||t(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))}catch(e){return}l("_jf_actions",m)};wp.domReady((function(){return setTimeout(u,0)}))},9510:(e,t,n)=>{const r=n(6830),{MAX_LENGTH:o,MAX_SAFE_INTEGER:i}=n(39),{re:a,t:l}=n(9022),c=n(8716),{compareIdentifiers:u}=n(8822);class s{constructor(e,t){if(t=c(t),e instanceof s){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid Version: ${e}`);if(e.length>o)throw new TypeError(`version is longer than ${o} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?a[l.LOOSE]:a[l.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<i)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof s)){if("string"==typeof e&&e===this.version)return 0;e=new s(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof s||(e=new s(e,this.options)),u(this.major,e.major)||u(this.minor,e.minor)||u(this.patch,e.patch)}comparePre(e){if(e instanceof s||(e=new s(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],o=e.prerelease[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return u(n,o)}while(++t)}compareBuild(e){e instanceof s||(e=new s(e,this.options));let t=0;do{const n=this.build[t],o=e.build[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return u(n,o)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(0===u(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}e.exports=s},3992:(e,t,n)=>{const r=n(9510);e.exports=(e,t,n)=>new r(e,n).compare(new r(t,n))},2260:(e,t,n)=>{const r=n(3992);e.exports=(e,t,n)=>r(e,t,n)>0},6579:(e,t,n)=>{const r=n(3992);e.exports=(e,t,n)=>r(e,t,n)>=0},290:(e,t,n)=>{const r=n(3992);e.exports=(e,t,n)=>r(e,t,n)<0},5891:(e,t,n)=>{const r=n(3992);e.exports=(e,t,n)=>r(e,t,n)<=0},39:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:t,MAX_SAFE_COMPONENT_LENGTH:16}},6830:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},8822:e=>{const t=/^[0-9]+$/,n=(e,n)=>{const r=t.test(e),o=t.test(n);return r&&o&&(e=+e,n=+n),e===n?0:r&&!o?-1:o&&!r?1:e<n?-1:1};e.exports={compareIdentifiers:n,rcompareIdentifiers:(e,t)=>n(t,e)}},8716:e=>{const t=["includePrerelease","loose","rtl"];e.exports=e=>e?"object"!=typeof e?{loose:!0}:t.filter((t=>e[t])).reduce(((e,t)=>(e[t]=!0,e)),{}):{}},9022:(e,t,n)=>{const{MAX_SAFE_COMPONENT_LENGTH:r}=n(39),o=n(6830),i=(t=e.exports={}).re=[],a=t.src=[],l=t.t={};let c=0;const u=(e,t,n)=>{const r=c++;o(e,r,t),l[e]=r,a[r]=t,i[r]=new RegExp(t,n?"g":void 0)};u("NUMERICIDENTIFIER","0|[1-9]\\d*"),u("NUMERICIDENTIFIERLOOSE","[0-9]+"),u("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),u("MAINVERSION",`(${a[l.NUMERICIDENTIFIER]})\\.(${a[l.NUMERICIDENTIFIER]})\\.(${a[l.NUMERICIDENTIFIER]})`),u("MAINVERSIONLOOSE",`(${a[l.NUMERICIDENTIFIERLOOSE]})\\.(${a[l.NUMERICIDENTIFIERLOOSE]})\\.(${a[l.NUMERICIDENTIFIERLOOSE]})`),u("PRERELEASEIDENTIFIER",`(?:${a[l.NUMERICIDENTIFIER]}|${a[l.NONNUMERICIDENTIFIER]})`),u("PRERELEASEIDENTIFIERLOOSE",`(?:${a[l.NUMERICIDENTIFIERLOOSE]}|${a[l.NONNUMERICIDENTIFIER]})`),u("PRERELEASE",`(?:-(${a[l.PRERELEASEIDENTIFIER]}(?:\\.${a[l.PRERELEASEIDENTIFIER]})*))`),u("PRERELEASELOOSE",`(?:-?(${a[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${a[l.PRERELEASEIDENTIFIERLOOSE]})*))`),u("BUILDIDENTIFIER","[0-9A-Za-z-]+"),u("BUILD",`(?:\\+(${a[l.BUILDIDENTIFIER]}(?:\\.${a[l.BUILDIDENTIFIER]})*))`),u("FULLPLAIN",`v?${a[l.MAINVERSION]}${a[l.PRERELEASE]}?${a[l.BUILD]}?`),u("FULL",`^${a[l.FULLPLAIN]}$`),u("LOOSEPLAIN",`[v=\\s]*${a[l.MAINVERSIONLOOSE]}${a[l.PRERELEASELOOSE]}?${a[l.BUILD]}?`),u("LOOSE",`^${a[l.LOOSEPLAIN]}$`),u("GTLT","((?:<|>)?=?)"),u("XRANGEIDENTIFIERLOOSE",`${a[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),u("XRANGEIDENTIFIER",`${a[l.NUMERICIDENTIFIER]}|x|X|\\*`),u("XRANGEPLAIN",`[v=\\s]*(${a[l.XRANGEIDENTIFIER]})(?:\\.(${a[l.XRANGEIDENTIFIER]})(?:\\.(${a[l.XRANGEIDENTIFIER]})(?:${a[l.PRERELEASE]})?${a[l.BUILD]}?)?)?`),u("XRANGEPLAINLOOSE",`[v=\\s]*(${a[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[l.XRANGEIDENTIFIERLOOSE]})(?:${a[l.PRERELEASELOOSE]})?${a[l.BUILD]}?)?)?`),u("XRANGE",`^${a[l.GTLT]}\\s*${a[l.XRANGEPLAIN]}$`),u("XRANGELOOSE",`^${a[l.GTLT]}\\s*${a[l.XRANGEPLAINLOOSE]}$`),u("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),u("COERCERTL",a[l.COERCE],!0),u("LONETILDE","(?:~>?)"),u("TILDETRIM",`(\\s*)${a[l.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",u("TILDE",`^${a[l.LONETILDE]}${a[l.XRANGEPLAIN]}$`),u("TILDELOOSE",`^${a[l.LONETILDE]}${a[l.XRANGEPLAINLOOSE]}$`),u("LONECARET","(?:\\^)"),u("CARETTRIM",`(\\s*)${a[l.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",u("CARET",`^${a[l.LONECARET]}${a[l.XRANGEPLAIN]}$`),u("CARETLOOSE",`^${a[l.LONECARET]}${a[l.XRANGEPLAINLOOSE]}$`),u("COMPARATORLOOSE",`^${a[l.GTLT]}\\s*(${a[l.LOOSEPLAIN]})$|^$`),u("COMPARATOR",`^${a[l.GTLT]}\\s*(${a[l.FULLPLAIN]})$|^$`),u("COMPARATORTRIM",`(\\s*)${a[l.GTLT]}\\s*(${a[l.LOOSEPLAIN]}|${a[l.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",u("HYPHENRANGE",`^\\s*(${a[l.XRANGEPLAIN]})\\s+-\\s+(${a[l.XRANGEPLAIN]})\\s*$`),u("HYPHENRANGELOOSE",`^\\s*(${a[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${a[l.XRANGEPLAINLOOSE]})\\s*$`),u("STAR","(<|>)?=?\\s*\\*"),u("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),u("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}(()=>{"use strict";const e=(0,wp.element.createContext)({name:"",data:{},index:0});function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var r=wp.components.BaseControl;const o=(0,wp.element.createContext)({actionClick:null,onRequestClose:function(){}});function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function a(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=wp.components,u=c.Button,s=c.ButtonGroup,f=c.Modal,p=wp.element,m=p.useState;p.useEffect;const d=function(e){var t=e.onRequestClose,n=e.children,r=e.title,c=e.classNames,p=void 0===c?[]:c,d=e.onUpdateClick,y=e.onCancelClick,b=e.updateBtnLabel,v=void 0===b?"Update":b,h=e.updateBtnProps,g=void 0===h?{}:h,w=e.cancelBtnProps,O=void 0===w?{}:w,E=e.cancelBtnLabel,j=void 0===E?"Cancel":E,S=e.fixedHeight,A=void 0===S?"":S,_=["jet-form-edit-modal"].concat(function(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(p)),I=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(m(null),2),P=I[0],C=I[1],N={};return A&&(N={height:A},_.push("jet-modal-fixed-height")),wp.element.createElement(f,{onRequestClose:t,className:_.join(" "),title:r,style:N},!n&&wp.element.createElement("div",{className:"jet-form-edit-modal__content"},"Action callback is not found."),n&&wp.element.createElement(React.Fragment,null,wp.element.createElement("div",{className:"jet-form-edit-modal__wrapper"},wp.element.createElement(o.Provider,{value:{actionClick:P,onRequestClose:t}},wp.element.createElement("div",{className:"jet-form-edit-modal__content"},"function"==typeof n&&n({actionClick:P,onRequestClose:t}),"function"!=typeof n&&n))),wp.element.createElement(s,{className:"jet-form-edit-modal__actions"},wp.element.createElement(u,i({isPrimary:!0,onClick:function(){d&&d(),C(!0)}},g),v),wp.element.createElement(u,i({isSecondary:!0,style:{margin:"0 0 0 10px"},onClick:function(){y&&y(),C(!1)}},O),j))))};function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=wp.element,v=b.RawHTML,h=b.useContext;wp.i18n.__;var g=wp.components.Button,w=wp.element.useEffect;const O=function(e){var t=e.label,n=e.ajaxArgs,r=void 0===n?{}:n,o=e.onSuccessRequest,i=void 0===o?function(){}:o,a=e.onFailRequest,l=void 0===a?function(){}:a,c=e.onLoading,u=void 0===c?function(){}:c,s=e.className,f=void 0===s?"":s,p=e.children,m=void 0===p?function(){}:p,d=e.disabled,y=void 0!==d&&d,b=e.customRequest,v=void 0!==b&&b,h=e.isHidden,O=void 0!==h&&h,E=e.hasFetched,j=void 0===E?-1:E,S=function(){!1===v?(u(),jQuery.ajax({url:ajaxurl,type:"POST",data:r}).done((function(e){return e.success?i(e):l()})).fail((function(){return l()}))):"function"==typeof v?v():l()};return w((function(){O&&-1===j&&S()}),[]),O?null:wp.element.createElement(g,{disabled:y,key:"validate_api_key",isPrimary:!0,onClick:S,className:f},m&&m,t)},E=function(e){var t=P("getLocalizedFullPack")(e.type),n=t.gatewayAttrs,r=t.label,o=N(e.id);return n().map((function(t){return"".concat(r(t)," ").concat(function(t){return o[t]?o[t]:o[e.type]&&o[e.type][t]?o[e.type][t]:"NULL"}(t))})).join(", ")};function j(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||A(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||A(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var I=function(e){return S(ye(),1)[0].filter((function(t){return e===t.type}))},P=function(e){return e?window.JetFBLocalizeHelper[e]:window.JetFBLocalizeHelper},C=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.filter((function(e){return t===e.type})).map((function(e){var t={value:e.id,label:P("getActionLabel")(e.type)};return n&&(t.label+=" (".concat(E(e),")")),t}))},N=function(e){var t=S(ye(),1)[0].find((function(t){return e===t.id}));return!(!t||!t.settings)&&t.settings};function R(e){var t=e.slug,n=e.element,r=void 0===n?"":n,o=e.empty,i=void 0===o?"":o,a=JetFormEditorData.global_settings;return a?r?a[t]&&a[t][r]?a[t][r]:i:a[t]||i:i}var T=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=window.JetFormEditorData.gateways;if(!e)return n;if(!n[e])return!1;var r=n[e];return function(e){return r[e]?r[e]:t}},k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=T("labels");return function(r){return n(e)?n(e)[r]:t}},L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cred";return window.JetFBGatewaysList&&window.JetFBGatewaysList[e]&&window.JetFBGatewaysList[e][t]},x=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"cred";if(!L(e,n))return null;var r=window.JetFBGatewaysList[e][n];return wp.element.createElement(r,t)};const F=(0,wp.element.createContext)({});function D(e){return function(e){if(Array.isArray(e))return G(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U=wp.i18n.__,V=wp.hooks,q=V.applyFilters,J=V.addFilter,H=wp.data.select,X=(wp.blocks.store,function e(t){var n=H("core/block-editor").getBlock,r=t.innerBlocks;return t=M(M({},t),n(t.clientId)),null!=r&&r.length&&(t.innerBlocks=r.map(e)),t}),W=function(e){!function t(n){var r,o,i;(n=n||(r=H("core/block-editor"),o=r.getBlocks,"function"!=typeof(i=r.__unstableGetClientIdsTree)?o():i().map(X))).map((function(n){e(n),n.innerBlocks.length&&t(n.innerBlocks)}))}()},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"default",o=[],i=["submit","form-break","heading","group-break","conditional"].concat(D(e));return W((function(e){e.name.includes("jet-forms/")&&e.attributes.name&&!i.find((function(t){return e.name.includes(t)}))&&o.push({blockName:e.name,name:e.attributes.name,label:e.attributes.label||e.attributes.name,value:e.attributes.name})})),o=t?[{value:"",label:t}].concat(D(o)):o,n?o:q("jet.fb.getFormFieldsBlocks",o,r)},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=[],r=z(e,!1,!1,t);return r&&r.forEach((function(e){return n.push(e.name)})),n},K=function(e){var t=wp.data.select("core/block-editor").getBlock(e);return t?t.innerBlocks:[]};function Z(e){return function(e){if(Array.isArray(e))return ne(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||te(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=te(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||te(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){if(e){if("string"==typeof e)return ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ne(e,t):void 0}}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ae=wp.element,le=ae.useState,ce=ae.useEffect,ue=ae.useContext,se=wp.data,fe=se.useSelect,pe=se.useDispatch,me=wp.hooks.applyFilters,de=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"{}",n=fe((function(e){return e("core/editor").getEditedPostAttribute("meta")||{}})),r=pe("core/editor",[n]),o=r.editPost,i=JSON.parse(n[e]||t),a=function(t){var r;r="function"==typeof t?t(i):t,o({meta:oe(oe({},n),{},ie({},e,JSON.stringify(r)))})};return[i,a]},ye=function(){return de("_jf_actions")},be=["jet-form-validate-button"],ve=function(e){var t="is-valid",n="is-invalid",r=ee(le(e?[].concat(be,[t]):e?void 0:[].concat(be,[n])),2),o=r[0],i=r[1];return[o.join(" "),function(){i([].concat(be,[t]))},function(){i([].concat(be,[n]))},function(){i([].concat(be,["loading"]))}]},he=function(){var e=ee(le([].concat(be)),2),t=e[0],n=e[1];return[t.join(" "),function(){n([].concat(be,["loading"]))},function(){n(be)}]},ge=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=le(!1),r=ee(n,2),o=r[0],i=r[1],a=pe(wp.notices.store);return ce((function(){o&&a.createWarningNotice(e,oe({type:"snackbar"},t))}),[o]),i},we=function(e){var t,n=[],r=Q(e);try{for(r.s();!(t=r.n()).done;){var o=t.value,i=o.settings[o.type],a=void 0===i?{}:i;if(a.requestFields){var l,c=Q(a.requestFields);try{var u=function(){var e=l.value;if(-1!==n.findIndex((function(t){return t.value===e.name})))return"continue";n.push({from:o.type,id:o.id,label:e.name,value:e.name,name:e.name,help:e.help})};for(c.s();!(l=c.n()).done;)u()}catch(e){c.e(e)}finally{c.f()}}}}catch(e){r.e(e)}finally{r.f()}return n},Oe=function(){var e=fe((function(e){return e("core/editor").getEditedPostAttribute("meta")||{}}),[]),t=JSON.parse(e._jf_actions||"[]"),n=fe((function(e){return e("jet-forms/actions").getCurrentAction()}),[]);return t.splice(n.index),we(t)},Ee=function(e){return e("core/editor").getEditedPostAttribute("meta")||{}},je=function(e,t){var n=Ee(e);return JSON.parse(n[t]||"{}")},Se=function(e){var t=fe((function(e){return Ee(e)}));return JSON.parse(t[e]||"{}")},Ae=function(e){return{currentAction:e("jet-forms/actions").getCurrentAction()}},_e=function(e){return{loadingState:e("jet-forms/actions").getCurrentLoading()}},Ie=function(e){return{setLoading:function(t){e("jet-forms/actions").setLoading({actionId:t})},setResultSuccess:function(t,n){e("jet-forms/actions").setLoadingResult({actionId:t,success:!0,response:n})},setResultFail:function(t){e("jet-forms/actions").setLoadingResult({actionId:t,success:!1,response:{}})}}},Pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var r=je(n,e);return ie({},e,null!=r?r:t)}},Ce=function(e){var t=e("jet-forms/gateways"),n=t.getCurrentRequestId(),r=t.getGatewaySpecific(),o=t.getScenario(),i=t.getGatewayId(),a=o.id,l=void 0===a?"PAY_NOW":a,c=r.use_global,u=void 0!==c&&c,s=R({slug:i}),f=T("additional")(i),p=e("jet-forms/actions").getLoading(n),m=T("labels"),d=k(i),y=function(e){return m("".concat(i,".").concat(e))};return{gatewayGeneral:t.getGateway(),gatewayRequest:t.getCurrentRequest(),scenarioSource:f[l]||{},currentScenario:o[l]||{},CURRENT_SCENARIO:l,gatewayScenario:o,additionalSourceGateway:f,gatewaySpecific:r,gatewayRequestId:n,loadingGateway:p,getSpecificOrGlobal:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return u?s[e]||t:r[e]||t},globalGatewayLabel:m,specificGatewayLabel:d,customGatewayLabel:y,scenarioLabel:function(e){return y("scenario.".concat(l,".").concat(e))}}},Ne=function e(t,n){n.map((function(n){t(n),n.innerBlocks.length&&e(t,n.innerBlocks)}))};function Re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||xe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ke(e){return ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ke(e)}function Le(e){return function(e){if(Array.isArray(e))return Fe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||xe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(e,t){if(e){if("string"==typeof e)return Fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fe(e,t):void 0}}function Fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ge=n(2260),$e=n(290),Me=n(6579),Be=n(5891),Ue=(wp.i18n.__,wp.hooks.applyFilters),Ve=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"withPlaceholder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"--",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return[{label:t,value:n}].concat(Le(e))}},{key:"isEmptyObject",value:function(e){return"object"===ke(e)&&0===Object.keys(e).length}}],null&&De(t.prototype,null),n&&De(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),qe=Ue("jet.fb.tools.convertSymbols",{checkCyrRegex:/[а-яёїєґі]/i,cyrRegex:/[а-яёїєґі]/gi,charsMap:{а:"a",б:"b",в:"v",г:"g",д:"d",е:"e",ё:"io",ж:"zh",з:"z",и:"i",й:"i",к:"k",л:"l",м:"m",н:"n",о:"o",п:"p",р:"r",с:"s",т:"t",у:"u",ф:"f",х:"kh",ц:"ts",ч:"ch",ш:"sh",щ:"shch",ы:"y",э:"e",ю:"iu",я:"ia",ї:"i",є:"ie",ґ:"g",і:"i"}});function Je(e){return qe.checkCyrRegex.test(e)&&(e=e.replace(qe.cyrRegex,(function(e){return void 0===qe.charsMap[e]?"":qe.charsMap[e]}))),e}function He(e){var t=e.toLowerCase().replace(/\s+/g,"_");return 20<(t=Je(t=t.normalize("NFD").replace(/[\u0300-\u036f]/g,""))).length&&"-"===(t=t.substr(0,34)).slice(-1)&&(t=t.slice(0,-1)),t}function Xe(){for(var e=[],t=function t(n){n.forEach((function(n){if(n&&(Array.isArray(n)&&t(n),"string"==typeof n&&e.push(n.trim()),"object"===ke(n)))for(var r in n)n[r]&&e.push((r+"").trim())}))},n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t(r),e.join(" ")}const We=Ve;function ze(){return ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ze.apply(this,arguments)}function Ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qe(e){return Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qe(e)}var et=wp.hooks.applyFilters;const tt=function(e){return function(t){return wp.element.createElement(e,ze({key:"wrapped-preset-editor"},t,{parseValue:function(){var e={};if("object"===Qe(t.value))e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){Ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t.value);else if(t.value&&"string"==typeof t.value)try{if("number"==typeof(e=JSON.parse(t.value)))throw new Error}catch(t){e={}}return e.jet_preset=!0,e},isVisible:function(e,t,n){return(t.position&&n===t.position||!t.position||"query_var"!==e.from)&&function(e,t){return!t.condition&&!t.custom_condition||(t.custom_condition?"query_var"===t.custom_condition?"post"===e.from&&"query_var"===e.post_from||"user"===e.from&&"query_var"===e.user_from||"query_var"===e.from:et("jet.fb.preset.editor.custom.condition",!1,t.custom_condition,e):!t.condition||e[t.condition.field]===t.condition.value)}(e,t)},isMapFieldVisible:function(e,t,n){return!((t.condition||t.parent_condition)&&(t.parent_condition&&!t.condition?e[t.parent_condition.field]!==t.parent_condition.value:t.parent_condition&&t.condition?!e.fields_map||!e.fields_map[n]||e.fields_map[n][t.condition.field]!==t.condition.value||e[t.parent_condition.field]!==t.parent_condition.value:!t.parent_condition&&t.condition&&(!e.fields_map||!e.fields_map[n]||e.fields_map[n][t.condition.field]!==t.condition.value)))},isCurrentFieldVisible:function(e,t,n){return!((t.condition||t.parent_condition)&&(t.position&&n!==t.position||(t.parent_condition&&!t.condition?e[t.parent_condition.field]!==t.parent_condition.value:t.parent_condition&&t.condition?e["current_field_"+t.condition.field]!==t.condition.value||e[t.parent_condition.field]!==t.parent_condition.value:!t.parent_condition&&t.condition&&e["current_field_"+t.condition.field]!==t.condition.value)))},excludeOptions:function(e){var n=function(e){return function(e){if(Array.isArray(e))return Ye(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ye(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e);return n.forEach((function(e,r){t.excludeSources&&t.excludeSources.includes(e.value)&&n.splice(r,1)})),n}}))}};var nt=window.lodash.isEmpty,rt=window.wp.compose.withInstanceId,ot=window.wp.components.BaseControl;const it=rt((function(e){var t=e.help,n=e.instanceId,r=e.label,o=(e.multiple,e.onChange),i=e.options,a=void 0===i?[]:i,l=e.className,c=e.value,u=e.hideLabelFromVision,s="inspector-select-control-".concat(n);return!nt(a)&&wp.element.createElement(ot,{label:r,hideLabelFromVision:u,id:s,help:t,className:l},wp.element.createElement("select",{id:s,className:"components-select-control__input",onChange:function(e){o(e.target.value)},value:c,"aria-describedby":t?"".concat(s,"__help"):void 0},wp.element.createElement("option",{key:"".concat(r,"-placeholder"),value:""},"--"),a.map((function(e,t){return!nt(e.values)&&wp.element.createElement("optgroup",{key:"".concat(e.label,"-").concat(t),label:e.label},e.values.map((function(e,n){return wp.element.createElement("option",{key:"".concat(e.value,"-").concat(n,"-").concat(t),value:e.value,disabled:e.disabled},e.label)})))}))))}));function at(){return at=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},at.apply(this,arguments)}function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(n),!0).forEach((function(t){ut(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function st(e){return st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},st(e)}var ft=wp.components,pt=ft.TextControl,mt=ft.SelectControl,dt=ft.CustomSelectControl,yt=ft.Card,bt=ft.CardBody,vt=ft.CardHeader;function ht(e){var t=e.data,n=e.value,r=e.index,o=e.onChangeValue,i=e.isVisible,a=e.excludeOptions,l=void 0===a?function(e){return e}:a,c=e.position;switch(t.type){case"text":return i(n,t,c)&&wp.element.createElement("div",{key:"field_"+t.name+r,className:"jet-form-preset__row"},wp.element.createElement(pt,{key:t.name+r,label:t.label,value:n[t.name],onChange:function(e){o(e,t.name)}}));case"select":return i(n,t,c)&&wp.element.createElement("div",{key:"field_"+t.name+r,className:"jet-form-preset__row"},wp.element.createElement(mt,{key:t.name+r,labelPosition:"side",options:l(t.options),label:t.label,value:n[t.name],onChange:function(e){o(e,t.name)}}))}return null}function gt(e){var t=e.data,n=e.value,r=e.index,o=e.currentState,i=e.onChangeValue,a=e.isCurrentFieldVisible;switch(e.position,t.type){case"text":return a(o,t)&&wp.element.createElement("div",{key:t.name+r,className:"jet-form-preset__row"},wp.element.createElement(pt,{key:"control_"+t.name+r,placeholder:t.label,value:n,onChange:function(e){i(e,"current_field_"+t.name)}}));case"select":return a(o,t)&&wp.element.createElement("div",{key:t.name+r,className:"jet-form-preset__row"},wp.element.createElement(mt,{key:"control_"+t.name+r,labelPosition:"side",options:t.options,label:t.label,value:n,onChange:function(e){i(e,"current_field_"+t.name)}}));case"custom_select":return a(o,t)&&wp.element.createElement("div",{key:t.name+r,className:"jet-form-preset__row"},wp.element.createElement(dt,{className:"jet-custom-select-control",label:t.label,options:t.options,onChange:function(e){var r=e.selectedItem;n=r.key,i(n,"current_field_"+t.name)},value:t.options.find((function(e){return e.key===n}))}));case"grouped_select":return a(o,t)&&wp.element.createElement("div",{key:t.name+r,className:"jet-form-preset__row"},wp.element.createElement(it,{options:t.options,label:t.label,labelPosition:"side",value:n,onChange:function(e){i(e,"current_field_"+t.name)}}))}return null}function wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(n),!0).forEach((function(t){Et(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var St=wp.element,At=St.useState,_t=St.useEffect;const It=tt((function(e){var t=e.value,n=e.isSaveAction,r=e.onSavePreset,o=e.onUnMount,i=e.parseValue,a=e.excludeOptions,l=e.isCurrentFieldVisible,c=e.isVisible,u="dynamic",s=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return jt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(At((function(){return i(t)})),2),f=s[0],p=s[1],m=function(e,t){p((function(n){return Ot(Ot({},n),{},Et({},t,e))}))};return _t((function(){!0===n?(r&&r(JSON.stringify(f)),o()):!1===n&&o()}),[n]),wp.element.createElement(React.Fragment,null,window.JetFormEditorData.presetConfig.global_fields.map((function(e,t){return wp.element.createElement(ht,{key:"current_field_".concat(e.name,"_").concat(t),value:f,index:t,data:e,excludeOptions:a,onChangeValue:m,isVisible:c,position:u})})),window.JetFormEditorData.presetConfig.map_fields.map((function(e,t){return wp.element.createElement(gt,{key:"current_field_".concat(e.name,"_").concat(t),currentState:f,value:f["current_field_"+e.name],index:t,data:e,onChangeValue:m,isCurrentFieldVisible:l,position:u})})))}));function Pt(e){return Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pt(e)}function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(n),!0).forEach((function(t){Rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kt(e,t){return kt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},kt(e,t)}function Lt(e,t){if(t&&("object"===Pt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function xt(e){return xt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xt(e)}var Ft=wp.components,Dt=Ft.SelectControl,Gt=Ft.TextControl;const $t=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kt(e,t)}(a,wp.element.Component);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=xt(r);if(o){var n=xt(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Lt(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).fieldTypes=t.props.fieldTypes,t.taxonomiesList=t.props.taxonomiesList,t.className=t.props.className,t.metaProp=t.props.metaProp?t.props.metaProp:"post_meta",t.termsProp=t.props.termsProp?t.props.termsProp:"post_terms",t.index=t.props.index,t.init(),t.bindFunctions(),t.state={type:t.getFieldType(t.props.fieldValue)},t}return t=a,(n=[{key:"bindFunctions",value:function(){this.onChangeType=this.onChangeType.bind(this),this.onChangeValue=this.onChangeValue.bind(this)}},{key:"init",value:function(){if(this.id="inspector-select-control-".concat(this.index),this.preparedTaxes=[],this.taxPrefix="jet_tax__",this.taxonomiesList)for(var e=0;e<this.taxonomiesList.length;e++)this.preparedTaxes.push({value:this.taxPrefix+this.taxonomiesList[e].value,label:this.taxonomiesList[e].label})}},{key:"getFieldName",value:function(e){if(!e)return"";var t=this.getFieldType(e);return this.termsProp===t||this.metaProp===t?e:""}},{key:"isTermOrMeta",value:function(e){return this.termsProp===e||this.metaProp===e}},{key:"getFieldType",value:function(e){if(!e)return"";for(var t=0;t<this.fieldTypes.length;t++)if(e===this.fieldTypes[t].value)return e;return e.includes(this.taxPrefix)?this.termsProp:this.metaProp}},{key:"onChangeValue",value:function(e){this.props.onChange(Nt(Nt({},this.props.fieldsMap),{},Rt({},this.props.fieldName,e)))}},{key:"onChangeType",value:function(e){var t=this.getFieldType(e);this.setState({type:t}),this.isTermOrMeta(t)&&(t=""),this.onChangeValue(t)}},{key:"render",value:function(){return wp.element.createElement("div",{className:"jet-fields-map__row"},wp.element.createElement("div",{className:"jet-post-field-control"},wp.element.createElement(Dt,{key:"field_type_"+this.props.fieldName+this.index,label:this.props.fieldName,labelPosition:"side",value:this.state.type,onChange:this.onChangeType,options:this.fieldTypes,style:{width:"160px"}}),this.metaProp===this.state.type&&wp.element.createElement(Gt,{key:"field_name_"+this.props.fieldName+this.index,value:this.props.fieldValue,onChange:this.onChangeValue,style:{width:"200px"}}),this.termsProp===this.state.type&&wp.element.createElement(Dt,{className:"jet-control-without-label",key:"field_tax_"+this.props.fieldName+this.index,value:this.props.fieldValue,onChange:this.onChangeValue,options:this.preparedTaxes,style:{width:"200px"}})))}}])&&Tt(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}();function Mt(){return Mt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mt.apply(this,arguments)}function Bt(e,t){if(e){if("string"==typeof e)return Ut(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ut(e,t):void 0}}function Ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Vt=wp.components,qt=Vt.Path,Jt=Vt.SVG,Ht=Vt.BaseControl,Xt=wp.element.useState;const Wt=function(e){var t=e.children,n=void 0===t?null:t,r=e.ModalEditor,o=e.triggerClasses,i=void 0===o?[]:o,a=e.baseControlProps,l=void 0===a?{}:a,c=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||Bt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Xt(!1),2),u=c[0],s=c[1],f=function(){s((function(e){return!e}))},p=["jet-form-dynamic-preset__trigger"].concat(function(e){return function(e){if(Array.isArray(e))return Ut(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Bt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(i)).join(" ");return wp.element.createElement(React.Fragment,null,wp.element.createElement(Ht,Mt({className:"jet-form-dynamic-preset"},l),n,wp.element.createElement("div",{className:p,onClick:f},wp.element.createElement(Jt,{viewBox:"0 0 54 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement(qt,{d:"M42.6396 26.4347C37.8682 27.3436 32.5666 28.0252 27.1894 28.0252C21.8121 28.0252 16.4348 27.3436 11.7391 26.4347C6.96774 25.4502 3.18093 23.8597 0.37868 21.9663L0.37868 28.0252C0.37868 29.5399 1.59046 31.1304 3.78682 32.4179C5.98317 33.7054 9.46704 34.9172 13.6325 35.5988C17.798 36.2805 22.115 36.8106 27.1894 36.8106C32.2637 36.8106 36.6564 36.5077 40.7462 35.5988C44.8359 34.69 48.3198 33.7054 50.5162 32.4179C52.7125 31.1304 54 29.5399 54 28.0252L54 21.9663C51.122 23.8597 47.3352 25.4502 42.6396 26.4347ZM42.6396 53.5484C37.8682 54.5329 32.5666 55.1388 27.1894 55.1388C21.8121 55.1388 16.4348 54.5329 11.7391 53.5484C7.04348 52.5638 3.18093 51.0491 0.378682 49.1556L0.378682 55.1388C0.378683 56.7293 1.59046 58.3197 3.78682 59.5315C6.36186 60.819 9.46705 62.1066 13.6325 62.7125C17.7223 63.697 22.115 64 27.1894 64C32.2637 64 36.6564 63.697 40.7462 62.7125C44.8359 61.8036 48.3198 60.819 50.5162 59.5315C52.7125 57.9411 54 56.7293 54 54.8359L54 48.8527C51.122 51.0491 47.3352 52.2608 42.6396 53.5484ZM42.6396 39.9915C37.8682 40.9004 32.5666 41.582 27.1894 41.582C21.8121 41.582 16.4348 40.9004 11.7391 39.9915C6.96774 39.007 3.18093 37.4922 0.378681 35.5988L0.378681 41.582C0.378681 43.1725 1.59046 44.6872 3.78682 45.9747C6.36185 47.2622 9.46705 48.474 13.6325 49.1556C17.7223 50.0645 22.115 50.3674 27.1894 50.3674C32.2637 50.3674 36.6564 50.0645 40.7462 49.1556C44.8359 48.1711 48.3198 47.2622 50.5162 45.9747C52.7125 44.3843 54 43.1725 54 41.582L54 35.5988C51.122 37.4922 47.3352 39.007 42.6396 39.9915ZM40.4432 2.12337C36.3535 1.13879 31.885 0.835848 26.8864 0.835849C21.8878 0.835849 17.4194 1.13879 13.2539 2.12337C9.08836 3.10794 5.68022 4.01678 3.48387 5.3043C1.28751 6.59181 -3.4782e-06 8.10654 -3.33916e-06 9.697L-2.95513e-06 14.0897C-2.81609e-06 15.6802 1.28752 17.2706 3.48387 18.5582C6.05891 19.7699 9.1641 21.0575 13.2539 21.6633C17.3436 22.2692 21.8121 22.9509 26.8864 22.9509C31.9607 22.9509 36.3535 22.9509 40.4432 22.345C44.533 21.7391 48.0169 20.4516 50.2132 19.164C52.7125 17.5736 54 15.9831 54 14.3927L54 9.99995C54 8.40948 52.7125 6.81902 50.5162 5.60724C48.3198 4.39546 44.533 2.72926 40.4432 2.12337Z",fill:"#7E8993"})))),u&&wp.element.createElement(d,{onRequestClose:f,classNames:["width-60"],title:"Edit Preset"},(function(e){return wp.element.createElement(r,e)})))};function zt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Kt(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function Yt(e){return function(e){if(Array.isArray(e))return Zt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Kt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kt(e,t){if(e){if("string"==typeof e)return Zt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zt(e,t):void 0}}function Zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Qt=wp.data.useSelect;function en(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var tn=wp.blockEditor.useBlockProps,nn=wp.data.useSelect,rn=wp.blockEditor.useBlockProps,on=wp.data;on.useSelect,on.useDispatch;var an=wp.components.BaseControl,ln=(wp.data.withSelect,wp.blockEditor.RichText),cn=wp.i18n.__;function un(e){return wp.element.createElement("small",{style:{whiteSpace:"nowrap",padding:"0.2em 0.8em 0 0",color:"#8e8a8a"}},e)}var sn=["children","fields","onFieldClick","customMacros","zIndex"];function fn(){return fn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fn.apply(this,arguments)}function pn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var mn=wp.components,dn=mn.Button,yn=mn.Popover,bn=mn.PanelBody,vn=wp.element.useState;function hn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||jn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gn(Object(n),!0).forEach((function(t){On(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function On(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function En(e){return function(e){if(Array.isArray(e))return Sn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||jn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jn(e,t){if(e){if("string"==typeof e)return Sn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sn(e,t):void 0}}function Sn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var An=wp.i18n.__,_n=wp.components,In=_n.Button,Pn=_n.ButtonGroup,Cn=_n.Card,Nn=_n.CardBody,Rn=_n.CardHeader,Tn=_n.ToggleControl,kn=_n.Flex,Ln=_n.FlexItem,xn=wp.element,Fn=xn.useState,Dn=xn.useEffect;var Gn=wp.i18n.__,$n=wp.hooks.applyFilters,Mn=function(){return $n("jet.fb.register.fields.controls",{general:{label:Gn("General","jet-form-builder"),attrs:[{attrName:"label",type:"text",label:Gn("Field Label","jet-form-builder")},{attrName:"name",type:"text",label:Gn("Form field name","jet-form-builder"),help:Gn("Should contain only Latin letters, numbers, `-` or `_` chars, no spaces only lower case","jet-form-builder")},{attrName:"desc",type:"text",label:Gn("Field Description","jet-form-builder")},{attrName:"default",type:"dynamic_text",label:Gn("Default Value","jet-form-builder")}]},toolbar:{attrs:[{attrName:"required",type:"toggle",label:Gn("Is Required","jet-form-builder")}]},advanced:{label:Gn("Advanced","jet-form-builder"),attrs:[{attrName:"placeholder",type:"text",label:Gn("Placeholder","jet-form-builder")},{attrName:"add_prev",type:"toggle",label:Gn("Add Prev Page Button","jet-form-builder"),help:Gn('It is recommended to use \n\t\t\t\tthe "Action Button" block with the "Go to Prev Page" type',"jet-from-builder")},{attrName:"prev_label",type:"text",label:Gn("Prev Page Button Label","jet-form-builder"),condition:"add_prev"},{attrName:"visibility",label:Gn("Field Visibility","jet-form-builder"),type:"select",options:[{value:"all",label:Gn("For all","jet-form-builder")},{value:"logged_id",label:Gn("Only for logged in users","jet-form-builder")},{value:"not_logged_in",label:Gn("Only for NOT-logged in users","jet-form-builder")}]},{attrName:"class_name",type:"text",label:Gn("CSS Class Name","jet-form-builder")}]}})},Bn=["help","attrName","label"],Un=["help","attrName","label"];function Vn(){return Vn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vn.apply(this,arguments)}function qn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Jn(e){return Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jn(e)}var Hn=wp.blockEditor?wp.blockEditor:wp.editor,Xn=Hn.BlockControls,Wn=(Hn.RichText,wp.element),zn=(Wn.useState,Wn.useEffect,wp.data.useDispatch,wp.components),Yn=zn.TextControl,Kn=zn.SelectControl,Zn=zn.PanelBody,Qn=zn.ToggleControl,er=zn.ToolbarGroup,tr=zn.Flex,nr=zn.BaseControl,rr=zn.__experimentalNumberControl,or=zn.ClipboardButton,ir=(zn.Snackbar,wp.components.NumberControl);function ar(e){var t=e.type,n=e.attributes,r=e.attrsSettings,o=void 0===r?{}:r,i=e.editProps,a=(i.attrHelp,i.blockName),l=void 0===a?"":a,c=Mn();return c[t]?c[t].attrs.filter((function(e){e.help;var t=e.attrName,r=(e.label,qn(e,Bn)),i=t in n,a=function(e){if(!e.condition)return!0;if(l&&e.condition.blockName){if("string"==typeof e.condition.blockName&&l!==e.condition.blockName)return!1;if("object"===Jn(e.condition.blockName)&&e.condition.blockName.length&&!e.condition.blockName.includes(l))return!1}return!(!function(){if("object"!==Jn(e.condition.attr))return!0;var t=e.condition.attr,r=t.operator,o=void 0===r?"and":r,i=t.items,a=void 0===i?{}:i;if("or"===o.toLowerCase())for(var l in a)if(a[l]===n[l])return!0;return"and"!==o.toLowerCase()||function(){for(var e in a)if(a[e]!==n[e])return!1;return!0}()}()||"string"==typeof e.condition.attr&&e.condition.attr&&!n[e.condition.attr]||"string"==typeof e.condition&&!n[e.condition])}(r),c=t in o&&"show"in o[t]&&!1===o[t].show;return i&&a&&!c})):[]}function lr(e){var t=e.setAttributes,n=e.attributes,r=e.editProps,o=r.attrHelp,i=void 0===o?function(){return""}:o,a=(r.blockName,e.fieldControls),l=void 0===a?[]:a,c=e.autoCompleteLabel,u=void 0===c||c;l.length||(l=ar(e));var s=function(e,n){t(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,e))};return l.map((function(e){var t=e.help,r=void 0===t?"":t,o=e.attrName,a=e.label,l=qn(e,Un);switch(l.type){case"text":return wp.element.createElement(Yn,{key:"".concat(l.type,"-").concat(o,"-TextControl"),label:a,help:r,value:n[o],onChange:function(e){return s(e,o)},onBlur:function(){"label"===o&&1<n.label.length&&(!n.name||"field_name"===n.name)&&u&&s(He(n.label),"name")}});case"dynamic_text":return wp.element.createElement(Wt,{key:"".concat(l.type,"-").concat(o,"-FieldWithPreset"),ModalEditor:function(e){var t=e.actionClick,r=e.onRequestClose;return wp.element.createElement(It,{value:n[o],isSaveAction:t,onSavePreset:function(e){s(e,o)},onUnMount:r})}},wp.element.createElement(Yn,{key:"".concat(l.type,"-").concat(o,"-TextControlDynamic"),label:a,help:r||i(o),value:n[o],onChange:function(e){s(e,o)}}));case"select":return wp.element.createElement(Kn,{key:"".concat(l.type,"-").concat(o,"-SelectControl"),label:a,help:r||i(o),value:n[o],options:l.options,onChange:function(e){s(e,o)}});case"toggle":return wp.element.createElement(Qn,{key:"".concat(l.type,"-").concat(o,"-ToggleControl"),label:a,help:r||i(o),checked:n[o],onChange:function(e){s(e,o)}});case"number":return wp.element.createElement(nr,{key:"".concat(l.type,"-").concat(o,"-BaseControl"),label:a},wp.element.createElement(ir,{key:"".concat(l.type,"-").concat(o,"-NumberControl"),value:n[o],onChange:function(e){s(Number(e),o)}}),wp.element.createElement("p",{className:"components-base-control__help",style:{color:"rgb(117, 117, 117)"}},r||i(o)))}}))}function cr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ur(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}void 0===ir&&(ir=rr);function sr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sr(Object(n),!0).forEach((function(t){pr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return dr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var yr=wp.components,br=yr.TextControl,vr=yr.BaseControl,hr=wp.element,gr=(hr.useState,hr.useEffect),wr=wp.i18n.__;function Or(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Er(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Or(Object(n),!0).forEach((function(t){jr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Or(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ar(){return Ar=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ar.apply(this,arguments)}function _r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ir(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_r(Object(n),!0).forEach((function(t){Pr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Cr=wp.i18n.__,Nr=wp.components.PanelBody;function Rr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rr(Object(n),!0).forEach((function(t){kr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lr=wp.compose.compose,xr=wp.data,Fr=xr.withSelect,Dr=xr.withDispatch;const Gr=Lr(Fr(_e),Dr(Ie))((function(e){var t=e.initialLabel,n=void 0===t?"Valid":t,r=e.label,o=void 0===r?"InValid":r,i=e.ajaxArgs,a=void 0===i?{}:i,l=e.loadingState,c=e.setLoading,u=e.id,s=e.setResultSuccess,f=e.setResultFail;return wp.element.createElement(O,{disabled:l.loading,ajaxArgs:a,label:-1===l.id&&n?n:o,onLoading:function(){c(u)},onSuccessRequest:function(e){s(u,e)},onFailRequest:function(){return f(u)},className:l.buttonClassName},wp.element.createElement("i",{className:"dashicons"}))}));var $r=["currentAction"];function Mr(){return Mr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mr.apply(this,arguments)}var Br=wp.compose.compose,Ur=wp.data,Vr=Ur.withSelect;Ur.withDispatch;const qr=Br(Vr(Ae))((function(e){var t=e.currentAction,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,$r);return wp.element.createElement(Gr,Mr({id:t.id},n))}));var Jr=wp.compose.compose,Hr=wp.data,Xr=(Hr.withSelect,Hr.withDispatch),Wr=wp.apiFetch;const zr=Jr(Xr(Ie))((function(e){var t=e.initialLabel,n=void 0===t?"Valid":t,r=e.label,o=void 0===r?"InValid":r,i=e.apiArgs,a=void 0===i?{}:i,l=e.loadingState,c=e.setLoading,u=e.id,s=e.setResultSuccess,f=e.setResultFail,p=e.onLoading,m=void 0===p?function(){}:p,d=e.onSuccess,y=void 0===d?function(){}:d,b=e.onFail,v=void 0===b?function(){}:b,h=e.isHidden,g=void 0!==h&&h;return wp.element.createElement(O,{disabled:l.loading,hasFetched:l.id,label:(-1===l.id||l.loading)&&n?n:o,className:l.buttonClassName,isHidden:g,customRequest:function(){c(u),m(),Wr(a).then((function(e){s(u,e),y(e)})).catch((function(e){f(u),v(e)}))}},wp.element.createElement("i",{className:"dashicons"}))})),Yr=(0,wp.compose.compose)((0,wp.data.withSelect)(Ce))((function(e){var t=e.initialLabel,n=void 0===t?"Valid":t,r=e.label,o=void 0===r?"InValid":r,i=e.apiArgs,a=void 0===i?{}:i,l=e.gatewayRequestId,c=e.loadingGateway,u=e.onLoading,s=void 0===u?function(){}:u,f=e.onSuccess,p=void 0===f?function(){}:f,m=e.onFail,d=void 0===m?function(){}:m,y=e.isHidden,b=void 0!==y&&y;return wp.element.createElement(zr,{id:l,loadingState:c,initialLabel:n,label:o,apiArgs:a,onFail:d,onLoading:s,onSuccess:p,isHidden:b})})),Kr="SET_CURRENT_ACTION",Zr="SET_LOADING",Qr="UPDATE_ACTION_SETTINGS",eo="UPDATE_ACTION_CONDITIONS",to="ADD_CALLBACK",no="SET_CURRENT_META",ro="CLEAR_CURRENT";function oo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const io={id:-1,state:"",success:!1,response:{},loading:!1,buttonClassName:(ao=be,function(e){if(Array.isArray(e))return oo(e)}(ao)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(ao)||function(e,t){if(e){if("string"==typeof e)return oo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oo(e,t):void 0}}(ao)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())};var ao;function lo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function co(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lo(Object(n),!0).forEach((function(t){uo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var so={getLoadingIndex:function(e,t){return e.loadingState.findIndex((function(e){return e.id===t}))},getLoading:function(e,t){var n=so.getLoadingIndex(e,t);return-1!==n?e.loadingState[n]:co({},io)},getCallback:function(e,t){return e.callbacks[t]}};const fo=co(co({},so),{},{isSettingsModal:function(e){var t;return"settings"===(null===(t=e.meta)||void 0===t?void 0:t.modalType)},isConditionalModal:function(e){var t;return"conditions"===(null===(t=e.meta)||void 0===t?void 0:t.modalType)},getMetaIndex:function(e){var t;return null===(t=e.meta)||void 0===t?void 0:t.index},getCurrentAction:function(e){return e.currentAction},getCurrentCallback:function(e){var t,n,r=null!==(t=null===(n=e.currentAction)||void 0===n?void 0:n.type)&&void 0!==t&&t;return so.getCallback(e,r)},getCurrentSettings:function(e){var t,n,r,o,i;return null!==(i=(null!==(t=null===(n=e.currentAction)||void 0===n?void 0:n.settings)&&void 0!==t?t:{})[null!==(r=null===(o=e.currentAction)||void 0===o?void 0:o.type)&&void 0!==r&&r])&&void 0!==i?i:{}},getCurrentLoading:function(e){var t,n=null===(t=e.currentAction)||void 0===t?void 0:t.id;return so.getLoading(e,n)},dangerGetAllLoading:function(e){return e.loadingState}});function po(e){return function(e){if(Array.isArray(e))return mo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return mo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mo(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yo(Object(n),!0).forEach((function(t){vo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ho=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=bo({},io);return e.state&&(t.buttonClassName=[].concat(po(be),[e.state])),bo(bo({},t),e)};function go(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?go(Object(n),!0).forEach((function(t){Oo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):go(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Eo,jo=wp.components.withFilters;function So(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ao(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ao(Object(n),!0).forEach((function(t){Io(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ao(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Io(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Po=(Io(Eo={},Kr,(function(e,t){var n={};return"function"==typeof t.item?n.currentAction=t.item(e.currentAction):n.currentAction=t.item,_o(_o({},e),n)})),Io(Eo,no,(function(e,t){return _o(_o({},e),{},{meta:_o({},t.item)})})),Io(Eo,ro,(function(e){return _o(_o({},e),{},{currentAction:{},meta:{}})})),Io(Eo,Zr,(function(e,t){var n=fo.getLoadingIndex(e,t.state.id),r=function(e){return function(e){if(Array.isArray(e))return So(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return So(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?So(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.loadingState);return-1!==n?r[n]=ho(t.state):r.push(ho(t.state)),_o(_o({},e),{},{loadingState:r})})),Io(Eo,Qr,(function(e,t){var n=e.currentAction,r=n.settings,o=n.type,i=_o(_o({},fo.getCurrentSettings(e)),t.item);return _o(_o({},e),{},{currentAction:_o(_o({},e.currentAction),{},{settings:_o(_o({},r),{},Io({},o,i))})})})),Io(Eo,eo,(function(e,t){var n=e.currentAction.conditions,r=void 0===n?[]:n,o="function"==typeof t.item?t.item(r):t.item;return _o(_o({},e),{},{currentAction:_o(_o({},e.currentAction),{},{conditions:o})})})),Io(Eo,to,(function(e,t){return _o(_o({},e),{},{callbacks:_o(_o({},e.callbacks),{},Io({},t.actionType,(n=t.actionType,r=t.callback,o=P("getLocalizedFullPack")(n),function(e){var t={onChangeSetting:function(t,n){e.onChange(wo(wo({},e.settings),{},Oo({},n,t)))},getMapField:function(t){var n=t.source,r=void 0===n?"fields_map":n,o=t.name,i=e.settings;return void 0!==i[r]&&void 0!==i[r][o]?i[r][o]:""},setMapField:function(t){var n=t.source,r=void 0===n?"fields_map":n,o=t.nameField,i=t.value,a=wo(wo({},e.settings[r]),{},Oo({},o,i));e.onChange(wo(wo({},e.settings),{},Oo({},r,a)))},onChangeSettingObj:function(t){e.onChange(wo(wo({},e.settings),t))}},i=wo(wo(wo({},e),o),t),a=jo("jet.fb.render.action.".concat(n))((function(){return null}));return wp.element.createElement(F.Provider,{value:i},wp.element.createElement(r,i),wp.element.createElement(a,i))})))});var n,r,o})),Eo),Co={currentAction:{},callbacks:{},meta:{},loadingState:[ho()]},No={setCurrentAction:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:Kr,item:e}},setMeta:function(e){return{type:no,item:e}},clearCurrent:function(){return{type:ro}},setLoading:function(e){return{type:Zr,state:{id:e.actionId,state:"loading",loading:!0}}},setLoadingResult:function(e){return{type:"SET_LOADING",state:{id:e.actionId,state:e.success?"is-valid":"is-invalid",success:e.success,response:e.response,loading:!1}}},updateCurrentSettings:function(e){return{type:Qr,item:e}},updateCurrentConditions:function(e){return{type:eo,item:e}},addCallback:function(e,t){return{type:to,actionType:e,callback:t}}},Ro=(0,wp.data.createReduxStore)("jet-forms/actions",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Co,t=arguments.length>1?arguments[1]:void 0,n=Po[null==t?void 0:t.type];return n?n(e,t):e},actions:No,selectors:fo}),To="CLEAR_GATEWAY",ko="CLEAR_SCENARIO",Lo="SET_CURRENT_GATEWAY_SCENARIO",xo="SET_CURRENT_GATEWAY",Fo="SET_CURRENT_GATEWAY_SPECIFIC",Do="SET_CURRENT_GATEWAY_INNER",Go="SET_CURRENT_REQUEST",$o="SET_CURRENT_SCENARIO",Mo="REGISTER_EVENT_TYPE",Bo="HARD_SET_CURRENT_GATEWAY",Uo="HARD_SET_CURRENT_GATEWAY_SPECIFIC";function Vo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vo(Object(n),!0).forEach((function(t){Jo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ho={getCurrentRequestId:function(e){return e.currentRequest.id},getCurrentRequest:function(e){return e.currentRequest},getScenario:function(e){return e.currentScenario},getScenarioId:function(e){var t;return null===(t=e.currentScenario)||void 0===t?void 0:t.id},getGatewayId:function(e){var t;return null===(t=e.currentGateway)||void 0===t?void 0:t.gateway},getGateway:function(e){return e.currentGateway},getEventTypes:function(e){return e.eventTypes}};const Xo=qo(qo({},Ho),{},{getGatewaySpecific:function(e){return e.currentGateway[Ho.getGatewayId(e)]||{}}});var Wo;function zo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zo(Object(n),!0).forEach((function(t){Ko(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ko(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Zo=(Ko(Wo={},To,(function(e,t){return Yo(Yo({},e),{},{currentGateway:{}})})),Ko(Wo,ko,(function(e,t){return Yo(Yo({},e),{},{currentScenario:{}})})),Ko(Wo,Lo,(function(e,t){return Yo(Yo({},e),{},{currentScenario:Yo(Yo({},e.currentScenario),t.item||{})})})),Ko(Wo,xo,(function(e,t){return Yo(Yo({},e),{},{currentGateway:Yo(Yo({},e.currentGateway),t.item)})})),Ko(Wo,Fo,(function(e,t){return Yo(Yo({},e),{},{currentGateway:Yo(Yo({},e.currentGateway),{},Ko({},e.currentGateway.gateway,Yo(Yo({},Xo.getGatewaySpecific(e)),t.item)))})})),Ko(Wo,Do,(function(e,t){var n=t.item,r=n.key,o=n.value;return Yo(Yo({},e),{},{currentGateway:Yo(Yo({},e.currentGateway),{},Ko({},r,Yo(Yo({},e.currentGateway[r]||{}),o)))})})),Ko(Wo,Go,(function(e,t){var n,r=[Xo.getGatewayId(e),null===(n=t.item)||void 0===n?void 0:n.id].filter((function(e){return e}));return t.item.id=r.join("/"),Yo(Yo({},e),{},{currentRequest:t.item})})),Ko(Wo,$o,(function(e,t){var n,r;return Yo(Yo({},e),{},{currentScenario:Yo(Yo({},e.currentScenario),{},Ko({},null===(n=e.currentScenario)||void 0===n?void 0:n.id,Yo(Yo({},e.currentScenario[null===(r=e.currentScenario)||void 0===r?void 0:r.id]||{}),t.item||{})))})})),Ko(Wo,Bo,(function(e,t){return t.item&&(e.currentGateway[t.item]=t.value),Yo({},e)})),Ko(Wo,Uo,(function(e,t){var n,r,o;return t.item&&null!==(n=e.currentGateway)&&void 0!==n&&n.gateway&&(e.currentGateway[null===(r=e.currentGateway)||void 0===r?void 0:r.gateway]={},e.currentGateway[null===(o=e.currentGateway)||void 0===o?void 0:o.gateway][t.item]=t.value),Yo({},e)})),Ko(Wo,Mo,(function(e,t){var n,r,o,i,a,l,c=Yo(Yo({},t.item),{},{gateway:null!==(n=null===(r=t.item)||void 0===r?void 0:r.gateway)&&void 0!==n?n:null===(o=e.currentGateway)||void 0===o?void 0:o.gateway,scenario:null!==(i=null===(a=t.item)||void 0===a?void 0:a.scenario)&&void 0!==i?i:null===(l=e.currentScenario)||void 0===l?void 0:l.id});return e.eventTypes.push(c),e})),Wo);var Qo={currentRequest:{id:-1},currentGateway:{},currentScenario:{},eventTypes:[]};const ei={clearGateway:function(){return{type:To}},clearScenario:function(){return{type:ko}},setRequest:function(e){return{type:Go,item:e}},setGateway:function(e){return{type:xo,item:e}},setGatewayInner:function(e){return{type:Do,item:e}},setGatewaySpecific:function(e){return{type:Fo,item:e}},setScenario:function(e){return{type:Lo,item:e}},setCurrentScenario:function(e){return{type:$o,item:e}},registerEventType:function(e){return{type:Mo,item:e}},hardSetGateway:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{type:Bo,item:e,value:t}},hardSetGatewaySpecific:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{type:Uo,item:e,value:t}}},ti=(0,wp.data.createReduxStore)("jet-forms/gateways",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qo,t=arguments.length>1?arguments[1]:void 0,n=Zo[null==t?void 0:t.type];return n?n(e,t):e},actions:ei,selectors:Xo}),ni="REGISTER",ri="LOCK_ACTIONS";function oi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ii(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ai(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var li={getTypeIndex:function(e,t){return e.types.findIndex((function(e){return e.value===t}))},getTypes:function(e){return e.types},getGatewayTypes:function(e){return e.types.filter((function(e){return"gateway"in e}))},getAlwaysTypes:function(e){return e.types.filter((function(e){return"always"in e}))},getType:function(e,t){var n=li.getTypeIndex(e,t);return e.types[n]},getUnsupported:function(e,t){var n,r=null!==(n=e.lockedActions[t])&&void 0!==n&&n;return!1===r?[]:r.unsupported},getSupported:function(e,t){var n,r=null!==(n=e.lockedActions[t])&&void 0!==n&&n;return!1===r?[]:r.supported},isValid:function(e,t,n){var r=li.getUnsupported(e,t);if(r.length&&r.includes(n))return!1;var o=li.getSupported(e,t);return!o.length||o.includes(n)},filterList:function(e,t,n){return n.filter((function(n){return li.isValid(e,t,n)}))},getHelpMap:function(e){var t,n={},r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ai(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ai(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(e.types);try{for(r.s();!(t=r.n()).done;){var o=t.value,i=o.value,a=o.help;n[i]=a}}catch(e){r.e(e)}finally{r.f()}return n}};const ci=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oi(Object(n),!0).forEach((function(t){ii(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},li);var ui;function si(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?si(Object(n),!0).forEach((function(t){pi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):si(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mi(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return di(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?di(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function di(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const yi=(pi(ui={},ni,(function(e,t){var n,r=mi(t.items);try{for(r.s();!(n=r.n()).done;){var o=n.value;o.title=o.label;var i=ci.getTypeIndex(e,o.value);-1===i?e.types.push(fi({},o)):e.types[i]=fi({},o)}}catch(e){r.e(e)}finally{r.f()}return e})),pi(ui,ri,(function(e,t){var n,r=mi(window.jetFormActionTypes);try{var o=function(){var t,r=n.value,o=r.id,i=r.self,a=null!==(t=window[i])&&void 0!==t&&t;if(!1===a)return"continue";var l=a.__unsupported_events,c=a.__supported_events,u={unsupported:e.types.filter((function(e){var t=e.self;return l.includes(t)})).map((function(e){return e.value})),supported:e.types.filter((function(e){var t=e.self;return c.includes(t)})).map((function(e){return e.value}))};if(!u.supported.length&&!u.unsupported.length)return"continue";e.lockedActions[o]=u};for(r.s();!(n=r.n()).done;)o()}catch(e){r.e(e)}finally{r.f()}return e})),ui);var bi={types:[],labels:{},lockedActions:{}};const vi={register:function(e){return{type:ni,items:e}},lockActions:function(){return{type:ri}}},hi=(0,wp.data.createReduxStore)("jet-forms/events",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bi,t=arguments.length>1?arguments[1]:void 0,n=yi[null==t?void 0:t.type];return n?n(e,t):e},actions:vi,selectors:ci}),gi="REGISTER",wi="REGISTER_FUNCTION_FILTERS";var Oi;function Ei(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ji(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ei(Object(n),!0).forEach((function(t){Si(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ei(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Si(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ai(e){return function(e){if(Array.isArray(e))return _i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return _i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_i(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Ii=(Si(Oi={},gi,(function(e,t){var n=t.items,r=n.operators,o=n.functions,i=n.render_states;return e.operators=Ai(r),e.functions=Ai(o),e.renderStates=Ai(i),e})),Si(Oi,wi,(function(e,t){return e.functionFilters=ji(ji({},e.functionFilters),t.item),e})),Oi);var Pi={functions:[],operators:[],renderStates:[],functionFilters:{set_value:function(e,t){var n=t["data-block"];return 1===K(n).length}}};const Ci={register:function(e){return{type:gi,items:e}},registerFunctionsFilters:function(e){return{type:wi,item:e}}};function Ni(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ri(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ti=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ni(Object(n),!0).forEach((function(t){Ri(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ni(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},{getFunctions:function(e){return e.functions},getOperators:function(e){return e.operators},getFunctionFilters:function(e){return e.functionFilters},getRenderStates:function(e){return e.renderStates},getRenderStatesList:function(e){return e.renderStates.map((function(e){return e.value}))},getFilteredFunctions:function(e,t){return e.functions.filter((function(n){var r,o=null!==(r=e.functionFilters[n.value])&&void 0!==r&&r;return!1===o||o(n,t)}))}}),ki=(0,wp.data.createReduxStore)("jet-forms/block-conditions",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pi,t=arguments.length>1?arguments[1]:void 0,n=Ii[null==t?void 0:t.type];return n?n(e,t):e},actions:Ci,selectors:Ti});n(6089);var Li=wp.data,xi=Li.register,Fi=Li.dispatch;xi(ti),xi(hi),xi(Ro),xi(ki),Fi("jet-forms/block-conditions").register(window.jetFormBlockConditions),Fi("jet-forms/events").register(window.jetFormEvents.types),Fi("jet-forms/events").lockActions();const Di=(0,wp.element.createContext)(!1),Gi=(0,wp.element.createContext)({currentItem:{},changeCurrentItem:function(){},currentIndex:-1}),$i=(0,wp.element.createContext)({index:-1,action:{}}),Mi=(0,wp.element.createContext)({FieldSelect:null,property:""});function Bi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ui=wp.components.ToggleControl,Vi=wp.i18n.__,qi=wp.element.useState;function Ji(e){return function(e){if(Array.isArray(e))return Hi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Hi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hi(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xi(Object(n),!0).forEach((function(t){zi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yi=wp.element.useContext,Ki=wp.i18n.__;const Zi=function(e){var t=Yi(Di),n=function(t){var n=t.oldIndex,r=t.newIndex;e((function(e){var t=JSON.parse(JSON.stringify(e)),o=[t[n],t[r]];return t[r]=o[0],t[n]=o[1],t}))};return{changeCurrentItem:function(t,n){e((function(e){var r=JSON.parse(JSON.stringify(e));return r[n]=Wi(Wi({},e[n]),t),r}))},toggleVisible:function(t){e((function(e){var n=JSON.parse(JSON.stringify(e));return n[t].__visible=!n[t].__visible,n}))},moveDown:function(e){n({oldIndex:e,newIndex:e+1})},moveUp:function(e){n({oldIndex:e,newIndex:e-1})},cloneItem:function(t){e((function(e){var n=JSON.parse(JSON.stringify(e)),r=[n.slice(0,t+1),n.slice(t+1)],o=r[1];return[].concat(Ji(r[0]),[n[t]],Ji(o))}))},addNewItem:function(t){e((function(e){return[].concat(Ji(e),[Wi(Wi({},t),{},{__visible:!0})])}))},removeOption:function(n){t&&!function(e){return confirm(Ki("Are you sure you want to remove item ".concat(e+1,"?"),"jet-form-builder"))}(n)||e((function(e){var t=JSON.parse(JSON.stringify(e));return t.splice(n,1),t}))}}};var Qi=wp.components.Button;var ea=wp.components,ta=ea.Card,na=ea.ButtonGroup,ra=ea.Button,oa=ea.CardHeader,ia=ea.CardBody,aa=wp.i18n.__;function la(e,t){if(e){if("string"==typeof e)return ca(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ca(e,t):void 0}}function ca(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ua=wp.element,sa=ua.useState,fa=ua.useContext,pa=wp.components.SelectControl;var ma=["currentAction"];function da(){return da=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},da.apply(this,arguments)}var ya=wp.compose.compose,ba=wp.data.withSelect;const va=ya(ba(Ae),ba(_e))((function(e){var t=e.currentAction,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,ma);return wp.element.createElement(zr,da({id:t.id},n))}));window.JetFBComponents={ActionFieldsMap:function(n){var o=n.fields,i=void 0===o?[]:o,a=n.label,l=void 0===a?"[Empty label]":a,c=n.children,u=void 0===c?null:c,s=n.plainHelp,f=void 0===s?"":s,p=n.customHelp,m=void 0!==p&&p;return wp.element.createElement(r,{label:l,key:"jet_fields_map"},wp.element.createElement("div",{className:"jet-user-fields-map__list"},m&&"function"==typeof m&&m(),Boolean(f.length)&&wp.element.createElement("span",{className:"description-controls"},f),i.map((function(n,r){var o=function(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n,2),i=o[0],a=o[1];return wp.element.createElement(React.Fragment,{key:"field_in_map_".concat(i+r)},wp.element.createElement(e.Provider,{value:{name:i,data:a,index:r}},"function"==typeof u?u({fieldId:i,fieldData:a,index:r}):u))}))))},ActionModal:d,ActionModalContext:o,SafeDeleteContext:Di,RepeaterItemContext:Gi,ActionListItemContext:$i,CurrentActionEditContext:F,ActionFieldsMapContext:e,CurrentPropertyMapContext:Mi,DynamicPropertySelect:function(t){var n,r=t.dynamic,o=void 0===r?[]:r,i=t.parseValue,a=void 0===i?null:i,l=t.children,c=void 0===l?null:l,u=t.properties,s=void 0===u?null:u,f=fa(F),p=f.source,m=f.settings,d=f.setMapField;s=null!==(n=s)&&void 0!==n?n:p.properties;var y=fa(e),b=y.name,v=y.index,h=m.fields_map,g=void 0===h?{}:h;function w(e){var t,n,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=la(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(s);try{for(r.s();!(n=r.n()).done;)if(e===n.value.value)return e}catch(e){r.e(e)}finally{r.f()}return a?a(e):null!==(t=o[0])&&void 0!==t?t:""}var O,E,j=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||la(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(sa((function(){var e;return w(null!==(e=g[b])&&void 0!==e?e:"")})),2),S=j[0],A=j[1],_=wp.element.createElement(pa,{key:b+v,value:S,options:s,help:(E=s.find((function(e){return e.value===S})),null!==(O=null==E?void 0:E.help)&&void 0!==O?O:""),onChange:function(e){var t=w(e);A(t),d({nameField:b,value:o.includes(e)?"":e})}});return wp.element.createElement(Mi.Provider,{value:{FieldSelect:_,property:S}},c&&c,!c&&_)},SafeDeleteToggle:function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Bi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(qi(!0),2),n=t[0],r=t[1];return wp.element.createElement(React.Fragment,null,wp.element.createElement(Ui,{label:Vi("Safe deleting","jet-form-builder"),checked:n,onChange:r}),wp.element.createElement(Di.Provider,{value:n},e.children))},RepeaterAddNew:function(e){var t=e.item,n=e.onSetState,r=e.functions,o=e.children,i=(null!=r?r:Zi(n)).addNewItem;return wp.element.createElement(Qi,{isSecondary:!0,onClick:function(){return i(t)}},o)},Repeater:function(e){var t=e.items,n=e.onSetState,r=e.functions,o=e.children,i=null!=r?r:Zi(n),a=i.cloneItem,l=i.moveUp,c=i.moveDown,u=i.toggleVisible,s=i.changeCurrentItem,f=i.removeOption;return wp.element.createElement("div",{className:"jet-form-builder__repeater-component",key:"jet-form-builder-repeater"},t.map((function(e,n){return wp.element.createElement(ta,{isElevated:!0,className:"jet-form-builder__repeater-component-item",key:"jet-form-builder__repeater-component-item-".concat(n)},wp.element.createElement(oa,{className:"repeater__item__header"},wp.element.createElement("div",{className:"repeater-item__left-heading"},wp.element.createElement(na,{className:"repeater-action-buttons"},wp.element.createElement(ra,{isSmall:!0,icon:e.__visible?"no-alt":"edit",onClick:function(){return u(n)},className:"repeater-action-button"}),wp.element.createElement(ra,{isSmall:!0,isSecondary:!0,disabled:!Boolean(n),icon:"arrow-up-alt2",onClick:function(){return l(n)},className:"repeater-action-button"}),wp.element.createElement(ra,{isSmall:!0,isSecondary:!0,disabled:!(n<t.length-1),icon:"arrow-down-alt2",onClick:function(){return c(n)},className:"repeater-action-button"})),wp.element.createElement("span",{className:"repeater-item-title"},"#".concat(n+1))),wp.element.createElement(na,null,wp.element.createElement(ra,{isSmall:!0,isSecondary:!0,onClick:function(){return a(n)}},aa("Clone","jet-form-builder")),wp.element.createElement(ra,{isSmall:!0,isSecondary:!0,isDestructive:!0,onClick:function(){return f(n)}},aa("Delete","jet-form-builder")))),e.__visible&&wp.element.createElement(ia,{className:"repeater-item__content"},wp.element.createElement(Gi.Provider,{value:{currentItem:e,changeCurrentItem:function(e){return s(e,n)},currentIndex:n}},o&&o,!o&&"Set up your Repeater Template, please.")))})))},RequestButton:O,ValidateButton:function(e){var t=e.initialValid,n=e.label,r=e.ajaxArgs,o=void 0===r?{}:r,i=e.onValid,a=void 0===i?function(){}:i,l=e.onInvalid,c=void 0===l?function(){}:l,u=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Re(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(ve(t||!1),4),s=u[0],f=u[1],p=u[2],m=u[3];return wp.element.createElement(O,{ajaxArgs:o,label:n,onLoading:m,onSuccessRequest:function(e){f(),a(e)},onFailRequest:function(){p(),c()},className:s},wp.element.createElement("i",{className:"dashicons"}))},RequestLoadingButton:function(e){var t=e.label,n=e.ajaxArgs,r=void 0===n?{}:n,o=e.onSuccessRequest,i=void 0===o?function(){}:o,a=e.onFailRequest,l=void 0===a?function(){}:a,c=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Sr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(he(),3),u=c[0],s=c[1],f=c[2];return wp.element.createElement(O,{ajaxArgs:r,label:t,onLoading:s,onSuccessRequest:function(e){f(),i(e)},onFailRequest:function(){f(),l()},className:u},wp.element.createElement("i",{className:"dashicons"}))},WrapperRequiredControl:function(t){var n=t.children,r=t.labelKey,o=void 0===r?"label":r,i=t.requiredKey,a=void 0===i?"required":i,l=t.helpKey,c=void 0===l?"help":l,u=t.field,s=void 0===u?[]:u,f=h(e),p=f.name,m=f.data;if(s.length){var d=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(s,2);p=d[0],m=d[1]}return wp.element.createElement("div",{className:"jet-user-meta__row",key:"user_meta_"+p},wp.element.createElement("div",{className:"jet-field-map__row-label"},wp.element.createElement("span",{className:"fields-map__label"},m.hasOwnProperty(o)&&m[o]&&m[o],!m.hasOwnProperty(o)&&m),m.hasOwnProperty(a)&&m[a]&&wp.element.createElement("span",{className:"fields-map__required"}," *"),m[c]&&wp.element.createElement("p",{className:"components-base-control__help",style:{color:"rgb(117, 117, 117)",margin:"1em 0 0 0"}},wp.element.createElement(v,null,m[c]))),n)},DynamicPreset:It,JetFieldsMapControl:$t,FieldWithPreset:Wt,GlobalField:ht,AvailableMapField:function(e){var t=e.fieldsMap,n=e.field,r=e.index,o=e.value,i=e.onChangeValue,a=e.isMapFieldVisible,l=null;t||(t={}),(l=t[n])&&"object"===st(l)||(l={});var c=function(e){var t=e.field,n=e.name,r=e.index,o=e.fIndex,i=e.children;return wp.element.createElement(yt,{key:t+n+r+o,size:"extraSmall",style:{marginBottom:"10px"}},wp.element.createElement(vt,null,wp.element.createElement("span",{className:"jet-label-overflow"},t)),wp.element.createElement(bt,{key:t+n+r+o,className:"jet-form-preset__fields-map-item"},i))};return wp.element.createElement(React.Fragment,{key:"map_field_preset_".concat(n+r)},window.JetFormEditorData.presetConfig.map_fields.map((function(e,u){var s={field:n,name:e.name,index:r,fIndex:u},f="control_"+n+e.name+r+u;switch(e.type){case"text":return a(o,e,n)&&function(e,t){var n=e.field,r=e.name,o=e.index,i=e.fIndex;return wp.element.createElement(yt,{key:n+r+o+i,size:"extraSmall",style:{marginBottom:"10px"}},wp.element.createElement(vt,null,wp.element.createElement("span",{className:"jet-label-overflow"},n)),wp.element.createElement(bt,{key:n+r+o+i,className:"jet-form-preset__fields-map-item"},t))}(s,wp.element.createElement(pt,{key:f+"TextControl",placeholder:e.label,value:l[e.name],onChange:function(r){l[e.name]=r,i(ct(ct({},t),{},ut({},n,l)),"fields_map")}}));case"select":return a(o,e,n)&&wp.element.createElement(c,at({},s,{key:f}),wp.element.createElement(mt,{options:e.options,labelPosition:"top",value:l[e.name],onChange:function(r){l[e.name]=r,i(ct(ct({},t),{},ut({},n,l)),"fields_map")}}));case"custom_select":return a(o,e,n)&&wp.element.createElement(c,at({},s,{key:f}),wp.element.createElement(dt,{options:e.options,onChange:function(r){var o=r.selectedItem;l[e.name]=o.key,i(ct(ct({},t),{},ut({},n,l)),"fields_map")},value:e.options.find((function(t){return t.key===l[e.name]}))}));case"grouped_select":return a(o,e,n)&&wp.element.createElement(c,at({},s,{key:f}),wp.element.createElement(it,{options:e.options,labelPosition:"top",value:l[e.name],onChange:function(r){l[e.name]=r,i(ct(ct({},t),{},ut({},n,l)),"fields_map")}}))}})))},MapField:gt,FieldWrapper:function(e){var t=e.attributes,n=e.editProps,r=n.uniqKey,o=(n.blockName,e.children),i=e.wrapClasses,a=void 0===i?[]:i,l=e.valueIfEmptyLabel,c=void 0===l?"":l,u=e.setAttributes,s=e.childrenPosition,f=void 0===s?"between":s,p=Se("_jf_args"),m=function(){1<t.label.length&&(!t.name||"field_name"===t.name)&&u({name:He(t.label)})};function d(){return wp.element.createElement(an.VisualLabel,null,un(cn("input label:","jet-form-builder")),wp.element.createElement("div",{onBlur:m,className:"jet-form-builder__label"},wp.element.createElement(ln,{key:r("rich-label"),placeholder:"Label...",allowedFormats:[],value:t.label?t.label:c,onChange:function(e){return u({label:e})}}),t.required&&wp.element.createElement("span",{className:"jet-form-builder__required"},p.required_mark?p.required_mark:"*")))}function y(){return wp.element.createElement("div",{className:"jet-form-builder__desc--wrapper"},un(cn("input description:","jet-form-builder")),wp.element.createElement(an,{key:"custom_help_description",className:"jet-form-builder__desc"},wp.element.createElement("div",{className:"components-base-control__help"},wp.element.createElement(ln,{key:r("rich-description"),tagName:"small",placeholder:"Description...",allowedFormats:[],value:t.desc,onChange:function(e){return u({desc:e})},style:{marginTop:"0px"}}))))}return"row"===p.fields_layout&&a.push("jet-form-builder-row__flex"),wp.element.createElement(an,{key:r("placeHolder_block"),className:Xe("jet-form-builder__field-wrap","jet-form-builder-row",a)},"row"!==p.fields_layout&&wp.element.createElement(React.Fragment,null,"top"===f&&o,d(),"between"===f&&o,y(),"bottom"===f&&o),"row"===p.fields_layout&&wp.element.createElement(React.Fragment,null,wp.element.createElement("div",{className:"jet-form-builder-row__flex--label"},d(),y()),wp.element.createElement("div",{className:"jet-form-builder-row__flex--content"},o)))},MacrosInserter:function(e){e.children;var t=e.fields,n=e.onFieldClick,r=e.customMacros,o=e.zIndex,i=void 0===o?1e6:o,a=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,sn),l=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return pn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(vn((function(){return!1})),2),c=l[0],u=l[1];return wp.element.createElement("div",{className:"jet-form-editor__macros-inserter"},wp.element.createElement(dn,{isTertiary:!0,isSmall:!0,icon:c?"no-alt":"admin-tools",label:"Insert macros",className:"jet-form-editor__macros-trigger",onClick:function(){u((function(e){return!e}))}}),c&&wp.element.createElement(yn,fn({style:{zIndex:i},position:"bottom left"},a),t.length&&wp.element.createElement(bn,{title:"Form Fields"},t.map((function(e){return wp.element.createElement("div",{key:"field_"+e.name},wp.element.createElement(dn,{isLink:!0,onClick:function(){n(e.name)}},"%"+e.name+"%"))}))),r&&wp.element.createElement(bn,{title:"Custom Macros"},r.map((function(e){return wp.element.createElement("div",{key:"macros_"+e},wp.element.createElement(dn,{isLink:!0,onClick:function(){n(e)}},"%"+e+"%"))})))))},RepeaterWithState:function(e){var t=e.children,n=e.ItemHeading,r=e.repeaterClasses,o=void 0===r?[]:r,i=e.repeaterItemClasses,a=void 0===i?[]:i,l=e.newItem,c=e.addNewButtonLabel,u=void 0===c?"Add New":c,s=e.items,f=void 0===s?[]:s,p=e.isSaveAction,m=e.onSaveItems,d=e.onUnMount,y=e.onAddNewItem,b=e.onRemoveItem,v=e.help,h=void 0===v?{helpSource:{},helpVisible:function(){return!1},helpKey:""}:v,g=e.additionalControls,w=void 0===g?null:g,O=["jet-form-builder__repeater-component"].concat(En(o)).join(" "),E=["jet-form-builder__repeater-component-item"].concat(En(a)).join(" "),j=hn(Fn([]),2),S=j[0],A=j[1];Dn((function(){A(f&&f.length>0?f.map((function(e){return e.__visible=!1,e})):[wn(wn({},l),{},{__visible:!0})])}),[]);var _=hn(Fn(!0),2),I=_[0],P=_[1],C=function(e,t){A((function(n){var r=JSON.parse(JSON.stringify(n));return r[t]=wn(wn({},n[t]),e),r}))},N=function(e){var t=e.oldIndex,n=e.newIndex;A((function(e){var r=JSON.parse(JSON.stringify(e)),o=[r[t],r[n]];return r[n]=o[0],r[t]=o[1],r}))},R=function(e){return!(e<S.length-1)};Dn((function(){if(!0===p){for(var e in S)for(var t in S[e])t.startsWith("__")&&delete S[e][t];m(S),d()}else!1===p&&d()}),[p]);var T=function(e){return"jet-form-builder-repeater__item_".concat(e)},k=h.helpSource,L=h.helpVisible,x=h.helpKey,F=L(S)&&k&&k[x];return wp.element.createElement("div",{className:O,key:"jet-form-builder-repeater"},F&&wp.element.createElement("p",null,k[x].label),0<S.length&&wp.element.createElement(React.Fragment,null,wp.element.createElement(kn,null,wp.element.createElement(Ln,null,wp.element.createElement(Tn,{label:An("Safe deleting","jet-form-builder"),checked:I,onChange:P})),wp.element.createElement(Ln,{style:{flex:"unset",marginBottom:"1em"}}))),w,S.map((function(e,r){return wp.element.createElement(Cn,{isElevated:!0,className:E,key:T(r)},wp.element.createElement(Rn,{className:"repeater__item__header"},wp.element.createElement("div",{className:"repeater-item__left-heading"},wp.element.createElement(Pn,{className:"repeater-action-buttons"},wp.element.createElement(In,{isSmall:!0,icon:e.__visible?"no-alt":"edit",onClick:function(){return function(e){A((function(t){var n=JSON.parse(JSON.stringify(t));return n[e].__visible=!n[e].__visible,n}))}(r)},className:"repeater-action-button"}),wp.element.createElement(In,{isSmall:!0,isSecondary:!0,disabled:!Boolean(r),icon:"arrow-up-alt2",onClick:function(){return function(e){N({oldIndex:e,newIndex:e-1})}(r)},className:"repeater-action-button"}),wp.element.createElement(In,{isSmall:!0,isSecondary:!0,disabled:R(r),icon:"arrow-down-alt2",onClick:function(){return function(e){N({oldIndex:e,newIndex:e+1})}(r)},className:"repeater-action-button"})),wp.element.createElement("span",{className:"repeater-item-title"},n&&wp.element.createElement(n,{currentItem:e,index:r,changeCurrentItem:function(e){return C(e,r)}}),!n&&"#".concat(r+1))),wp.element.createElement(Pn,null,wp.element.createElement(In,{isSmall:!0,isSecondary:!0,onClick:function(){return function(e){A((function(t){var n=JSON.parse(JSON.stringify(t)),r=[n.slice(0,e+1),n.slice(e+1)],o=r[1];return[].concat(En(r[0]),[n[e]],En(o))}))}(r)}},An("Clone","jet-form-builder")),wp.element.createElement(In,{isSmall:!0,isSecondary:!0,isDestructive:!0,onClick:function(){return function(e){I&&!function(e){return confirm(An("Are you sure you want to remove item ".concat(e+1,"?"),"jet-form-builder"))}(e)||b&&!b(e,S)||A((function(t){var n=JSON.parse(JSON.stringify(t));return n.splice(e,1),n}))}(r)}},An("Delete","jet-form-builder")))),e.__visible&&wp.element.createElement(Nn,{className:"repeater-item__content"},t&&wp.element.createElement(React.Fragment,{key:"repeater-component__item_".concat(r)},"function"==typeof t&&t({currentItem:e,changeCurrentItem:function(e){return C(e,r)},currentIndex:r}),"function"!=typeof t&&t),!t&&"Set up your Repeater Template, please."))})),1<S.length&&wp.element.createElement(React.Fragment,null,w,wp.element.createElement(Tn,{className:"jet-control-clear",label:An("Safe deleting"),checked:I,onChange:P})),wp.element.createElement(In,{isSecondary:!0,onClick:function(){return e=l,y&&y(e,S),void A((function(t){return[].concat(En(t),[wn(wn({},e),{},{__visible:!0})])}));var e}},u))},AdvancedFields:function(e){var t=Mn().advanced;return wp.element.createElement(Zn,{title:t.label,key:"jet-form-advanced-fields",initialOpen:!1},wp.element.createElement(lr,Vn({type:"advanced",key:"jet-form-advanced-fields-component"},e)),wp.element.createElement(lr,Vn({type:"custom_advanced",key:"jet-form-advanced-custom-fields-component"},e)))},GeneralFields:function(e){var t=Mn().general;return wp.element.createElement(Zn,{title:t.label,key:"jet-form-general-fields"},wp.element.createElement(lr,Vn({type:"general",key:"jet-form-general-fields-component"},e)),wp.element.createElement(lr,Vn({type:"custom_general",key:"jet-form-general-custom-fields-component"},e)))},ToolBarFields:function(e){var t=e.editProps.uniqKey,n=e.children,r=void 0===n?[]:n,o=e.displayName,i=void 0===o||o,a=e.attributes,l=e.setAttributes,c=ge('Copied "'.concat(a.name,'" to clipboard.'));return wp.element.createElement(Xn,{key:t("ToolBarFields-BlockControls")},wp.element.createElement(er,{key:t("ToolBarFields-ToolbarGroup")},wp.element.createElement(tr,{align:"center",justify:"center",className:"jet-form-toggle-box"},i&&wp.element.createElement("div",{className:"jet-input-with-button"},wp.element.createElement(or,{isSmall:!0,icon:"admin-page",showTooltip:!0,shortcut:"Copy name",text:a.name,onCopy:function(){return c(!0)},onFinishCopy:function(){return c(!1)}}),wp.element.createElement(Yn,{value:a.name,onChange:function(e){return l({name:e})}})),wp.element.createElement(lr,Vn({type:"toolbar",key:t("jet-form-toolbar-fields-component")},e)),r)))},FieldControl:lr,PlaceholderMessage:function(e){var t=e.style,n=e.children,r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cr(Object(n),!0).forEach((function(t){ur(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({fontSize:"1.5em",padding:"2em",textAlign:"center",backgroundColor:"aliceblue"},t);return wp.element.createElement("p",{style:r},n)},HorizontalLine:function(e){return wp.element.createElement("hr",{style:Er({},e)})},FieldSettingsWrapper:function(e){var t=e.title,n=e.children,r=e.editProps.uniqKey,o=void 0===r?function(e){return e}:r,i=ar(Ir(Ir({},e),{},{type:"custom_settings"}));return Boolean(i.length||n)&&wp.element.createElement(Nr,{title:t||Cr("Field Settings")},n,wp.element.createElement(lr,Ar({type:"custom_settings",fieldControls:i,key:o("customSettingsFields")},e)))},ActionMessages:function(e){var t=e.settings,n=e.source,r=e.getMapField,o=e.setMapField,i=e.messages,a=e.onChangeSetting;return gr((function(){var e=t.messages||{},r={};Object.entries(n.__messages).forEach((function(t){var n=mr(t,2),o=n[0],i=n[1];e[o]||(r[o]=i.value)})),r&&a(fr(fr({},e),r),"messages")}),[]),wp.element.createElement(vr,{label:wr("Messages Settings:"),key:"messages_settings_fields"},wp.element.createElement("div",{className:"jet-user-fields-map__list"},t.messages&&Object.entries(t.messages).map((function(e,t){var n,a=mr(e,2),l=a[0];return a[1],wp.element.createElement("div",{className:"jet-user-meta__row",key:"message_"+l+t},wp.element.createElement(br,{key:l+t,label:i(l).label,value:(n=l,r({name:n,source:"messages"})),onChange:function(e){o({value:e,nameField:l,source:"messages"})}}))}))))},GroupedSelectControl:it,BaseHelp:function(e){var t=e.children,n=e.style,r=void 0===n?{}:n;return wp.element.createElement("p",{className:"jet-fb-base-control__help",style:Tr({fontSize:"12px",fontStyle:"normal",color:"rgb(117, 117, 117)",marginTop:"0px"},r)},t)},ValidateButtonWithStore:qr,GatewayFetchButton:Yr,ActionFetchButton:va},window.JetFBActions={addAction:function(e,t){wp.data.dispatch("jet-forms/actions").addCallback(e,t)},withPreset:tt,getFormFieldsByBlock:function(e){return function(){return z([e.name])}},getInnerBlocks:K,getAvailableFieldsString:function(e){var t=Y([e]),n=[];return t.forEach((function(e){n.push("%FIELD::"+e+"%")})),U("Available fields: ","jet-form-builder")+n.join(", ")},getAvailableFields:Y,getFormFieldsBlocks:z,getFieldsWithoutCurrent:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",r=["submit","form-break","heading","group-break","conditional"],o=[],i=wp.data.select("core/block-editor").getSelectedBlock();return null===i?[]:(W((function(e){e.name.includes("jet-forms/")&&i.clientId!==e.clientId&&!r.find((function(t){return e.name.includes(t)}))&&o.push({blockName:e.name,label:e.attributes.label||e.attributes.name,value:e.attributes.name})})),o=e?[{value:"",label:e}].concat(D(o)):o,t?o:q("jet.fb.getFormFieldsBlocks",o,n))},gatewayAttr:T,gatewayLabel:k,registerGateway:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"cred";window.JetFBGatewaysList=window.JetFBGatewaysList||{},window.JetFBGatewaysList[e]=window.JetFBGatewaysList[e]||{},window.JetFBGatewaysList[e][n]=t},Tools:We,event:function(e){var t=new Event(e);return function(){return document.dispatchEvent(t)}},listen:function(e,t){document.addEventListener(e,t)},actionByTypeList:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return C(I(e),e,t)},getActionSettings:N,fromLocalizeHelper:P,renderGateway:x,renderGatewayWithPlaceholder:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"cred",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return L(e,n)?(t.Placeholder=r,x(e,t,n)):r},gatewayActionAttributes:E,globalTab:R,versionCompare:function(e,t,n){try{return function(e){switch(e){case">":return Ge;case">=":return Me;case"<":return $e;case"<=":return Be}return function(){return!1}}(n)(e,t)}catch(e){return!1}},convertListToFieldsMap:function(){for(var e=[],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var o=0,i=n;o<i.length;o++){var a=i[o];e.push.apply(e,j(a.map((function(e){return[e.value,e]}))))}return e},maybeCyrToLatin:Je,getConvertedName:He,getBlockControls:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";if(!e)return!1;var t=Mn();return"all"===e?t:!!(t[e]&&t[e].attrs&&Array.isArray(t[e].attrs)&&0<t[e].attrs.length)&&t[e].attrs},classnames:Xe,getBlocksByName:function(e){var t=[];return W((function(n){e.includes(n.name)&&t.push(n)})),t},convertObjectToOptionsList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.usePlaceholder,r=void 0===n||n,o=t.label,i=void 0===o?"--":o,a=t.value,l=void 0===a?"":a,c={label:i,value:l};if(!e)return r?[c]:[];var u=Object.entries(e).map((function(e){var t=Te(e,2);return{value:t[0],label:t[1]}}));return r?[c].concat(Le(u)):u},prepareActionsListByType:C,appendField:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];J("jet.fb.register.fields","jet-form-builder",(function(n){return n.map((function(n){return t.length&&!t.includes(n.name)?n:e(n)}))}))}},window.JetFBHooks={useActions:ye,useMetaState:de,useSelectPostMeta:Se,useStateValidClasses:ve,useStateLoadingClasses:he,useSuccessNotice:ge,useRequestEvents:function(){var e=Qt((function(e){return e("jet-forms/actions").getCurrentAction()})),t=[].concat(Yt(function(){var e,t=[],n=zt(Qt((function(e){return e("jet-forms/events").getAlwaysTypes()}),[]));try{for(n.s();!(e=n.n()).done;){var r=e.value.value;t.push(r)}}catch(e){n.e(e)}finally{n.f()}return Yt(new Set(t))}()),Yt(function(){var e,t=Se("_jf_gateways"),n=(null!==(e=t[null==t?void 0:t.gateway])&&void 0!==e?e:{}).scenario,r=void 0===n?{}:n;return Qt((function(e){var n,o=[],i=zt(e("jet-forms/events").getGatewayTypes());try{for(i.s();!(n=i.n()).done;){var a=n.value,l=!a.gateway||a.gateway===t.gateway,c=!a.scenario||a.scenario===(null==r?void 0:r.id);l&&c&&o.push(a.value)}}catch(e){i.e(e)}finally{i.f()}return Yt(new Set(o))}),[null==t?void 0:t.gateway])}()),Yt(function(e){var t=e.index,n=Se("_jf_actions");n.splice(t,1);var r,o=[],i=zt(n);try{for(i.s();!(r=i.n()).done;){var a,l=r.value,c=l.settings[l.type],u=void 0===c?{}:c;null!==(a=u.provideEvents)&&void 0!==a&&a.length&&o.push.apply(o,Yt(u.provideEvents))}}catch(e){i.e(e)}finally{i.f()}return Yt(new Set(o))}(e)));return Qt((function(n){return n("jet-forms/events").filterList(e.type,t)}),[e.id])},useBlockConditions:function(){var e=tn(),t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return en(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?en(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(nn((function(e){return[e("jet-forms/block-conditions").getOperators(),e("jet-forms/block-conditions").getFunctions()]}),[]),2),n=t[0],r=t[1];return"jet-forms/conditional-block"!==e["data-type"]?{operators:n,functions:r}:{operators:n,functions:nn((function(t){return t("jet-forms/block-conditions").getFilteredFunctions(e)}),[])}},useUniqKey:function(){var e=rn();return function(t){return t+"-"+e["data-block"]}},useSanitizeFieldsMap:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"fields_map",t=Oe(),n=ue(F),r=n.settings,o=n.onChangeSettingObj;ce((function(){if(r.hasOwnProperty(e)){var n=[].concat(Z(z()),Z(t)),i=r[e],a=function(e){return-1!==n.findIndex((function(t){return t.value===e}))};for(var l in i)i.hasOwnProperty(l)&&(a(l)||delete i[l]);o(ie({},e,i))}}),[])},withRequestFields:function(e){var t=e("core/editor").getEditedPostAttribute("meta")||{},n=JSON.parse(t._jf_actions||"[]"),r=e("jet-forms/actions").getCurrentAction();return n.splice(r.index),{requestFields:we(n)}},useRequestFields:Oe,withSelectActionLoading:_e,withDispatchMeta:function(e,t){return function(n,r,o){var i=o.select,a=Ee(i),l=n("core/editor").editPost;return ie({},t,(function(t){return l({meta:oe(oe({},a),{},ie({},e,JSON.stringify(t)))})}))}},withSelectMeta:Pe,withDispatchNotice:function(e){return{createNotice:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e(wp.notices.store).createNotice(t,n,oe({type:"default",status:"info"},r))}}},withSelectFormFields:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(r){var o=[],i=["submit","form-break","heading","group-break","conditional"].concat(Z(e));return Ne((function(e){e.name.includes("jet-forms/")&&e.attributes.name&&!i.find((function(t){return e.name.includes(t)}))&&o.push({blockName:e.name,name:e.attributes.name,label:e.attributes.label||e.attributes.name,value:e.attributes.name})}),r("core/block-editor").getBlocks()),o=t?[{value:"",label:t}].concat(Z(o)):o,{formFields:n?o:me("jet.fb.getFormFieldsBlocks",o)}}},withSelectGateways:Ce,withDispatchGateways:function(e){var t=e("jet-forms/gateways");return{setGatewayRequest:t.setRequest,setGatewayScenario:t.setScenario,setScenario:t.setCurrentScenario,setGateway:t.setGateway,setGatewayInner:t.setGatewayInner,setGatewaySpecific:t.setGatewaySpecific,clearGateway:t.clearGateway,clearScenario:t.clearScenario}},withSelectActionsByType:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){var r=Pe("_jf_actions",[])(n)._jf_actions;return ie({},e,C(r,e,t))}}}})()})();