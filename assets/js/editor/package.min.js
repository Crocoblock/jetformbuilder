(()=>{var e={7194:()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||r(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(t,r,n){return(r=function(t){var r=function(t,r){if("object"!==e(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===e(r)?r:String(r)}(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}var a=function(){return(0,wp.data.select)("core/editor").getEditedPostAttribute("meta")},u=function(e,t){(0,(0,wp.data.dispatch)("core/editor").editPost)({meta:i(i({},a()),{},l({},e,JSON.stringify(t)))})},c=function(e){for(var r=[],n=0,o=Object.entries(e);n<o.length;n++){var i=t(o[n],2),l=i[0],a=i[1].active;void 0!==a&&a&&r.push(+l)}return r},s=function(){var e={},o=[];try{var i=function(){var e=a(),t={},r=[];try{t=JSON.parse(e._jf_gateways)}catch(e){return[]}if(1===t.last_migrate)throw"migrated";try{r=JSON.parse(e._jf_actions)}catch(e){return[t]}return[t,r]}(),l=t(i,2),s=l[0];e=void 0===s?{}:s;var f=l[1];o=void 0===f?[]:f}catch(e){return}e.last_migrate=1,u("_jf_gateways",e);var p,m=[];try{m.push.apply(m,(p=function(e,t){var r,n,o,i,l=c(null!==(r=e.notifications_success)&&void 0!==r?r:{}),a=c(null!==(n=e.notifications_failed)&&void 0!==n?n:{}),u=c(null!==(o=e.notifications_before)&&void 0!==o?o:{}),s=null!==(i=e.use_success_redirect)&&void 0!==i&&i,f=!1;if(!(l.length||a.length||u.length||s))throw"nothing_to_migrate";return t.map((function(e){var t;return e.events=null!==(t=e.events)&&void 0!==t?t:[],l.includes(e.id)&&e.events.push("GATEWAY.SUCCESS"),a.includes(e.id)&&e.events.push("GATEWAY.FAILED"),u.includes(e.id)&&e.events.push("DEFAULT.PROCESS"),s&&!f&&"redirect_to_page"===e.type&&(e.events.push("GATEWAY.SUCCESS"),f=!0),e}))}(e,o),function(e){if(Array.isArray(e))return n(e)}(p)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(p)||r(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))}catch(e){return}u("_jf_actions",m)};wp.domReady((function(){return setTimeout(s,0)}))},9510:(e,t,r)=>{const n=r(6830),{MAX_LENGTH:o,MAX_SAFE_INTEGER:i}=r(39),{re:l,t:a}=r(9022),u=r(8716),{compareIdentifiers:c}=r(8822);class s{constructor(e,t){if(t=u(t),e instanceof s){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid Version: ${e}`);if(e.length>o)throw new TypeError(`version is longer than ${o} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?l[a.LOOSE]:l[a.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<i)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof s)){if("string"==typeof e&&e===this.version)return 0;e=new s(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof s||(e=new s(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof s||(e=new s(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],o=e.prerelease[t];if(n("prerelease compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return c(r,o)}while(++t)}compareBuild(e){e instanceof s||(e=new s(e,this.options));let t=0;do{const r=this.build[t],o=e.build[t];if(n("prerelease compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return c(r,o)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(0===c(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}e.exports=s},3992:(e,t,r)=>{const n=r(9510);e.exports=(e,t,r)=>new n(e,r).compare(new n(t,r))},2260:(e,t,r)=>{const n=r(3992);e.exports=(e,t,r)=>n(e,t,r)>0},6579:(e,t,r)=>{const n=r(3992);e.exports=(e,t,r)=>n(e,t,r)>=0},290:(e,t,r)=>{const n=r(3992);e.exports=(e,t,r)=>n(e,t,r)<0},5891:(e,t,r)=>{const n=r(3992);e.exports=(e,t,r)=>n(e,t,r)<=0},39:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:t,MAX_SAFE_COMPONENT_LENGTH:16}},6830:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},8822:e=>{const t=/^[0-9]+$/,r=(e,r)=>{const n=t.test(e),o=t.test(r);return n&&o&&(e=+e,r=+r),e===r?0:n&&!o?-1:o&&!n?1:e<r?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},8716:e=>{const t=["includePrerelease","loose","rtl"];e.exports=e=>e?"object"!=typeof e?{loose:!0}:t.filter((t=>e[t])).reduce(((e,t)=>(e[t]=!0,e)),{}):{}},9022:(e,t,r)=>{const{MAX_SAFE_COMPONENT_LENGTH:n}=r(39),o=r(6830),i=(t=e.exports={}).re=[],l=t.src=[],a=t.t={};let u=0;const c=(e,t,r)=>{const n=u++;o(e,n,t),a[e]=n,l[n]=t,i[n]=new RegExp(t,r?"g":void 0)};c("NUMERICIDENTIFIER","0|[1-9]\\d*"),c("NUMERICIDENTIFIERLOOSE","[0-9]+"),c("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),c("MAINVERSION",`(${l[a.NUMERICIDENTIFIER]})\\.(${l[a.NUMERICIDENTIFIER]})\\.(${l[a.NUMERICIDENTIFIER]})`),c("MAINVERSIONLOOSE",`(${l[a.NUMERICIDENTIFIERLOOSE]})\\.(${l[a.NUMERICIDENTIFIERLOOSE]})\\.(${l[a.NUMERICIDENTIFIERLOOSE]})`),c("PRERELEASEIDENTIFIER",`(?:${l[a.NUMERICIDENTIFIER]}|${l[a.NONNUMERICIDENTIFIER]})`),c("PRERELEASEIDENTIFIERLOOSE",`(?:${l[a.NUMERICIDENTIFIERLOOSE]}|${l[a.NONNUMERICIDENTIFIER]})`),c("PRERELEASE",`(?:-(${l[a.PRERELEASEIDENTIFIER]}(?:\\.${l[a.PRERELEASEIDENTIFIER]})*))`),c("PRERELEASELOOSE",`(?:-?(${l[a.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[a.PRERELEASEIDENTIFIERLOOSE]})*))`),c("BUILDIDENTIFIER","[0-9A-Za-z-]+"),c("BUILD",`(?:\\+(${l[a.BUILDIDENTIFIER]}(?:\\.${l[a.BUILDIDENTIFIER]})*))`),c("FULLPLAIN",`v?${l[a.MAINVERSION]}${l[a.PRERELEASE]}?${l[a.BUILD]}?`),c("FULL",`^${l[a.FULLPLAIN]}$`),c("LOOSEPLAIN",`[v=\\s]*${l[a.MAINVERSIONLOOSE]}${l[a.PRERELEASELOOSE]}?${l[a.BUILD]}?`),c("LOOSE",`^${l[a.LOOSEPLAIN]}$`),c("GTLT","((?:<|>)?=?)"),c("XRANGEIDENTIFIERLOOSE",`${l[a.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),c("XRANGEIDENTIFIER",`${l[a.NUMERICIDENTIFIER]}|x|X|\\*`),c("XRANGEPLAIN",`[v=\\s]*(${l[a.XRANGEIDENTIFIER]})(?:\\.(${l[a.XRANGEIDENTIFIER]})(?:\\.(${l[a.XRANGEIDENTIFIER]})(?:${l[a.PRERELEASE]})?${l[a.BUILD]}?)?)?`),c("XRANGEPLAINLOOSE",`[v=\\s]*(${l[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[a.XRANGEIDENTIFIERLOOSE]})(?:${l[a.PRERELEASELOOSE]})?${l[a.BUILD]}?)?)?`),c("XRANGE",`^${l[a.GTLT]}\\s*${l[a.XRANGEPLAIN]}$`),c("XRANGELOOSE",`^${l[a.GTLT]}\\s*${l[a.XRANGEPLAINLOOSE]}$`),c("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),c("COERCERTL",l[a.COERCE],!0),c("LONETILDE","(?:~>?)"),c("TILDETRIM",`(\\s*)${l[a.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",c("TILDE",`^${l[a.LONETILDE]}${l[a.XRANGEPLAIN]}$`),c("TILDELOOSE",`^${l[a.LONETILDE]}${l[a.XRANGEPLAINLOOSE]}$`),c("LONECARET","(?:\\^)"),c("CARETTRIM",`(\\s*)${l[a.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",c("CARET",`^${l[a.LONECARET]}${l[a.XRANGEPLAIN]}$`),c("CARETLOOSE",`^${l[a.LONECARET]}${l[a.XRANGEPLAINLOOSE]}$`),c("COMPARATORLOOSE",`^${l[a.GTLT]}\\s*(${l[a.LOOSEPLAIN]})$|^$`),c("COMPARATOR",`^${l[a.GTLT]}\\s*(${l[a.FULLPLAIN]})$|^$`),c("COMPARATORTRIM",`(\\s*)${l[a.GTLT]}\\s*(${l[a.LOOSEPLAIN]}|${l[a.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",c("HYPHENRANGE",`^\\s*(${l[a.XRANGEPLAIN]})\\s+-\\s+(${l[a.XRANGEPLAIN]})\\s*$`),c("HYPHENRANGELOOSE",`^\\s*(${l[a.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[a.XRANGEPLAINLOOSE]})\\s*$`),c("STAR","(<|>)?=?\\s*\\*"),c("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),c("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}(()=>{"use strict";const e=(0,wp.element.createContext)({name:"",data:{},index:0});function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var n=wp.components.BaseControl;const o=(0,wp.element.createContext)({actionClick:null,onRequestClose:function(){}});function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(this,arguments)}function l(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var u=wp.components,c=u.Button,s=u.ButtonGroup,f=u.Modal,p=wp.element.useState;const m=function(e){var t=e.onRequestClose,r=e.children,n=e.title,u=void 0===n?"":n,m=e.classNames,y=void 0===m?[]:m,d=e.onUpdateClick,b=e.onCancelClick,v=e.updateBtnLabel,h=void 0===v?"Update":v,g=e.updateBtnProps,w=void 0===g?{}:g,j=e.cancelBtnProps,S=void 0===j?{}:j,O=e.cancelBtnLabel,E=void 0===O?"Cancel":O,A=e.fixedHeight,P=void 0===A?"":A,C=e.isUseActions,I=void 0===C||C,_=["jet-form-edit-modal"].concat(function(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(y)),k=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(p(null),2),T=k[0],N=k[1],x={};return P&&(x={height:P},_.push("jet-modal-fixed-height")),wp.element.createElement(f,{onRequestClose:t,className:_.join(" "),title:u,style:x},!r&&wp.element.createElement("div",{className:"jet-form-edit-modal__content"},"Action callback is not found."),r&&wp.element.createElement(React.Fragment,null,wp.element.createElement("div",{className:"jet-form-edit-modal__wrapper"},wp.element.createElement(o.Provider,{value:{actionClick:T,onRequestClose:t}},wp.element.createElement("div",{className:"jet-form-edit-modal__content"},"function"==typeof r&&r({actionClick:T,onRequestClose:t}),"function"!=typeof r&&r))),I&&wp.element.createElement(s,{className:"jet-form-edit-modal__actions"},wp.element.createElement(c,i({isPrimary:!0,onClick:function(){d&&d(),N(!0)}},w),h),wp.element.createElement(c,i({isSecondary:!0,style:{margin:"0 0 0 10px"},onClick:function(){b&&b(),N(!1)}},S),E))))};function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var d=wp.element,b=d.RawHTML,v=d.useContext;wp.i18n.__;var h=wp.components.Button,g=wp.element.useEffect;const w=function(e){var t=e.label,r=e.ajaxArgs,n=void 0===r?{}:r,o=e.onSuccessRequest,i=void 0===o?function(){}:o,l=e.onFailRequest,a=void 0===l?function(){}:l,u=e.onLoading,c=void 0===u?function(){}:u,s=e.className,f=void 0===s?"":s,p=e.children,m=void 0===p?function(){}:p,y=e.disabled,d=void 0!==y&&y,b=e.customRequest,v=void 0!==b&&b,w=e.isHidden,j=void 0!==w&&w,S=e.hasFetched,O=void 0===S?-1:S,E=function(){!1===v?(c(),jQuery.ajax({url:ajaxurl,type:"POST",data:n}).done((function(e){return e.success?i(e):a()})).fail((function(){return a()}))):"function"==typeof v?v():a()};return g((function(){j&&-1===O&&E()}),[]),j?null:wp.element.createElement(h,{disabled:d,key:"validate_api_key",isPrimary:!0,onClick:E,className:f},m&&m,t)};function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var S=["jet-form-validate-button"],O=wp.element.useState;const E=function(e){var t="is-valid",r="is-invalid",n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?j(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(O(e?[].concat(S,[t]):e?void 0:[].concat(S,[r])),2),o=n[0],i=n[1];return[o.join(" "),function(){i([].concat(S,[t]))},function(){i([].concat(S,[r]))},function(){i([].concat(S,["loading"]))}]};function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function I(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(e){if("string"==typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function T(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==C(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==C(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===C(o)?o:String(o)),n)}var o}var N=r(2260),x=r(290),R=r(6579),D=r(5891),F=(wp.i18n.__,wp.hooks.applyFilters),M=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r;return t=e,r=[{key:"withPlaceholder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"--",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return[{label:t,value:r}].concat(I(e))}},{key:"isEmptyObject",value:function(e){return"object"===C(e)&&0===Object.keys(e).length}},{key:"getRandomID",value:function(){return Math.floor(8999*Math.random())+1e3}}],null&&T(t.prototype,null),r&&T(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function L(e,t){return null!=e&&e.length?e.map((function(e){return"object"===C(e)?e[t]:e})):[]}var B=F("jet.fb.tools.convertSymbols",{checkCyrRegex:/[а-яёїєґі]/i,cyrRegex:/[а-яёїєґі]/gi,charsMap:{а:"a",б:"b",в:"v",г:"g",д:"d",е:"e",ё:"io",ж:"zh",з:"z",и:"i",й:"i",к:"k",л:"l",м:"m",н:"n",о:"o",п:"p",р:"r",с:"s",т:"t",у:"u",ф:"f",х:"kh",ц:"ts",ч:"ch",ш:"sh",щ:"shch",ы:"y",э:"e",ю:"iu",я:"ia",ї:"i",є:"ie",ґ:"g",і:"i"}});function $(e){return B.checkCyrRegex.test(e)&&(e=e.replace(B.cyrRegex,(function(e){return void 0===B.charsMap[e]?"":B.charsMap[e]}))),e}function G(e){var t=e.toLowerCase(),r=(t=$(t=t.normalize("NFD").replace(/[\u0300-\u036f]/g,""))).match(/\b(\w+)\b/g);t="";for(var n=0,o=Object.entries(r);n<o.length;n++){var i=P(o[n],2),l=i[0];t+=(0==+l?"":"_")+i[1];var a=+l+1===r.length;if(t.length>60)return t+(a?"":"__")}return t}function U(){for(var e=[],t=function t(r){r.forEach((function(r){if(r&&(Array.isArray(r)&&t(r),"string"==typeof r&&e.push(r.trim()),"object"===C(r)))for(var n in r)r[n]&&e.push((n+"").trim())}))},r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t(n),e.join(" ")}const V=M;var q=wp.data.select;const J=function(e){!function t(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(r=r||q("core/block-editor").getBlocks()).map((function(r){if(e(r,n),r.innerBlocks.length){var o="jet-forms/repeater-field"===r.name?r:n;t(r.innerBlocks,o)}}))}()};function H(e){return function(e){if(Array.isArray(e))return X(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return X(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?X(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var z=wp.hooks,W=z.applyFilters,Y=(z.addFilter,wp.data.select);const K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"default",o=[],i=["submit","form-break","heading","group-break","conditional"].concat(H(e));return J((function(e){if(e.name.includes("jet-forms/")&&!i.find((function(t){return e.name.includes(t)}))){var t,r=Y("core/blocks").getBlockType(e.name);if(!r.hasOwnProperty("jfbGetFields"))return;var l=r.jfbGetFields.call(e,n);(t=o).push.apply(t,H(l.filter((function(e){return!o.some((function(t){return t.value===e.value}))}))))}})),o=t?[{value:"",label:t}].concat(H(o)):o,r?o:W("jet.fb.getFormFieldsBlocks",o,n)},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",r=[],n=K(e,!1,!1,t);return n&&n.forEach((function(e){return r.push(e.name)})),r};var Q=wp.i18n.__;function ee(e){return function(e){if(Array.isArray(e))return te(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return te(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?te(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var re=wp.hooks,ne=re.applyFilters,oe=(re.addFilter,wp.data.select);const ie=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",n=["submit","form-break","heading","group-break","conditional"],o=[],i=wp.data.select("core/block-editor").getSelectedBlock();return J((function(e){if(e.name.includes("jet-forms/")&&(null==i?void 0:i.clientId)!==e.clientId&&!n.find((function(t){return e.name.includes(t)}))){var t,l=oe("core/blocks").getBlockType(e.name);if(!l.hasOwnProperty("jfbGetFields"))return;var a=l.jfbGetFields.call(e,r);(t=o).push.apply(t,ee(a.filter((function(e){return!o.some((function(t){return t.value===e.value}))}))))}})),o=e?[{value:"",label:e}].concat(ee(o)):o,t?o:ne("jet.fb.getFormFieldsBlocks",o,r)},le=function(e){var t=wp.data.select("core/block-editor").getBlock(e);return t?t.innerBlocks:[]};var ae=wp.hooks.addFilter;const ue=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=window.JetFormEditorData.gateways;if(!e)return r;if(!r[e])return!1;var n=r[e];return function(e){return n[e]?n[e]:t}},ce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=ue("labels");return function(n){return r(e)?r(e)[n]:t}},se=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cred";return window.JetFBGatewaysList&&window.JetFBGatewaysList[e]&&window.JetFBGatewaysList[e][t]},fe=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"cred";if(!se(e,r))return null;var n=window.JetFBGatewaysList[e][r];return wp.element.createElement(n,t)};function pe(e){return pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pe(e)}function me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?me(Object(r),!0).forEach((function(t){de(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):me(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function de(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==pe(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==pe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===pe(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var be=wp.data,ve=be.useSelect,he=be.useDispatch;const ge=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"{}",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=ve((function(e){return e("core/editor").getEditedPostAttribute("meta")||{}}),r),o=he("core/editor",[n]),i=o.editPost,l=JSON.parse(n[e]||t),a=function(t){var r;r="function"==typeof t?t(l):t,i({meta:ye(ye({},n),{},de({},e,JSON.stringify(r)))})};return[l,a]},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return ge("_jf_actions","[]",e)};function je(e){return function(e){if(Array.isArray(e))return Oe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Se(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Se(e,t){if(e){if("string"==typeof e)return Oe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Oe(e,t):void 0}}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ee=wp.element.useState;const Ae=function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||Se(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Ee(je(S)),2),t=e[0],r=e[1];return[t.join(" "),function(){r([].concat(je(S),["loading"]))},function(){r(S)}]};function Pe(e){return Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pe(e)}function Ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(r),!0).forEach((function(t){_e(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _e(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Pe(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Pe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Pe(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Te(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Te(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ne=wp.element,xe=Ne.useState,Re=Ne.useEffect,De=wp.data.useDispatch;const Fe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=xe(!1),n=ke(r,2),o=n[0],i=n[1],l=De(wp.notices.store);return Re((function(){o&&l.createWarningNotice(e,Ie({type:"snackbar"},t))}),[o]),i};function Me(e){return Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Me(e)}function Le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(r),!0).forEach((function(t){$e(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $e(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Me(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Me(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Me(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.initData(e)}Ge.prototype.initData=function(e){var t,r,n,o,i,l=this;this.id=null!==(t=null==e?void 0:e.id)&&void 0!==t?t:V.getRandomID(),this.settings=null!==(r=null==e?void 0:e.settings)&&void 0!==r?r:{},this.type=null!==(n=null==e?void 0:e.type)&&void 0!==n?n:"send_email",this.conditions=null!==(o=null==e?void 0:e.conditions)&&void 0!==o?o:[],this.events=null!==(i=null==e?void 0:e.events)&&void 0!==i?i:[],Object.defineProperty(this,"selfSettings",{get:function(){var e;return l.settings.hasOwnProperty(null!==(e=l.type)&&void 0!==e?e:"")?l.settings[l.type]:{}},set:function(e){var t;l.settings.hasOwnProperty(null!==(t=l.type)&&void 0!==t?t:"")&&(l.settings[l.type]={}),l.settings[l.type]=Be(Be({},l.settings[l.type]),e)}}),Object.defineProperty(this,"index",{get:function(){var t;return null!==(t=null==e?void 0:e.index)&&void 0!==t?t:0}})},Ge.prototype.resetID=function(){this.id=V.getRandomID()};const Ue=Ge;function Ve(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return qe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qe(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){a=!0,i=e},f:function(){try{l||null==r.return||r.return()}finally{if(a)throw i}}}}function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Je=wp.data.useSelect,He=function(e){var t,r=[],n=Ve(e);try{for(n.s();!(t=n.n()).done;){var o=t.value,i=o.settings[o.type],l=void 0===i?{}:i;if(l.requestFields){var a,u=Ve(l.requestFields);try{var c=function(){var e=a.value;if(-1!==r.findIndex((function(t){return t.value===e.name})))return"continue";r.push({from:o.type,id:o.id,label:e.name,value:e.name,name:e.name,help:e.help})};for(u.s();!(a=u.n()).done;)c()}catch(e){u.e(e)}finally{u.f()}}}}catch(e){n.e(e)}finally{n.f()}return r};function Xe(e,t){var r=Je((function(e){return e("jet-forms/actions").getComputedFields()}),[]);t=t.map((function(e){return new Ue(e)}));var n,o=new Set,i=Ve(r);try{for(i.s();!(n=i.n()).done;){var l,a=new(0,n.value),u=Ve(t);try{var c=function(){var t=l.value;if(!a.isSupported(t))return"continue";a.setAction(t),a.hasInList=!1;var r=a.getLabel(),n=a.getName();if(o.has(n)&&(a.hasInList=!0,n=a.getName()),e.some((function(e){return e.value===n})))return"continue";o.add(n),e.push({from:t.type,id:t.id,label:r||n,value:n,name:n,help:a.getHelp()})};for(u.s();!(l=u.n()).done;)c()}catch(e){u.e(e)}finally{u.f()}if(!a.action&&a.isSupportedGlobal()){var s=a.getLabel(),f=a.getName();e.push({label:s||f,value:f,name:f,help:a.getHelp()})}}}catch(e){i.e(e)}finally{i.f()}return e}const ze=function(){var e=Je((function(e){return e("core/editor").getEditedPostAttribute("meta")||{}}),[]),t=JSON.parse(e._jf_actions||"[]"),r=Je((function(e){return e("jet-forms/actions").getCurrentAction()}),[]);return t.splice(r.index),Xe(He(t),t)};var We=wp.data.useSelect;const Ye=function(e){var t=We((function(e){return e("core/editor").getEditedPostAttribute("meta")||{}}));return JSON.parse(t[e]||"{}")};var Ke=wp.element,Ze=Ke.useContext,Qe=Ke.useEffect;const et=function(e){var t=Ze(o),r=t.actionClick,n=t.onRequestClose;Qe((function(){r&&e(),null!==r&&n()}),[r])};function tt(e){return function(e){if(Array.isArray(e))return rt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return rt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?rt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var nt=wp.hooks.applyFilters,ot=function e(t,r){r.map((function(r){t(r),r.innerBlocks.length&&e(t,r.innerBlocks)}))};const it=function(e){var t=e.slug,r=e.element,n=void 0===r?"":r,o=e.empty,i=void 0===o?"":o,l=JetFormEditorData.global_settings;return l?n?l[t]&&l[t][n]?l[t][n]:i:l[t]||i:i},lt=function(e){var t=e("jet-forms/gateways"),r=t.getCurrentRequestId(),n=t.getGatewaySpecific(),o=t.getScenario(),i=t.getGatewayId(),l=o.id,a=void 0===l?"PAY_NOW":l,u=n.use_global,c=void 0!==u&&u,s=it({slug:i}),f=ue("additional")(i),p=e("jet-forms/actions").getLoading(r),m=ue("labels"),y=ce(i),d=function(e){return m("".concat(i,".").concat(e))};return{gatewayGeneral:t.getGateway(),gatewayRequest:t.getCurrentRequest(),scenarioSource:f[a]||{},currentScenario:o[a]||{},CURRENT_SCENARIO:a,gatewayScenario:o,additionalSourceGateway:f,gatewaySpecific:n,gatewayRequestId:r,loadingGateway:p,getSpecificOrGlobal:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return c?s[e]||t:n[e]||t},globalGatewayLabel:m,specificGatewayLabel:y,customGatewayLabel:d,scenarioLabel:function(e){return d("scenario.".concat(a,".").concat(e))}}},at=(0,wp.element.createContext)({});function ut(e){return ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ut(e)}function ct(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ut(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ut(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ut(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function st(e){return function(e){if(Array.isArray(e))return ft(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ft(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ft(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var pt=wp.element,mt=pt.useEffect,yt=pt.useContext;const dt=function(e){return{loadingState:e("jet-forms/actions").getCurrentLoading()}};function bt(e){return function(e){if(Array.isArray(e))return ht(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||vt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vt(e,t){if(e){if("string"==typeof e)return ht(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ht(e,t):void 0}}function ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gt(e,t){if(e){if("string"==typeof e)return wt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wt(e,t):void 0}}function wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var jt=wp.data.useSelect;const St=function(){var e,t=Ye("_jf_gateways"),r=(null!==(e=t[null==t?void 0:t.gateway])&&void 0!==e?e:{}).scenario,n=void 0===r?{}:r;return jt((function(e){var r,o=[],i=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=gt(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){a=!0,i=e},f:function(){try{l||null==r.return||r.return()}finally{if(a)throw i}}}}(e("jet-forms/events").getGatewayTypes());try{for(i.s();!(r=i.n()).done;){var l=r.value,a=!l.gateway||l.gateway===t.gateway,u=!l.scenario||l.scenario===(null==n?void 0:n.id);a&&u&&o.push(l.value)}}catch(e){i.e(e)}finally{i.f()}return function(e){return function(e){if(Array.isArray(e))return wt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||gt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(new Set(o))}),[null==t?void 0:t.gateway])};function Ot(e,t){if(e){if("string"==typeof e)return Et(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Et(e,t):void 0}}function Et(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var At=wp.data.useSelect;const Pt=function(){var e,t=[],r=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Ot(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){a=!0,i=e},f:function(){try{l||null==r.return||r.return()}finally{if(a)throw i}}}}(At((function(e){return e("jet-forms/events").getAlwaysTypes()})));try{for(r.s();!(e=r.n()).done;){var n=e.value.value;t.push(n)}}catch(e){r.e(e)}finally{r.f()}return function(e){return function(e){if(Array.isArray(e))return Et(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ot(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(new Set(t))};var Ct=wp.data.useSelect;function It(e){return function(e){if(Array.isArray(e))return _t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return _t(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_t(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var kt=wp.data.useSelect;function Tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Nt=wp.data.useSelect;const xt=function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Tt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Tt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Nt((function(e){return[e("jet-forms/block-conditions").getOperators(),e("jet-forms/block-conditions").getFunctions()]}),[]),2);return{operators:e[0],functions:e[1]}};var Rt=wp.blockEditor.useBlockProps;const Dt=function(){var e=Rt();return function(t){return t+"-"+e["data-block"]}};function Ft(e){return Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ft(e)}var Mt=wp.blockEditor.useBlockProps,Lt=wp.data,Bt=Lt.useSelect,$t=Lt.useDispatch,Gt=Lt.select;const Ut=function(){var e=Mt(),t=e["data-block"],r=Bt((function(e){return e("core/block-editor").getBlockAttributes(t)})),n=$t("core/block-editor",[]).updateBlock;return[r,function(o){o="object"===Ft(o)?o:o(r),o=Gt("jet-forms/fields").getSanitizedAttributes(o,e),n(t,{attributes:o})},t]};function Vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var qt=wp.data.useSelect;var Jt=wp.blockEditor.useBlockProps,Ht=wp.data.useSelect;const Xt=function(e){var t=Jt()["data-type"];return Ht((function(r){return!!r("core/blocks").getBlockType(t).attributes[e]}),[t])};function zt(){return zt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zt.apply(this,arguments)}function Wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Kt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Zt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Zt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Zt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zt(e){return Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zt(e)}var Qt=wp.hooks.applyFilters;const er=function(e){return function(t){return wp.element.createElement(e,zt({key:"wrapped-preset-editor"},t,{parseValue:function(){var e={};if("object"===Zt(t.value))e=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(r),!0).forEach((function(t){Kt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t.value);else if(t.value&&"string"==typeof t.value)try{if("number"==typeof(e=JSON.parse(t.value)))throw new Error}catch(t){e={}}return e.jet_preset=!0,e},isVisible:function(e,t,r){return(t.position&&r===t.position||!t.position||"query_var"!==e.from)&&function(e,t){return!t.condition&&!t.custom_condition||(t.custom_condition?"query_var"===t.custom_condition?"post"===e.from&&"query_var"===e.post_from||"user"===e.from&&"query_var"===e.user_from||"query_var"===e.from:Qt("jet.fb.preset.editor.custom.condition",!1,t.custom_condition,e):!t.condition||e[t.condition.field]===t.condition.value)}(e,t)},isMapFieldVisible:function(e,t,r){return!((t.condition||t.parent_condition)&&(t.parent_condition&&!t.condition?e[t.parent_condition.field]!==t.parent_condition.value:t.parent_condition&&t.condition?!e.fields_map||!e.fields_map[r]||e.fields_map[r][t.condition.field]!==t.condition.value||e[t.parent_condition.field]!==t.parent_condition.value:!t.parent_condition&&t.condition&&(!e.fields_map||!e.fields_map[r]||e.fields_map[r][t.condition.field]!==t.condition.value)))},isCurrentFieldVisible:function(e,t,r){return!((t.condition||t.parent_condition)&&(t.position&&r!==t.position||(t.parent_condition&&!t.condition?e[t.parent_condition.field]!==t.parent_condition.value:t.parent_condition&&t.condition?e["current_field_"+t.condition.field]!==t.condition.value||e[t.parent_condition.field]!==t.parent_condition.value:!t.parent_condition&&t.condition&&e["current_field_"+t.condition.field]!==t.condition.value)))},excludeOptions:function(e){var r=function(e){return function(e){if(Array.isArray(e))return Wt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Wt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Wt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e);return r.forEach((function(e,n){t.excludeSources&&t.excludeSources.includes(e.value)&&r.splice(n,1)})),r}}))}};var tr=wp.components,rr=tr.TextControl,nr=tr.SelectControl;const or=function(e){var t=e.data,r=e.value,n=e.index,o=e.onChangeValue,i=e.isVisible,l=e.excludeOptions,a=void 0===l?function(e){return e}:l,u=e.position;switch(t.type){case"text":return i(r,t,u)&&wp.element.createElement("div",{key:"field_"+t.name+n,className:"jet-form-preset__row"},wp.element.createElement(rr,{key:t.name+n,label:t.label,value:r[t.name],onChange:function(e){o(e,t.name)}}));case"select":return i(r,t,u)&&wp.element.createElement("div",{key:"field_"+t.name+n,className:"jet-form-preset__row"},wp.element.createElement(nr,{key:t.name+n,labelPosition:"side",options:a(t.options),label:t.label,value:r[t.name],onChange:function(e){o(e,t.name)}}))}return null};var ir=window.lodash.isEmpty,lr=window.wp.compose.withInstanceId,ar=window.wp.components.BaseControl;const ur=lr((function(e){var t=e.help,r=e.instanceId,n=e.label,o=(e.multiple,e.onChange),i=e.options,l=void 0===i?[]:i,a=e.className,u=e.value,c=e.hideLabelFromVision,s="inspector-select-control-".concat(r);return!ir(l)&&wp.element.createElement(ar,{label:n,hideLabelFromVision:c,id:s,help:t,className:a},wp.element.createElement("select",{id:s,className:"components-select-control__input",onChange:function(e){o(e.target.value)},value:u,"aria-describedby":t?"".concat(s,"__help"):void 0},wp.element.createElement("option",{key:"".concat(n,"-placeholder"),value:""},"--"),l.map((function(e,t){return!ir(e.values)&&wp.element.createElement("optgroup",{key:"".concat(e.label,"-").concat(t),label:e.label},e.values.map((function(e,r){return wp.element.createElement("option",{key:"".concat(e.value,"-").concat(r,"-").concat(t),value:e.value,disabled:e.disabled},e.label)})))}))))}));var cr=wp.components,sr=cr.TextControl,fr=cr.SelectControl,pr=cr.CustomSelectControl;const mr=function(e){var t=e.data,r=e.value,n=e.index,o=e.currentState,i=e.onChangeValue,l=e.isCurrentFieldVisible;switch(e.position,t.type){case"text":return l(o,t)&&wp.element.createElement("div",{key:t.name+n,className:"jet-form-preset__row"},wp.element.createElement(sr,{key:"control_"+t.name+n,placeholder:t.label,value:r,onChange:function(e){i(e,"current_field_"+t.name)}}));case"select":return l(o,t)&&wp.element.createElement("div",{key:t.name+n,className:"jet-form-preset__row"},wp.element.createElement(fr,{key:"control_"+t.name+n,labelPosition:"side",options:t.options,label:t.label,value:r,onChange:function(e){i(e,"current_field_"+t.name)}}));case"custom_select":return l(o,t)&&wp.element.createElement("div",{key:t.name+n,className:"jet-form-preset__row"},wp.element.createElement(pr,{className:"jet-custom-select-control",label:t.label,options:t.options,onChange:function(e){var n=e.selectedItem;r=n.key,i(r,"current_field_"+t.name)},value:t.options.find((function(e){return e.key===r}))}));case"grouped_select":return l(o,t)&&wp.element.createElement("div",{key:t.name+n,className:"jet-form-preset__row"},wp.element.createElement(ur,{options:t.options,label:t.label,labelPosition:"side",value:r,onChange:function(e){i(e,"current_field_"+t.name)}}))}return null};function yr(e){return yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yr(e)}function dr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function br(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dr(Object(r),!0).forEach((function(t){vr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function vr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==yr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==yr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===yr(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var gr=wp.element,wr=gr.useState,jr=gr.useEffect,Sr=gr.useContext,Or=function(e){var t=e.value,r=e.isSaveAction,n=e.onSavePreset,i=e.onUnMount,l=e.parseValue,a=e.excludeOptions,u=e.isCurrentFieldVisible,c=e.isVisible,s="dynamic",f=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return hr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?hr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(wr((function(){return l(t)})),2),p=f[0],m=f[1],y=Sr(o),d=y.actionClick,b=y.onRequestClose;void 0===r&&(r=d),void 0===i&&(i=b);var v=function(e,t){m((function(r){return br(br({},r),{},vr({},t,e))}))};return jr((function(){r&&n&&n(JSON.stringify(p)),null!==r&&i()}),[r]),wp.element.createElement(React.Fragment,null,window.JetFormEditorData.presetConfig.global_fields.map((function(e,t){return wp.element.createElement(or,{key:"current_field_".concat(e.name,"_").concat(t),value:p,index:t,data:e,excludeOptions:a,onChangeValue:v,isVisible:c,position:s})})),window.JetFormEditorData.presetConfig.map_fields.map((function(e,t){return wp.element.createElement(mr,{key:"current_field_".concat(e.name,"_").concat(t),currentState:p,value:p["current_field_"+e.name],index:t,data:e,onChangeValue:v,isCurrentFieldVisible:u,position:s})})))};const Er=Or=er(Or);function Ar(e){return Ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ar(e)}function Pr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Cr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pr(Object(r),!0).forEach((function(t){Ir(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ir(e,t,r){return(t=kr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kr(n.key),n)}}function kr(e){var t=function(e,t){if("object"!==Ar(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ar(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ar(t)?t:String(t)}function Tr(e,t){return Tr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Tr(e,t)}function Nr(e,t){if(t&&("object"===Ar(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function xr(e){return xr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xr(e)}var Rr=wp.components,Dr=Rr.SelectControl,Fr=Rr.TextControl,Mr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tr(e,t)}(l,wp.element.Component);var t,r,n,o,i=(n=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=xr(n);if(o){var r=xr(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Nr(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=i.call(this,e)).fieldTypes=t.props.fieldTypes,t.taxonomiesList=t.props.taxonomiesList,t.className=t.props.className,t.metaProp=t.props.metaProp?t.props.metaProp:"post_meta",t.termsProp=t.props.termsProp?t.props.termsProp:"post_terms",t.index=t.props.index,t.init(),t.bindFunctions(),t.state={type:t.getFieldType(t.props.fieldValue)},t}return t=l,(r=[{key:"bindFunctions",value:function(){this.onChangeType=this.onChangeType.bind(this),this.onChangeValue=this.onChangeValue.bind(this)}},{key:"init",value:function(){if(this.id="inspector-select-control-".concat(this.index),this.preparedTaxes=[],this.taxPrefix="jet_tax__",this.taxonomiesList)for(var e=0;e<this.taxonomiesList.length;e++)this.preparedTaxes.push({value:this.taxPrefix+this.taxonomiesList[e].value,label:this.taxonomiesList[e].label})}},{key:"getFieldName",value:function(e){if(!e)return"";var t=this.getFieldType(e);return this.termsProp===t||this.metaProp===t?e:""}},{key:"isTermOrMeta",value:function(e){return this.termsProp===e||this.metaProp===e}},{key:"getFieldType",value:function(e){if(!e)return"";for(var t=0;t<this.fieldTypes.length;t++)if(e===this.fieldTypes[t].value)return e;return e.includes(this.taxPrefix)?this.termsProp:this.metaProp}},{key:"onChangeValue",value:function(e){this.props.onChange(Cr(Cr({},this.props.fieldsMap),{},Ir({},this.props.fieldName,e)))}},{key:"onChangeType",value:function(e){var t=this.getFieldType(e);this.setState({type:t}),this.isTermOrMeta(t)&&(t=""),this.onChangeValue(t)}},{key:"render",value:function(){return wp.element.createElement("div",{className:"jet-fields-map__row"},wp.element.createElement("div",{className:"jet-post-field-control"},wp.element.createElement(Dr,{key:"field_type_"+this.props.fieldName+this.index,label:this.props.fieldName,labelPosition:"side",value:this.state.type,onChange:this.onChangeType,options:this.fieldTypes,style:{width:"160px"}}),this.metaProp===this.state.type&&wp.element.createElement(Fr,{key:"field_name_"+this.props.fieldName+this.index,value:this.props.fieldValue,onChange:this.onChangeValue,style:{width:"200px"}}),this.termsProp===this.state.type&&wp.element.createElement(Dr,{className:"jet-control-without-label",key:"field_tax_"+this.props.fieldName+this.index,value:this.props.fieldValue,onChange:this.onChangeValue,options:this.preparedTaxes,style:{width:"200px"}})))}}])&&_r(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),l}();const Lr=Mr;function Br(){return Br=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Br.apply(this,arguments)}function $r(e,t){if(e){if("string"==typeof e)return Gr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Gr(e,t):void 0}}function Gr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ur=wp.components,Vr=Ur.Path,qr=Ur.SVG,Jr=Ur.BaseControl,Hr=wp.element.useState;function Xr(){return Xr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xr.apply(this,arguments)}function zr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Wr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zr(Object(r),!0).forEach((function(t){Yr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Yr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Kr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Kr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Kr(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kr(e){return Kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kr(e)}var Zr=wp.components,Qr=Zr.TextControl,en=Zr.SelectControl,tn=Zr.CustomSelectControl,rn=Zr.Card,nn=Zr.CardBody,on=Zr.CardHeader;function ln(e){return ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ln(e)}function an(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==ln(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ln(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===ln(o)?o:String(o)),n)}var o}var un=wp.blocks.store;const cn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t.id,this.blocks=[],this.setBlocksMeta(t.supported)}var t,r;return t=e,(r=[{key:"setBlocksMeta",value:function(e){e.length&&(this.blocks=e.map((function(e){var t=wp.data.select(un).getBlockType("jet-forms/".concat(e));return{title:t.title,icon:t.icon.src}})))}}])&&an(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function sn(e){return sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sn(e)}function fn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==sn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==sn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===sn(o)?o:String(o)),n)}var o}const pn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.items=[]}var t,r;return t=e,(r=[{key:"push",value:function(e){this.items.push(new cn(e))}}])&&fn(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function mn(e,t){if(e){if("string"==typeof e)return yn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yn(e,t):void 0}}function yn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var dn=window.jetFormValidation.messages,bn=wp.element.useState,vn=dn.sort((function(e,t){return e.supported.length-t.supported.length}));function hn(){var e,t=new pn,r=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=mn(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){a=!0,i=e},f:function(){try{l||null==r.return||r.return()}finally{if(a)throw i}}}}(vn);try{for(r.s();!(e=r.n()).done;){var n=e.value;t.push(n)}}catch(e){r.e(e)}finally{r.f()}return t.items}const gn=function(e,t){1>=e.label.length||e.name&&"field_name"!==e.name||t({name:G(e.label)})};function wn(){return wn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wn.apply(this,arguments)}var jn=wp.components.BaseControl,Sn=wp.blockEditor.RichText,On=wp.compose,En=On.__experimentalUseFocusOutside,An=On.useFocusOutside;An=An||En;var Pn=wp.i18n.__;function Cn(e){return wp.element.createElement("small",{style:{whiteSpace:"nowrap",padding:"0.2em 0.8em 0 0",color:"#8e8a8a"}},e)}var In=["children","fields","onFieldClick","customMacros","zIndex"];function _n(){return _n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_n.apply(this,arguments)}function kn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Tn=wp.components,Nn=Tn.Button,xn=Tn.Popover,Rn=Tn.PanelBody,Dn=wp.element.useState;function Fn(e){return Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fn(e)}function Mn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||Un(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ln(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Bn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ln(Object(r),!0).forEach((function(t){$n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ln(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $n(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Fn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Fn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Fn(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gn(e){return function(e){if(Array.isArray(e))return Vn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Un(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Un(e,t){if(e){if("string"==typeof e)return Vn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Vn(e,t):void 0}}function Vn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var qn=wp.i18n.__,Jn=wp.components,Hn=Jn.Button,Xn=Jn.ButtonGroup,zn=Jn.Card,Wn=Jn.CardBody,Yn=Jn.CardHeader,Kn=Jn.ToggleControl,Zn=Jn.Flex,Qn=Jn.FlexItem,eo=wp.element,to=eo.useState,ro=eo.useEffect;function no(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var oo=wp.i18n.__,io=wp.components.TextControl;const lo=function(e){var t=e.label,r=e.help,n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return no(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?no(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Ut(),2),o=n[0],i=n[1];return Xt("placeholder")?wp.element.createElement(io,{label:null!=t?t:oo("Placeholder","jet-form-builder"),value:o.placeholder,help:null!=r?r:"",onChange:function(e){return i({placeholder:e})}}):null};function ao(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var uo=wp.i18n.__,co=wp.components.ToggleControl;const so=function(e){var t=e.label,r=e.help,n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ao(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ao(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Ut(),2),o=n[0],i=n[1];return Xt("add_prev")?wp.element.createElement(co,{label:null!=t?t:uo("Add Prev Page Button","jet-form-builder"),help:null!=r?r:uo('It is recommended to use the "Action Button" block \n\t\t\twith the "Go to Prev Page" type',"jet-form-builder"),checked:o.add_prev,onChange:function(e){return i({add_prev:e})}}):null};function fo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var po=wp.i18n.__,mo=wp.components.TextControl;const yo=function(e){var t=e.label,r=e.help,n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return fo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Ut(),2),o=n[0],i=n[1];return o.add_prev?wp.element.createElement(mo,{label:null!=t?t:po("Prev Page Button Label","jet-form-builder"),value:o.prev_label,help:null!=r?r:"",onChange:function(e){return i({prev_label:e})}}):null};function bo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var vo=wp.i18n.__,ho=wp.components.SelectControl;const go=function(e){var t=e.label,r=e.help,n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return bo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?bo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Ut(),2),o=n[0],i=n[1];return Xt("visibility")?wp.element.createElement(ho,{options:[{value:"all",label:vo("For all","jet-form-builder")},{value:"logged_id",label:vo("Only for logged in users","jet-form-builder")},{value:"not_logged_in",label:vo("Only for NOT-logged in users","jet-form-builder")}],label:null!=t?t:vo("Field Visibility","jet-form-builder"),help:null!=r?r:"",value:o.visibility,onChange:function(e){return i({visibility:e})}}):null};function wo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var jo=wp.i18n.__,So=wp.components.TextControl;const Oo=function(e){var t=e.label,r=e.help,n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return wo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Ut(),2),o=n[0],i=n[1];return wp.element.createElement(So,{label:null!=t?t:jo("CSS Class Name","jet-form-builder"),value:o.class_name,help:null!=r?r:"",onChange:function(e){return i({class_name:e})}})};var Eo=wp.components.PanelBody,Ao=wp.i18n.__;function Po(){return Po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Po.apply(this,arguments)}function Co(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Io=wp.i18n.__,_o=wp.components.TextControl,ko=wp.compose,To=ko.__experimentalUseFocusOutside,No=ko.useFocusOutside;No=No||To;const xo=function(e){var t=e.label,r=e.help,n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Co(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Co(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Ut(),2),o=n[0],i=n[1],l=No((function(){gn(o,i)}));return wp.element.createElement(_o,Po({label:null!=t?t:Io("Field Label","jet-form-builder"),value:o.label,help:null!=r?r:"",onChange:function(e){return i({label:e})}},l))};function Ro(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Do=wp.i18n.__,Fo=wp.components,Mo=Fo.TextControl,Lo=Fo.Icon,Bo=Fo.Flex,$o=Fo.Tooltip,Go=wp.data.useSelect,Uo=wp.compose.useInstanceId;const Vo=function e(t){var r=t.label,n=t.help,o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ro(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ro(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Ut(),3),i=o[0],l=o[1],a=o[2],u=Go((function(e){return e("jet-forms/fields").isUniqueName(a)})),c=Uo(e,"AdvancedInspectorControl");return Xt("name")?wp.element.createElement(React.Fragment,null,wp.element.createElement(Bo,{align:"center",justify:"flex-start",style:{marginBottom:"8px"}},wp.element.createElement("label",{htmlFor:c,className:"jet-fb label"},null!=r?r:Do("Form field name","jet-form-builder")),!u&&wp.element.createElement($o,{text:Do("The form field name must be unique. Please change it","jet-form-builder"),delay:200,position:"top center"},wp.element.createElement(Lo,{icon:"warning",style:{color:"orange"}}))),wp.element.createElement(Mo,{id:c,value:i.name,help:null!=n?n:Do("Should contain only Latin letters, numbers, `-` \nor `_` chars, no spaces only lower case","jet-form-builder"),onChange:function(e){return l({name:e})}})):null};function qo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Jo=wp.i18n.__,Ho=wp.components.TextControl;const Xo=function(e){var t=e.label,r=e.help,n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return qo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Ut(),2),o=n[0],i=n[1];return Xt("desc")?wp.element.createElement(Ho,{label:null!=t?t:Jo("Field Description","jet-form-builder"),value:o.desc,help:null!=r?r:"",onChange:function(e){return i({desc:e})}}):null};function zo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Wo=wp.i18n.__,Yo=wp.components.Button,Ko=wp.element.useState;const Zo=function(e){var t=e.value,r=e.onChange,n=e.title,o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return zo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Ko(!1),2),i=o[0],l=o[1];return wp.element.createElement(React.Fragment,null,wp.element.createElement(Yo,{icon:"database",variant:"tertiary",isSmall:!0,className:"jet-fb-is-thick",onClick:function(){return l(!0)}}),i&&wp.element.createElement(m,{classNames:["width-60"],title:null!=n?n:Wo("Edit Preset","jet-form-builder"),onRequestClose:function(){return l(!1)}},wp.element.createElement(Er,{key:"dynamic_key_preset",value:t,onSavePreset:r})))},Qo=(0,wp.element.createContext)(!1);var ei=["children"];function ti(){return ti=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ti.apply(this,arguments)}function ri(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ni=wp.element,oi=ni.useState,ii=ni.useRef,li=wp.components,ai=li.Button,ui=li.Popover;const ci=function(e){var t=e.children,r=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,ei),n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ri(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ri(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(oi(!1),2),o=n[0],i=n[1],l=ii();return wp.element.createElement(Qo.Provider,{value:{showPopover:o,setShowPopover:i}},wp.element.createElement(ai,ti({ref:l,icon:"admin-tools",variant:"tertiary",isSmall:!0,className:"jet-fb-is-thick",onClick:function(){return i(!0)}},r)),o&&wp.element.createElement(ui,{anchorRef:l.current,position:"top-start",noArrow:!1,isAlternate:!0,onClose:function(){return i(!1)}},t))},si=(0,wp.element.createContext)([]),fi=(0,wp.element.createContext)({name:""});function pi(){}pi.prototype={fullName:function(){},fullHelp:function(){}};const mi=pi;function yi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var di=wp.element.useState,bi=wp.components.Button;const vi=function(e){var t=e.current,r=e.children,n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return yi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(di(!1),2),o=n[0],i=n[1];if(!(t instanceof mi))return wp.element.createElement("li",null,wp.element.createElement(fi.Provider,{value:t},r));var l=t.fullHelp.bind(t);return wp.element.createElement("li",null,wp.element.createElement(fi.Provider,{value:t},wp.element.createElement("div",{style:{display:"flex",alignItems:"center",gap:"0.6em"}},wp.element.createElement(bi,{isSmall:!0,variant:"tertiary",icon:o?"arrow-down":"arrow-right",className:"jet-fb-is-thick",onClick:function(){return i((function(e){return!e}))}}),r),o&&wp.element.createElement(l,null)))};var hi=wp.element,gi=hi.Children,wi=hi.cloneElement,ji=wp.components.PanelBody;const Si=function(e){var t=e.title,r=e.items,n=e.children,o=e.initialOpen,i=r.map((function(e){return wp.element.createElement(vi,{current:e})}));return wp.element.createElement(ji,{title:t,initialOpen:o},wp.element.createElement("ul",{style:{padding:"0 0.5em"}},gi.map(i,(function(e){return wi(e,{},n)}))))};var Oi=["children","fields"];function Ei(e){return function(e){if(Array.isArray(e))return Ai(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ai(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ai(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ai(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Pi=wp.element.useContext,Ci=wp.i18n.__;const Ii=function(e){var t,r,n,o,i,l,a=e.children,u=e.fields,c=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Oi),s=Pi(si),f=[].concat(Ei(null!==(t=s.beforeFields)&&void 0!==t?t:[]),Ei(u),Ei(null!==(r=s.afterFields)&&void 0!==r?r:[]));return f.length||null!=s&&null!==(n=s.extra)&&void 0!==n&&n.length||null!=s&&null!==(o=s.filters)&&void 0!==o&&o.length?wp.element.createElement(ci,c,Boolean(f.length)&&wp.element.createElement(Si,{title:Ci("Fields:","jet-form-builder"),items:f,initialOpen:!0},a),Boolean(null==s||null===(i=s.extra)||void 0===i?void 0:i.length)&&wp.element.createElement(Si,{title:Ci("Extra macros:","jet-form-builder"),items:s.extra},a),Boolean(null==s||null===(l=s.filters)||void 0===l?void 0:l.length)&&wp.element.createElement(Si,{title:Ci("Filters:","jet-form-builder"),items:s.filters},a)):null};var _i=wp.element.useContext,ki=wp.components.Button;const Ti=function(e){var t=e.onClick,r=_i(fi),n=r.fullName?r.fullName():"%".concat(r.value,"%");return wp.element.createElement(ki,{isLink:!0,onClick:function(){return t(n)}},n)},Ni="SET_BLOCKS",xi="SET_BLOCKS_FIRST",Ri="TOGGLE_EXECUTE";var Di;function Fi(e){return Fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fi(e)}function Mi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Li(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mi(Object(r),!0).forEach((function(t){Bi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Bi(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Fi(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Fi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Fi(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $i=(Bi(Di={},Ni,(function(e,t){var r=[];for(var n in t.blockMap)t.blockMap.hasOwnProperty(n)&&!e.blockMap.hasOwnProperty(n)&&r.push(n);return Li(Li({},e),{},{blocks:t.blocks,blockMap:t.blockMap,recentlyAdded:r})})),Bi(Di,xi,(function(e,t){return Li(Li({},e),{},{blocks:t.blocks,blockMap:t.blockMap})})),Bi(Di,Ri,(function(e){return Li(Li({},e),{},{executed:!0})})),Di);const Gi=Li({},$i);var Ui={propsToSave:["clientId","name"],blocks:[],blockMap:{},executed:!1,recentlyAdded:[],sanitizers:{name:[function(e){return e.replace(/[^\w\-]/gi,"")}]}};function Vi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var qi=wp.data.select;const Ji=function(){var e=[],t={},r=qi(pl).getPropsToSave();return J((function(n,o){var i,l,a,u;if(null!=n&&null!==(i=n.name)&&void 0!==i&&i.includes("jet-forms/")){var c,s={},f=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Vi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Vi(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){a=!0,i=e},f:function(){try{l||null==r.return||r.return()}finally{if(a)throw i}}}}(r);try{for(f.s();!(c=f.n()).done;){var p=c.value;n.hasOwnProperty(p)&&(s[p]=n[p])}}catch(e){f.e(e)}finally{f.f()}var m=qi("core/blocks").getBlockType(n.name);if(s.fields=null!==(l=null==m||null===(a=m.jfbGetFields)||void 0===a?void 0:a.call(n))&&void 0!==l?l:[],null==o||!o.name)return e.push(s),void(t[s.clientId]=s);var y=null!==(u=t[null==o?void 0:o.clientId])&&void 0!==u&&u;y&&(Object.defineProperty(s,"parentBlock",{get:function(){return y}}),y.innerBlocks=(null==y?void 0:y.innerBlocks)||[],y.innerBlocks.push(s),t[s.clientId]=s)}})),{blocks:e,blockMap:t}};var Hi=wp.data,Xi=Hi.select,zi=Hi.dispatch;const Wi={setBlocks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null===e&&(e=Ji());var t=Xi(pl).isExecuted();return t||zi(pl).toggleExecute(),{type:t?Ni:xi,blocks:e.blocks,blockMap:e.blockMap}},toggleExecute:function(){return{type:Ri}}};function Yi(e){return Yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yi(e)}function Ki(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zi(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Yi(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Yi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Yi(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qi(e){return function(e){if(Array.isArray(e))return rl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||tl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function el(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=tl(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){a=!0,i=e},f:function(){try{l||null==r.return||r.return()}finally{if(a)throw i}}}}function tl(e,t){if(e){if("string"==typeof e)return rl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?rl(e,t):void 0}}function rl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var nl={getBlocks:function(e){return e.blocks},getBlockMap:function(e){return e.blockMap},getPropsToSave:function(e){return e.propsToSave},getFields:function(e,t){var r=t.withInner,n=void 0===r||r,o=t.currentId,i=void 0!==o&&o,l=[];return function e(t){var r,o=el(t);try{for(o.s();!(r=o.n()).done;){var a,u,c=r.value;null!==(a=c.fields)&&void 0!==a&&a.length&&c.clientId!==i&&l.push.apply(l,Qi(c.fields)),n&&null!==(u=c.innerBlocks)&&void 0!==u&&u.length&&e(c.innerBlocks)}}catch(e){o.e(e)}finally{o.f()}}(e.blocks),l},isExecuted:function(e){return e.executed},isRecentlyAdded:function(e,t){return-1!==e.recentlyAdded.indexOf(t)},getUniqueNames:function(e,t){var r,n=null!==(r=e.blockMap[t])&&void 0!==r&&r;if(!n)return{hasChanged:!1};var o,i=!1,l=n.fields.map((function(e){return e.value})),a=function e(t){var r,n=el(t);try{for(n.s();!(r=n.n()).done;){var o=r.value,a=l.indexOf(o.value);-1!==a&&("field_name"!==o.value?(l[a]="".concat(l[a],"_copy"),i=!0,e(t)):i=!0)}}catch(e){n.e(e)}finally{n.f()}},u=el(n.hasOwnProperty("parentBlock")?n.parentBlock.innerBlocks:e.blocks);try{for(u.s();!(o=u.n()).done;){var c=o.value;t!==c.clientId&&a(c.fields)}}catch(e){u.e(e)}finally{u.f()}return{hasChanged:i,names:l.join("|")}},getSanitizedAttributes:function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=null!==(r=n["data-type"])&&void 0!==r?r:"";for(var i in t){var l,a,u,c,s;if(t.hasOwnProperty(i)){var f=null!==(l=null!==(a=null===(u=e.sanitizers)||void 0===u||null===(c=u[o])||void 0===c?void 0:c[i])&&void 0!==a?a:null===(s=e.sanitizers)||void 0===s?void 0:s[i])&&void 0!==l&&l;if(null!=f&&f.length){var p,m=el(f);try{for(m.s();!(p=m.n()).done;){var y=p.value;"function"==typeof y&&(t[i]=y(t[i]))}}catch(e){m.e(e)}finally{m.f()}}}}return t},isUniqueName:function(e,t){return!nl.getUniqueNames(e,t).hasChanged}};const ol=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ki(Object(r),!0).forEach((function(t){Zi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ki(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},nl);var il,ll,al=wp.data,ul=al.createReduxStore,cl=al.dispatch,sl=al.select,fl=al.subscribe,pl="jet-forms/fields";fl((function(){var e=lodash.debounce,t=cl(pl).setBlocks;e((function(){var e=sl("core/block-editor").getGlobalBlockCount();if(il!==e)return il=e,void t();var r=Ji(),n=JSON.stringify(r.blocks);n!==ll&&(ll=n,t(r))}),100)()}));const ml=ul(pl,{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ui,t=arguments.length>1?arguments[1]:void 0,r=Gi[null==t?void 0:t.type];return r?r(e,t):e},actions:Wi,selectors:ol});var yl=wp.data.useSelect,dl=wp.blockEditor.useBlockProps;const bl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=dl();return e.excludeCurrent&&(e.currentId=r["data-block"]),yl((function(t){return t(pl).getFields(e)}),t)};var vl=["onClick","withCurrent"];function hl(){return hl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hl.apply(this,arguments)}const gl=function(e){var t=e.onClick,r=void 0===t?function(){}:t,n=e.withCurrent,o=void 0!==n&&n,i=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,vl),l=bl({excludeCurrent:!o});return wp.element.createElement(Ii,hl({withCurrent:o,fields:l},i),wp.element.createElement(Ti,{onClick:r}))};var wl=wp.data.useSelect;var jl=["onClick"];function Sl(){return Sl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sl.apply(this,arguments)}const Ol=function(e){var t=e.onClick,r=void 0===t?function(){}:t,n=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,jl),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return wl((function(t){return t(pl).getFields(e)}),t)}();return wp.element.createElement(Ii,Sl({fields:o},n),wp.element.createElement(Ti,{onClick:r}))};var El=wp.components,Al=El.Flex,Pl=El.FlexItem,Cl=wp.compose.useInstanceId;const Il=function(e){var t=e.children,r=e.value,n=e.label,o=e.inBlock,i=void 0!==o&&o,l=e.onChangePreset,a=void 0!==l&&l,u=e.onChangeMacros,c=void 0!==u&&u,s=Cl(Pl,"jfb-AdvancedModalControl"),f=i?gl:Ol;return wp.element.createElement(React.Fragment,null,wp.element.createElement(Al,{align:"center",justify:"flex-start",style:{marginBottom:"8px"}},wp.element.createElement("label",{htmlFor:s,className:"jet-fb label"},n),!1!==a&&wp.element.createElement(Zo,{value:r,onChange:a}),!1!==c&&wp.element.createElement(f,{onClick:c})),"function"==typeof t?t({instanceId:s}):t)};function _l(){mi.call(this)}_l.prototype=Object.create(mi.prototype),_l.prototype.isServerSide=!1,_l.prototype.isClientSide=!1,_l.prototype.name="",_l.prototype.namespace="CT",_l.prototype.help=null,_l.prototype.fullHelp=function(){return this.help},_l.prototype.fullName=function(){return"%".concat(this.namespace,"::").concat(this.name,"%")};const kl=_l;var Tl=wp.data.useSelect,Nl=wp.i18n.__,xl=new kl;xl.fullName=function(){return"%this%"},xl.fullHelp=function(){return Nl("Returns current field value","jet-form-builder")};const Rl=function(e){var t=e.children,r=e.withThis,n=void 0!==r&&r,o=Tl((function(e){return e("jet-forms/macros").getClientMacros()}),[]),i=n?{extra:o,afterFields:[xl]}:{extra:o};return wp.element.createElement(si.Provider,{value:i},t)};function Dl(e,t,r){var n,o=r.selectionStart,i=r.selectionEnd,l=(e=null!==(n=e)&&void 0!==n?n:"").slice(0,o),a=e.slice(i);return l+=t,setTimeout((function(){r.focus(),r.selectionStart=l.length,r.selectionEnd=l.length})),l+a}function Fl(e){return Fl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(e)}function Ml(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ll=wp.element.useRef;const Bl=function(e){var t,r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ml(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ml(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Ut(),2),n=r[0],o=r[1],i=null!==(t=n[e])&&void 0!==t?t:"",l=Ll();return[l,function(t){o(function(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Fl(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Fl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Fl(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},e,Dl(i,t,l.current)))}]};function $l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Gl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Gl(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ul=wp.i18n.__,Vl=wp.components.TextControl;const ql=function(e){var t=e.label,r=e.help,n=e.hasMacro,o=void 0===n||n,i=$l(Ut(),2),l=i[0],a=i[1],u=$l(Bl("default"),2),c=u[0],s=u[1];return Xt("default")?wp.element.createElement(Rl,null,wp.element.createElement(Il,{inBlock:!0,value:l.default,label:null!=t?t:Ul("Default Value","jet-form-builder"),onChangePreset:function(e){return a({default:e})},onChangeMacros:!!o&&s},(function(e){var t=e.instanceId;return wp.element.createElement(Vl,{ref:c,id:t,value:l.default,help:null!=r?r:"",onChange:function(e){return a({default:e})}})}))):null};var Jl=wp.components.PanelBody,Hl=wp.i18n.__;function Xl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var zl=wp.blockEditor.BlockControls,Wl=wp.compose.useCopyToClipboard,Yl=wp.components,Kl=Yl.TextControl,Zl=Yl.ToolbarGroup,Ql=Yl.ToolbarItem,ea=Yl.Button;const ta=function(e){var t=e.children,r=void 0===t?null:t,n=Dt(),o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Xl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Xl(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Ut(),2),i=o[0],l=o[1],a=Fe('Copied "'.concat(i.name,'" to clipboard.')),u=Wl(i.name,(function(){return a(!0)}));return wp.element.createElement(zl,{key:n("ToolBarFields-BlockControls")},wp.element.createElement(Zl,{key:n("ToolBarFields-ToolbarGroup"),className:"jet-fb-block-toolbar"},wp.element.createElement(Ql,{as:"div",style:{display:"flex"}},wp.element.createElement(ea,{isSmall:!0,icon:"admin-page",showTooltip:!0,shortcut:"Copy name",ref:u}),wp.element.createElement(Kl,{value:i.name,onChange:function(e){return l({name:e})}})),r))};function ra(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var na=wp.i18n.__,oa=wp.components.ToggleControl;const ia=function(e){var t=e.label,r=e.help,n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ra(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ra(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Ut(),2),o=n[0],i=n[1];return wp.element.createElement(oa,{label:null!=t?t:na("Is required","jet-form-builder"),checked:o.required,help:null!=r?r:"",onChange:function(e){return i({required:e})}})};function la(e){return la="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},la(e)}function aa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ua(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==la(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==la(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===la(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ca(e){return ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ca(e)}function sa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sa(Object(r),!0).forEach((function(t){pa(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pa(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ca(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ca(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ca(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ma(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ya(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ya(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ya(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var da=wp.components,ba=da.TextControl,va=da.BaseControl,ha=wp.element,ga=(ha.useState,ha.useEffect),wa=wp.i18n.__;function ja(e){return ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ja(e)}function Sa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Oa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sa(Object(r),!0).forEach((function(t){Ea(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ea(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ja(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ja(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ja(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aa(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Pa(e){return function(e){if(Array.isArray(e))return Ca(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ca(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ca(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ca(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ia=wp.i18n.__,_a=wp.components.PanelBody,ka=wp.hooks.applyFilters,Ta=wp.blockEditor.useBlockProps;var Na=wp.hooks.applyFilters;const xa=function(){return Na("jet.fb.register.fields.controls",{})};function Ra(e){return Ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ra(e)}var Da=["children","style"];function Fa(){return Fa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fa.apply(this,arguments)}function Ma(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function La(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ma(Object(r),!0).forEach((function(t){Ba(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ma(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ba(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ra(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ra(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ra(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const $a=function(e){var t=e.children,r=e.style,n=void 0===r?{}:r,o=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Da);return wp.element.createElement("p",Fa({className:"jet-fb-base-control__help",style:La({fontSize:"12px",fontStyle:"normal",color:"rgb(117, 117, 117)",marginTop:"0px"},n)},o),t)},Ga=function(e){return{setLoading:function(t){e("jet-forms/actions").setLoading({actionId:t})},setResultSuccess:function(t,r){e("jet-forms/actions").setLoadingResult({actionId:t,success:!0,response:r})},setResultFail:function(t){e("jet-forms/actions").setLoadingResult({actionId:t,success:!1,response:{}})}}};var Ua=wp.compose.compose,Va=wp.data,qa=Va.withSelect,Ja=Va.withDispatch;const Ha=Ua(qa(dt),Ja(Ga))((function(e){var t=e.initialLabel,r=void 0===t?"Valid":t,n=e.label,o=void 0===n?"InValid":n,i=e.ajaxArgs,l=void 0===i?{}:i,a=e.loadingState,u=e.setLoading,c=e.id,s=e.setResultSuccess,f=e.setResultFail;return wp.element.createElement(w,{disabled:a.loading,ajaxArgs:l,label:-1===a.id&&r?r:o,onLoading:function(){u(c)},onSuccessRequest:function(e){s(c,e)},onFailRequest:function(){return f(c)},className:a.buttonClassName},wp.element.createElement("i",{className:"dashicons"}))}));function Xa(){return Xa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xa.apply(this,arguments)}var za=wp.data.useSelect;var Wa=wp.compose.compose,Ya=wp.data.withDispatch,Ka=wp.apiFetch;const Za=Wa(Ya(Ga))((function(e){var t=e.initialLabel,r=void 0===t?"Valid":t,n=e.label,o=void 0===n?"InValid":n,i=e.apiArgs,l=void 0===i?{}:i,a=e.loadingState,u=e.setLoading,c=e.id,s=e.setResultSuccess,f=e.setResultFail,p=e.onLoading,m=void 0===p?function(){}:p,y=e.onSuccess,d=void 0===y?function(){}:y,b=e.onFail,v=void 0===b?function(){}:b,h=e.isHidden,g=void 0!==h&&h;return wp.element.createElement(w,{disabled:a.loading,hasFetched:a.id,label:(-1===a.id||a.loading)&&r?r:o,className:a.buttonClassName,isHidden:g,customRequest:function(){u(c),m(),Ka(l).then((function(e){s(c,e),d(e)})).catch((function(e){f(c),v(e)}))}},wp.element.createElement("i",{className:"dashicons"}))})),Qa=(0,wp.compose.compose)((0,wp.data.withSelect)(lt))((function(e){var t=e.initialLabel,r=void 0===t?"Valid":t,n=e.label,o=void 0===n?"InValid":n,i=e.apiArgs,l=void 0===i?{}:i,a=e.gatewayRequestId,u=e.loadingGateway,c=e.onLoading,s=void 0===c?function(){}:c,f=e.onSuccess,p=void 0===f?function(){}:f,m=e.onFail,y=void 0===m?function(){}:m,d=e.isHidden,b=void 0!==d&&d;return wp.element.createElement(Za,{id:a,loadingState:u,initialLabel:r,label:o,apiArgs:l,onFail:y,onLoading:s,onSuccess:p,isHidden:b})})),eu="SET_CURRENT_ACTION",tu="SET_LOADING",ru="UPDATE_ACTION_SETTINGS",nu="UPDATE_ACTION_CONDITIONS",ou="ADD_CALLBACK",iu="ADD_DETAIL",lu="SET_CURRENT_META",au="CLEAR_CURRENT",uu="ADD_COMPUTED_FIELD";function cu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const su={id:-1,state:"",success:!1,response:{},loading:!1,buttonClassName:(fu=S,function(e){if(Array.isArray(e))return cu(e)}(fu)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(fu)||function(e,t){if(e){if("string"==typeof e)return cu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?cu(e,t):void 0}}(fu)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())};var fu;function pu(e){return pu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(e)}function mu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mu(Object(r),!0).forEach((function(t){du(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function du(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==pu(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==pu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===pu(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var bu={getLoadingIndex:function(e,t){return e.loadingState.findIndex((function(e){return e.id===t}))},getLoading:function(e,t){var r=bu.getLoadingIndex(e,t);return-1!==r?e.loadingState[r]:yu({},su)},getCallback:function(e,t){return e.callbacks[t]},getDetail:function(e,t){return e.details[t]},getComputedFields:function(e){return e.computedFields}};const vu=yu(yu({},bu),{},{isSettingsModal:function(e){var t;return"settings"===(null===(t=e.meta)||void 0===t?void 0:t.modalType)},isConditionalModal:function(e){var t;return"conditions"===(null===(t=e.meta)||void 0===t?void 0:t.modalType)},getMetaIndex:function(e){var t;return null===(t=e.meta)||void 0===t?void 0:t.index},getCurrentAction:function(e){return e.currentAction},getCurrentCallback:function(e){var t,r,n=null!==(t=null===(r=e.currentAction)||void 0===r?void 0:r.type)&&void 0!==t&&t;return bu.getCallback(e,n)},getCurrentDetail:function(e){var t,r,n=null!==(t=null===(r=e.currentAction)||void 0===r?void 0:r.type)&&void 0!==t&&t;return bu.getDetail(e,n)},getCurrentSettings:function(e){var t,r,n,o,i;return null!==(i=(null!==(t=null===(r=e.currentAction)||void 0===r?void 0:r.settings)&&void 0!==t?t:{})[null!==(n=null===(o=e.currentAction)||void 0===o?void 0:o.type)&&void 0!==n&&n])&&void 0!==i?i:{}},getCurrentLoading:function(e){var t,r=null===(t=e.currentAction)||void 0===t?void 0:t.id;return bu.getLoading(e,r)},dangerGetAllLoading:function(e){return e.loadingState}});function hu(e){return hu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hu(e)}function gu(e){return function(e){if(Array.isArray(e))return wu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return wu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wu(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ju(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Su(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ju(Object(r),!0).forEach((function(t){Ou(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ju(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ou(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==hu(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==hu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===hu(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Eu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Su({},su);return e.state&&(t.buttonClassName=[].concat(gu(S),[e.state])),Su(Su({},t),e)};function Au(e){return Au="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Au(e)}function Pu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Cu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pu(Object(r),!0).forEach((function(t){Iu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Iu(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Au(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Au(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Au(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _u=wp.components.withFilters;var ku;function Tu(e){return Tu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tu(e)}function Nu(e){return function(e){if(Array.isArray(e))return xu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return xu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xu(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ru(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Du(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ru(Object(r),!0).forEach((function(t){Fu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ru(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Fu(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Tu(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Tu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Tu(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Mu=(Fu(ku={},eu,(function(e,t){var r={};return"function"==typeof t.item?r.currentAction=t.item(e.currentAction):r.currentAction=t.item,Du(Du({},e),r)})),Fu(ku,lu,(function(e,t){return Du(Du({},e),{},{meta:Du({},t.item)})})),Fu(ku,au,(function(e){return Du(Du({},e),{},{currentAction:{},meta:{}})})),Fu(ku,tu,(function(e,t){var r=vu.getLoadingIndex(e,t.state.id),n=Nu(e.loadingState);return-1!==r?n[r]=Eu(t.state):n.push(Eu(t.state)),Du(Du({},e),{},{loadingState:n})})),Fu(ku,ru,(function(e,t){var r=e.currentAction,n=r.settings,o=r.type,i=Du(Du({},vu.getCurrentSettings(e)),t.item);return Du(Du({},e),{},{currentAction:Du(Du({},e.currentAction),{},{settings:Du(Du({},n),{},Fu({},o,i))})})})),Fu(ku,nu,(function(e,t){var r=e.currentAction.conditions,n=void 0===r?[]:r,o="function"==typeof t.item?t.item(n):t.item;return Du(Du({},e),{},{currentAction:Du(Du({},e.currentAction),{},{conditions:o})})})),Fu(ku,ou,(function(e,t){return Du(Du({},e),{},{callbacks:Du(Du({},e.callbacks),{},Fu({},t.actionType,(r=t.actionType,n=t.callback,o=window.JetFBLocalizeHelper.getLocalizedFullPack(r),function(e){var t={onChangeSetting:function(t,r){e.onChange(Cu(Cu({},e.settings),{},Iu({},r,t)))},getMapField:function(t){var r=t.source,n=void 0===r?"fields_map":r,o=t.name,i=e.settings;return void 0!==i[n]&&void 0!==i[n][o]?i[n][o]:""},setMapField:function(t){var r=t.source,n=void 0===r?"fields_map":r,o=t.nameField,i=t.value,l=Cu(Cu({},e.settings[n]),{},Iu({},o,i));e.onChange(Cu(Cu({},e.settings),{},Iu({},n,l)))},onChangeSettingObj:function(t){e.onChange(Cu(Cu({},e.settings),t))}},i=Cu(Cu(Cu({},e),o),t),l=_u("jet.fb.render.action.".concat(r))((function(){return null}));return wp.element.createElement(at.Provider,{value:i},wp.element.createElement(n,i),wp.element.createElement(l,i))})))});var r,n,o})),Fu(ku,iu,(function(e,t){return Du(Du({},e),{},{details:Du(Du({},e.details),{},Fu({},t.actionType,t.item))})})),Fu(ku,uu,(function(e,t){return Du(Du({},e),{},{computedFields:[].concat(Nu(e.computedFields),[t.field])})})),ku),Lu={currentAction:{},callbacks:{},details:{},meta:{},loadingState:[Eu()],computedFields:[]},Bu={setCurrentAction:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:eu,item:e}},setMeta:function(e){return{type:lu,item:e}},clearCurrent:function(){return{type:au}},setLoading:function(e){return{type:tu,state:{id:e.actionId,state:"loading",loading:!0}}},setLoadingResult:function(e){return{type:"SET_LOADING",state:{id:e.actionId,state:e.success?"is-valid":"is-invalid",success:e.success,response:e.response,loading:!1}}},updateCurrentSettings:function(e){return{type:ru,item:e}},updateCurrentConditions:function(e){return{type:nu,item:e}},addCallback:function(e,t){return{type:ou,actionType:e,callback:t}},addDetail:function(e,t){return{type:iu,actionType:e,item:t}},addComputedField:function(e){return{type:uu,field:e}}},$u=(0,wp.data.createReduxStore)("jet-forms/actions",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lu,t=arguments.length>1?arguments[1]:void 0,r=Mu[null==t?void 0:t.type];return r?r(e,t):e},actions:Bu,selectors:vu}),Gu="CLEAR_GATEWAY",Uu="CLEAR_SCENARIO",Vu="SET_CURRENT_GATEWAY_SCENARIO",qu="SET_CURRENT_GATEWAY",Ju="SET_CURRENT_GATEWAY_SPECIFIC",Hu="SET_CURRENT_GATEWAY_INNER",Xu="SET_CURRENT_REQUEST",zu="SET_CURRENT_SCENARIO",Wu="REGISTER_EVENT_TYPE",Yu="HARD_SET_CURRENT_GATEWAY",Ku="HARD_SET_CURRENT_GATEWAY_SPECIFIC";function Zu(e){return Zu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zu(e)}function Qu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ec(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qu(Object(r),!0).forEach((function(t){tc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function tc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Zu(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Zu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Zu(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var rc={getCurrentRequestId:function(e){return e.currentRequest.id},getCurrentRequest:function(e){return e.currentRequest},getScenario:function(e){return e.currentScenario},getScenarioId:function(e){var t;return null===(t=e.currentScenario)||void 0===t?void 0:t.id},getGatewayId:function(e){var t;return null===(t=e.currentGateway)||void 0===t?void 0:t.gateway},getGateway:function(e){return e.currentGateway},getEventTypes:function(e){return e.eventTypes}};const nc=ec(ec({},rc),{},{getGatewaySpecific:function(e){return e.currentGateway[rc.getGatewayId(e)]||{}}});var oc;function ic(e){return ic="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ic(e)}function lc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ac(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lc(Object(r),!0).forEach((function(t){uc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function uc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ic(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ic(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ic(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const cc=(uc(oc={},Gu,(function(e,t){return ac(ac({},e),{},{currentGateway:{}})})),uc(oc,Uu,(function(e,t){return ac(ac({},e),{},{currentScenario:{}})})),uc(oc,Vu,(function(e,t){return ac(ac({},e),{},{currentScenario:ac(ac({},e.currentScenario),t.item||{})})})),uc(oc,qu,(function(e,t){return ac(ac({},e),{},{currentGateway:ac(ac({},e.currentGateway),t.item)})})),uc(oc,Ju,(function(e,t){return ac(ac({},e),{},{currentGateway:ac(ac({},e.currentGateway),{},uc({},e.currentGateway.gateway,ac(ac({},nc.getGatewaySpecific(e)),t.item)))})})),uc(oc,Hu,(function(e,t){var r=t.item,n=r.key,o=r.value;return ac(ac({},e),{},{currentGateway:ac(ac({},e.currentGateway),{},uc({},n,ac(ac({},e.currentGateway[n]||{}),o)))})})),uc(oc,Xu,(function(e,t){var r,n=[nc.getGatewayId(e),null===(r=t.item)||void 0===r?void 0:r.id].filter((function(e){return e}));return t.item.id=n.join("/"),ac(ac({},e),{},{currentRequest:t.item})})),uc(oc,zu,(function(e,t){var r,n;return ac(ac({},e),{},{currentScenario:ac(ac({},e.currentScenario),{},uc({},null===(r=e.currentScenario)||void 0===r?void 0:r.id,ac(ac({},e.currentScenario[null===(n=e.currentScenario)||void 0===n?void 0:n.id]||{}),t.item||{})))})})),uc(oc,Yu,(function(e,t){return t.item&&(e.currentGateway[t.item]=t.value),ac({},e)})),uc(oc,Ku,(function(e,t){var r,n,o;return t.item&&null!==(r=e.currentGateway)&&void 0!==r&&r.gateway&&(e.currentGateway[null===(n=e.currentGateway)||void 0===n?void 0:n.gateway]={},e.currentGateway[null===(o=e.currentGateway)||void 0===o?void 0:o.gateway][t.item]=t.value),ac({},e)})),uc(oc,Wu,(function(e,t){var r,n,o,i,l,a,u=ac(ac({},t.item),{},{gateway:null!==(r=null===(n=t.item)||void 0===n?void 0:n.gateway)&&void 0!==r?r:null===(o=e.currentGateway)||void 0===o?void 0:o.gateway,scenario:null!==(i=null===(l=t.item)||void 0===l?void 0:l.scenario)&&void 0!==i?i:null===(a=e.currentScenario)||void 0===a?void 0:a.id});return e.eventTypes.push(u),e})),oc);var sc={currentRequest:{id:-1},currentGateway:{},currentScenario:{},eventTypes:[]};const fc={clearGateway:function(){return{type:Gu}},clearScenario:function(){return{type:Uu}},setRequest:function(e){return{type:Xu,item:e}},setGateway:function(e){return{type:qu,item:e}},setGatewayInner:function(e){return{type:Hu,item:e}},setGatewaySpecific:function(e){return{type:Ju,item:e}},setScenario:function(e){return{type:Vu,item:e}},setCurrentScenario:function(e){return{type:zu,item:e}},registerEventType:function(e){return{type:Wu,item:e}},hardSetGateway:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{type:Yu,item:e,value:t}},hardSetGatewaySpecific:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{type:Ku,item:e,value:t}}},pc=(0,wp.data.createReduxStore)("jet-forms/gateways",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sc,t=arguments.length>1?arguments[1]:void 0,r=cc[null==t?void 0:t.type];return r?r(e,t):e},actions:fc,selectors:nc}),mc="REGISTER",yc="UNREGISTER",dc="LOCK_ACTIONS",bc="CLEAR_DYNAMIC_EVENTS";function vc(e){return vc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vc(e)}function hc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==vc(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==vc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===vc(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var jc={getTypeIndex:function(e,t){return e.types.findIndex((function(e){return e.value===t}))},getTypes:function(e){return e.types},getGatewayTypes:function(e){return e.types.filter((function(e){return"gateway"in e}))},getAlwaysTypes:function(e){return e.types.filter((function(e){return"always"in e}))},getDynamicTypes:function(e){return e.types.filter((function(e){return e.isDynamic}))},getType:function(e,t){var r=jc.getTypeIndex(e,t);return e.types[r]},getUnsupported:function(e,t){var r,n=null!==(r=e.lockedActions[t])&&void 0!==r&&r;return!1===n?[]:n.unsupported},getSupported:function(e,t){var r,n=null!==(r=e.lockedActions[t])&&void 0!==r&&r;return!1===n?[]:n.supported},isValid:function(e,t,r){var n=jc.getUnsupported(e,t);if(n.length&&n.includes(r))return!1;var o=jc.getSupported(e,t);return!o.length||o.includes(r)},filterList:function(e,t,r){return r.filter((function(r){return jc.isValid(e,t,r)}))},getHelpMap:function(e){var t,r={},n=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return wc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wc(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){a=!0,i=e},f:function(){try{l||null==r.return||r.return()}finally{if(a)throw i}}}}(e.types);try{for(n.s();!(t=n.n()).done;){var o=t.value,i=o.value,l=o.help;r[i]=l}}catch(e){n.e(e)}finally{n.f()}return r}};const Sc=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hc(Object(r),!0).forEach((function(t){gc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},jc);function Oc(e){return Oc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oc(e)}var Ec;function Ac(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ac(Object(r),!0).forEach((function(t){Cc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ac(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Cc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Oc(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Oc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Oc(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ic(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return _c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_c(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){a=!0,i=e},f:function(){try{l||null==r.return||r.return()}finally{if(a)throw i}}}}function _c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const kc=(Cc(Ec={},mc,(function(e,t){var r,n=Ic(t.items);try{for(n.s();!(r=n.n()).done;){var o=r.value;o.title=o.label;var i=Sc.getTypeIndex(e,o.value);-1===i?e.types.push(Pc({},o)):e.types[i]=Pc({},o)}}catch(e){n.e(e)}finally{n.f()}return e})),Cc(Ec,dc,(function(e,t){var r,n=Ic(window.jetFormActionTypes);try{var o=function(){var t,n=r.value,o=n.id,i=n.self,l=null!==(t=window[i])&&void 0!==t&&t;if(!1===l)return"continue";var a=l.__unsupported_events,u=l.__supported_events,c={unsupported:e.types.filter((function(e){var t=e.self;return a.includes(t)})).map((function(e){return e.value})),supported:e.types.filter((function(e){var t=e.self;return u.includes(t)})).map((function(e){return e.value}))};if(!c.supported.length&&!c.unsupported.length)return"continue";e.lockedActions[o]=c};for(n.s();!(r=n.n()).done;)o()}catch(e){n.e(e)}finally{n.f()}return e})),Cc(Ec,yc,(function(e,t){var r=t.types;return e.types=e.types.filter((function(e){var t=e.value;return!r.includes(t)})),e})),Cc(Ec,bc,(function(e){return e.types=e.types.filter((function(e){var t=e.isDynamic;return!(void 0!==t&&t)})),e})),Ec);var Tc={types:[],labels:{},lockedActions:{}};const Nc={register:function(e){return{type:mc,items:e}},lockActions:function(){return{type:dc}},unRegister:function(e){return{type:yc,types:e}},clearDynamicEvents:function(){return{type:bc}}},xc=(0,wp.data.createReduxStore)("jet-forms/events",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tc,t=arguments.length>1?arguments[1]:void 0,r=kc[null==t?void 0:t.type];return r?r(e,t):e},actions:Nc,selectors:Sc}),Rc="REGISTER",Dc="ADD_RENDER_STATE",Fc="ADD_RENDER_STATES",Mc="DELETE_RENDER_STATES";function Lc(e){return Lc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(e)}var Bc;function $c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Gc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Lc(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Lc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Lc(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uc(e){return function(e){if(Array.isArray(e))return qc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Vc(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vc(e,t){if(e){if("string"==typeof e)return qc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qc(e,t):void 0}}function qc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Jc=wp.hooks.doAction,Hc=(Gc(Bc={},Rc,(function(e,t){var r=t.items,n=r.operators,o=r.functions,i=r.render_states;return e.operators=Uc(n),e.functions=Uc(o),e.renderStates=Uc(i),Jc("jet.fb.change.blockConditions.renderState",e.renderStates),e})),Gc(Bc,Dc,(function(e,t){return e.renderStates.push(t.item),Jc("jet.fb.change.blockConditions.renderState",e.renderStates),e})),Gc(Bc,Fc,(function(e,t){var r,n=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Vc(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){a=!0,i=e},f:function(){try{l||null==r.return||r.return()}finally{if(a)throw i}}}}(t.items);try{for(n.s();!(r=n.n()).done;){var o=r.value;e.renderStates.push(o)}}catch(e){n.e(e)}finally{n.f()}return Jc("jet.fb.change.blockConditions.renderState",e.renderStates),e})),Gc(Bc,Mc,(function(e,t){var r=Array.isArray(t.items)?Uc(t.items):[t.items];return e.renderStates=e.renderStates.filter((function(e){var t=e.value;return!r.includes(t)})),Jc("jet.fb.change.blockConditions.renderState",e.renderStates),e})),Bc);const Xc=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$c(Object(r),!0).forEach((function(t){Gc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Hc),zc=function(e){var t,r;try{r=JSON.parse(e)}catch(e){return!1}return!(null===(t=r)||void 0===t||!t.jet_preset)};var Wc=wp.i18n.__;const Yc=function(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"code";if(e=null!==(t=e)&&void 0!==t?t:"",!zc(e))return e;var o,i=JSON.parse(e),l=Wc("Preset from","jet-form-builder"),a=null!==(r=null==i?void 0:i.from)&&void 0!==r?r:"(empty)";switch(n){case"code":o="<code>".concat(a,"</code>");break;case"b":o="<b>".concat(a,"</b>")}return[l,o].join(" ")};var Kc=wp.data.select,Zc=wp.i18n.__,Qc=function(e){var t=Kc("jet-forms/block-conditions").getOperator(null==e?void 0:e.operator);if(!t)return"";var r=(null==e?void 0:e.field)||"(no field)";return["<code>".concat(r,"</code>"),t.label].join(" ")},es={functions:[],operators:[],conditionReaders:{default:function(e){var t=Kc("jet-forms/block-conditions").getOperator(null==e?void 0:e.operator);if(!t)return"";var r=(null==e?void 0:e.field)||"(no field)",n=Yc(e.value,"b")||"(no value)";return["<code>".concat(r,"</code>"),t.label,"<code>".concat(n,"</code>")].join(" ")},empty:Qc,not_empty:Qc,render_state:function(e){var t,r=(null!==(t=null==e?void 0:e.render_state)&&void 0!==t?t:[]).map((function(e){return"<code>".concat(e,"</code>")}));return[1===r.length?Zc("Is render state","jet-form-builder"):Zc("One of the render states","jet-form-builder"),r.join(", ")].join(": ")}},renderStates:[]};const ts={register:function(e){return{type:Rc,items:e}},addRenderState:function(e){return{type:Dc,item:e}},addRenderStates:function(e){return{type:Fc,items:e}},deleteRenderStates:function(e){return{type:Mc,items:e}}};function rs(e){return rs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rs(e)}function ns(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function os(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==rs(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==rs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===rs(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var is={getFunctions:function(e){return e.functions},getOperators:function(e){return e.operators},getRenderStates:function(e){return e.renderStates},getSwitchableRenderStates:function(e){return e.renderStates.filter((function(e){var t=e.is_custom,r=void 0!==t&&t,n=e.can_be_switched;return r||void 0!==n&&n}))},getCustomRenderStates:function(e){return e.renderStates.filter((function(e){var t=e.is_custom;return void 0!==t&&t}))},getOperator:function(e,t){var r=e.operators.findIndex((function(e){return e.value===t}));return-1!==r&&e.operators[r]},readCondition:function(e,t){var r,n=t.operator,o=void 0===n?"":n;if(!o)return"";var i=null!==(r=e.conditionReaders[o])&&void 0!==r&&r;return"function"==typeof i?i(t):e.conditionReaders.default(t)},getFunction:function(e,t){return e.functions.find((function(e){return e.value===t}))},getFunctionDisplay:function(e,t){var r;return null===(r=is.getFunction(e,t))||void 0===r?void 0:r.display}};const ls=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ns(Object(r),!0).forEach((function(t){os(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ns(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},is),as=(0,wp.data.createReduxStore)("jet-forms/block-conditions",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:es,t=arguments.length>1?arguments[1]:void 0,r=Xc[null==t?void 0:t.type];return r?r(e,t):e},actions:ts,selectors:ls}),us="REGISTER";function cs(e){return cs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cs(e)}function ss(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fs(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==cs(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==cs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===cs(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ps=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ss(Object(r),!0).forEach((function(t){fs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ss(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},fs({},us,(function(e,t){var r=t.slug,n=t.settings;return e.buttons[r]=n,e})));var ms={buttons:{}};const ys={register:function(e,t){return{type:us,slug:e,settings:t}}};function ds(e){return ds="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ds(e)}function bs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vs(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ds(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ds(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ds(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const hs=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bs(Object(r),!0).forEach((function(t){vs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},{getButtonEdit:function(e,t){var r;return null!==(r=e.buttons[t])&&void 0!==r?r:null}}),gs=(0,wp.data.createReduxStore)("jet-forms/action-buttons",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ms,t=arguments.length>1?arguments[1]:void 0,r=ps[null==t?void 0:t.type];return r?r(e,t):e},actions:ys,selectors:hs}),ws="REGISTER_MACRO";function js(e){return js="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},js(e)}function Ss(e){return function(e){if(Array.isArray(e))return Es(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Os(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Os(e,t){if(e){if("string"==typeof e)return Es(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Es(e,t):void 0}}function Es(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const As=(Ps={},Is=function(e,t){var r,n,o,i=t.items,l=t.isClient,a=Array.isArray(i)?i:[i],u=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Os(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){a=!0,i=e},f:function(){try{l||null==r.return||r.return()}finally{if(a)throw i}}}}(a);try{for(u.s();!(r=u.n()).done;){var c=r.value;if(!(c instanceof kl))throw console.error(c),new Error("^^^ Invalid macro item ^^^")}}catch(e){u.e(e)}finally{u.f()}return l?(n=e.clientMacros).push.apply(n,Ss(a)):(o=e.serverMacros).push.apply(o,Ss(a)),e},(Cs=function(e){var t=function(e,t){if("object"!==js(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==js(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===js(t)?t:String(t)}(Cs=ws))in Ps?Object.defineProperty(Ps,Cs,{value:Is,enumerable:!0,configurable:!0,writable:!0}):Ps[Cs]=Is,Ps);var Ps,Cs,Is,_s=wp.i18n.__;function ks(){kl.call(this),this.name="CurrentDate",this.isClientSide=!0,this.fullHelp=function(){return wp.element.createElement(React.Fragment,null,_s("Returns the current timestamp. Replacing","jet-form-builder")," ",wp.element.createElement("code",null,"Date.now()"))}}ks.prototype=Object.create(kl.prototype);const Ts=ks;var Ns=wp.i18n.__;function xs(){kl.call(this),this.name="Min_In_Sec",this.isClientSide=!0,this.help=Ns("Number of milliseconds in one minute","jet-form-builder")}xs.prototype=Object.create(kl.prototype);const Rs=xs;var Ds=wp.i18n.__;function Fs(){kl.call(this),this.name="Month_In_Sec",this.isClientSide=!0,this.help=Ds("Number of milliseconds in one month","jet-form-builder")}Fs.prototype=Object.create(kl.prototype);const Ms=Fs;var Ls=wp.i18n.__;function Bs(){kl.call(this),this.name="Day_In_Sec",this.isClientSide=!0,this.help=Ls("Number of milliseconds in one day","jet-form-builder")}Bs.prototype=Object.create(kl.prototype);const $s=Bs;var Gs=wp.i18n.__;function Us(){kl.call(this),this.name="Year_In_Sec",this.isClientSide=!0,this.help=Gs("Number of milliseconds in one year","jet-form-builder")}Us.prototype=Object.create(kl.prototype);const Vs=Us;function qs(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Js=wp.i18n.__;function Hs(){mi.call(this)}Hs.prototype=Object.create(mi.prototype),Hs.prototype.docArgument=!1,Hs.prototype.help=null,Hs.prototype.isServerSide=!1,Hs.prototype.isClientSide=!1,Hs.prototype.getArgumentsList=function(){if(!this.docArgument||!this.docArgument.length)return null;var e,t=[],r=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return qs(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qs(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){a=!0,i=e},f:function(){try{l||null==r.return||r.return()}finally{if(a)throw i}}}}(Array.isArray(this.docArgument)?this.docArgument:[this.docArgument]);try{for(r.s();!(e=r.n()).done;)switch(e.value){case"string":case String:t.push(Js("String","jet-form-builder"));break;case"number":case Number:t.push(Js("Number","jet-form-builder"));break;case"array":case Array:t.push(Js("Array","jet-form-builder"));break;case"any":t.push(Js("Anything","jet-form-builder"))}}catch(e){r.e(e)}finally{r.f()}return t.join(" | ")},Hs.prototype.fullHelp=function(){if(!this.docArgument&&!this.help)return null;var e=this.help,t=this.getArgumentsList();return wp.element.createElement(React.Fragment,null,t&&wp.element.createElement("div",{style:{marginBottom:"0.5em"}},Js("Arguments:","jet-form-builder")+" ",wp.element.createElement("code",null,t)),"function"!=typeof e?e:wp.element.createElement(e,null))};const Xs=Hs;var zs=wp.i18n.__;function Ws(){Xs.call(this),this.fullName=function(){return"addDay"},this.docArgument=Number,this.isClientSide=!0,this.help=zs("Adds the passed number of days via an argument \n\t\tto a macro that returns a date or a timestamp.","jet-form-builder")}Ws.prototype=Object.create(Xs.prototype);const Ys=Ws;var Ks=wp.i18n.__;function Zs(){Xs.call(this),this.fullName=function(){return"addMonth"},this.docArgument=Number,this.isClientSide=!0,this.help=Ks("Adds the passed number of months via an argument \n\t\tto a macro that returns a date or a timestamp.","jet-form-builder")}Zs.prototype=Object.create(Xs.prototype);const Qs=Zs;var ef=wp.i18n.__;function tf(){Xs.call(this),this.fullName=function(){return"addYear"},this.docArgument=Number,this.isClientSide=!0,this.help=ef("Adds the passed number of years through an argument \n\t\tto a macro that returns a date or a timestamp.","jet-form-builder")}tf.prototype=Object.create(Xs.prototype);const rf=tf;var nf=wp.i18n.__;function of(){Xs.call(this),this.fullName=function(){return"ifEmpty"},this.docArgument="any",this.isClientSide=!0,this.help=nf("If the macro returns an empty value, \n\t\tthen the filter returns the value passed in the argument","jet-form-builder")}of.prototype=Object.create(Xs.prototype);const lf=of;var af=wp.i18n.__;function uf(){Xs.call(this),this.fullName=function(){return"length"},this.isClientSide=!0,this.help=af("Returns the length of a string or array","jet-form-builder")}uf.prototype=Object.create(Xs.prototype);const cf=uf;var sf=wp.i18n.__;function ff(){Xs.call(this),this.fullName=function(){return"toDate"},this.isClientSide=!0,this.help=function(){return wp.element.createElement(React.Fragment,null,sf("Gets the timestamp from the macro and formats it according \n\t\tto the format of the Date Field.","jet-form-builder"),wp.element.createElement("hr",null),sf("Example:","jet-form-builder")+" ",wp.element.createElement("code",null,"2022-02-24"))}}ff.prototype=Object.create(Xs.prototype);const pf=ff;var mf=wp.i18n.__;function yf(){Xs.call(this),this.fullName=function(){return"toDateTime"},this.isClientSide=!0,this.help=function(){return wp.element.createElement(React.Fragment,null,mf("Gets the timestamp from the macro and formats it according \n\t\tto the format of the Datetime Field.","jet-form-builder"),wp.element.createElement("hr",null),mf("Example:","jet-form-builder")+" ",wp.element.createElement("code",null,"2022-02-24T04:25"))}}yf.prototype=Object.create(Xs.prototype);const df=yf;var bf=wp.i18n.__;function vf(){Xs.call(this),this.fullName=function(){return"toTime"},this.isClientSide=!0,this.help=function(){return wp.element.createElement(React.Fragment,null,bf("Gets the timestamp from the macro and formats it according \n\t\tto the format of the Time Field.","jet-form-builder"),wp.element.createElement("hr",null),bf("Example:","jet-form-builder")+" ",wp.element.createElement("code",null,"04:25"))}}vf.prototype=Object.create(Xs.prototype);const hf=vf;var gf=wp.i18n.__;function wf(){Xs.call(this),this.fullName=function(){return"subDay"},this.docArgument=Number,this.isClientSide=!0,this.help=gf("Subtracts the number of days by argument\nfrom a macro that returns a date or timestamp.","jet-form-builder")}wf.prototype=Object.create(Xs.prototype);const jf=wf;var Sf=wp.i18n.__;function Of(){Xs.call(this),this.fullName=function(){return"subMonth"},this.docArgument=Number,this.isClientSide=!0,this.help=Sf("Subtracts the number of months by argument\nfrom a macro that returns a date or timestamp.","jet-form-builder")}Of.prototype=Object.create(Xs.prototype);const Ef=Of;var Af=wp.i18n.__;function Pf(){Xs.call(this),this.fullName=function(){return"subYear"},this.docArgument=Number,this.isClientSide=!0,this.help=Af("Subtracts the number of years by argument\nfrom a macro that returns a date or timestamp.","jet-form-builder")}Pf.prototype=Object.create(Xs.prototype);const Cf=Pf;var If={macros:[new Ts,new Rs,new $s,new Ms,new Vs],filters:[new lf,new cf,new Ys,new Qs,new rf,new jf,new Ef,new Cf,new pf,new df,new hf]};const _f={registerMacro:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:ws,items:e,isClient:t}}};function kf(e){return kf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(e)}function Tf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Nf(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==kf(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==kf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===kf(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const xf=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tf(Object(r),!0).forEach((function(t){Nf(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},{getClientMacros:function(e){return e.macros.filter((function(e){return e.isClientSide}))},getServerMacros:function(e){return e.macros.filter((function(e){return e.isServerSide}))},getClientFilters:function(e){return e.filters.filter((function(e){return e.isClientSide}))},getServerFilters:function(e){return e.filters.filter((function(e){return e.isServerSide}))}}),Rf=(0,wp.data.createReduxStore)("jet-forms/macros",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:If,t=arguments.length>1?arguments[1]:void 0,r=As[null==t?void 0:t.type];return r?r(e,t):e},actions:_f,selectors:xf}),Df="REGISTER";function Ff(e){return Ff="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(e)}function Mf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Lf(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ff(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ff(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ff(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Bf=Lf({},Df,(function(e,t){var r=t.items,n=r.messages,o=r.ssr_callbacks,i=r.formats,l=r.rule_types;return e.messages=JSON.parse(JSON.stringify(n)),e.ssrCallbacks=JSON.parse(JSON.stringify(o)),e.formats=JSON.parse(JSON.stringify(i)),e.ruleTypes=JSON.parse(JSON.stringify(l)),e}));const $f=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mf(Object(r),!0).forEach((function(t){Lf(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Bf);var Gf=wp.data.select,Uf=wp.i18n.__,Vf={messages:[],ssrCallbacks:[],formats:[],ruleTypes:[],ruleReaders:{default:function(e){var t=Gf("jet-forms/validation").getRule(e.type);if(!t)return"";var r=(null==e?void 0:e.field)||(null==e?void 0:e.value)||"";return r=Yc(r,"b")||"(no value)",[t.label,"<code>".concat(r,"</code>")].join(" ")},ssr:function(e){return[Uf("Function:","jet-form-builder"),null==e?void 0:e.value].join(" ")}}};const qf={register:function(e){return{type:Df,items:e}}};function Jf(e){return Jf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(e)}function Hf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xf(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Jf(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Jf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Jf(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const zf=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hf(Object(r),!0).forEach((function(t){Xf(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},{getRule:function(e,t){var r=e.ruleTypes.findIndex((function(e){return e.value===t}));return-1!==r&&e.ruleTypes[r]},readRule:function(e,t){var r,n=t.type,o=void 0===n?"":n;if(!o)return"";var i=null!==(r=e.ruleReaders[o])&&void 0!==r&&r;return"function"==typeof i?i(t):e.ruleReaders.default(t)}}),Wf=(0,wp.data.createReduxStore)("jet-forms/validation",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vf,t=arguments.length>1?arguments[1]:void 0,r=$f[null==t?void 0:t.type];return r?r(e,t):e},actions:qf,selectors:zf});r(7194);var Yf=wp.data,Kf=Yf.register,Zf=Yf.dispatch,Qf=wp.hooks.addAction;[pc,xc,$u,gs,as,Rf,Wf,ml].forEach(Kf),Zf("jet-forms/events").register(window.jetFormEvents.types),Zf("jet-forms/events").lockActions(),Zf("jet-forms/validation").register(window.jetFormValidation),Qf("jet.fb.change.blockConditions.renderState","jet-form-builder/events",(function(e){Zf("jet-forms/events").clearDynamicEvents();var t=e.map((function(e){var t=e.value;return{value:t="ON."+t,label:t,isDynamic:!0}}));Zf("jet-forms/events").register(t)})),Zf("jet-forms/block-conditions").register(window.jetFormBlockConditions);const ep=(0,wp.element.createContext)(!1),tp=(0,wp.element.createContext)({currentItem:{},changeCurrentItem:function(){},currentIndex:-1}),rp=(0,wp.element.createContext)({index:-1,action:{}}),np=(0,wp.element.createContext)({isSupported:function(e){return!1},render:function(e){return e.children}}),op=(0,wp.element.createContext)({isSupported:function(e){return!1},render:function(e){return e.currentItem,e.index,null}}),ip=(0,wp.element.createContext)({edit:function(e){return!0},move:function(e){return!0},clone:function(e){return!0},delete:function(e){return!0}}),lp=(0,wp.element.createContext)({});function ap(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var up=wp.components.ToggleControl,cp=wp.i18n.__,sp=wp.element.useState;function fp(e){return fp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fp(e)}function pp(e){return function(e){if(Array.isArray(e))return mp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return mp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mp(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function dp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yp(Object(r),!0).forEach((function(t){bp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function bp(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==fp(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==fp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===fp(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var vp=wp.element.useContext,hp=wp.i18n.__;const gp=function(e){if(void 0===e)return null;var t=vp(ep),r=function(t){var r=t.oldIndex,n=t.newIndex;e((function(e){var t=JSON.parse(JSON.stringify(e)),o=[t[r],t[n]];return t[n]=o[0],t[r]=o[1],t}))};return{changeCurrentItem:function(t,r){e((function(e){var n=JSON.parse(JSON.stringify(e));return n[r]=dp(dp({},e[r]),t),n}))},toggleVisible:function(t){e((function(e){var r=JSON.parse(JSON.stringify(e));return r[t].__visible=!r[t].__visible,r}))},moveDown:function(e){r({oldIndex:e,newIndex:e+1})},moveUp:function(e){r({oldIndex:e,newIndex:e-1})},cloneItem:function(t){e((function(e){var r=JSON.parse(JSON.stringify(e)),n=[r.slice(0,t+1),r.slice(t+1)],o=n[1];return[].concat(pp(n[0]),[r[t]],pp(o))}))},addNewItem:function(t){e((function(e){return[].concat(pp(e),[dp({__visible:!0},t)])}))},removeOption:function(r){t&&!function(e){return confirm(hp("Are you sure you want to remove item ".concat(e+1,"?"),"jet-form-builder"))}(r)||e((function(e){var t=JSON.parse(JSON.stringify(e));return t.splice(r,1),t}))}}},jp=(0,wp.element.createContext)(!1);var Sp=wp.components.Button,Op=wp.element.useContext;const Ep=function(e){var t,r=e.item,n=e.onSetState,o=e.functions,i=e.children,l=(null!==(t=null!=o?o:gp(n))&&void 0!==t?t:Op(jp)).addNewItem;return wp.element.createElement(Sp,{icon:"plus-alt2",isSecondary:!0,onClick:function(){return l(r)}},i)};var Ap=wp.components,Pp=Ap.Card,Cp=Ap.ButtonGroup,Ip=Ap.Button,_p=Ap.CardHeader,kp=Ap.CardBody,Tp=wp.element.useContext,Np=wp.i18n.__;const xp=function(e){var t,r=e.items,n=e.onSetState,o=e.functions,i=e.children,l=null!==(t=null!=o?o:gp(n))&&void 0!==t?t:Tp(jp),a=l.cloneItem,u=l.moveUp,c=l.moveDown,s=l.toggleVisible,f=l.changeCurrentItem,p=l.removeOption,m=Tp(op),y=m.isSupported,d=m.render,b=Tp(ip),v=b.edit,h=b.move,g=b.clone,w=b.delete,j=function(e){var t=e.currentItem,r=e.index;return y(t)?wp.element.createElement(d,{currentItem:t,index:r}):wp.element.createElement("span",{className:"repeater-item-title"},"#".concat(r+1))};return wp.element.createElement("div",{className:"jet-form-builder__repeater-component",key:"jet-form-builder-repeater"},r.map((function(e,t){return wp.element.createElement(Pp,{size:"small",elevation:2,className:"jet-form-builder__repeater-component-item",key:"jet-form-builder__repeater-component-item-".concat(t)},wp.element.createElement(_p,{className:"repeater__item__header"},wp.element.createElement("div",{className:"repeater-item__left-heading"},wp.element.createElement(Cp,{className:"repeater-action-buttons"},(!v||v(e))&&wp.element.createElement(Ip,{variant:"tertiary",isSmall:!0,icon:e.__visible?"no-alt":"edit",onClick:function(){return s(t)},className:"repeater-action-button jet-fb-is-thick"}),(!h||h(e))&&wp.element.createElement(Ip,{variant:"tertiary",isSmall:!0,isSecondary:!0,disabled:!Boolean(t),icon:"arrow-up-alt2",onClick:function(){return u(t)},className:"repeater-action-button jet-fb-is-thick"}),(!h||h(e))&&wp.element.createElement(Ip,{variant:"tertiary",isSmall:!0,isSecondary:!0,disabled:!(t<r.length-1),icon:"arrow-down-alt2",onClick:function(){return c(t)},className:"repeater-action-button jet-fb-is-thick"})),wp.element.createElement(j,{currentItem:e,index:t})),wp.element.createElement(Cp,null,(!g||g(e))&&wp.element.createElement(Ip,{variant:"tertiary",isSmall:!0,isSecondary:!0,onClick:function(){return a(t)},className:"jet-fb-is-thick",icon:"admin-page"}),(!w||w(e))&&wp.element.createElement(ci,{icon:"trash",isDestructive:!0},wp.element.createElement(Qo.Consumer,null,(function(e){var r=e.setShowPopover;return wp.element.createElement("div",{style:{padding:"0.5em",width:"max-content"}},wp.element.createElement("span",null,Np("Delete this item?","jet-form-builder"))," ",wp.element.createElement(Ip,{isLink:!0,isDestructive:!0,onClick:function(){return p(t)}},Np("Yes","jet-form-builder"))," / ",wp.element.createElement(Ip,{isLink:!0,onClick:function(){return r(!1)}},Np("No","jet-form-builder")))}))))),e.__visible&&wp.element.createElement(kp,{className:"repeater-item__content",key:"jet-form-builder__card-body-".concat(t)},(n={currentItem:e,changeCurrentItem:function(e){return f(e,t)},currentIndex:t},wp.element.createElement(tp.Provider,{value:n},!i&&"Set up your Repeater Template, please.","function"==typeof i?i(n):i))));var n})))};function Rp(e){return Rp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rp(e)}function Dp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dp(Object(r),!0).forEach((function(t){Mp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Mp(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Rp(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Rp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Rp(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Bp=wp.components,$p=Bp.__experimentalToggleGroupControl,Gp=Bp.__experimentalToggleGroupControlOption,Up=wp.i18n.__,Vp=window.jetFormValidation.formats;var qp=window.jetFormValidation.messages;const Jp=function(e){return qp.find((function(t){var r=t.id;return e===r}))};function Hp(e){return Hp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(e)}function Xp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xp(Object(r),!0).forEach((function(t){Wp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Wp(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Hp(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Hp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Hp(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Kp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Kp(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Zp=wp.components.TextControl;function Qp(e){return Qp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qp(e)}var em=["message","update","value","help"];function tm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function rm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tm(Object(r),!0).forEach((function(t){nm(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tm(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function nm(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Qp(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Qp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Qp(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var om=wp.components,im=om.TextControl,lm=om.Tooltip;const am=(0,wp.element.createContext)({FieldSelect:null,property:""});function um(e,t){if(e){if("string"==typeof e)return cm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?cm(e,t):void 0}}function cm(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var sm=wp.element,fm=sm.useState,pm=sm.useContext,mm=wp.components.SelectControl;var ym=["currentAction"];function dm(){return dm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dm.apply(this,arguments)}var bm=wp.compose.compose,vm=wp.data.withSelect;const hm=bm(vm((function(e){return{currentAction:e("jet-forms/actions").getCurrentAction()}})),vm(dt))((function(e){var t=e.currentAction,r=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,ym);return wp.element.createElement(Za,dm({id:t.id},r))})),gm=function(e){var t=e.state,r=e.children,n=gp(t);return wp.element.createElement(jp.Provider,{value:n},r)};function wm(e){return wm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wm(e)}function jm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Sm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jm(Object(r),!0).forEach((function(t){Om(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jm(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Om(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==wm(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==wm(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===wm(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Em(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||Am(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Am(e,t){if(e){if("string"==typeof e)return Pm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Pm(e,t):void 0}}function Pm(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Cm=wp.components,Im=Cm.Button,_m=Cm.TextControl,km=wp.i18n.__,Tm=wp.element.useState,Nm=wp.data,xm=Nm.useSelect,Rm=Nm.useDispatch,Dm=wp.apiFetch,Fm=window.jetFormBlockConditions,Mm=Fm.rest_add_state,Lm=Fm.rest_delete_state;const Bm=function(e){var t,r=e.setShowModal,n=e.changeCurrentItem,o=e.currentItem,i=Em(Tm(!1),2),l=i[0],a=i[1],u=Em(Tm({}),2),c=u[0],s=u[1],f=Em(Tm(""),2),p=f[0],y=f[1],d=function(e){return function(e){if(Array.isArray(e))return Pm(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Am(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(null!==(t=o.render_state)&&void 0!==t?t:[]),b=Rm("jet-forms/block-conditions",[]),v=b.addRenderState,h=b.deleteRenderStates,g=xm((function(e){return e("jet-forms/block-conditions").getCustomRenderStates()}),[l,c]);return wp.element.createElement(m,{title:km("Register custom render state"),onRequestClose:function(){return r(!1)},isUseActions:!1,classNames:["width-45"]},wp.element.createElement("div",{className:"jet-fb with-button"},wp.element.createElement(_m,{value:p,onChange:function(e){return y(e)},placeholder:km("Set your custom state name","jet-form-builder")}),wp.element.createElement(Im,{variant:"secondary",onClick:function(){a(!0),Mm.data={value:p},Dm(Mm).then((function(e){var t;t=e.state,v(t),d.push(t.value),n({render_state:d}),a(!1),r(!1)})).catch((function(e){console.error(e),a(!1)}))},disabled:l,isBusy:l,style:{padding:"7px 12px",height:"unset"}},km("Add","jet-form-builder"))),Boolean(null==g?void 0:g.length)&&wp.element.createElement(React.Fragment,null,wp.element.createElement("b",{className:"jet-fb flex mb-05-em"},km("Manage your custom states:","jet-form-builder")),wp.element.createElement("div",{className:"jet-fb-buttons-flex"},g.map((function(e){var t;return wp.element.createElement(Im,{key:e.value,icon:"no-alt",iconPosition:"right",onClick:function(){return t=e.value,Lm.data={list:[t]},s((function(e){return Sm(Sm({},e),{},Om({},t,!0))})),void Dm(Lm).then((function(){!function(e){h(e),d=d.filter((function(t){return t!==e})),n({render_state:d})}(t)})).catch(console.error).finally((function(){s((function(e){return Sm(Sm({},e),{},Om({},t,!1))}))}));var t},isBusy:null!==(t=c[e.value])&&void 0!==t&&t},e.label)})))))};function $m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Gm=wp.components,Um=Gm.Button,Vm=Gm.BaseControl,qm=Gm.FormTokenField,Jm=wp.i18n.__,Hm=wp.element.useState,Xm=wp.data.useSelect;const zm=function(e){var t=e.currentItem,r=e.changeCurrentItem,n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$m(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Hm(!1),2),o=n[0],i=n[1],l=Xm((function(e){return L(e("jet-forms/block-conditions").getRenderStates(),"value")}),[o]);return wp.element.createElement(React.Fragment,null,wp.element.createElement(Vm,{label:Jm("Render State","jet-form-builder"),className:"control-flex"},wp.element.createElement("div",null,wp.element.createElement("label",{className:"jet-fb label mb-05-em"},Jm("Add render state","jet-form-builder")),wp.element.createElement("div",{className:"jet-fb with-button clear-label"},wp.element.createElement(qm,{value:t.render_state,suggestions:l,onChange:function(e){return r({render_state:e})},tokenizeOnSpace:!0,__experimentalExpandOnFocus:!0}),wp.element.createElement(Um,{label:Jm("New render state","jet-form-builder"),variant:"secondary",icon:"plus-alt2",onClick:function(){return i(!0)}})))),o&&wp.element.createElement(Bm,{setShowModal:i,changeCurrentItem:r,currentItem:t}))};var Wm=wp.components,Ym=Wm.Flex,Km=Wm.FlexItem,Zm=wp.compose.useInstanceId;const Qm=function(e){var t=e.children,r=e.value,n=e.label,o=e.inBlock,i=void 0!==o&&o,l=e.onChangePreset,a=void 0!==l&&l,u=e.onChangeMacros,c=void 0!==u&&u,s=e.macroWithCurrent,f=void 0!==s&&s,p=Zm(Km,"jfb-AdvancedModalControl"),m=i?gl:Ol;return wp.element.createElement("div",{className:"components-base-control"},wp.element.createElement(Ym,{align:"flex-start",className:"components-base-control__field"},wp.element.createElement(Km,{isBlock:!0},wp.element.createElement(Ym,{align:"center",justify:"flex-start"},wp.element.createElement("label",{htmlFor:p,className:"jet-fb label"},n),!1!==a&&wp.element.createElement(Zo,{value:r,onChange:a}),!1!==c&&wp.element.createElement(m,{onClick:c,withCurrent:f}))),wp.element.createElement(Km,{isBlock:!0,style:{flex:3,marginLeft:"unset"}},"function"==typeof t?t({instanceId:p}):t)))};var ey=wp.components,ty=ey.TextareaControl,ry=ey.withFilters,ny=wp.i18n.__,oy=ry("jet.fb.block.conditions.options")((function(e){var t=e.currentItem,r=e.changeCurrentItem,n=Dt();return["empty","not_empty"].includes(t.operator)?null:"render_state"===t.operator?wp.element.createElement(zm,{key:n("RenderStateOptions"),changeCurrentItem:r,currentItem:t}):wp.element.createElement(Rl,null,wp.element.createElement(Qm,{value:t.value,label:ny("Value to compare","jet-form-builder"),onChangePreset:function(e){return r({value:e})},onChangeMacros:function(e){var n;return r({value:(null!==(n=t.value)&&void 0!==n?n:"")+e})}},(function(e){var n=e.instanceId;return wp.element.createElement(ty,{id:n,value:t.value,onChange:function(e){return r({value:e})}})})))}));const iy=oy;function ly(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ay=wp.components,uy=ay.SelectControl,cy=ay.withFilters,sy=wp.i18n.__,fy=wp.element.useState;const py=cy("jet.fb.block.conditions.options")((function(e){var t=e.currentItem,r=e.changeCurrentItem,n=Dt(),o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ly(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ly(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(fy((function(){return K([],"--")})),1)[0];return"render_state"===t.operator?null:wp.element.createElement(uy,{key:n("SelectControl-field"),label:sy("Field","jet-form-builder"),labelPosition:"side",value:t.field,options:o,onChange:function(e){r({field:e})}})}));var my=wp.element.useContext,yy=wp.components.SelectControl,dy=wp.i18n.__;const by=function(){var e=my(tp),t=e.currentItem,r=e.changeCurrentItem,n=Dt(),o=xt().operators;return wp.element.createElement(React.Fragment,null,wp.element.createElement(py,{currentItem:t,changeCurrentItem:r}),wp.element.createElement(yy,{key:n("SelectControl-operator"),label:dy("Operator","jet-form-builder"),labelPosition:"side",value:t.operator,options:o,onChange:function(e){return r({operator:e})}}),wp.element.createElement(iy,{currentItem:t,changeCurrentItem:r}))};var vy=wp.data.select;const hy=function(e){return vy("jet-forms/block-conditions").readCondition(e)};var gy=wp.i18n.__;const wy=function(e){var t=e.children;return wp.element.createElement(op.Provider,{value:{isSupported:function(){return!0},render:function(e){var t=e.currentItem;return wp.element.createElement("span",{className:"repeater-item-title",dangerouslySetInnerHTML:{__html:null!=t&&t.or_operator?gy("OR","jet-form-builder"):hy(t)}})}}},wp.element.createElement(ip.Provider,{value:{edit:function(e){return!e.or_operator}}},t))};function jy(e){return jy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jy(e)}function Sy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Oy(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sy(Object(r),!0).forEach((function(t){Ey(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sy(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ey(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==jy(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==jy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===jy(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ay(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Py(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Py(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Py(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Cy=wp.i18n.__,Iy=wp.element,_y=Iy.useState,ky=Iy.useContext,Ty=Iy.Fragment,Ny=Iy.useEffect,xy=wp.components,Ry=xy.SelectControl,Dy=xy.TextareaControl,Fy=xy.FlexItem,My=(xy.Button,xy.Flex),Ly=xy.ToggleControl,By=[{key:"commas",render:function(){return wp.element.createElement("li",null,Cy("If this field supports multiple values, \n\t\t\tyou can separate them with commas","jet-form-builder"))}}],$y=[{value:"on_change",label:Cy("On change conditions result","jet-form-builder"),help:Cy("The value will be applied if condition check-ups return a result \ndifferent from the first check-up's cached value","jet-form-builder")},{value:"once",label:Cy("Once","jet-form-builder"),help:Cy("The value will be applied only the first time \nthe condition is matched","jet-form-builder")},{value:"always",label:Cy("Always","jet-form-builder"),help:Cy("The value will be applied every time the condition is matched","jet-form-builder")}],Gy=function(e){return $y.find((function(t){return t.value===(null!=e?e:"on_change")})).help};const Uy=function(){var e,t,r,n,o=ky(lp),i=o.current,l=o.update,a=Ay(_y((function(){return i})),2),u=a[0],c=a[1],s=Ay(_y((function(){return Gy(u.frequency)})),2),f=s[0],p=s[1];Ny((function(){p(Gy(u.frequency))}),[u.frequency]);var m=function(e){c((function(t){return Oy(Oy({},t),e)}))};return et((function(){return l(u)})),wp.element.createElement(React.Fragment,null,wp.element.createElement(My,{align:"flex-start"},wp.element.createElement(Fy,{isBlock:!0},wp.element.createElement(My,{align:"center",justify:"flex-start"},wp.element.createElement("span",{className:"jet-fb label"},Cy("Value to set","jet-form-builder")),wp.element.createElement(Zo,{value:u.to_set,onChange:function(e){return m({to_set:e})}}),wp.element.createElement(Rl,{withThis:!0},wp.element.createElement(gl,{onClick:function(e){var t;return m({to_set:"".concat(null!==(t=u.to_set)&&void 0!==t?t:"").concat(e)})}}))),wp.element.createElement($a,null,wp.element.createElement("ul",null,By.map((function(e){return wp.element.createElement(Ty,{key:e.key},e.render())}))))),wp.element.createElement(Fy,{isBlock:!0,style:{flex:3,marginLeft:"unset"}},wp.element.createElement(Dy,{className:"jet-control-clear",hideLabelFromVision:!0,value:null!==(e=u.to_set)&&void 0!==e?e:"",onChange:function(e){return m({to_set:e})}}))),wp.element.createElement(Ry,{options:$y,value:null!==(t=u.frequency)&&void 0!==t?t:"on_change",label:Cy("Apply type","jet-form-builder"),labelPosition:"side",onChange:function(e){return m({frequency:e})},help:f}),wp.element.createElement(gm,{state:function(e){var t;m({conditions:"function"==typeof e?e(null!==(t=u.conditions)&&void 0!==t?t:[]):e})}},wp.element.createElement(wy,null,wp.element.createElement(xp,{items:null!==(r=u.conditions)&&void 0!==r?r:[]},wp.element.createElement(by,null))),wp.element.createElement("div",{className:"jet-fb flex jc-space-between ai-center"},wp.element.createElement(Ep,null,Cy("Add New Condition","jet-form-builder")),wp.element.createElement(Ly,{className:"jet-fb m-unset clear-control",label:Cy("Set value only if field is empty","jet-form-builder"),checked:null!==(n=u.set_on_empty)&&void 0!==n&&n,onChange:function(e){return m({set_on_empty:e})}}))))};var Vy=wp.i18n.__,qy=wp.element,Jy=qy.Children,Hy=qy.cloneElement;const Xy=function(e){var t=e.conditions,r=e.showWarning,n=void 0!==r&&r,o=[],i="";return Boolean(null==t?void 0:t.length)&&(i=hy(t[0]),o=t.filter((function(e,t){return 0!==t})).map((function(e){return wp.element.createElement("span",{"data-title":Vy("And","jet-form-builder")+":",dangerouslySetInnerHTML:{__html:hy(e)}})}))),i?wp.element.createElement(React.Fragment,null,wp.element.createElement("span",{"data-title":Vy("If","jet-form-builder")+":",dangerouslySetInnerHTML:{__html:i}}),Jy.map(o,Hy)):n&&wp.element.createElement("span",{"data-title":Vy("The condition is not fully configured.","jet-form-builder")})},zy=function(e){var t=e.isHover,r=void 0!==t&&t,n=e.children;return wp.element.createElement("div",{className:["jet-fb",r?"show":"hide","p-absolute","wh-100","flex-center","gap-05em"].join(" "),style:{backgroundColor:"#ffffffcc",transition:"0.3s"}},n)},Wy=function(e){var t=e.children;return wp.element.createElement("div",{className:["jet-fb","flex","flex-dir-column","container","gap-1em"].join(" ")},t)};function Yy(e){return Yy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yy(e)}function Ky(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Zy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Zy(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zy(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ed(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qy(Object(r),!0).forEach((function(t){td(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qy(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function td(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Yy(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Yy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Yy(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var rd=wp.i18n.__,nd=wp.element.useState,od=wp.components.Button;const id=function(e){var t,r=e.current,n=e.update,o=e.isOpenModal,i=e.setOpenModal,l=Ky(nd(!1),2),a=l[0],u=l[1],c=Ky(nd(!1),2),s=c[0],f=c[1],p=1>=(null===(t=Object.keys(r))||void 0===t?void 0:t.length);return wp.element.createElement(lp.Provider,{value:{update:function(e){n((function(t){var n=JSON.parse(JSON.stringify(t.groups));for(var o in n)n.hasOwnProperty(o)&&r.id===n[o].id&&(n[o]=ed(ed({},n[o]),e));return{groups:n}}))},current:r}},wp.element.createElement("div",{className:"jet-fb p-relative",onMouseOver:function(){return f(!0)},onMouseOut:function(){return f(!1)}},wp.element.createElement(zy,{isHover:s},wp.element.createElement(od,{isSmall:!0,isSecondary:!0,icon:a?"no-alt":"edit",onClick:function(){return u((function(e){return!e}))}},rd("Edit","jet-form-builder")),wp.element.createElement(od,{isSmall:!0,isDestructive:!0,icon:"trash",onClick:function(){n((function(e){return{groups:JSON.parse(JSON.stringify(e.groups)).filter((function(e){return e.id!==r.id}))}}))}},rd("Delete","jet-form-builder"))),wp.element.createElement(Wy,null,p?wp.element.createElement("div",{"data-title":rd("This value item is empty","jet-form-builder")}):wp.element.createElement(React.Fragment,null,wp.element.createElement("span",{"data-title":rd("Set","jet-form-builder")+":",dangerouslySetInnerHTML:{__html:Yc(r.to_set)}}),wp.element.createElement(Xy,{conditions:null==r?void 0:r.conditions})))),(a||o===r.id)&&wp.element.createElement(m,{classNames:["width-60"],onRequestClose:function(){u(!1),i(!1)},title:rd("Edit Dynamic Value","jet-form-builder")},wp.element.createElement(Uy,null)))};var ld=["children"];function ad(){return ad=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ad.apply(this,arguments)}const ud=function(e){var t=e.children,r=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,ld);return wp.element.createElement("div",ad({className:"jet-fb flex flex-dir-column gap-default",style:{marginBottom:"1em"}},r),t)};function cd(e){return cd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(e)}function sd(e){return function(e){if(Array.isArray(e))return bd(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||dd(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fd(Object(r),!0).forEach((function(t){md(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function md(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==cd(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==cd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===cd(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||dd(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dd(e,t){if(e){if("string"==typeof e)return bd(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?bd(e,t):void 0}}function bd(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var vd=wp.i18n.__,hd=wp.element.useState,gd=wp.components,wd=gd.Button;gd.Flex;const jd=function(){var e,t,r=yd(Ut(),2),n=r[0],o=r[1],i=Dt(),l=null!==(e=n.value)&&void 0!==e?e:{},a=null!==(t=l.groups)&&void 0!==t?t:[],u=a.filter((function(e,t){return 0!==t})),c=yd(hd(!1),2),s=c[0],f=c[1];if(!Xt("value"))return null;var p=function(e){o(pd(pd({},n),{},{value:pd(pd({},l),"function"==typeof e?e(l):e)}))};return wp.element.createElement(React.Fragment,null,wp.element.createElement($a,null,vd("Or use a condition-dependent value","jet-form-builder")+" ",wp.element.createElement(wd,{isLink:!0,onClick:function(){},label:vd("Former Set Value functionality, moved from the Conditional Block","jet-form-builder"),showTooltip:!0},"(?)")),Boolean(a.length)?wp.element.createElement(ud,null,wp.element.createElement(id,{key:i(a[0].id),current:a[0],update:p,isOpenModal:s,setOpenModal:f}),Boolean(u.length)&&u.map((function(e){return wp.element.createElement(React.Fragment,null,wp.element.createElement("b",null,vd("OR","jet-form-builder")),wp.element.createElement(id,{key:i(e.id),current:e,update:p,isOpenModal:s,setOpenModal:f}))}))):null,wp.element.createElement(wd,{icon:"plus-alt2",isSecondary:!0,onClick:function(){var e=V.getRandomID();p({groups:[].concat(sd(a),[{id:e,conditions:[{__visible:!0}]}])}),f(e)}},vd("Add Dynamic Value","jet-form-builder")))};var Sd=wp.components.Button,Od=wp.element.useContext;var Ed=wp.components.SelectControl,Ad=wp.element,Pd=Ad.useContext,Cd=Ad.useMemo,Id=wp.i18n.__;const _d=function(){var e=Pd(tp),t=e.currentItem,r=e.changeCurrentItem,n=Cd((function(){return ie(Id("Custom value","jet-form-builder"))}),[]);return wp.element.createElement(Ed,{labelPosition:"side",options:n,label:Id("Choose field","jet-form-builder"),value:t.field,onChange:function(e){return r({field:e})}})};function kd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Td(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Td(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Td(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Nd=wp.components,xd=Nd.SelectControl,Rd=Nd.TextareaControl,Dd=Nd.TextControl,Fd=Nd.withFilters,Md=wp.element,Ld=Md.useContext,Bd=Md.useState,$d=Md.useEffect,Gd=wp.i18n.__,Ud=wp.hooks.addFilter,Vd=window.jetFormValidation,qd=Vd.rule_types,Jd=Vd.ssr_callbacks,Hd=Jd.map((function(e){return e.value}));function Xd(e){var t,r,n=qd.findIndex((function(t){return t.value===e})),o=Gd("Enter value","jet-form-builder");return-1===n?o:null!==(t=null===(r=qd[n])||void 0===r?void 0:r.control_label)&&void 0!==t?t:o}Ud("jet.fb.advanced.rule.controls","jet-form-builder",(function(e){return function(t){var r=t.currentItem,n=t.changeCurrentItem,o=kd(Bd(!1),2),i=o[0],l=o[1];if("ssr"!==r.type)return wp.element.createElement(e,t);var a=r.value||"custom_jfb_field_validation";return wp.element.createElement(React.Fragment,null,wp.element.createElement(xd,{labelPosition:"side",options:V.withPlaceholder(Jd,Gd("Custom function","jet-form-builder")),label:Gd("Choose callback","jet-form-builder"),value:r.value,onChange:function(e){return n({value:e})}}),!Hd.includes(r.value)&&wp.element.createElement(React.Fragment,null,wp.element.createElement(Dd,{label:Gd("Function name","jet-form-builder"),value:r.value,onChange:function(e){return n({value:e})}}),wp.element.createElement($a,null,Gd("Example of registering a function below.")+" ",wp.element.createElement("a",{href:"javascript:void(0)",onClick:function(){return l((function(e){return!e}))}},Gd(i?"Hide":"Show","jet-form-builder"))),i&&wp.element.createElement("pre",null,"/**\n * To get all the values of the fields in the form, you can use the expression:\n * jet_fb_request_handler()->get_request() or $context->get_request()\n *\n * If the field is located in the middle of the repeater, then only\n * jet_fb_request_handler()->get_request(), but $context->get_request() \n * will return the values of all fields of the current repeater element\n *\n * @param $value mixed\n * @param $context \\Jet_Form_Builder\\Request\\Parser_Context\n *\n * @return bool\n */\nfunction ".concat(a,"( $value, $context ): bool {\n\t// your logic\n\treturn true;\n}"))))}}));var zd=Fd("jet.fb.advanced.rule.controls")((function(e){var t=e.currentItem,r=e.changeCurrentItem,n=kd(Bd((function(){return Xd(t.type)})),2),o=n[0],i=n[1];switch($d((function(){i(Xd(t.type))}),[t.type]),t.type){case"equal":case"contain":case"contain_not":case"regexp":case"regexp_not":return wp.element.createElement(React.Fragment,null,wp.element.createElement(_d,null),!Boolean(t.field)&&wp.element.createElement(Qm,{value:t.value,label:o,onChangePreset:function(e){return r({value:e})},onChangeMacros:function(e){var n;return r({value:(null!==(n=t.value)&&void 0!==n?n:"")+e})}},(function(e){var n=e.instanceId;return wp.element.createElement(Rd,{id:n,value:t.value,onChange:function(e){return r({value:e})}})})));default:return null}}));const Wd=function(){var e=Ld(tp),t=e.currentItem,r=e.changeCurrentItem;return wp.element.createElement(React.Fragment,null,wp.element.createElement(xd,{labelPosition:"side",options:V.withPlaceholder(qd),label:Gd("Rule type","jet-form-builder"),value:t.type,onChange:function(e){return r({type:e})}}),wp.element.createElement(zd,{currentItem:t,changeCurrentItem:r}),wp.element.createElement(Rd,{label:Gd("Error message","jet-form-builder"),value:t.message,onChange:function(e){return r({message:e})}}))};var Yd=wp.data.select;const Kd=function(e){return Yd("jet-forms/validation").readRule(e)};function Zd(e){return Zd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zd(e)}function Qd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function eb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qd(Object(r),!0).forEach((function(t){tb(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function tb(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Zd(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Zd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Zd(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return nb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?nb(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ob=wp.element.useState,ib=wp.i18n.__;const lb=function(){var e=rb(Ut(),2),t=e[0],r=e[1],n=rb(ob((function(){var e,r;return null!==(e=null===(r=t.validation)||void 0===r?void 0:r.rules)&&void 0!==e?e:[]})),2),o=n[0],i=n[1];return et((function(){r((function(e){return eb(eb({},e),{},{validation:eb(eb({},t.validation),{},{rules:o})})}))})),wp.element.createElement(gm,{state:i},wp.element.createElement(op.Provider,{value:{isSupported:function(){return!0},render:function(e){var t=e.currentItem;return wp.element.createElement("span",{className:"repeater-item-title",dangerouslySetInnerHTML:{__html:Kd(t)}})}}},wp.element.createElement(xp,{items:o},wp.element.createElement(Wd,null))),wp.element.createElement(Ep,null,ib("Add Rule","jet-form-builder")))},ab=(0,wp.element.createContext)({showModal:!1,setShowModal:function(){}});function ub(e){return ub="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ub(e)}function cb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function sb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cb(Object(r),!0).forEach((function(t){fb(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cb(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fb(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ub(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ub(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ub(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return mb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mb(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var yb=wp.element,db=yb.useContext,bb=yb.useState,vb=wp.i18n.__,hb=wp.components.Button;const gb=function(){var e=db(ab).setShowModal,t=pb(Ut(),2),r=t[0],n=t[1],o=pb(bb(!1),2),i=o[0],l=o[1];return wp.element.createElement("div",{className:"jet-fb p-relative",onMouseOver:function(){return l(!0)},onMouseOut:function(){return l(!1)}},wp.element.createElement(zy,{isHover:i},wp.element.createElement(hb,{isSmall:!0,isSecondary:!0,icon:"plus-alt2",onClick:function(){n({validation:sb(sb({},r.validation),{},{rules:[{__visible:!0}]})}),e((function(e){return!e}))}},vb("Add new","jet-form-builder"))),wp.element.createElement(Wy,null,wp.element.createElement("span",{"data-title":vb("You have no rules for this field.","jet-form-builder")}),wp.element.createElement("span",{"data-title":vb("Please click here to add new.","jet-form-builder")})))};var wb=wp.i18n.__;const jb=function(e){var t=e.rule;return t.type?wp.element.createElement(React.Fragment,null,wp.element.createElement("span",{"data-title":wb("Rule:","jet-form-builder"),dangerouslySetInnerHTML:{__html:Kd(t)}}),Boolean(t.message)&&wp.element.createElement("span",{"data-title":wb("Message:","jet-form-builder"),dangerouslySetInnerHTML:{__html:t.message}})):wp.element.createElement("span",{"data-title":wb("The rule is not fully configured.","jet-form-builder")})};function Sb(e){return Sb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sb(e)}function Ob(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Eb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ob(Object(r),!0).forEach((function(t){Ab(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ob(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ab(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Sb(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Sb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Sb(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Cb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Cb(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ib=wp.element,_b=Ib.useContext,kb=Ib.useState,Tb=wp.i18n.__,Nb=wp.components.Button;const xb=function(e){var t=e.rule,r=e.index,n=void 0===r?0:r,o=_b(ab).setShowModal,i=Pb(Ut(),2),l=i[0],a=i[1],u=Pb(kb(!1),2),c=u[0],s=u[1];return wp.element.createElement("div",{className:"jet-fb p-relative",onMouseOver:function(){return s(!0)},onMouseOut:function(){return s(!1)}},wp.element.createElement(zy,{isHover:c},wp.element.createElement(Nb,{isSmall:!0,isSecondary:!0,icon:"edit",onClick:function(){a({validation:Eb(Eb({},l.validation),{},{rules:l.validation.rules.map((function(e,t){return e.__visible=n===t,e}))})}),o((function(e){return!e}))}},Tb("Edit","jet-form-builder")),wp.element.createElement(Nb,{isSmall:!0,isDestructive:!0,icon:"trash",onClick:function(){a({validation:Eb(Eb({},l.validation),{},{rules:l.validation.rules.filter((function(e,t){return t!==n}))})})}},Tb("Delete","jet-form-builder"))),wp.element.createElement(Wy,null,wp.element.createElement(jb,{rule:t})))};function Rb(e,t){if(e){if("string"==typeof e)return Db(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Db(e,t):void 0}}function Db(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Fb=wp.i18n.__,Mb=wp.element,Lb=Mb.Children,Bb=Mb.cloneElement;function $b(e){var t=e.filter((function(e,t){return 0!==t}));return[wp.element.createElement(xb,{rule:e[0]})].concat(function(e){return function(e){if(Array.isArray(e))return Db(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Rb(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.map((function(e,t){return function(e,t){return wp.element.createElement(React.Fragment,null,wp.element.createElement("b",null,Fb("AND","jet-form-builder")),wp.element.createElement(xb,{rule:e,index:t}))}(e,t+1)}))))}const Gb=function(){var e,t,r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||Rb(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Ut(),1)[0];return null!=r&&null!==(e=r.validation)&&void 0!==e&&null!==(t=e.rules)&&void 0!==t&&t.length?wp.element.createElement(ud,null,Lb.map($b(r.validation.rules),Bb)):wp.element.createElement(gb,null)};function Ub(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Vb=wp.element.useState,qb=wp.i18n.__;var Jb=["help","attrName","label"],Hb=["help","attrName","label"];function Xb(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function zb(e){return zb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zb(e)}var Wb=wp.blockEditor.useBlockProps,Yb=wp.components,Kb=Yb.TextControl,Zb=Yb.SelectControl,Qb=Yb.ToggleControl,ev=Yb.BaseControl,tv=Yb.__experimentalNumberControl,rv=wp.components.NumberControl;void 0===rv&&(rv=tv);var nv=["help","label","hasMacro"];var ov=wp.components.ToggleControl;function iv(){this.action=null,this.hasInList=!1}iv.prototype.isSupported=function(e){return this.getSupportedActions().includes(e.type)},iv.prototype.isSupportedGlobal=function(){return!1},iv.prototype.getSupportedActions=function(){return[]},iv.prototype.setAction=function(e){this.action=e},iv.prototype.getName=function(){return""},iv.prototype.getLabel=function(){return""},iv.prototype.getHelp=function(){return""};const lv=iv;var av=wp.blockEditor.useBlockProps;function uv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.list=e}cv.prototype={setList:function(e){this.list=e},resetID:function(){var e,t=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return uv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?uv(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){a=!0,i=e},f:function(){try{l||null==r.return||r.return()}finally{if(a)throw i}}}}(this.list);try{for(t.s();!(e=t.n()).done;)e.value.resetID()}catch(e){t.e(e)}finally{t.f()}},hasType:function(e){return this.list.some((function(t){return t.type===e}))}};const sv=cv;function fv(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return pv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pv(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){a=!0,i=e},f:function(){try{l||null==r.return||r.return()}finally{if(a)throw i}}}}function pv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var yv=wp.data,dv=yv.useSelect,bv=yv.useDispatch;const vv=function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return mv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mv(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(dv((function(e){return[e("jet-forms/actions").getCurrentAction(),e("jet-forms/actions").getCurrentSettings()]})),2);return{currentAction:e[0],currentSettings:e[1],updateSettings:bv("jet-forms/actions").updateCurrentSettings}};function hv(e){return hv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hv(e)}function gv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gv(Object(r),!0).forEach((function(t){jv(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function jv(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==hv(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==hv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===hv(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sv(e){return function(e){if(Array.isArray(e))return Ev(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ov(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ov(e,t){if(e){if("string"==typeof e)return Ev(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ev(e,t):void 0}}function Ev(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const Av=function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||Ov(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(we(),2),t=e[0],r=e[1],n=function(e,n){var o=t.map((function(t){return e!==t.id?t:wv(wv({},JSON.parse(JSON.stringify(t))),n)}));r(Sv(o))};return{actions:t,setActions:r,moveAction:function(e,n){var o=JSON.parse(JSON.stringify(t[e])),i=JSON.parse(JSON.stringify(t[n]));t.splice(n,1,o),t.splice(e,1,i),r(Sv(t))},deleteAction:function(e){t.splice(e,1),r(Sv(t))},updateActionObj:n,toggleExecute:function(e){var t;n(e.id,{is_execute:!(null===(t=e.is_execute)||void 0===t||t)})}}};function Pv(e){return Pv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pv(e)}function Cv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Iv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cv(Object(r),!0).forEach((function(t){_v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _v(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Pv(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Pv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Pv(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var kv=wp.data.useDispatch;var Tv=wp.data.useSelect;var Nv=wp.data.useSelect;function xv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Rv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Rv(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Dv=wp.element.useEffect,Fv=wp.data.useSelect,Mv=wp.blockEditor.useBlockProps;window.JetFBComponents={ActionFieldsMap:function(r){var o=r.fields,i=void 0===o?[]:o,l=r.label,a=void 0===l?"[Empty label]":l,u=r.children,c=void 0===u?null:u,s=r.plainHelp,f=void 0===s?"":s,p=r.customHelp,m=void 0!==p&&p;return wp.element.createElement(n,{label:a,key:"jet_fields_map"},wp.element.createElement("div",{className:"jet-user-fields-map__list"},m&&"function"==typeof m&&m(),Boolean(f.length)&&wp.element.createElement("span",{className:"description-controls"},f),i.map((function(r,n){var o=function(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,r)||function(e,r){if(e){if("string"==typeof e)return t(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r,2),i=o[0],l=o[1];return wp.element.createElement(React.Fragment,{key:"field_in_map_".concat(i+n)},wp.element.createElement(e.Provider,{value:{name:i,data:l,index:n}},"function"==typeof c?c({fieldId:i,fieldData:l,index:n}):c))}))))},ActionModal:m,ActionModalContext:o,SafeDeleteContext:ep,RepeaterItemContext:tp,ActionListItemContext:rp,RepeaterBodyContext:np,RepeaterHeadContext:op,RepeaterButtonsContext:ip,CurrentActionEditContext:at,ActionFieldsMapContext:e,CurrentPropertyMapContext:am,BlockValueItemContext:lp,DynamicPropertySelect:function(t){var r,n=t.dynamic,o=void 0===n?[]:n,i=t.parseValue,l=void 0===i?null:i,a=t.children,u=void 0===a?null:a,c=t.properties,s=void 0===c?null:c,f=pm(at),p=f.source,m=f.settings,y=f.setMapField;s=null!==(r=s)&&void 0!==r?r:p.properties;var d=pm(e),b=d.name,v=d.index,h=m.fields_map,g=void 0===h?{}:h;function w(e){var t,r,n=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=um(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){a=!0,i=e},f:function(){try{l||null==r.return||r.return()}finally{if(a)throw i}}}}(s);try{for(n.s();!(r=n.n()).done;)if(e===r.value.value)return e}catch(e){n.e(e)}finally{n.f()}return l?l(e):null!==(t=o[0])&&void 0!==t?t:""}var j,S,O=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||um(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(fm((function(){var e;return w(null!==(e=g[b])&&void 0!==e?e:"")})),2),E=O[0],A=O[1],P=wp.element.createElement(mm,{key:b+v,value:E,options:s,help:(S=s.find((function(e){return e.value===E})),null!==(j=null==S?void 0:S.help)&&void 0!==j?j:""),onChange:function(e){var t=w(e);A(t),y({nameField:b,value:o.includes(e)?"":e})}});return wp.element.createElement(am.Provider,{value:{FieldSelect:P,property:E}},u&&u,!u&&P)},SafeDeleteToggle:function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ap(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ap(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(sp(!0),2),r=t[0],n=t[1];return wp.element.createElement(React.Fragment,null,wp.element.createElement(up,{label:cp("Safe deleting","jet-form-builder"),checked:r,onChange:n}),wp.element.createElement(ep.Provider,{value:r},e.children))},RepeaterAddNew:Ep,RepeaterAddOrOperator:function(e){var t,r=e.onSetState,n=e.functions,o=e.children,i=(null!==(t=null!=n?n:gp(r))&&void 0!==t?t:Od(jp)).addNewItem;return wp.element.createElement(Sd,{isSecondary:!0,icon:"randomize",onClick:function(){return i({__visible:!1,or_operator:!0})}},o)},Repeater:xp,RequestButton:w,ValidateButton:function(e){var t=e.initialValid,r=e.label,n=e.ajaxArgs,o=void 0===n?{}:n,i=e.onValid,l=void 0===i?function(){}:i,a=e.onInvalid,u=void 0===a?function(){}:a,c=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?A(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(E(t||!1),4),s=c[0],f=c[1],p=c[2],m=c[3];return wp.element.createElement(w,{ajaxArgs:o,label:r,onLoading:m,onSuccessRequest:function(e){f(),l(e)},onFailRequest:function(){p(),u()},className:s},wp.element.createElement("i",{className:"dashicons"}))},RequestLoadingButton:function(e){var t=e.label,r=e.ajaxArgs,n=void 0===r?{}:r,o=e.onSuccessRequest,i=void 0===o?function(){}:o,l=e.onFailRequest,a=void 0===l?function(){}:l,u=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Aa(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Aa(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Ae(),3),c=u[0],s=u[1],f=u[2];return wp.element.createElement(w,{ajaxArgs:n,label:t,onLoading:s,onSuccessRequest:function(e){f(),i(e)},onFailRequest:function(){f(),a()},className:c},wp.element.createElement("i",{className:"dashicons"}))},WrapperRequiredControl:function(t){var r=t.children,n=t.labelKey,o=void 0===n?"label":n,i=t.requiredKey,l=void 0===i?"required":i,a=t.helpKey,u=void 0===a?"help":a,c=t.field,s=void 0===c?[]:c,f=v(e),p=f.name,m=f.data;if(s.length){var d=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(s,2);p=d[0],m=d[1]}return wp.element.createElement("div",{className:"jet-user-meta__row",key:"user_meta_"+p},wp.element.createElement("div",{className:"jet-field-map__row-label"},wp.element.createElement("span",{className:"fields-map__label"},m.hasOwnProperty(o)&&m[o]&&m[o],!m.hasOwnProperty(o)&&m),m.hasOwnProperty(l)&&m[l]&&wp.element.createElement("span",{className:"fields-map__required"}," *"),m[u]&&wp.element.createElement("p",{className:"components-base-control__help",style:{color:"rgb(117, 117, 117)",margin:"1em 0 0 0"}},wp.element.createElement(b,null,m[u]))),r)},DynamicPreset:Er,JetFieldsMapControl:Lr,FieldWithPreset:function(e){var t=e.children,r=void 0===t?null:t,n=e.ModalEditor,o=e.triggerClasses,i=void 0===o?[]:o,l=e.baseControlProps,a=void 0===l?{}:l,u=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||$r(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Hr(!1),2),c=u[0],s=u[1],f=function(){s((function(e){return!e}))},p=["jet-form-dynamic-preset__trigger"].concat(function(e){return function(e){if(Array.isArray(e))return Gr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||$r(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(i)).join(" ");return wp.element.createElement(React.Fragment,null,wp.element.createElement(Jr,Br({className:"jet-form-dynamic-preset"},a),r,wp.element.createElement("div",{className:p,onClick:f},wp.element.createElement(qr,{viewBox:"0 0 54 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement(Vr,{d:"M42.6396 26.4347C37.8682 27.3436 32.5666 28.0252 27.1894 28.0252C21.8121 28.0252 16.4348 27.3436 11.7391 26.4347C6.96774 25.4502 3.18093 23.8597 0.37868 21.9663L0.37868 28.0252C0.37868 29.5399 1.59046 31.1304 3.78682 32.4179C5.98317 33.7054 9.46704 34.9172 13.6325 35.5988C17.798 36.2805 22.115 36.8106 27.1894 36.8106C32.2637 36.8106 36.6564 36.5077 40.7462 35.5988C44.8359 34.69 48.3198 33.7054 50.5162 32.4179C52.7125 31.1304 54 29.5399 54 28.0252L54 21.9663C51.122 23.8597 47.3352 25.4502 42.6396 26.4347ZM42.6396 53.5484C37.8682 54.5329 32.5666 55.1388 27.1894 55.1388C21.8121 55.1388 16.4348 54.5329 11.7391 53.5484C7.04348 52.5638 3.18093 51.0491 0.378682 49.1556L0.378682 55.1388C0.378683 56.7293 1.59046 58.3197 3.78682 59.5315C6.36186 60.819 9.46705 62.1066 13.6325 62.7125C17.7223 63.697 22.115 64 27.1894 64C32.2637 64 36.6564 63.697 40.7462 62.7125C44.8359 61.8036 48.3198 60.819 50.5162 59.5315C52.7125 57.9411 54 56.7293 54 54.8359L54 48.8527C51.122 51.0491 47.3352 52.2608 42.6396 53.5484ZM42.6396 39.9915C37.8682 40.9004 32.5666 41.582 27.1894 41.582C21.8121 41.582 16.4348 40.9004 11.7391 39.9915C6.96774 39.007 3.18093 37.4922 0.378681 35.5988L0.378681 41.582C0.378681 43.1725 1.59046 44.6872 3.78682 45.9747C6.36185 47.2622 9.46705 48.474 13.6325 49.1556C17.7223 50.0645 22.115 50.3674 27.1894 50.3674C32.2637 50.3674 36.6564 50.0645 40.7462 49.1556C44.8359 48.1711 48.3198 47.2622 50.5162 45.9747C52.7125 44.3843 54 43.1725 54 41.582L54 35.5988C51.122 37.4922 47.3352 39.007 42.6396 39.9915ZM40.4432 2.12337C36.3535 1.13879 31.885 0.835848 26.8864 0.835849C21.8878 0.835849 17.4194 1.13879 13.2539 2.12337C9.08836 3.10794 5.68022 4.01678 3.48387 5.3043C1.28751 6.59181 -3.4782e-06 8.10654 -3.33916e-06 9.697L-2.95513e-06 14.0897C-2.81609e-06 15.6802 1.28752 17.2706 3.48387 18.5582C6.05891 19.7699 9.1641 21.0575 13.2539 21.6633C17.3436 22.2692 21.8121 22.9509 26.8864 22.9509C31.9607 22.9509 36.3535 22.9509 40.4432 22.345C44.533 21.7391 48.0169 20.4516 50.2132 19.164C52.7125 17.5736 54 15.9831 54 14.3927L54 9.99995C54 8.40948 52.7125 6.81902 50.5162 5.60724C48.3198 4.39546 44.533 2.72926 40.4432 2.12337Z",fill:"#7E8993"})))),c&&wp.element.createElement(m,{onRequestClose:f,classNames:["width-60"],title:"Edit Preset"},(function(e){return wp.element.createElement(n,e)})))},GlobalField:or,AvailableMapField:function(e){var t=e.fieldsMap,r=e.field,n=e.index,o=e.value,i=e.onChangeValue,l=e.isMapFieldVisible,a=null;t||(t={}),(a=t[r])&&"object"===Kr(a)||(a={});var u=function(e){var t=e.field,r=e.name,n=e.index,o=e.fIndex,i=e.children;return wp.element.createElement(rn,{key:t+r+n+o,size:"extraSmall",style:{marginBottom:"10px"}},wp.element.createElement(on,null,wp.element.createElement("span",{className:"jet-label-overflow"},t)),wp.element.createElement(nn,{key:t+r+n+o,className:"jet-form-preset__fields-map-item"},i))};return wp.element.createElement(React.Fragment,{key:"map_field_preset_".concat(r+n)},window.JetFormEditorData.presetConfig.map_fields.map((function(e,c){var s={field:r,name:e.name,index:n,fIndex:c},f="control_"+r+e.name+n+c;switch(e.type){case"text":return l(o,e,r)&&function(e,t){var r=e.field,n=e.name,o=e.index,i=e.fIndex;return wp.element.createElement(rn,{key:r+n+o+i,size:"extraSmall",style:{marginBottom:"10px"}},wp.element.createElement(on,null,wp.element.createElement("span",{className:"jet-label-overflow"},r)),wp.element.createElement(nn,{key:r+n+o+i,className:"jet-form-preset__fields-map-item"},t))}(s,wp.element.createElement(Qr,{key:f+"TextControl",placeholder:e.label,value:a[e.name],onChange:function(n){a[e.name]=n,i(Wr(Wr({},t),{},Yr({},r,a)),"fields_map")}}));case"select":return l(o,e,r)&&wp.element.createElement(u,Xr({},s,{key:f}),wp.element.createElement(en,{options:e.options,labelPosition:"top",value:a[e.name],onChange:function(n){a[e.name]=n,i(Wr(Wr({},t),{},Yr({},r,a)),"fields_map")}}));case"custom_select":return l(o,e,r)&&wp.element.createElement(u,Xr({},s,{key:f}),wp.element.createElement(tn,{options:e.options,onChange:function(n){var o=n.selectedItem;a[e.name]=o.key,i(Wr(Wr({},t),{},Yr({},r,a)),"fields_map")},value:e.options.find((function(t){return t.key===a[e.name]}))}));case"grouped_select":return l(o,e,r)&&wp.element.createElement(u,Xr({},s,{key:f}),wp.element.createElement(ur,{options:e.options,labelPosition:"top",value:a[e.name],onChange:function(n){a[e.name]=n,i(Wr(Wr({},t),{},Yr({},r,a)),"fields_map")}}))}})))},MapField:mr,FieldWrapper:function(e){var t=e.attributes,r=e.editProps.uniqKey,n=e.children,o=e.wrapClasses,i=void 0===o?[]:o,l=e.valueIfEmptyLabel,a=void 0===l?"":l,u=e.setAttributes,c=e.childrenPosition,s=void 0===c?"between":c,f=Ye("_jf_args"),p=An((function(){gn(t,u)}));function m(){return wp.element.createElement(jn.VisualLabel,null,Cn(Pn("input label:","jet-form-builder")),wp.element.createElement("div",{className:"jet-form-builder__label"},wp.element.createElement(Sn,wn({key:r("rich-label"),placeholder:"Label...",allowedFormats:[],value:t.label?t.label:a,onChange:function(e){return u({label:e})},isSelected:!1},p)),t.required&&wp.element.createElement("span",{className:"jet-form-builder__required"},f.required_mark?f.required_mark:"*")))}function y(){return wp.element.createElement("div",{className:"jet-form-builder__desc--wrapper"},Cn(Pn("input description:","jet-form-builder")),wp.element.createElement(jn,{key:"custom_help_description",className:"jet-form-builder__desc"},wp.element.createElement("div",{className:"components-base-control__help"},wp.element.createElement(Sn,{key:r("rich-description"),tagName:"small",placeholder:"Description...",allowedFormats:[],value:t.desc,onChange:function(e){return u({desc:e})},style:{marginTop:"0px"}}))))}return"row"===f.fields_layout&&i.push("jet-form-builder-row__flex"),wp.element.createElement(jn,{key:r("placeHolder_block"),className:U("jet-form-builder__field-wrap","jet-form-builder-row",i)},"row"!==f.fields_layout&&wp.element.createElement(React.Fragment,null,"top"===s&&n,m(),"between"===s&&n,y(),"bottom"===s&&n),"row"===f.fields_layout&&wp.element.createElement(React.Fragment,null,wp.element.createElement("div",{className:"jet-form-builder-row__flex--label"},m(),y()),wp.element.createElement("div",{className:"jet-form-builder-row__flex--content"},n)))},MacrosInserter:function(e){e.children;var t=e.fields,r=e.onFieldClick,n=e.customMacros,o=e.zIndex,i=void 0===o?1e6:o,l=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,In),a=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return kn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?kn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Dn((function(){return!1})),2),u=a[0],c=a[1];return wp.element.createElement("div",{className:"jet-form-editor__macros-inserter"},wp.element.createElement(Nn,{isTertiary:!0,isSmall:!0,icon:u?"no-alt":"admin-tools",label:"Insert macros",className:"jet-form-editor__macros-trigger",onClick:function(){c((function(e){return!e}))}}),u&&wp.element.createElement(xn,_n({style:{zIndex:i},position:"bottom left"},l),t.length&&wp.element.createElement(Rn,{title:"Form Fields"},t.map((function(e){return wp.element.createElement("div",{key:"field_"+e.name},wp.element.createElement(Nn,{isLink:!0,onClick:function(){r(e.name)}},"%"+e.name+"%"))}))),n&&wp.element.createElement(Rn,{title:"Custom Macros"},n.map((function(e){return wp.element.createElement("div",{key:"macros_"+e},wp.element.createElement(Nn,{isLink:!0,onClick:function(){r(e)}},"%"+e+"%"))})))))},RepeaterWithState:function(e){var t=e.children,r=e.ItemHeading,n=e.repeaterClasses,o=void 0===n?[]:n,i=e.repeaterItemClasses,l=void 0===i?[]:i,a=e.newItem,u=e.addNewButtonLabel,c=void 0===u?"Add New":u,s=e.items,f=void 0===s?[]:s,p=e.isSaveAction,m=e.onSaveItems,y=e.onUnMount,d=e.onAddNewItem,b=e.onRemoveItem,v=e.help,h=void 0===v?{helpSource:{},helpVisible:function(){return!1},helpKey:""}:v,g=e.additionalControls,w=void 0===g?null:g,j=["jet-form-builder__repeater-component"].concat(Gn(o)).join(" "),S=["jet-form-builder__repeater-component-item"].concat(Gn(l)).join(" "),O=Mn(to([]),2),E=O[0],A=O[1];ro((function(){A(f&&f.length>0?f.map((function(e){return e.__visible=!1,e})):[Bn(Bn({},a),{},{__visible:!0})])}),[]);var P=Mn(to(!0),2),C=P[0],I=P[1],_=function(e,t){A((function(r){var n=JSON.parse(JSON.stringify(r));return n[t]=Bn(Bn({},r[t]),e),n}))},k=function(e){var t=e.oldIndex,r=e.newIndex;A((function(e){var n=JSON.parse(JSON.stringify(e)),o=[n[t],n[r]];return n[r]=o[0],n[t]=o[1],n}))},T=function(e){return!(e<E.length-1)};ro((function(){if(!0===p){for(var e in E)for(var t in E[e])t.startsWith("__")&&delete E[e][t];m(E),y()}else!1===p&&y()}),[p]);var N=function(e){return"jet-form-builder-repeater__item_".concat(e)},x=h.helpSource,R=h.helpVisible,D=h.helpKey,F=R(E)&&x&&x[D];return wp.element.createElement("div",{className:j,key:"jet-form-builder-repeater"},F&&wp.element.createElement("p",null,x[D].label),0<E.length&&wp.element.createElement(React.Fragment,null,wp.element.createElement(Zn,null,wp.element.createElement(Qn,null,wp.element.createElement(Kn,{label:qn("Safe deleting","jet-form-builder"),checked:C,onChange:I})),wp.element.createElement(Qn,{style:{flex:"unset",marginBottom:"1em"}}))),w,E.map((function(e,n){return wp.element.createElement(zn,{elevation:2,className:S,key:N(n)},wp.element.createElement(Yn,{className:"repeater__item__header"},wp.element.createElement("div",{className:"repeater-item__left-heading"},wp.element.createElement(Xn,{className:"repeater-action-buttons"},wp.element.createElement(Hn,{isSmall:!0,icon:e.__visible?"no-alt":"edit",onClick:function(){return function(e){A((function(t){var r=JSON.parse(JSON.stringify(t));return r[e].__visible=!r[e].__visible,r}))}(n)},className:"repeater-action-button"}),wp.element.createElement(Hn,{isSmall:!0,isSecondary:!0,disabled:!Boolean(n),icon:"arrow-up-alt2",onClick:function(){return function(e){k({oldIndex:e,newIndex:e-1})}(n)},className:"repeater-action-button"}),wp.element.createElement(Hn,{isSmall:!0,isSecondary:!0,disabled:T(n),icon:"arrow-down-alt2",onClick:function(){return function(e){k({oldIndex:e,newIndex:e+1})}(n)},className:"repeater-action-button"})),wp.element.createElement("span",{className:"repeater-item-title"},r&&wp.element.createElement(r,{currentItem:e,index:n,changeCurrentItem:function(e){return _(e,n)}}),!r&&"#".concat(n+1))),wp.element.createElement(Xn,null,wp.element.createElement(Hn,{isSmall:!0,isSecondary:!0,onClick:function(){return function(e){A((function(t){var r=JSON.parse(JSON.stringify(t)),n=[r.slice(0,e+1),r.slice(e+1)],o=n[1];return[].concat(Gn(n[0]),[r[e]],Gn(o))}))}(n)}},qn("Clone","jet-form-builder")),wp.element.createElement(Hn,{isSmall:!0,isSecondary:!0,isDestructive:!0,onClick:function(){return function(e){C&&!function(e){return confirm(qn("Are you sure you want to remove item ".concat(e+1,"?"),"jet-form-builder"))}(e)||b&&!b(e,E)||A((function(t){var r=JSON.parse(JSON.stringify(t));return r.splice(e,1),r}))}(n)}},qn("Delete","jet-form-builder")))),e.__visible&&wp.element.createElement(Wn,{className:"repeater-item__content"},t&&wp.element.createElement(React.Fragment,{key:"repeater-component__item_".concat(n)},"function"==typeof t&&t({currentItem:e,changeCurrentItem:function(e){return _(e,n)},currentIndex:n}),"function"!=typeof t&&t),!t&&"Set up your Repeater Template, please."))})),1<E.length&&wp.element.createElement(React.Fragment,null,w,wp.element.createElement(Kn,{className:"jet-control-clear",label:qn("Safe deleting"),checked:C,onChange:I})),wp.element.createElement(Hn,{isSecondary:!0,onClick:function(){return e=a,d&&d(e,E),void A((function(t){return[].concat(Gn(t),[Bn(Bn({},e),{},{__visible:!0})])}));var e}},c))},AdvancedFields:function(){return wp.element.createElement(Eo,{title:Ao("Advanced","jet-form-builder"),key:"jet-form-advanced-fields",initialOpen:!1},wp.element.createElement(lo,null),wp.element.createElement(so,null),wp.element.createElement(yo,null),wp.element.createElement(go,null),wp.element.createElement(Oo,null))},GeneralFields:function(e){var t=e.hasMacro,r=void 0===t||t;return wp.element.createElement(Jl,{title:Hl("General","jet-form-builder"),key:"jet-form-general-fields"},wp.element.createElement(xo,null),wp.element.createElement(Vo,null),wp.element.createElement(Xo,null),wp.element.createElement(ql,{hasMacro:r}))},ToolBarFields:function(e){var t=e.children;return wp.element.createElement(ta,null,wp.element.createElement(ia,null),t)},FieldControl:function(e){var t=e.setAttributes,r=e.attributes,n=function(e){var t=e.type,r=e.attributes,n=e.attrsSettings,o=void 0===n?{}:n,i=Wb()["data-type"],l=xa();return l[t]?l[t].attrs.filter((function(e){e.help;var t=e.attrName,n=(e.label,Xb(e,Jb)),l=t in r,a=function(e){if(!e.condition)return!0;if(i&&e.condition.blockName){if("string"==typeof e.condition.blockName&&i!==e.condition.blockName)return!1;if("object"===zb(e.condition.blockName)&&e.condition.blockName.length&&!e.condition.blockName.includes(i))return!1}return!(!function(){if("object"!==zb(e.condition.attr))return!0;var t=e.condition.attr,n=t.operator,o=void 0===n?"and":n,i=t.items,l=void 0===i?{}:i;if("or"===o.toLowerCase())for(var a in l)if(l[a]===r[a])return!0;return"and"!==o.toLowerCase()||function(){for(var e in l)if(l[e]!==r[e])return!1;return!0}()}()||"string"==typeof e.condition.attr&&e.condition.attr&&!r[e.condition.attr]||"string"==typeof e.condition&&!r[e.condition])}(n),u=t in o&&"show"in o[t]&&!1===o[t].show;return l&&a&&!u})):[]}(e),o=function(e,r){t(function(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==zb(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==zb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===zb(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},r,e))};return n.map((function(e){var t=e.help,n=void 0===t?"":t,i=e.attrName,l=e.label,a=Xb(e,Hb);switch(a.type){case"text":return wp.element.createElement(Kb,{key:"".concat(a.type,"-").concat(i,"-TextControl"),label:l,help:n,value:r[i],onChange:function(e){return o(e,i)}});case"select":return wp.element.createElement(Zb,{key:"".concat(a.type,"-").concat(i,"-SelectControl"),label:l,help:n,value:r[i],options:a.options,onChange:function(e){o(e,i)}});case"toggle":return wp.element.createElement(Qb,{key:"".concat(a.type,"-").concat(i,"-ToggleControl"),label:l,help:n,checked:r[i],onChange:function(e){o(e,i)}});case"number":return wp.element.createElement(ev,{key:"".concat(a.type,"-").concat(i,"-BaseControl"),label:l},wp.element.createElement(rv,{key:"".concat(a.type,"-").concat(i,"-NumberControl"),value:r[i],onChange:function(e){o(Number(e),i)}}),wp.element.createElement("p",{className:"components-base-control__help",style:{color:"rgb(117, 117, 117)"}},n))}}))},PlaceholderMessage:function(e){var t=e.style,r=e.children,n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?aa(Object(r),!0).forEach((function(t){ua(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({fontSize:"1.5em",padding:"2em",textAlign:"center",backgroundColor:"aliceblue"},t);return wp.element.createElement("p",{style:n},r)},HorizontalLine:function(e){return wp.element.createElement("hr",{style:Oa({},e)})},FieldSettingsWrapper:function(e){var t=e.title,r=e.children,n=Ta()["data-type"].replace("/","-"),o=ka("jet.fb.render.settings.".concat(n),null);return(r||o)&&wp.element.createElement(_a,{title:t||Ia("Field","jet-form-builder")},r,o)},ActionMessages:function(e){var t=e.settings,r=e.source,n=e.getMapField,o=e.setMapField,i=e.messages,l=e.onChangeSetting;return ga((function(){var e=t.messages||{},n={};Object.entries(r.__messages).forEach((function(t){var r=ma(t,2),o=r[0],i=r[1];e[o]||(n[o]=i.value)})),n&&l(fa(fa({},e),n),"messages")}),[]),wp.element.createElement(va,{label:wa("Messages Settings:"),key:"messages_settings_fields"},wp.element.createElement("div",{className:"jet-user-fields-map__list"},t.messages&&Object.entries(t.messages).map((function(e,t){var r,l=ma(e,2),a=l[0];return l[1],wp.element.createElement("div",{className:"jet-user-meta__row",key:"message_"+a+t},wp.element.createElement(ba,{key:a+t,label:i(a).label,value:(r=a,n({name:r,source:"messages"})),onChange:function(e){o({value:e,nameField:a,source:"messages"})}}))}))))},GroupedSelectControl:ur,BaseHelp:$a,ValidateButtonWithStore:function(e){var t=za((function(e){return e("jet-forms/actions").getCurrentAction()}),[]);return wp.element.createElement(Ha,Xa({id:t.id},e))},GatewayFetchButton:Qa,ValidationToggleGroup:function(e){var t,r,n=e.excludeBrowser,o=void 0!==n&&n,i=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Lp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Lp(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Ut(),2),l=i[0],a=i[1],u=Dt();return Vp=Vp.filter((function(e){return"browser"!==e.value||!o})),wp.element.createElement($p,{onChange:function(e){return a((function(t){return Fp(Fp({},t),{},{validation:Fp(Fp({},l.validation),{},{type:e})})}))},value:null!==(t=null===(r=l.validation)||void 0===r?void 0:r.type)&&void 0!==t?t:"",label:Up("Validation type","jet-form-builder"),isBlock:!0,isAdaptiveWidth:!1},wp.element.createElement(Gp,{label:Up("Inherit","jet-form-builder"),value:"","aria-label":Up("Inherit from form's args","jet-form-builder"),showTooltip:!0}),Vp.map((function(e){return wp.element.createElement(Gp,{key:u(e.value+"_key"),label:e.label,value:e.value,"aria-label":e.title,showTooltip:!0})})))},ValidationBlockMessage:function(e){var t,r,n,o,i,l=e.name,a=Dt(),u=Yp(Ut(),2),c=u[0],s=u[1],f=Yp(ge("_jf_validation","{}",[]),1)[0],p=!(null!==(t=c.validation)&&void 0!==t&&t.type),m=p?null!==(r=null==f?void 0:f.messages)&&void 0!==r?r:{}:null!==(n=null===(o=c.validation)||void 0===o?void 0:o.messages)&&void 0!==n?n:{},y=Jp(l);return wp.element.createElement(React.Fragment,null,wp.element.createElement(Zp,{disabled:p,key:a("massage_"+l),label:null==y?void 0:y.label,help:null==y?void 0:y.help,value:null!==(i=m[l])&&void 0!==i?i:null==y?void 0:y.initial,onChange:function(e){return s((function(t){return zp(zp({},t),{},{validation:zp(zp({},c.validation),{},{messages:zp(zp({},m),{},Wp({},l,e))})})}))}}))},ValidationMetaMessage:function(e){var t=e.message,r=e.update,n=e.value,o=void 0===n?null:n,i=e.help,l=void 0===i?null:i,a=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,em),u=Jp(t.id);return wp.element.createElement("div",a,wp.element.createElement("label",{htmlFor:t.id,className:"jet-fb flex jc-space-between"},wp.element.createElement("span",null,u.label),wp.element.createElement("span",{className:"jet-fb flex gap-1em"},t.blocks.map((function(e){return wp.element.createElement("span",{key:"message_block_item"+e.title,className:"jet-fb-validation-messages-item-heading-pair__icon"},wp.element.createElement(lm,{text:e.title,delay:200,position:"top center"},wp.element.createElement("div",null,e.icon)))})))),wp.element.createElement(im,{id:t.id,key:"validation_message_"+t.id,help:null!=l?l:null==u?void 0:u.help,value:null!=o?o:null==u?void 0:u.initial,onChange:function(e){return r((function(r){return rm(rm({},r),{},nm({},t.id,e))}))}}))},ActionFetchButton:hm,DynamicValues:jd,EditAdvancedRulesButton:function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ub(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ub(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Vb(!1),2),t=e[0],r=e[1];return wp.element.createElement(React.Fragment,null,wp.element.createElement(ab.Provider,{value:{showModal:t,setShowModal:r}},wp.element.createElement("div",{className:"jet-fb mb-24"},wp.element.createElement(Gb,null))),t&&wp.element.createElement(m,{title:qb("Edit Advanced Rules","jet-form-builder"),classNames:["width-60"],onRequestClose:function(){return r(!1)}},wp.element.createElement(lb,null)))},RepeaterStateContext:jp,RepeaterState:gm,BlockLabel:xo,BlockName:Vo,BlockDescription:Xo,BlockDefaultValue:ql,BlockPlaceholder:lo,BlockAddPrevButton:so,BlockPrevButtonLabel:yo,BlockVisibility:go,BlockClassName:Oo,BlockAdvancedValue:function(e){var t=e.help,r=e.label,n=e.hasMacro,o=void 0===n||n,i=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,nv);return wp.element.createElement("div",i,wp.element.createElement(ql,{help:t,label:r,hasMacro:o}),wp.element.createElement("hr",null),wp.element.createElement(jd,null))},MacrosFields:gl,MacrosButtonTemplate:ci,MacrosFieldsTemplate:Ii,ShowPopoverContext:Qo,PopoverItem:fi,PresetButton:Zo,ConditionItem:by,AdvancedInspectorControl:Il,AdvancedModalControl:Qm,ClientSideMacros:Rl,ToggleControl:function(e){var t=e.checked,r=void 0!==t&&t,n=e.onChange,o=void 0===n?function(){}:n,i=e.children,l=void 0===i?null:i,a=e.help,u=void 0===a?null:a,c=wp.element.createElement("div",{className:"jet-fb flex"},wp.element.createElement(ov,{checked:r,onChange:o}),wp.element.createElement("div",{className:"jet-fb--label"},l)),s=u;return null===u?c:wp.element.createElement("div",null,c,"string"==typeof s?wp.element.createElement($a,null,s):wp.element.createElement(s,null))},BaseAction:Ue,BaseComputedField:lv,DetailsContainer:Wy,HoverContainer:zy,ContainersList:ud,HumanReadableConditions:Xy,ConditionsRepeaterContextProvider:wy,ServerSideMacros:function(e){var t=e.children,r=ze();return wp.element.createElement(si.Provider,{value:{afterFields:r}},t)},ActionsFlow:sv},window.JetFBActions={addAction:function(e,t){wp.data.dispatch("jet-forms/actions").addCallback(e,t)},withPreset:er,getInnerBlocks:le,getAvailableFieldsString:function(e){var t=Z([e]),r=[];return t.forEach((function(e){r.push("%FIELD::"+e+"%")})),Q("Available fields: ","jet-form-builder")+r.join(", ")},getAvailableFields:Z,getFormFieldsBlocks:K,getFieldsWithoutCurrent:ie,gatewayAttr:ue,gatewayLabel:ce,registerGateway:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"cred";window.JetFBGatewaysList=window.JetFBGatewaysList||{},window.JetFBGatewaysList[e]=window.JetFBGatewaysList[e]||{},window.JetFBGatewaysList[e][r]=t},Tools:V,event:function(e){var t=new Event(e);return function(){return document.dispatchEvent(t)}},listen:function(e,t){document.addEventListener(e,t)},renderGateway:fe,renderGatewayWithPlaceholder:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"cred",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return se(e,r)?(t.Placeholder=n,fe(e,t,r)):n},globalTab:it,versionCompare:function(e,t,r){try{return function(e){switch(e){case">":return N;case">=":return R;case"<":return x;case"<=":return D}return function(){return!1}}(r)(e,t)}catch(e){return!1}},convertListToFieldsMap:function(){for(var e=[],t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];for(var o=0,i=r;o<i.length;o++){var l=i[o];e.push.apply(e,Pa(l.map((function(e){return[e.value,e]}))))}return e},maybeCyrToLatin:$,getConvertedName:G,getBlockControls:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";if(!e)return!1;var t=xa();return"all"===e?t:!!(t[e]&&t[e].attrs&&Array.isArray(t[e].attrs)&&0<t[e].attrs.length)&&t[e].attrs},classnames:U,getBlocksByName:function(e){var t=[];return J((function(r){e.includes(r.name)&&t.push(r)})),t},convertObjectToOptionsList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.usePlaceholder,n=void 0===r||r,o=t.label,i=void 0===o?"--":o,l=t.value,a=void 0===l?"":l,u={label:i,value:a};if(!e)return n?[u]:[];var c=Object.entries(e).map((function(e){var t=P(e,2);return{value:t[0],label:t[1]}}));return n?[u].concat(I(c)):c},appendField:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];ae("jet.fb.register.fields","jet-form-builder",(function(r){return r.map((function(r){return t.length&&!t.includes(r.name)?r:e(r)}))}))},insertMacro:Dl,addDetail:function(e,t){return wp.data.dispatch("jet-forms/actions").addDetail(e,t)},column:L,addComputedField:function(e){wp.data.dispatch("jet-forms/actions").addComputedField(e)},getCurrentInnerBlocks:function(){var e=av()["data-block"];return le(e)},humanReadableCondition:hy,convertFlow:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=[],n=fv(t);try{for(n.s();!(e=n.n()).done;){var o=e.value,i=new Ue(o),l=i.settings;i.settings={},i.selfSettings=l,r.push(i)}}catch(e){n.e(e)}finally{n.f()}return new sv(r)}},window.JetFBHooks={useActions:we,useMetaState:ge,useSelectPostMeta:Ye,useStateValidClasses:E,useStateLoadingClasses:Ae,useSuccessNotice:Fe,useRequestEvents:function(){var e=kt((function(e){return e("jet-forms/actions").getCurrentAction()})),t=[].concat(It(Pt()),It(St()),It(function(e){var t=e.index,r=Ye("_jf_actions");r.splice(t,1);var n,o=[],i=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=vt(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){a=!0,i=e},f:function(){try{l||null==r.return||r.return()}finally{if(a)throw i}}}}(r);try{for(i.s();!(n=i.n()).done;){var l,a=n.value,u=a.settings[a.type],c=void 0===u?{}:u;null!==(l=c.provideEvents)&&void 0!==l&&l.length&&o.push.apply(o,bt(c.provideEvents))}}catch(e){i.e(e)}finally{i.f()}return bt(new Set(o))}(e)),It(Ct((function(e){return e("jet-forms/events").getDynamicTypes().map((function(e){return e.value}))}))));return kt((function(r){return r("jet-forms/events").filterList(e.type,t)}))},useBlockConditions:xt,useUniqKey:Dt,useBlockAttributes:Ut,useIsAdvancedValidation:function(){var e,t,r=Ye("_jf_validation").type,n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Vt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Vt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Ut(),1)[0];return null!==(e=n.validation)&&void 0!==e&&e.type?"advanced"===(null===(t=n.validation)||void 0===t?void 0:t.type):"advanced"===r},useActionButtonEdit:function(e){return qt((function(t){return t("jet-forms/action-buttons").getButtonEdit(e)}),[e])},useGroupedValidationMessages:function(){return function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||mn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(bn(hn),1)[0]},useSanitizeFieldsMap:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"fields_map",t=ze(),r=yt(at),n=r.settings,o=r.onChangeSettingObj;mt((function(){if(n.hasOwnProperty(e)){var r=[].concat(st(K()),st(t)),i=n[e],l=function(e){return-1!==r.findIndex((function(t){return t.value===e}))};for(var a in i)i.hasOwnProperty(a)&&(l(a)||delete i[a]);o(ct({},e,i))}}),[])},withRequestFields:function(e){var t=e("core/editor").getEditedPostAttribute("meta")||{},r=JSON.parse(t._jf_actions||"[]"),n=e("jet-forms/actions").getCurrentAction();return r.splice(n.index),{requestFields:Xe(He(r),r)}},useRequestFields:ze,withSelectActionLoading:dt,withSelectFormFields:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(n){var o=[],i=["submit","form-break","heading","group-break","conditional"].concat(tt(e));return ot((function(e){e.name.includes("jet-forms/")&&e.attributes.name&&!i.find((function(t){return e.name.includes(t)}))&&o.push({blockName:e.name,name:e.attributes.name,label:e.attributes.label||e.attributes.name,value:e.attributes.name})}),n("core/block-editor").getBlocks()),o=t?[{value:"",label:t}].concat(tt(o)):o,{formFields:r?o:nt("jet.fb.getFormFieldsBlocks",o)}}},withSelectGateways:lt,withDispatchGateways:function(e){var t=e("jet-forms/gateways");return{setGatewayRequest:t.setRequest,setGatewayScenario:t.setScenario,setScenario:t.setCurrentScenario,setGateway:t.setGateway,setGatewayInner:t.setGatewayInner,setGatewaySpecific:t.setGatewaySpecific,clearGateway:t.clearGateway,clearScenario:t.clearScenario}},useOnUpdateModal:et,useInsertMacro:Bl,useIsHasAttribute:Xt,useCurrentAction:vv,useUpdateCurrentAction:function(){var e=vv().currentAction,t=kv("jet-forms/actions",[]),r=t.setCurrentAction,n=t.clearCurrent,o=t.updateCurrentConditions;return{setCurrentAction:r,setTypeSettings:function(t){r(Iv(Iv({},e),{},{settings:Iv(Iv({},e.settings),{},_v({},e.type,t))}))},clearCurrent:n,updateCurrentConditions:o}},useUpdateCurrentActionMeta:function(){var e=vv().currentAction,t=Av().updateActionObj;return function(r){t(e.id,r)}},useActionsEdit:Av,useActionCallback:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Tv((function(t){return e?t("jet-forms/actions").getCallback(e):t("jet-forms/actions").getCurrentCallback()}),[e])},useActionDetail:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Nv((function(t){return e?t("jet-forms/actions").getDetail(e):t("jet-forms/actions").getCurrentDetail()}),[e])},useUniqueNameOnDuplicate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Mv(),r=Ut(),n=xv(r,2),o=n[1],i=t["data-block"],l=Fv((function(e){if(!e(pl).isRecentlyAdded(i))return!1;var t=e(pl).getUniqueNames(i),r=t.hasChanged,n=t.names;return!!r&&n}),[i]);Dv((function(){l&&("function"!=typeof e?o({name:l.split("|")[0]}):e(l))}),[l])},useFields:bl}})()})();