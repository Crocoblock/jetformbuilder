!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=29)}({0:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=wp.components,m=p.SelectControl,d=p.TextControl,y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(s,wp.element.Component);var t,n,r,o=u(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this,e)).fieldTypes=t.props.fieldTypes,t.taxonomiesList=t.props.taxonomiesList,t.className=t.props.className,t.metaProp=t.props.metaProp?t.props.metaProp:"post_meta",t.termsProp=t.props.termsProp?t.props.termsProp:"post_terms",t.index=t.props.index,t.init(),t.bindFunctions(),t.state={type:t.getFieldType(t.props.fieldValue)},t}return t=s,(n=[{key:"bindFunctions",value:function(){this.onChangeType=this.onChangeType.bind(this),this.onChangeValue=this.onChangeValue.bind(this)}},{key:"init",value:function(){if(this.id="inspector-select-control-".concat(this.index),this.preparedTaxes=[],this.taxPrefix="jet_tax__",this.taxonomiesList)for(var e=0;e<this.taxonomiesList.length;e++)this.preparedTaxes.push({value:this.taxPrefix+this.taxonomiesList[e].value,label:this.taxonomiesList[e].label})}},{key:"getFieldName",value:function(e){if(!e)return"";var t=this.getFieldType(e);return this.termsProp===t||this.metaProp===t?e:""}},{key:"isTermOrMeta",value:function(e){return this.termsProp===e||this.metaProp===e}},{key:"getFieldType",value:function(e){if(!e)return"";for(var t=0;t<this.fieldTypes.length;t++)if(e===this.fieldTypes[t].value)return e;return e.includes(this.taxPrefix)?this.termsProp:this.metaProp}},{key:"onChangeValue",value:function(e){this.props.onChange(i(i({},this.props.fieldsMap),{},a({},this.props.fieldName,e)))}},{key:"onChangeType",value:function(e){var t=this.getFieldType(e);this.setState({type:t}),this.isTermOrMeta(t)&&(t=""),this.onChangeValue(t)}},{key:"render",value:function(){return wp.element.createElement("div",{className:"jet-fields-map__row"},wp.element.createElement("div",{className:"jet-post-field-control"},wp.element.createElement(m,{key:"field_type_"+this.props.fieldName+this.index,label:this.props.fieldName,labelPosition:"side",value:this.state.type,onChange:this.onChangeType,options:this.fieldTypes,style:{width:"160px"}}),this.metaProp===this.state.type&&wp.element.createElement(d,{key:"field_name_"+this.props.fieldName+this.index,value:this.props.fieldValue,onChange:this.onChangeValue,style:{width:"200px"}}),this.termsProp===this.state.type&&wp.element.createElement(m,{className:"jet-control-without-label",key:"field_tax_"+this.props.fieldName+this.index,value:this.props.fieldValue,onChange:this.onChangeValue,options:this.preparedTaxes,style:{width:"200px"}})))}}])&&l(t.prototype,n),r&&l(t,r),s}();t.a=y},29:function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.r(t);var i=wp.components.BaseControl;function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=function(e){var t=e.onRequestClose,n=e.children,r=e.title,o=e.classNames,i=void 0===o?[]:o,c=e.onUpdateClick,u=e.onCancelClick,s=wp.components,f=s.Button,p=s.ButtonGroup,m=s.Modal,d=wp.element,y=d.useState,b=(d.useEffect,["jet-form-edit-modal"].concat(l(i)).join(" ")),v=a(y(null),2),h=v[0],w=v[1];return wp.element.createElement(m,{onRequestClose:t,className:b,title:r},!n&&wp.element.createElement("div",{className:"jet-form-edit-modal__content"},"Action callback is not found."),n&&wp.element.createElement("div",null,wp.element.createElement("div",{className:"jet-form-edit-modal__content"},"function"==typeof n&&n({actionClick:h,onRequestClose:t}),"function"!=typeof n&&n),wp.element.createElement(p,{className:"jet-form-edit-modal__actions"},wp.element.createElement(f,{isPrimary:!0,onClick:function(){c&&c(),w(!0)}},"Update"),wp.element.createElement(f,{isSecondary:!0,style:{margin:"0 0 0 10px"},onClick:function(){u&&u(),w(!1)}},"Cancel"))))};function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}wp.i18n.__;var m=wp.components.Button;var d=function(e){var t=e.label,n=e.ajaxArgs,r=void 0===n?{}:n,o=e.onSuccessRequest,i=void 0===o?function(){}:o,a=e.onFailRequest,l=void 0===a?function(){}:a,c=e.onLoading,u=void 0===c?function(){}:c,s=e.className,f=void 0===s?"":s,p=e.children,d=void 0===p?function(){}:p;return wp.element.createElement(m,{key:"validate_api_key",isPrimary:!0,onClick:function(){u(),jQuery.ajax({url:ajaxurl,type:"POST",data:r}).done((function(e){return e.success?i(e):l()})).fail((function(){return l()}))},className:f},d&&d,t)};function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=wp.element,j=g.useState,O=g.useEffect,_=wp.data,S=_.useSelect,E=_.useDispatch,C=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=S((function(e){return e("core/editor").getEditedPostAttribute("meta")||{}})),n=E("core/editor"),r=n.editPost,o=j(JSON.parse(t._jf_actions||"[]")),i=h(o,2),a=i[0],l=i[1];return O((function(){e&&r({meta:b(b({},t),{},{_jf_actions:JSON.stringify(a)})})}),[a]),[a,l]},P=["jet-form-validate-button"],k=function(e){var t=h(j(e?[].concat(P,["is-valid"]):e?void 0:[].concat(P,["is-invalid"])),2),n=t[0],r=t[1];return[n.join(" "),function(){r([].concat(P,["is-valid"]))},function(){r([].concat(P,["is-invalid"]))},function(){r([].concat(P,["loading"]))}]},A=function(){var e=h(j([].concat(P)),2),t=e[0],n=e[1];return[t.join(" "),function(){n([].concat(P,["loading"]))},function(){n(P)}]};function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var F=function(e){var t=e.initialValid,n=e.label,r=e.ajaxArgs,o=void 0===r?{}:r,i=e.onValid,a=void 0===i?function(){}:i,l=e.onInvalid,c=void 0===l?function(){}:l,u=x(k(t||!1),4),s=u[0],f=u[1],p=u[2],m=u[3];return wp.element.createElement(d,{ajaxArgs:o,label:n,onLoading:m,onSuccessRequest:function(e){f(),a(e)},onFailRequest:function(){p(),c()},className:s},wp.element.createElement("i",{className:"dashicons"}))};var I=function(e){var t=L("getLocalizedFullPack")(e.type),n=t.gatewayAttrs,r=t.label,o=M(e.id);return n().map((function(t){return"".concat(r(t)," ").concat(function(t){return o[t]?o[t]:o[e.type]&&o[e.type][t]?o[e.type][t]:"NULL"}(t))})).join(", ")};function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var D=function(e){return T(C(),1)[0].filter((function(t){return e===t.type}))},L=function(e){return e?window.JetFBLocalizeHelper[e]:window.JetFBLocalizeHelper},M=function(e){var t=T(C(),1)[0].find((function(t){return e===t.id}));return!(!t||!t.settings)&&t.settings};function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){J(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U=function(e,t){window.jetFormDefaultActions=window.jetFormDefaultActions||{},window.jetFormDefaultActions[e]=function(e,t){var n=L("getLocalizedFullPack")(e);return function(e){var r={onChangeSetting:function(t,n){e.onChange(R(R({},e.settings),{},J({},n,t)))},getMapField:function(t){var n=t.source,r=void 0===n?"fields_map":n,o=t.name,i=e.settings;return void 0!==i[r]&&void 0!==i[r][o]?i[r][o]:""},setMapField:function(t){var n=t.source,r=void 0===n?"fields_map":n,o=t.nameField,i=t.value,a=R(R({},e.settings[r]),{},J({},o,i));e.onChange(R(R({},e.settings),{},J({},r,a)))}};return wp.element.createElement(t,V({},e,n,r))}}(e,t)};function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e){return function(e){if(Array.isArray(e))return H(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}wp.i18n.__;var z=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getLabel",value:function(e,t){var n={};return n.name=t.label,t.required&&(n.mark=JSON.parse(e._jf_args).required_mark||""),n}},{key:"withPlaceholder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"--",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return[{label:t,value:n}].concat($(e))}},{key:"isEmptyObject",value:function(e){return"object"===G(e)&&0===Object.keys(e).length}},{key:"getFuncCondition",value:function(e){return new Function("return window.JetFormBuilderConditions[ '".concat(e,"' ]"))}},{key:"addConditionForCondType",value:function(e,t){window.JetFormBuilderConditions=window.JetFormBuilderConditions||{},window.JetFormBuilderConditions[e]=t}},{key:"parseConditionsFunc",value:function(t){var n=[];return t.forEach((function(t){t.condition?e.getFuncCondition(t.condition)()(t.value)&&n.push(t):n.push(t)})),n}}],(n=null)&&W(t.prototype,n),r&&W(t,r),e}();function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Z(e){return function(e){if(Array.isArray(e))return Q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var te=function(e){return function(t){var n=function(e,t){if(!t.condition&&!t.custom_condition)return!0;if(t.custom_condition)switch(t.custom_condition){case"query_var":return"post"===e.from&&"query_var"===e.post_from||"user"===e.from&&"query_var"===e.user_from||"query_var"===e.from}return!t.condition||e[t.condition.field]===t.condition.value};return wp.element.createElement(e,K({key:"wrapped-preset-editor"},t,{parseValue:function(){var e={};if("object"===ee(t.value))e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){Y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t.value);else if(t.value&&"string"==typeof t.value)try{if("number"==typeof(e=JSON.parse(t.value)))throw new Error}catch(t){e={}}return e.jet_preset=!0,e},isVisible:function(e,t,r){return(t.position&&r===t.position||!t.position||"query_var"!==e.from)&&n(e,t)},isMapFieldVisible:function(e,t,n){return!t.condition&&!t.parent_condition||(t.parent_condition&&!t.condition?e[t.parent_condition.field]===t.parent_condition.value:t.parent_condition&&t.condition?!(!e.fields_map||!e.fields_map[n])&&(e.fields_map[n][t.condition.field]===t.condition.value&&e[t.parent_condition.field]===t.parent_condition.value):!(!t.parent_condition&&t.condition)||!(!e.fields_map||!e.fields_map[n])&&e.fields_map[n][t.condition.field]===t.condition.value)},isCurrentFieldVisible:function(e,t,n){return!t.condition&&!t.parent_condition||(!t.position||n===t.position)&&(t.parent_condition&&!t.condition?e[t.parent_condition.field]===t.parent_condition.value:t.parent_condition&&t.condition?e["current_field_"+t.condition.field]===t.condition.value&&e[t.parent_condition.field]===t.parent_condition.value:!(!t.parent_condition&&t.condition)||e["current_field_"+t.condition.field]===t.condition.value)},excludeOptions:function(e){var n=Z(e);return n.forEach((function(e,r){t.excludeSources&&t.excludeSources.includes(e.value)&&n.splice(r,1)})),n}}))}};function ne(){return(ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ae=wp.components,le=ae.TextControl,ce=ae.SelectControl;function ue(e){var t=e.data,n=e.value,r=e.index,o=e.onChangeValue,i=e.isVisible,a=e.excludeOptions,l=void 0===a?function(e){return e}:a,c=e.position;switch(t.type){case"text":return i(n,t,c)&&wp.element.createElement("div",{key:"field_"+t.name+r,className:"jet-form-preset__row"},wp.element.createElement(le,{key:t.name+r,label:t.label,value:n[t.name],onChange:function(e){o(e,t.name)}}));case"select":return i(n,t,c)&&wp.element.createElement("div",{key:"field_"+t.name+r,className:"jet-form-preset__row"},wp.element.createElement(ce,{key:t.name+r,labelPosition:"side",options:l(t.options),label:t.label,value:n[t.name],onChange:function(e){o(e,t.name)}}))}return null}function se(e){var t=e.data,n=e.value,r=e.index,o=e.currentState,i=e.onChangeValue,a=e.isCurrentFieldVisible;e.position;switch(t.type){case"text":return a(o,t)&&wp.element.createElement("div",{key:t.name+r,className:"jet-form-preset__row"},wp.element.createElement(le,{key:"control_"+t.name+r,placeholder:t.label,value:n,onChange:function(e){i(e,"current_field_"+t.name)}}));case"select":return a(o,t)&&wp.element.createElement("div",{key:t.name+r,className:"jet-form-preset__row"},wp.element.createElement(ce,{key:"control_"+t.name+r,labelPosition:"side",options:t.options,label:t.label,value:n,onChange:function(e){i(e,"current_field_"+t.name)}}))}return null}function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function de(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ye(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var be=wp.element,ve=be.useState,he=be.useEffect;var we=te((function(e){var t=e.value,n=e.isSaveAction,r=e.onSavePreset,o=e.onUnMount,i=e.parseValue,a=e.excludeOptions,l=e.isCurrentFieldVisible,c=e.isVisible,u=de(ve((function(){return i(t)})),2),s=u[0],f=u[1],p=function(e,t){f((function(n){return pe(pe({},n),{},me({},t,e))}))};return he((function(){!0===n?(r&&r(JSON.stringify(s)),o()):!1===n&&o()}),[n]),wp.element.createElement(React.Fragment,null,window.JetFormEditorData.presetConfig.global_fields.map((function(e,t){return wp.element.createElement(ue,{key:"current_field_".concat(e.name,"_").concat(t),value:s,index:t,data:e,excludeOptions:a,onChangeValue:p,isVisible:c,position:"dynamic"})})),window.JetFormEditorData.presetConfig.map_fields.map((function(e,t){return wp.element.createElement(se,{key:"current_field_".concat(e.name,"_").concat(t),currentState:s,value:s["current_field_"+e.name],index:t,data:e,onChangeValue:p,isCurrentFieldVisible:l,position:"dynamic"})})))})),ge=n(0);function je(e){return function(e){if(Array.isArray(e))return Se(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||_e(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||_e(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _e(e,t){if(e){if("string"==typeof e)return Se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Se(e,t):void 0}}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ee=wp.components,Ce=Ee.Path,Pe=Ee.SVG,ke=wp.element.useState;var Ae=function(e){var t=e.children,n=void 0===t?null:t,r=e.ModalEditor,o=e.triggerClasses,i=void 0===o?[]:o,a=Oe(ke(!1),2),l=a[0],c=a[1],u=function(){c((function(e){return!e}))},f=["jet-form-dynamic-preset__trigger"].concat(je(i)).join(" ");return wp.element.createElement(React.Fragment,null,wp.element.createElement("div",{className:"jet-form-dynamic-preset"},n,wp.element.createElement("div",{className:f,onClick:u},wp.element.createElement(Pe,{viewBox:"0 0 54 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement(Ce,{d:"M42.6396 26.4347C37.8682 27.3436 32.5666 28.0252 27.1894 28.0252C21.8121 28.0252 16.4348 27.3436 11.7391 26.4347C6.96774 25.4502 3.18093 23.8597 0.37868 21.9663L0.37868 28.0252C0.37868 29.5399 1.59046 31.1304 3.78682 32.4179C5.98317 33.7054 9.46704 34.9172 13.6325 35.5988C17.798 36.2805 22.115 36.8106 27.1894 36.8106C32.2637 36.8106 36.6564 36.5077 40.7462 35.5988C44.8359 34.69 48.3198 33.7054 50.5162 32.4179C52.7125 31.1304 54 29.5399 54 28.0252L54 21.9663C51.122 23.8597 47.3352 25.4502 42.6396 26.4347ZM42.6396 53.5484C37.8682 54.5329 32.5666 55.1388 27.1894 55.1388C21.8121 55.1388 16.4348 54.5329 11.7391 53.5484C7.04348 52.5638 3.18093 51.0491 0.378682 49.1556L0.378682 55.1388C0.378683 56.7293 1.59046 58.3197 3.78682 59.5315C6.36186 60.819 9.46705 62.1066 13.6325 62.7125C17.7223 63.697 22.115 64 27.1894 64C32.2637 64 36.6564 63.697 40.7462 62.7125C44.8359 61.8036 48.3198 60.819 50.5162 59.5315C52.7125 57.9411 54 56.7293 54 54.8359L54 48.8527C51.122 51.0491 47.3352 52.2608 42.6396 53.5484ZM42.6396 39.9915C37.8682 40.9004 32.5666 41.582 27.1894 41.582C21.8121 41.582 16.4348 40.9004 11.7391 39.9915C6.96774 39.007 3.18093 37.4922 0.378681 35.5988L0.378681 41.582C0.378681 43.1725 1.59046 44.6872 3.78682 45.9747C6.36185 47.2622 9.46705 48.474 13.6325 49.1556C17.7223 50.0645 22.115 50.3674 27.1894 50.3674C32.2637 50.3674 36.6564 50.0645 40.7462 49.1556C44.8359 48.1711 48.3198 47.2622 50.5162 45.9747C52.7125 44.3843 54 43.1725 54 41.582L54 35.5988C51.122 37.4922 47.3352 39.007 42.6396 39.9915ZM40.4432 2.12337C36.3535 1.13879 31.885 0.835848 26.8864 0.835849C21.8878 0.835849 17.4194 1.13879 13.2539 2.12337C9.08836 3.10794 5.68022 4.01678 3.48387 5.3043C1.28751 6.59181 -3.4782e-06 8.10654 -3.33916e-06 9.697L-2.95513e-06 14.0897C-2.81609e-06 15.6802 1.28752 17.2706 3.48387 18.5582C6.05891 19.7699 9.1641 21.0575 13.2539 21.6633C17.3436 22.2692 21.8121 22.9509 26.8864 22.9509C31.9607 22.9509 36.3535 22.9509 40.4432 22.345C44.533 21.7391 48.0169 20.4516 50.2132 19.164C52.7125 17.5736 54 15.9831 54 14.3927L54 9.99995C54 8.40948 52.7125 6.81902 50.5162 5.60724C48.3198 4.39546 44.533 2.72926 40.4432 2.12337Z",fill:"#7E8993"})))),l&&wp.element.createElement(s,{onRequestClose:u,classNames:["width-60"],title:"Edit Preset"},(function(e){return wp.element.createElement(r,e)})))};function xe(e){return function(e){if(Array.isArray(e))return Ne(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ne(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Fe=wp.i18n.__,Ie=function(e){var t=function t(n){(n=n||wp.data.select("core/block-editor").getBlocks()).map((function(n){e(n),n.innerBlocks.length&&t(n.innerBlocks)}))};t()},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],r=["submit","form-break","heading","group-break"].concat(xe(e));return Ie((function(e){e.name.includes("jet-forms/")&&e.attributes.name&&!r.find((function(t){return e.name.includes(t)}))&&n.push({blockName:e.name,name:e.attributes.name,label:e.attributes.label||e.attributes.name,value:e.attributes.name})})),t?[{value:"",label:t}].concat(n):n},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[],n=Te(e);return n&&n.forEach((function(e){return t.push(e.name)})),t},De=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=window.JetFormEditorData.gateways;if(!e)return n;if(!n[e])return!1;var r=n[e];return function(e){return r[e]?r[e]:t}};var Le=function(e){var t=e.attributes,n=e.editProps.uniqKey,r=e.children,o=e.wrapClasses,i=void 0===o?[]:o,a=e.valueIfEmptyLabel,l=void 0===a?"":a,c=wp.components.BaseControl,u=(0,wp.data.useSelect)((function(e){return e("core/editor").getEditedPostAttribute("meta")||{}})),s=z.getLabel(u,t);return wp.element.createElement(c,{key:n("placeHolder_block"),className:"jet-form-builder__field-wrap jet-form-builder-row ".concat(i.join(" "))},wp.element.createElement(c.VisualLabel,null,wp.element.createElement("div",{className:"jet-form-builder__label"},s.name?s.name:l,t.required&&wp.element.createElement("span",{className:"jet-form-builder__required"},s.mark?s.mark:"*"))),r,wp.element.createElement(c,{key:"custom_help_description",className:"jet-form-builder__desc"},wp.element.createElement("small",{className:"components-base-control__help",style:{marginTop:"0px"}},t.desc)))};function Me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ve(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qe=wp.components,Re=qe.Button,Je=qe.Popover,Ue=qe.PanelBody,Ge=wp.element.useState;var $e=function(e){e.children;var t=e.fields,n=e.onFieldClick,r=e.customMacros,o=Me(Ge((function(){return!1})),2),i=o[0],a=o[1];return wp.element.createElement("div",{className:"jet-form-editor__macros-inserter"},wp.element.createElement(Re,{isTertiary:!0,isSmall:!0,icon:i?"no-alt":"admin-tools",label:"Insert macros",className:"jet-form-editor__macros-trigger",onClick:function(){a((function(e){return!e}))}}),i&&wp.element.createElement(Je,{position:"bottom left"},t.length&&wp.element.createElement(Ue,{title:"Form Fields"},t.map((function(e){return wp.element.createElement("div",{key:"field_"+e.name},wp.element.createElement(Re,{isLink:!0,onClick:function(){n(e.name)}},"%"+e.name+"%"))}))),r&&wp.element.createElement(Ue,{title:"Custom Macros"},r.map((function(e){return wp.element.createElement("div",{key:"macros_"+e},wp.element.createElement(Re,{isLink:!0,onClick:function(){n(e)}},"%"+e+"%"))})))))};function He(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||Qe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function We(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?We(Object(n),!0).forEach((function(t){Ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):We(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ze(e){return function(e){if(Array.isArray(e))return Xe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Qe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qe(e,t){if(e){if("string"==typeof e)return Xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xe(e,t):void 0}}function Xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ye=wp.i18n.__,et=wp.components,tt=et.Button,nt=et.ButtonGroup,rt=et.Card,ot=et.CardBody,it=et.CardHeader,at=et.ToggleControl,lt=wp.element,ct=lt.useState,ut=lt.useEffect;var st=function(e){var t=e.children,n=e.ItemHeading,r=e.repeaterClasses,o=void 0===r?[]:r,i=e.repeaterItemClasses,a=void 0===i?[]:i,l=e.newItem,c=e.addNewButtonLabel,u=void 0===c?"Add New":c,s=e.items,f=void 0===s?[]:s,p=e.isSaveAction,m=e.onSaveItems,d=e.onUnMount,y=e.onAddNewItem,b=e.onRemoveItem,v=e.help,h=void 0===v?{helpSource:{},helpVisible:function(){return!1},helpKey:""}:v,w=["jet-form-builder__repeater-component"].concat(Ze(o)).join(" "),g=["jet-form-builder__repeater-component-item"].concat(Ze(a)).join(" "),j=He(ct((function(){return function(){if(f&&f.length>0){var e=Ze(f);return e.forEach((function(e){e.__visible=!1})),e}return[ze(ze({},l),{},{__visible:!0})]}()})),2),O=j[0],_=j[1],S=He(ct(!0),2),E=S[0],C=S[1],P=function(e,t){_((function(n){return n[t]=ze(ze({},n[t]),e),Ze(n)}))},k=function(e){E&&!function(e){return confirm(Ye("Are you sure you want to remove item ".concat(e+1,"?"),"jet-form-builder"))}(e)||b&&!b(e,O)||_((function(t){var n=Ze(t);return n.splice(e,1),n}))},A=function(e){var t=e.oldIndex,n=e.newIndex;_((function(e){var r=[e[t],e[n]];return e[n]=r[0],e[t]=r[1],Ze(e)}))},x=function(e){return!(e<O.length-1)};ut((function(){if(!0===p){var e=Ze(O);m&&(e.forEach((function(t,n){for(var r in t)r.startsWith("__")&&delete e[n][r]})),m(e)),d()}else!1===p&&d()}),[p]);var N=function(e){return"jet-form-builder-repeater__item_".concat(e)},F=function(e){var r=e.currentItem,o=e.index;return wp.element.createElement(rt,{isElevated:!0,className:g,key:N(o),id:N(o)},wp.element.createElement(it,{className:"repeater__item__header"},wp.element.createElement("div",{className:"repeater-item__left-heading"},wp.element.createElement(nt,{className:"repeater-action-buttons"},wp.element.createElement(tt,{isSmall:!0,icon:r.__visible?"visibility":"hidden",onClick:function(){return function(e){_((function(t){return t[e].__visible=!t[e].__visible,Ze(t)}))}(o)},className:"repeater-action-button"}),wp.element.createElement(tt,{isSmall:!0,isSecondary:!0,disabled:!Boolean(o),icon:"arrow-up-alt2",onClick:function(){return function(e){A({oldIndex:e,newIndex:e-1})}(o)},className:"repeater-action-button"}),wp.element.createElement(tt,{isSmall:!0,isSecondary:!0,disabled:x(o),icon:"arrow-down-alt2",onClick:function(){return function(e){A({oldIndex:e,newIndex:e+1})}(o)},className:"repeater-action-button"})),wp.element.createElement("span",{className:"repeater-item-title"},n&&wp.element.createElement(n,{currentItem:r,index:o,changeCurrentItem:function(e){return P(e,o)}}),!n&&"#".concat(o+1))),wp.element.createElement(nt,null,wp.element.createElement(tt,{isSmall:!0,isSecondary:!0,onClick:function(){return function(e){_((function(t){var n=[t.slice(0,e+1),t.slice(e+1)],r=n[1];return[].concat(Ze(n[0]),[lodash.assign({},t[e])],Ze(r))}))}(o)}},Ye("Clone","jet-form-builder")),wp.element.createElement(tt,{isSmall:!0,isSecondary:!0,isDestructive:!0,onClick:function(){return k(o)}},Ye("Delete","jet-form-builder")))),r.__visible&&wp.element.createElement(ot,{className:"repeater-item__content"},t&&wp.element.createElement(React.Fragment,{key:"repeater-component__item_".concat(o)},"function"==typeof t&&t({currentItem:r,changeCurrentItem:function(e){return P(e,o)}}),"function"!=typeof t&&t),!t&&"Set up your Repeater Template, please."))},I=h.helpSource,T=h.helpVisible,B=h.helpKey,D=T(O)&&I&&I[B];return wp.element.createElement("div",{className:w,key:"jet-form-builder-repeater"},D&&wp.element.createElement("p",null,I[B].label),0<O.length&&wp.element.createElement(at,{label:Ye("Safe deleting"),checked:E,onChange:C}),O.map((function(e,t){return F({currentItem:e,index:t})})),1<O.length&&wp.element.createElement(at,{className:"jet-control-clear",label:Ye("Safe deleting"),checked:E,onChange:C}),wp.element.createElement(tt,{isSecondary:!0,onClick:function(){return e=l,y&&y(e,O),void _((function(t){return[].concat(Ze(t),[ze(ze({},e),{},{__visible:!0})])}));var e}},u))},ft=wp.i18n.__,pt=wp.hooks.applyFilters,mt=function(){return pt("jet.fb.register.fields.controls",{general:{label:ft("General"),attrs:[{attrName:"label",type:"text",label:ft("Field Label")},{attrName:"name",type:"text",label:ft("Form field name"),help:ft("Should contain only Latin letters, numbers, `-` or `_` chars, no spaces only lower case")},{attrName:"desc",type:"text",label:ft("Field Description")},{attrName:"default",type:"dynamic_text",label:ft("Default Value")}]},toolbar:{attrs:[{attrName:"required",type:"toggle",label:ft("Is Required")}]},advanced:{label:ft("Advanced"),attrs:[{attrName:"placeholder",type:"text",label:ft("Placeholder")},{attrName:"add_prev",type:"toggle",label:ft("Add Prev Page Button")},{attrName:"prev_label",type:"text",label:ft("Prev Page Button Label"),condition:"add_prev"},{attrName:"visibility",label:ft("Field Visibility"),type:"select",options:[{value:"all",label:ft("For all")},{value:"logged_id",label:ft("Only for logged in users")},{value:"not_logged_in",label:ft("Only for NOT-logged in users")}]},{attrName:"class_name",type:"text",label:ft("CSS Class Name")}]}})};function dt(){return(dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function yt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function bt(e){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var vt=(wp.blockEditor?wp.blockEditor:wp.editor).BlockControls,ht=wp.components,wt=ht.TextControl,gt=ht.SelectControl,jt=ht.PanelBody,Ot=ht.ToggleControl,_t=ht.ToolbarGroup,St=ht.Flex,Et=ht.BaseControl,Ct=ht.__experimentalNumberControl,Pt=wp.components.NumberControl;function kt(e){var t=e.type,n=e.setAttributes,r=e.attributes,o=e.attrsSettings,i=void 0===o?{}:o,a=e.editProps,l=a.attrHelp,c=void 0===l?function(){return""}:l,u=a.blockName,s=void 0===u?"":u,f=mt();if(!f[t])return null;var p=f[t],m=function(e,t){n(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,e))};return p.attrs.map((function(e){var t=e.help,n=void 0===t?"":t,o=e.attrName,a=e.label,l=yt(e,["help","attrName","label"]),u=o in r,f=function(e){if(!e.condition)return!0;if(s&&e.condition.blockName){if("string"==typeof e.condition.blockName&&s!==e.condition.blockName)return!1;if("object"===bt(e.condition.blockName)&&e.condition.blockName.length&&!e.condition.blockName.includes(s))return!1}return!(!function(){if("object"!==bt(e.condition.attr))return!0;var t=e.condition.attr,n=t.operator,o=void 0===n?"and":n,i=t.items,a=void 0===i?{}:i;if("or"===o.toLowerCase())for(var l in a){if(a[l]===r[l])return!0}return"and"!==o.toLowerCase()||function(){for(var e in a)if(a[e]!==r[e])return!1;return!0}()}()||"string"==typeof e.condition.attr&&e.condition.attr&&!r[e.condition.attr]||"string"==typeof e.condition&&!r[e.condition])}(l),p=o in i&&"show"in i[o]&&!1===i[o].show;if(!u||!f||p)return null;switch(l.type){case"text":return wp.element.createElement(wt,{key:"".concat(l.type,"-").concat(o,"-TextControl"),label:a,help:n,value:r[o],onChange:function(e){m(e,o)}});case"dynamic_text":return wp.element.createElement(Ae,{key:"".concat(l.type,"-").concat(o,"-FieldWithPreset"),ModalEditor:function(e){var t=e.actionClick,n=e.onRequestClose;return wp.element.createElement(we,{value:r[o],isSaveAction:t,onSavePreset:function(e){m(e,o)},onUnMount:n})}},wp.element.createElement(wt,{key:"".concat(l.type,"-").concat(o,"-TextControlDynamic"),label:a,help:n||c(o),value:r[o],onChange:function(e){m(e,o)}}));case"select":return wp.element.createElement(gt,{key:"".concat(l.type,"-").concat(o,"-SelectControl"),label:a,help:n||c(o),value:r[o],options:l.options,onChange:function(e){m(e,o)}});case"toggle":return wp.element.createElement(Ot,{key:"".concat(l.type,"-").concat(o,"-ToggleControl"),label:a,help:n||c(o),checked:r[o],onChange:function(e){m(e,o)}});case"number":return wp.element.createElement(Et,{key:"".concat(l.type,"-").concat(o,"-BaseControl"),label:a},wp.element.createElement(Pt,{key:"".concat(l.type,"-").concat(o,"-NumberControl"),value:r[o],onChange:function(e){m(Number(e),o)}}),wp.element.createElement("p",{className:"components-base-control__help",style:{color:"rgb(117, 117, 117)"}},n||c(o)))}}))}function At(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}void 0===Pt&&(Pt=Ct);var Nt=function(e){var t=e.style,n=e.children,r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?At(Object(n),!0).forEach((function(t){xt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):At(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({fontSize:"1.5em",padding:"2em",textAlign:"center",backgroundColor:"aliceblue"},t);return wp.element.createElement("p",{style:r},n)};function Ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(n),!0).forEach((function(t){Tt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bt=function(e){return wp.element.createElement("hr",{style:It({},e)})};function Dt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Lt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Mt=function(e){var t=e.label,n=e.ajaxArgs,r=void 0===n?{}:n,o=e.onSuccessRequest,i=void 0===o?function(){}:o,a=e.onFailRequest,l=void 0===a?function(){}:a,c=Dt(A(),3),u=c[0],s=c[1],f=c[2];return wp.element.createElement(d,{ajaxArgs:r,label:t,onLoading:s,onSuccessRequest:function(e){f(),i(e)},onFailRequest:function(){f(),l()},className:u},wp.element.createElement("i",{className:"dashicons"}))};function Vt(){return(Vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var qt=wp.i18n.__,Rt=wp.components.PanelBody;window.JetFBComponents={ActionFieldsMap:function(e){var t=e.fields,n=void 0===t?[]:t,o=e.label,a=void 0===o?"[Empty label]":o,l=e.children,c=void 0===l?function(){}:l;return wp.element.createElement(i,{label:a,key:"jet_fields_map"},wp.element.createElement("div",{className:"jet-user-fields-map__list"},n.map((function(e,t){var n=r(e,2),o=n[0],i=n[1];return wp.element.createElement(React.Fragment,{key:"field_in_map_".concat(o+t)},c({fieldId:o,fieldData:i,index:t}))}))))},ActionModal:s,RequestButton:d,ValidateButton:F,RequestLoadingButton:Mt,WrapperRequiredControl:function(e){var t=e.field,n=e.children,r=e.labelKey,o=void 0===r?"label":r,i=e.requiredKey,a=void 0===i?"required":i,l=f(t,2),c=l[0],u=l[1];return wp.element.createElement("div",{className:"jet-user-meta__row fields-map-control",key:"user_meta_"+c},wp.element.createElement("div",{className:"jet-field-map__row-label"},wp.element.createElement("span",{className:"fields-map__label"},u.hasOwnProperty(o)&&u[o]&&u[o],!u.hasOwnProperty(o)&&u),u.hasOwnProperty(a)&&u[a]&&wp.element.createElement("span",{className:"fields-map__required"}," *")),n)},DynamicPreset:we,JetFieldsMapControl:ge.a,FieldWithPreset:Ae,GlobalField:ue,AvailableMapField:function(e){var t=e.fieldsMap,n=e.field,r=e.index,o=e.value,i=e.onChangeValue,a=e.isMapFieldVisible,l=null;t||(t={}),(l=t[n])||(l={});var c=function(e){var t=e.field,n=e.name,r=e.index,o=e.fIndex,i=e.children;return wp.element.createElement(React.Fragment,null,wp.element.createElement("span",{className:"jet-label-overflow"},t),wp.element.createElement("div",{key:t+n+r+o,className:"jet-form-preset__fields-map-item"},i))};return wp.element.createElement(React.Fragment,{key:"map_field_preset_".concat(n+r)},window.JetFormEditorData.presetConfig.map_fields.map((function(e,u){var s={field:n,name:e.name,index:r,fIndex:u},f="control_"+n+e.name+r+u;switch(e.type){case"text":return a(o,e,n)&&wp.element.createElement(c,ne({},s,{key:f}),wp.element.createElement(le,{placeholder:e.label,value:l[e.name],onChange:function(r){l[e.name]=r,i(oe(oe({},t),{},ie({},n,l)),"fields_map")}}));case"select":return a(o,e,n)&&wp.element.createElement(c,ne({},s,{key:f}),wp.element.createElement(ce,{options:e.options,value:l[e.name],onChange:function(r){l[e.name]=r,i(oe(oe({},t),{},ie({},n,l)),"fields_map")}}))}})))},MapField:se,FieldWrapper:Le,MacrosInserter:$e,RepeaterWithState:st,AdvancedFields:function(e){var t=mt().advanced;return wp.element.createElement(jt,{title:t.label,key:"jet-form-advanced-fields",initialOpen:!1},wp.element.createElement(kt,dt({type:"advanced",key:"jet-form-advanced-fields-component"},e)),wp.element.createElement(kt,dt({type:"custom_advanced",key:"jet-form-advanced-custom-fields-component"},e)))},GeneralFields:function(e){var t=mt().general;return wp.element.createElement(jt,{title:t.label,key:"jet-form-general-fields"},wp.element.createElement(kt,dt({type:"general",key:"jet-form-general-fields-component"},e)),wp.element.createElement(kt,dt({type:"custom_general",key:"jet-form-general-custom-fields-component"},e)))},ToolBarFields:function(e){var t=e.editProps.uniqKey,n=e.children,r=void 0===n?[]:n;return wp.element.createElement(vt,{key:t("ToolBarFields-BlockControls")},wp.element.createElement(_t,{key:t("ToolBarFields-ToolbarGroup")},wp.element.createElement(St,{align:"center",justify:"center",className:"jet-form-toggle-box"},wp.element.createElement(kt,dt({type:"toolbar",key:t("jet-form-toolbar-fields-component")},e)),r)))},FieldControl:kt,PlaceholderMessage:Nt,HorizontalLine:Bt,FieldSettingsWrapper:function(e){var t=e.title,n=e.children,r=e.editProps.uniqKey,o=void 0===r?function(e){return e}:r;return wp.element.createElement(Rt,{title:t||qt("Field Settings")},n,wp.element.createElement(kt,Vt({type:"custom_settings",key:o("customSettingsFields")},e)))}},window.JetFBActions={addAction:U,withPreset:te,getFormFieldsByBlock:function(e){return function(){return Te([e.name])}},getInnerBlocks:function(e){var t=wp.data.select("core/block-editor").getBlock(e);return t?t.innerBlocks:[]},getAvailableFieldsString:function(e){var t=Be([e]),n=[];return t.forEach((function(e){n.push("%FIELD::"+e+"%")})),Fe("Available fields: ")+n.join(", ")},getAvailableFields:Be,getFormFieldsBlocks:Te,getFieldsWithoutCurrent:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=["submit","form-break","heading","group-break"],n=[],r=wp.data.select("core/block-editor").getSelectedBlock();return null===r?[]:(Ie((function(e){e.name.includes("jet-forms/")&&r.clientId!==e.clientId&&!t.find((function(t){return e.name.includes(t)}))&&n.push({blockName:e.name,label:e.attributes.label||e.attributes.name,value:e.attributes.name})})),e?[{value:"",label:e}].concat(n):n)},gatewayAttr:De,gatewayLabel:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=De("labels");return function(r){return n(e)?n(e)[r]:t}},registerGateway:function(e,t){window.jetFBGatewaysList=window.jetFBGatewaysList||{},window.jetFBGatewaysList[e]=t},Tools:z,event:function(e){var t=new Event(e);return function(){return document.dispatchEvent(t)}},listen:function(e,t){document.addEventListener(e,t)},actionByTypeList:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return D(e).map((function(e){var n={value:e.id,label:L("getActionLabel")(e.type)};return t&&(n.label+=" (".concat(I(e),")")),n}))},getActionSettings:M,fromLocalizeHelper:L,renderGateway:function(e,t){if(!window.jetFBGatewaysList||!window.jetFBGatewaysList[e])return null;var n=window.jetFBGatewaysList[e];return wp.element.createElement(n,t)},gatewayActionAttributes:I,globalTab:function(e){var t=e.slug,n=e.element,r=void 0===n?"":n,o=e.empty,i=void 0===o?"":o,a=JetFormEditorData.global_settings;return a?r?a[t]&&a[t][r]?a[t][r]:i:a[t]||i:i}},window.JetFBHooks={useActions:C,useMetaState:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"{}",n=S((function(e){return e("core/editor").getEditedPostAttribute("meta")||{}})),r=E("core/editor"),o=r.editPost,i=j(JSON.parse(n[e]||t)),a=h(i,2),l=a[0],c=a[1];return O((function(){o({meta:b(b({},n),{},v({},e,JSON.stringify(l)))})}),[l]),[l,c]},useStateValidClasses:k,useStateLoadingClasses:A}}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFja2FnZS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9wYWNrYWdlLmpzIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==