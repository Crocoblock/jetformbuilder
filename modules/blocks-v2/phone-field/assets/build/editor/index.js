(()=>{"use strict";var e={d:(t,l)=>{for(var r in l)e.o(l,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:l[r]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var l=e.g.document;if(!t&&l&&(l.currentScript&&"SCRIPT"===l.currentScript.tagName.toUpperCase()&&(t=l.currentScript.src),!t)){var r=l.getElementsByTagName("script");if(r.length)for(var a=r.length-1;a>-1&&(!t||!/^http(s?):/.test(t));)t=r[a--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t+"../"})();var t={};e.r(t),e.d(t,{metadata:()=>b,name:()=>g,settings:()=>y});const l=window.React,r=window.wp.i18n,a=window.wp.components,n=window.wp.blockEditor,o=e.p+"images/globe@2x.webp";function i({separateDialCode:e=!0,separateDialCodeClass:t="separate-dial-code",dialCode:a="+1",placeholder:n="201-231-2312",value:o="",globeIcon:i}){return(0,l.createElement)("div",null,(0,l.createElement)("div",{className:`jet-form-builder__field-wrap phone-field-wrap phone-field-preview ${e?t:""}`},(0,l.createElement)("div",{className:"iti iti--allow-dropdown iti--show-flags iti--inline-dropdown"},(0,l.createElement)("div",{className:"iti__country-container","aria-hidden":"true"},(0,l.createElement)("div",{className:"iti__selected-country"},(0,l.createElement)("div",{className:"iti__selected-country-primary"},(0,l.createElement)("div",{className:"iti__flag iti__globe",style:{backgroundImage:i?`url(${i})`:"none"}}),(0,l.createElement)("div",{className:"iti__arrow"})),e&&(0,l.createElement)("div",{className:"iti__selected-dial-code"},a))),(0,l.createElement)("input",{type:"tel",className:"jet-form-builder__field phone-field-intl iti__tel-input",disabled:!0,readOnly:!0,value:o,placeholder:n.length>0?n:"201-231-2312",onChange:()=>{},"aria-label":(0,r.__)("Phone number","jet-form-builder")}))))}const{ToolBarFields:d,BlockName:s,BlockLabel:u,BlockDescription:c,AdvancedFields:m,FieldWrapper:p,BlockAdvancedValue:f}=JetFBComponents,{useUniqueNameOnDuplicate:_}=JetFBHooks,b=JSON.parse('{"$schema":"https://raw.githubusercontent.com/WordPress/gutenberg/trunk/schemas/json/block.json","apiVersion":2,"name":"jet-forms/phone-field","category":"jet-form-builder-fields","keywords":["jetformbuilder","field","phone","international","telephone"],"textdomain":"jet-form-builder","supports":{"customClassName":false,"html":false,"jetFBSanitizeValue":true},"title":"Phone Field","icon":"<svg width=\\"64\\" height=\\"64\\" viewBox=\\"0 0 64 64\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path fill-rule=\\"evenodd\\" clip-rule=\\"evenodd\\" d=\\"M38 10C36.8954 10 36 10.8954 36 12V16H28V12C28 10.8954 27.1046 10 26 10C24.8954 10 24 10.8954 24 12V16H20C17.7909 16 16 17.7909 16 20V48C16 50.2091 17.7909 52 20 52H44C46.2091 52 48 50.2091 48 48V20C48 17.7909 46.2091 16 44 16H40V12C40 10.8954 39.1046 10 38 10ZM18 20C18 18.8954 18.8954 18 20 18H44C45.1046 18 46 18.8954 46 20V24H18V20ZM18 26V48C18 49.1046 18.8954 50 20 50H44C45.1046 50 46 49.1046 46 48V26H18ZM22 30C21.4477 30 21 30.4477 21 31C21 31.5523 21.4477 32 22 32H42C42.5523 32 43 31.5523 43 31C43 30.4477 42.5523 30 42 30H22ZM21 37C21 36.4477 21.4477 36 22 36H42C42.5523 36 43 36.4477 43 37C43 37.5523 42.5523 38 42 38H22C21.4477 38 21 37.5523 21 37ZM22 42C21.4477 42 21 42.4477 21 43C21 43.5523 21.4477 44 22 44H34C34.5523 44 35 43.5523 35 43C35 42.4477 34.5523 42 34 42H22Z\\" fill=\\"currentColor\\"/></svg>","attributes":{"label":{"type":"string","default":"","jfb":{"rich":true}},"name":{"type":"string","default":"field_name"},"desc":{"type":"string","default":"","jfb":{"rich":true}},"default":{"type":"string","default":"","jfb":{"rich-no-preset":true}},"value":{"type":"object","default":{"groups":[]}},"required":{"type":"boolean","default":false},"visibility":{"type":"string","default":""},"class_name":{"type":"string","default":""},"className":{"type":"string","default":""},"default_country":{"type":"string","default":"auto"},"preferred_countries":{"type":"string","default":""},"only_countries":{"type":"string","default":""},"exclude_countries":{"type":"string","default":""},"separate_dial_code":{"type":"boolean","default":false},"save_format":{"type":"string","default":"e164","enum":["e164","national","international"]},"ipinfo_token":{"type":"string","default":""},"use_global":{"type":"boolean","default":false},"isPreview":{"type":"boolean","default":false},"validation_message_required":{"type":"string","default":"Required field is empty"},"validation_message_invalid":{"type":"string","default":"Please enter a valid phone number"}},"usesContext":["jet-forms/repeater-field--name","jet-forms/repeater-row--default","jet-forms/repeater-row--current-index"],"viewScript":"jet-fb-blocks-v2-phone-field","viewStyle":"jet-fb-blocks-v2-phone-field"}'),{name:g,icon:h=""}=b,y={icon:(0,l.createElement)("span",{dangerouslySetInnerHTML:{__html:h}}),description:"Add an international phone number input field with country flags, dial codes, and validation.",edit:function(e){const{attributes:t,setAttributes:b,isSelected:g,editProps:{uniqKey:h,attrHelp:y}}=e,v=(0,n.useBlockProps)();return _(),[(0,l.createElement)(d,{key:h("ToolBarFields"),...e}),g&&(0,l.createElement)(n.InspectorControls,{key:h("InspectorControls")},(0,l.createElement)(a.PanelBody,{title:(0,r.__)("General","jet-form-builder")},(0,l.createElement)(u,null),(0,l.createElement)(s,null),(0,l.createElement)(c,null)),(0,l.createElement)(a.PanelBody,{title:(0,r.__)("Value","jet-form-builder")},(0,l.createElement)(f,null)),(0,l.createElement)(a.PanelBody,{title:(0,r.__)("Field","jet-form-builder"),initialOpen:!1},(0,l.createElement)(a.TextControl,{label:(0,r.__)("Default Country","jet-form-builder"),value:t.default_country,onChange:e=>b({default_country:e}),help:(0,r.__)('ISO country code (e.g., "US", "UA") or "auto" for IP detection.',"jet-form-builder")}),(0,l.createElement)(a.BaseControl,{label:(0,r.__)("Preferred Countries","jet-form-builder"),help:(0,r.__)('Comma-separated country codes (e.g., "US, GB, UA").',"jet-form-builder")},(0,l.createElement)(a.TextControl,{value:t.preferred_countries,onChange:e=>{b({preferred_countries:e})},placeholder:"US, GB, UA"})),(0,l.createElement)(a.BaseControl,{label:(0,r.__)("Only Countries","jet-form-builder"),help:(0,r.__)('Show only these countries (e.g., "US, CA, MX").',"jet-form-builder")},(0,l.createElement)(a.TextControl,{value:t.only_countries,onChange:e=>{b({only_countries:e})},placeholder:"US, CA, MX"})),t.only_countries.length<=0&&(0,l.createElement)(a.BaseControl,{label:(0,r.__)("Exclude Countries","jet-form-builder"),help:(0,r.__)('Exclude these countries (e.g., "US, BY")',"jet-form-builder")},(0,l.createElement)(a.TextControl,{value:t.exclude_countries,onChange:e=>{b({exclude_countries:e})},placeholder:"US, BY"})),(0,l.createElement)(a.ToggleControl,{label:(0,r.__)("Separate Dial Code","jet-form-builder"),checked:t.separate_dial_code,onChange:()=>b({separate_dial_code:!t.separate_dial_code}),help:(0,r.__)("Display the selected country's international dial code next to the input, so it looks like it's part of the typed number.","jet-form-builder")}),(0,l.createElement)(a.SelectControl,{label:(0,r.__)("Save Format","jet-form-builder"),value:t.save_format,options:[{label:(0,r.__)("E.164","jet-form-builder"),value:"e164"},{label:(0,r.__)("International","jet-form-builder"),value:"international"}],onChange:e=>b({save_format:e}),help:(0,r.__)("Save format: E.164 (+12015553333) or International (+1 201-555-3333).","jet-form-builder")})),(0,l.createElement)(a.PanelBody,{title:(0,r.__)("Additional Settings","jet-form-builder"),initialOpen:!1},(0,l.createElement)(a.ToggleControl,{label:(0,r.__)("Use Global ipinfo.io Token","jet-form-builder"),checked:t.use_global,onChange:()=>b({use_global:!t.use_global}),help:(0,l.createElement)(l.Fragment,null,(0,r.__)("Use","jet-form-builder")+" ",(0,l.createElement)("a",{href:window.JetFormEditorData?.global_settings_url+"#phone-field-tab",target:"_blank",rel:"noopener noreferrer"},(0,r.__)("Global Settings","jet-form-builder")))}),!t.use_global&&(0,l.createElement)(a.TextControl,{label:(0,r.__)("ipinfo.io API Token","jet-form-builder"),value:t.ipinfo_token,onChange:e=>b({ipinfo_token:e}),help:(0,r.__)("Optional: API token for IP-based country detection (50k free requests/month)","jet-form-builder")})),(0,l.createElement)(a.PanelBody,{title:(0,r.__)("Validation Messages","jet-form-builder"),initialOpen:!1},(0,l.createElement)(a.TextControl,{label:(0,r.__)("Required Field Message","jet-form-builder"),value:t.validation_message_required,onChange:e=>b({validation_message_required:e}),placeholder:(0,r.__)("Required field is empty","jet-form-builder")}),(0,l.createElement)(a.TextControl,{label:(0,r.__)("Invalid Phone Message","jet-form-builder"),value:t.validation_message_invalid,onChange:e=>b({validation_message_invalid:e}),placeholder:(0,r.__)("Please enter a valid phone number","jet-form-builder")})),(0,l.createElement)(m,{...e})),(0,l.createElement)("div",{...v,key:h("viewBlock")},(0,l.createElement)(p,{key:h("FieldWrapper"),...e},(0,l.createElement)(i,{separateDialCode:t.separate_dial_code,globeIcon:o,placeholder:t.default})))]},jfbResolveBlock(){const e={clientId:this.clientId,name:this.name};return this.attributes.name?{...e,fields:[{value:this.attributes.name,name:this.attributes.name,label:this.attributes.label||this.attributes.name}]}:e},useEditProps:["uniqKey","attrHelp"],example:{attributes:{isPreview:!0}}};(0,window.wp.hooks.addFilter)("jet.fb.register.fields","jet-form-builder/phone-field",(function(e){return e.push(t),e}))})();