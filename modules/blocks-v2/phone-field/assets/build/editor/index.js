(()=>{"use strict";var e={d:(t,l)=>{for(var r in l)e.o(l,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:l[r]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var l=e.g.document;if(!t&&l&&(l.currentScript&&"SCRIPT"===l.currentScript.tagName.toUpperCase()&&(t=l.currentScript.src),!t)){var r=l.getElementsByTagName("script");if(r.length)for(var a=r.length-1;a>-1&&(!t||!/^http(s?):/.test(t));)t=r[a--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t+"../"})();var t={};e.r(t),e.d(t,{metadata:()=>b,name:()=>g,settings:()=>C});const l=window.React,r=window.wp.i18n,a=window.wp.components,n=window.wp.blockEditor,o=e.p+"images/globe@2x.webp";function i({separateDialCode:e=!0,separateDialCodeClass:t="separate-dial-code",dialCode:a="+1",placeholder:n="201-231-2312",value:o="",globeIcon:i}){return(0,l.createElement)("div",null,(0,l.createElement)("div",{className:`jet-form-builder__field-wrap phone-field-wrap phone-field-preview ${e?t:""}`},(0,l.createElement)("div",{className:"iti iti--allow-dropdown iti--show-flags iti--inline-dropdown"},(0,l.createElement)("div",{className:"iti__country-container","aria-hidden":"true"},(0,l.createElement)("div",{className:"iti__selected-country"},(0,l.createElement)("div",{className:"iti__selected-country-primary"},(0,l.createElement)("div",{className:"iti__flag iti__globe",style:{backgroundImage:i?`url(${i})`:"none"}}),(0,l.createElement)("div",{className:"iti__arrow"})),e&&(0,l.createElement)("div",{className:"iti__selected-dial-code"},a))),(0,l.createElement)("input",{type:"tel",className:"jet-form-builder__field phone-field-intl iti__tel-input",disabled:!0,readOnly:!0,value:o,placeholder:n.length>0?n:"201-231-2312",onChange:()=>{},"aria-label":(0,r.__)("Phone number","jet-form-builder")}))))}const{ToolBarFields:d,BlockName:s,BlockLabel:u,BlockDescription:c,AdvancedFields:m,FieldWrapper:p,BlockAdvancedValue:f}=JetFBComponents,{useUniqueNameOnDuplicate:_}=JetFBHooks,b=JSON.parse('{"$schema":"https://raw.githubusercontent.com/WordPress/gutenberg/trunk/schemas/json/block.json","apiVersion":2,"name":"jet-forms/phone-field","category":"jet-form-builder-fields","keywords":["jetformbuilder","field","phone","international","telephone"],"textdomain":"jet-form-builder","supports":{"customClassName":false,"html":false,"jetFBSanitizeValue":true},"title":"Phone Field","icon":"<svg width=\\"64\\" height=\\"64\\" viewBox=\\"0 0 64 64\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\"><path fill-rule=\\"evenodd\\" clip-rule=\\"evenodd\\" d=\\"M58 42H60C62.2091 42 64 40.2091 64 38V18C64 15.7909 62.2091 14 60 14H4C1.79086 14 0 15.7909 0 18V38C0 40.2091 1.79086 42 4 42H28C28 50.2843 34.7157 57 43 57C51.2843 57 58 50.2843 58 42ZM60 16H4C2.89543 16 2 16.8954 2 18V38C2 39.1046 2.89543 40 4 40H28.1322C29.11 32.6613 35.3938 27 43 27C50.6062 27 56.89 32.6613 57.8678 40H60C61.1046 40 62 39.1046 62 38V18C62 16.8954 61.1046 16 60 16ZM43 55C50.1797 55 56 49.1797 56 42C56 34.8203 50.1797 29 43 29C35.8203 29 30 34.8203 30 42C30 49.1797 35.8203 55 43 55Z\\" fill=\\"currentColor\\"/><path d=\\"M50.2504 37.4994C50.251 36.6437 49.9406 35.8165 49.3773 35.1723C48.8569 34.5771 48.1523 34.1779 47.3793 34.0307L45.5453 38.1293L47.392 40.3256L47.4594 40.4164C47.626 40.6679 47.7247 40.9582 47.7455 41.2592C47.7663 41.5601 47.7089 41.8612 47.5785 42.1332L47.5756 42.14C46.7005 43.9314 44.8951 45.7135 43.1039 46.5775L43.098 46.5805C42.8244 46.7104 42.5212 46.7663 42.2191 46.7436C41.9172 46.7207 41.6263 46.62 41.3754 46.4506C41.3448 46.4299 41.3156 46.4071 41.2875 46.3832L39.1254 44.5443L35.0307 46.3793C35.1779 47.1523 35.5771 47.8569 36.1723 48.3773C36.8165 48.9406 37.6437 49.251 38.4994 49.2504C41.6156 49.2503 44.6055 48.0124 46.809 45.809C49.0124 43.6055 50.2503 40.6156 50.2504 37.4994ZM52.2455 37.8412C52.1581 41.3643 50.7211 44.725 48.223 47.223C45.7249 49.7211 42.3643 51.1581 38.8412 51.2455L38.5004 51.2504C37.16 51.2513 35.8649 50.7646 34.8559 49.8822C33.8468 48.9998 33.1918 47.7812 33.0141 46.4525C33.0134 46.4477 33.0137 46.4427 33.0131 46.4379C32.9685 46.0625 33.0465 45.6831 33.2357 45.3559L33.3109 45.2357C33.4947 44.9701 33.7491 44.7599 34.0463 44.6293L38.4682 42.6488L38.4818 42.642C38.6823 42.5558 38.8968 42.5087 39.1137 42.5014L39.3314 42.5072L39.5463 42.5404C39.6877 42.5713 39.8249 42.6193 39.9545 42.684L40.142 42.7934L40.2367 42.8637L42.3891 44.6957C43.6819 44.0212 45.0171 42.701 45.6967 41.4174L43.8578 39.2299C43.8322 39.1994 43.8083 39.1675 43.7865 39.1342C43.6285 38.8928 43.5324 38.6159 43.5072 38.3285C43.4821 38.0412 43.5284 37.7519 43.642 37.4867L43.6478 37.4721L45.6293 33.0473C45.7789 32.7065 46.0334 32.4222 46.3559 32.2357L46.4809 32.1693C46.7778 32.0283 47.1095 31.9741 47.4379 32.0131C47.4427 32.0137 47.4477 32.0134 47.4525 32.0141C48.7812 32.1919 49.9998 32.8468 50.8822 33.8559C51.7646 34.8649 52.2513 36.16 52.2504 37.5004L52.2455 37.8412Z\\" fill=\\"currentColor\\"/></svg>","attributes":{"label":{"type":"string","default":"","jfb":{"rich":true}},"name":{"type":"string","default":"field_name"},"desc":{"type":"string","default":"","jfb":{"rich":true}},"default":{"type":"string","default":"","jfb":{"rich-no-preset":true}},"value":{"type":"object","default":{"groups":[]}},"required":{"type":"boolean","default":false},"visibility":{"type":"string","default":""},"class_name":{"type":"string","default":""},"className":{"type":"string","default":""},"default_country":{"type":"string","default":"auto"},"preferred_countries":{"type":"string","default":""},"only_countries":{"type":"string","default":""},"exclude_countries":{"type":"string","default":""},"separate_dial_code":{"type":"boolean","default":false},"save_format":{"type":"string","default":"e164","enum":["e164","national","international"]},"ipinfo_token":{"type":"string","default":""},"use_global":{"type":"boolean","default":false},"isPreview":{"type":"boolean","default":false},"validation_message_required":{"type":"string","default":"Required field is empty"},"validation_message_invalid":{"type":"string","default":"Please enter a valid phone number"}},"usesContext":["jet-forms/repeater-field--name","jet-forms/repeater-row--default","jet-forms/repeater-row--current-index"],"viewScript":"jet-fb-blocks-v2-phone-field","viewStyle":"jet-fb-blocks-v2-phone-field"}'),{name:g,icon:h=""}=b,C={icon:(0,l.createElement)("span",{dangerouslySetInnerHTML:{__html:h}}),description:"Add an international phone number input field with country flags, dial codes, and validation.",edit:function(e){const{attributes:t,setAttributes:b,isSelected:g,editProps:{uniqKey:h,attrHelp:C}}=e,y=(0,n.useBlockProps)();return _(),[(0,l.createElement)(d,{key:h("ToolBarFields"),...e}),g&&(0,l.createElement)(n.InspectorControls,{key:h("InspectorControls")},(0,l.createElement)(a.PanelBody,{title:(0,r.__)("General","jet-form-builder")},(0,l.createElement)(u,null),(0,l.createElement)(s,null),(0,l.createElement)(c,null)),(0,l.createElement)(a.PanelBody,{title:(0,r.__)("Value","jet-form-builder")},(0,l.createElement)(f,null)),(0,l.createElement)(a.PanelBody,{title:(0,r.__)("Field","jet-form-builder"),initialOpen:!1},(0,l.createElement)(a.TextControl,{label:(0,r.__)("Default Country","jet-form-builder"),value:t.default_country,onChange:e=>b({default_country:e}),help:(0,r.__)('ISO country code (e.g., "US", "UA") or "auto" for IP detection.',"jet-form-builder")}),(0,l.createElement)(a.BaseControl,{label:(0,r.__)("Preferred Countries","jet-form-builder"),help:(0,r.__)('Comma-separated country codes (e.g., "US, GB, UA").',"jet-form-builder")},(0,l.createElement)(a.TextControl,{value:t.preferred_countries,onChange:e=>{b({preferred_countries:e})},placeholder:"US, GB, UA"})),(0,l.createElement)(a.BaseControl,{label:(0,r.__)("Only Countries","jet-form-builder"),help:(0,r.__)('Show only these countries (e.g., "US, CA, MX").',"jet-form-builder")},(0,l.createElement)(a.TextControl,{value:t.only_countries,onChange:e=>{b({only_countries:e})},placeholder:"US, CA, MX"})),t.only_countries.length<=0&&(0,l.createElement)(a.BaseControl,{label:(0,r.__)("Exclude Countries","jet-form-builder"),help:(0,r.__)('Exclude these countries (e.g., "US, BY")',"jet-form-builder")},(0,l.createElement)(a.TextControl,{value:t.exclude_countries,onChange:e=>{b({exclude_countries:e})},placeholder:"US, BY"})),(0,l.createElement)(a.ToggleControl,{label:(0,r.__)("Separate Dial Code","jet-form-builder"),checked:t.separate_dial_code,onChange:()=>b({separate_dial_code:!t.separate_dial_code}),help:(0,r.__)("Display the selected country's international dial code next to the input, so it looks like it's part of the typed number.","jet-form-builder")}),(0,l.createElement)(a.SelectControl,{label:(0,r.__)("Save Format","jet-form-builder"),value:t.save_format,options:[{label:(0,r.__)("E.164","jet-form-builder"),value:"e164"},{label:(0,r.__)("International","jet-form-builder"),value:"international"}],onChange:e=>b({save_format:e}),help:(0,r.__)("Save format: E.164 (+12015553333) or International (+1 201-555-3333).","jet-form-builder")})),(0,l.createElement)(a.PanelBody,{title:(0,r.__)("Additional Settings","jet-form-builder"),initialOpen:!1},(0,l.createElement)(a.ToggleControl,{label:(0,r.__)("Use Global ipinfo.io Token","jet-form-builder"),checked:t.use_global,onChange:()=>b({use_global:!t.use_global}),help:(0,l.createElement)(l.Fragment,null,(0,r.__)("Use","jet-form-builder")+" ",(0,l.createElement)("a",{href:window.JetFormEditorData?.global_settings_url+"#phone-field-tab",target:"_blank",rel:"noopener noreferrer"},(0,r.__)("Global Settings","jet-form-builder")))}),!t.use_global&&(0,l.createElement)(a.TextControl,{label:(0,r.__)("ipinfo.io API Token","jet-form-builder"),value:t.ipinfo_token,onChange:e=>b({ipinfo_token:e}),help:(0,r.__)("Optional: API token for IP-based country detection (50k free requests/month)","jet-form-builder")})),(0,l.createElement)(a.PanelBody,{title:(0,r.__)("Validation Messages","jet-form-builder"),initialOpen:!1},(0,l.createElement)(a.TextControl,{label:(0,r.__)("Required Field Message","jet-form-builder"),value:t.validation_message_required,onChange:e=>b({validation_message_required:e}),placeholder:(0,r.__)("Required field is empty","jet-form-builder")}),(0,l.createElement)(a.TextControl,{label:(0,r.__)("Invalid Phone Message","jet-form-builder"),value:t.validation_message_invalid,onChange:e=>b({validation_message_invalid:e}),placeholder:(0,r.__)("Please enter a valid phone number","jet-form-builder")})),(0,l.createElement)(m,{...e})),(0,l.createElement)("div",{...y,key:h("viewBlock")},(0,l.createElement)(p,{key:h("FieldWrapper"),...e},(0,l.createElement)(i,{separateDialCode:t.separate_dial_code,globeIcon:o,placeholder:t.default})))]},jfbResolveBlock(){const e={clientId:this.clientId,name:this.name};return this.attributes.name?{...e,fields:[{value:this.attributes.name,name:this.attributes.name,label:this.attributes.label||this.attributes.name}]}:e},useEditProps:["uniqKey","attrHelp"],example:{attributes:{isPreview:!0}}};(0,window.wp.hooks.addFilter)("jet.fb.register.fields","jet-form-builder/phone-field",(function(e){return e.push(t),e}))})();