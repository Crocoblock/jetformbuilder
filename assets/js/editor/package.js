(()=>{var e={7194:()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||r(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(t,r,n){return(r=function(t){var r=function(t,r){if("object"!==e(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===e(r)?r:String(r)}(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}var a=function(){return(0,wp.data.select)("core/editor").getEditedPostAttribute("meta")},u=function(e,t){(0,(0,wp.data.dispatch)("core/editor").editPost)({meta:i(i({},a()),{},l({},e,JSON.stringify(t)))})},c=function(e){for(var r=[],n=0,o=Object.entries(e);n<o.length;n++){var i=t(o[n],2),l=i[0],a=i[1].active;void 0!==a&&a&&r.push(+l)}return r},s=function(){var e={},o=[];try{var i=function(){var e=a(),t={},r=[];try{t=JSON.parse(e._jf_gateways)}catch(e){return[]}if(1===t.last_migrate)throw"migrated";try{r=JSON.parse(e._jf_actions)}catch(e){return[t]}return[t,r]}(),l=t(i,2),s=l[0];e=void 0===s?{}:s;var f=l[1];o=void 0===f?[]:f}catch(e){return}e.last_migrate=1,u("_jf_gateways",e);var p,m=[];try{m.push.apply(m,(p=function(e,t){var r,n,o,i,l=c(null!==(r=e.notifications_success)&&void 0!==r?r:{}),a=c(null!==(n=e.notifications_failed)&&void 0!==n?n:{}),u=c(null!==(o=e.notifications_before)&&void 0!==o?o:{}),s=null!==(i=e.use_success_redirect)&&void 0!==i&&i,f=!1;if(!(l.length||a.length||u.length||s))throw"nothing_to_migrate";return t.map((function(e){var t;return e.events=null!==(t=e.events)&&void 0!==t?t:[],l.includes(e.id)&&e.events.push("GATEWAY.SUCCESS"),a.includes(e.id)&&e.events.push("GATEWAY.FAILED"),u.includes(e.id)&&e.events.push("DEFAULT.PROCESS"),s&&!f&&"redirect_to_page"===e.type&&(e.events.push("GATEWAY.SUCCESS"),f=!0),e}))}(e,o),function(e){if(Array.isArray(e))return n(e)}(p)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(p)||r(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))}catch(e){return}u("_jf_actions",m)};wp.domReady((function(){return setTimeout(s,0)}))},9510:(e,t,r)=>{const n=r(6830),{MAX_LENGTH:o,MAX_SAFE_INTEGER:i}=r(39),{safeRe:l,t:a}=r(9022),u=r(8716),{compareIdentifiers:c}=r(8822);class s{constructor(e,t){if(t=u(t),e instanceof s){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>o)throw new TypeError(`version is longer than ${o} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?l[a.LOOSE]:l[a.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<i)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof s)){if("string"==typeof e&&e===this.version)return 0;e=new s(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof s||(e=new s(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof s||(e=new s(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],o=e.prerelease[t];if(n("prerelease compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return c(r,o)}while(++t)}compareBuild(e){e instanceof s||(e=new s(e,this.options));let t=0;do{const r=this.build[t],o=e.build[t];if(n("prerelease compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return c(r,o)}while(++t)}inc(e,t,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(r)?1:0;if(!t&&!1===r)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(t===this.prerelease.join(".")&&!1===r)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let n=[t,e];!1===r&&(n=[t]),0===c(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=s},3992:(e,t,r)=>{const n=r(9510);e.exports=(e,t,r)=>new n(e,r).compare(new n(t,r))},2260:(e,t,r)=>{const n=r(3992);e.exports=(e,t,r)=>n(e,t,r)>0},6579:(e,t,r)=>{const n=r(3992);e.exports=(e,t,r)=>n(e,t,r)>=0},290:(e,t,r)=>{const n=r(3992);e.exports=(e,t,r)=>n(e,t,r)<0},5891:(e,t,r)=>{const n=r(3992);e.exports=(e,t,r)=>n(e,t,r)<=0},39:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},6830:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},8822:e=>{const t=/^[0-9]+$/,r=(e,r)=>{const n=t.test(e),o=t.test(r);return n&&o&&(e=+e,r=+r),e===r?0:n&&!o?-1:o&&!n?1:e<r?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},8716:e=>{const t=Object.freeze({loose:!0}),r=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:r},9022:(e,t,r)=>{const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:o,MAX_LENGTH:i}=r(39),l=r(6830),a=(t=e.exports={}).re=[],u=t.safeRe=[],c=t.src=[],s=t.t={};let f=0;const p="[a-zA-Z0-9-]",m=[["\\s",1],["\\d",i],[p,o]],y=(e,t,r)=>{const n=(e=>{for(const[t,r]of m)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e})(t),o=f++;l(e,o,t),s[e]=o,c[o]=t,a[o]=new RegExp(t,r?"g":void 0),u[o]=new RegExp(n,r?"g":void 0)};y("NUMERICIDENTIFIER","0|[1-9]\\d*"),y("NUMERICIDENTIFIERLOOSE","\\d+"),y("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),y("MAINVERSION",`(${c[s.NUMERICIDENTIFIER]})\\.(${c[s.NUMERICIDENTIFIER]})\\.(${c[s.NUMERICIDENTIFIER]})`),y("MAINVERSIONLOOSE",`(${c[s.NUMERICIDENTIFIERLOOSE]})\\.(${c[s.NUMERICIDENTIFIERLOOSE]})\\.(${c[s.NUMERICIDENTIFIERLOOSE]})`),y("PRERELEASEIDENTIFIER",`(?:${c[s.NUMERICIDENTIFIER]}|${c[s.NONNUMERICIDENTIFIER]})`),y("PRERELEASEIDENTIFIERLOOSE",`(?:${c[s.NUMERICIDENTIFIERLOOSE]}|${c[s.NONNUMERICIDENTIFIER]})`),y("PRERELEASE",`(?:-(${c[s.PRERELEASEIDENTIFIER]}(?:\\.${c[s.PRERELEASEIDENTIFIER]})*))`),y("PRERELEASELOOSE",`(?:-?(${c[s.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[s.PRERELEASEIDENTIFIERLOOSE]})*))`),y("BUILDIDENTIFIER",`${p}+`),y("BUILD",`(?:\\+(${c[s.BUILDIDENTIFIER]}(?:\\.${c[s.BUILDIDENTIFIER]})*))`),y("FULLPLAIN",`v?${c[s.MAINVERSION]}${c[s.PRERELEASE]}?${c[s.BUILD]}?`),y("FULL",`^${c[s.FULLPLAIN]}$`),y("LOOSEPLAIN",`[v=\\s]*${c[s.MAINVERSIONLOOSE]}${c[s.PRERELEASELOOSE]}?${c[s.BUILD]}?`),y("LOOSE",`^${c[s.LOOSEPLAIN]}$`),y("GTLT","((?:<|>)?=?)"),y("XRANGEIDENTIFIERLOOSE",`${c[s.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),y("XRANGEIDENTIFIER",`${c[s.NUMERICIDENTIFIER]}|x|X|\\*`),y("XRANGEPLAIN",`[v=\\s]*(${c[s.XRANGEIDENTIFIER]})(?:\\.(${c[s.XRANGEIDENTIFIER]})(?:\\.(${c[s.XRANGEIDENTIFIER]})(?:${c[s.PRERELEASE]})?${c[s.BUILD]}?)?)?`),y("XRANGEPLAINLOOSE",`[v=\\s]*(${c[s.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[s.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[s.XRANGEIDENTIFIERLOOSE]})(?:${c[s.PRERELEASELOOSE]})?${c[s.BUILD]}?)?)?`),y("XRANGE",`^${c[s.GTLT]}\\s*${c[s.XRANGEPLAIN]}$`),y("XRANGELOOSE",`^${c[s.GTLT]}\\s*${c[s.XRANGEPLAINLOOSE]}$`),y("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),y("COERCERTL",c[s.COERCE],!0),y("LONETILDE","(?:~>?)"),y("TILDETRIM",`(\\s*)${c[s.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",y("TILDE",`^${c[s.LONETILDE]}${c[s.XRANGEPLAIN]}$`),y("TILDELOOSE",`^${c[s.LONETILDE]}${c[s.XRANGEPLAINLOOSE]}$`),y("LONECARET","(?:\\^)"),y("CARETTRIM",`(\\s*)${c[s.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",y("CARET",`^${c[s.LONECARET]}${c[s.XRANGEPLAIN]}$`),y("CARETLOOSE",`^${c[s.LONECARET]}${c[s.XRANGEPLAINLOOSE]}$`),y("COMPARATORLOOSE",`^${c[s.GTLT]}\\s*(${c[s.LOOSEPLAIN]})$|^$`),y("COMPARATOR",`^${c[s.GTLT]}\\s*(${c[s.FULLPLAIN]})$|^$`),y("COMPARATORTRIM",`(\\s*)${c[s.GTLT]}\\s*(${c[s.LOOSEPLAIN]}|${c[s.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",y("HYPHENRANGE",`^\\s*(${c[s.XRANGEPLAIN]})\\s+-\\s+(${c[s.XRANGEPLAIN]})\\s*$`),y("HYPHENRANGELOOSE",`^\\s*(${c[s.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[s.XRANGEPLAINLOOSE]})\\s*$`),y("STAR","(<|>)?=?\\s*\\*"),y("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),y("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}(()=>{"use strict";const e=(0,wp.element.createContext)({name:"",data:{},index:0});function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var n=wp.components.BaseControl;const o=(0,wp.element.createContext)({actionClick:null,onRequestClose:function(){}}),i=(0,wp.components.createSlotFill)("JFBActionModalFooter");function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}function a(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var c=wp.components,s=c.Button,f=c.ButtonGroup,p=c.Modal,m=wp.element.useState,y=wp.i18n.__,d=i.Slot;const b=function(e){var t=e.onRequestClose,r=e.children,n=e.title,i=void 0===n?"":n,c=e.classNames,b=void 0===c?[]:c,v=e.onUpdateClick,h=e.onCancelClick,g=e.updateBtnLabel,w=void 0===g?"Update":g,j=e.updateBtnProps,O=void 0===j?{}:j,S=e.cancelBtnProps,E=void 0===S?{}:S,A=e.cancelBtnLabel,P=void 0===A?"Cancel":A,C=e.fixedHeight,I=void 0===C?"":C,_=["jet-form-edit-modal"].concat(function(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(b)),k=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(m(null),2),T=k[0],x=k[1],N=function(){v&&v(),x(!0)},R=function(){h&&h(),x(!1)},D={};return I&&(D={height:I},_.push("jet-modal-fixed-height")),wp.element.createElement(p,{onRequestClose:t,className:_.join(" "),title:i,style:D},!r&&wp.element.createElement("div",{className:"jet-form-edit-modal__content"},y("Action callback is not found.","jet-form-builder")),r&&wp.element.createElement(React.Fragment,null,wp.element.createElement("div",{className:"jet-form-edit-modal__wrapper"},wp.element.createElement(o.Provider,{value:{actionClick:T,onRequestClose:t}},wp.element.createElement("div",{className:"jet-form-edit-modal__content"},"function"==typeof r&&r({actionClick:T,onRequestClose:t}),"function"!=typeof r&&r))),wp.element.createElement(d,{fillProps:{updateClick:N,cancelClick:R}},(function(e){return Boolean(null==e?void 0:e.length)?e:wp.element.createElement(f,{className:"jet-form-edit-modal__actions"},wp.element.createElement(s,l({isPrimary:!0,onClick:N},O),w),wp.element.createElement(s,l({isSecondary:!0,style:{margin:"0 0 0 10px"},onClick:R},E),P))}))))};function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h=wp.element,g=h.RawHTML,w=h.useContext,j=["label","ajaxArgs","onSuccessRequest","onFailRequest","onLoading","className","children","disabled","customRequest","isHidden","hasFetched"];function O(){return O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O.apply(this,arguments)}var S=wp.components.Button,E=wp.element.useEffect;const A=function(e){var t=e.label,r=e.ajaxArgs,n=void 0===r?{}:r,o=e.onSuccessRequest,i=void 0===o?function(){}:o,l=e.onFailRequest,a=void 0===l?function(){}:l,u=e.onLoading,c=void 0===u?function(){}:u,s=e.className,f=void 0===s?"":s,p=e.children,m=void 0===p?function(){}:p,y=e.disabled,d=void 0!==y&&y,b=e.customRequest,v=void 0!==b&&b,h=e.isHidden,g=void 0!==h&&h,w=e.hasFetched,A=void 0===w?-1:w,P=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,j);f="string"==typeof f?f:f.join(" ");var C=function(){!1===v?(c(),jQuery.ajax({url:ajaxurl,type:"POST",data:n}).done((function(e){return e.success?i(e):a()})).fail((function(){return a()}))):"function"==typeof v?v():a()};return E((function(){g&&-1===A&&C()}),[]),g?null:wp.element.createElement(S,O({disabled:d,key:"validate_api_key",onClick:C,className:f+" jet-fb-button line-with-input",variant:"secondary"},P),m&&m,t)};function P(e,t){if(e){if("string"==typeof e)return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var I=["jet-form-validate-button"],_=wp.element.useState;const k=function(e){var t="is-valid",r="is-invalid",n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||P(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(_((function(){return[].concat(I,function(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||P(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e?[t]:!1===e?[r]:[]))})),2),o=n[0],i=n[1];return[o.join(" "),function(){i([].concat(I,[t]))},function(){i([].concat(I,[r]))},function(){i([].concat(I,["loading"]))}]};function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T.apply(this,arguments)}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return N(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?N(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var R=wp.element.useState;function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){M(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function M(e,t,r){return(t=q(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||G(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function $(e){return function(e){if(Array.isArray(e))return U(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||G(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){if(e){if("string"==typeof e)return U(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?U(e,t):void 0}}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function V(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,q(n.key),n)}}function q(e){var t=function(e,t){if("object"!==B(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==B(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===B(t)?t:String(t)}var J=r(2260),H=r(290),X=r(6579),W=r(5891),z=wp.hooks.applyFilters,Y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r;return t=e,r=[{key:"withPlaceholder",value:function(e){return[{label:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"--",value:arguments.length>2&&void 0!==arguments[2]?arguments[2]:""}].concat($(e))}},{key:"isEmptyObject",value:function(e){return re(e)}},{key:"getRandomID",value:function(){return Math.floor(8999*Math.random())+1e3}}],null&&V(t.prototype,null),r&&V(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function K(e,t){return null!=e&&e.length?e.map((function(e){return"object"===B(e)?e[t]:e})):[]}var Z=z("jet.fb.tools.convertSymbols",{checkCyrRegex:/[а-яёїєґі]/i,cyrRegex:/[а-яёїєґі]/gi,charsMap:{а:"a",б:"b",в:"v",г:"g",д:"d",е:"e",ё:"io",ж:"zh",з:"z",и:"i",й:"i",к:"k",л:"l",м:"m",н:"n",о:"o",п:"p",р:"r",с:"s",т:"t",у:"u",ф:"f",х:"kh",ц:"ts",ч:"ch",ш:"sh",щ:"shch",ы:"y",э:"e",ю:"iu",я:"ia",ї:"i",є:"ie",ґ:"g",і:"i"}});function Q(e){return Z.checkCyrRegex.test(e)&&(e=e.replace(Z.cyrRegex,(function(e){return void 0===Z.charsMap[e]?"":Z.charsMap[e]}))),e}function ee(e){var t=e.toLowerCase(),r=(t=Q(t=t.normalize("NFD").replace(/[\u0300-\u036f]/g,""))).match(/\b(\w+)\b/g);t="";for(var n=0,o=Object.entries(r);n<o.length;n++){var i=L(o[n],2),l=i[0];t+=(0==+l?"":"_")+i[1];var a=+l+1===r.length;if(t.length>60)return t+(a?"":"__")}return t}function te(){for(var e=[],t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function t(r){r.forEach((function(r){if(r&&(Array.isArray(r)&&t(r),"string"==typeof r&&e.push(r.trim()),"object"===B(r)))for(var n in r)r[n]&&e.push((n+"").trim())}))}(r),e.join(" ")}function re(e){return!(null!=e&&("object"!==B(e)||Array.isArray(e)?"number"==typeof e?0!==e:null!=e&&e.length:null!==(t=Object.keys(e))&&void 0!==t&&t.length));var t}const ne=Y;var oe=wp.data.select;const ie=function(e){!function t(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(r=r||oe("core/block-editor").getBlocks()).forEach((function(r){var o,i,l;if(e(r,n),r.innerBlocks.length){var a="jet-forms/repeater-field"===r.name?r:n;t(r.innerBlocks,a)}else if("core/block"===r.name){var u=null===(o=oe("core/block-editor"))||void 0===o||null===(i=o.__unstableGetClientIdsTree)||void 0===i?void 0:i.call(o,r.clientId);if(null!==(l=u)&&void 0!==l&&l.length){var c=u.map((function(e){return e.clientId}));u=oe("core/block-editor").getBlocksByClientId(c),t(u)}}}))}()};function le(e){return function(e){if(Array.isArray(e))return ae(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ae(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ae(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ue=wp.hooks.applyFilters,ce=wp.data.select;const se=function(){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"default",n=[],o=["submit","form-break","heading","group-break","conditional"].concat(le(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]));return ie((function(e){if(e.name.includes("jet-forms/")&&!o.find((function(t){return e.name.includes(t)}))){var t,i=ce("core/blocks").getBlockType(e.name),l=i.jfbResolveBlock.call(e,r).fields,a=void 0===l?[]:l;i.hasOwnProperty("jfbGetFields")&&(a=i.jfbGetFields.call(e,r)),(t=n).push.apply(t,le(a.filter((function(e){return!n.some((function(t){return t.value===e.value}))}))))}})),n=e?[{value:"",label:e}].concat(le(n)):n,t?n:ue("jet.fb.getFormFieldsBlocks",n,r)},fe=function(){var e=[],t=se(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],!1,!1,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default");return t&&t.forEach((function(t){return e.push(t.name)})),e};var pe=wp.i18n.__;function me(e){return function(e){if(Array.isArray(e))return ye(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ye(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ye(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var de=wp.hooks.applyFilters,be=wp.data.select;const ve=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",n=["submit","form-break","heading","group-break","conditional"],o=[],i=wp.data.select("core/block-editor").getSelectedBlock();return ie((function(e){if(e.name.includes("jet-forms/")&&(null==i?void 0:i.clientId)!==e.clientId&&!n.find((function(t){return e.name.includes(t)}))){var t,l=be("core/blocks").getBlockType(e.name),a=l.jfbResolveBlock.call(e,r).fields,u=void 0===a?[]:a;l.hasOwnProperty("jfbGetFields")&&(u=l.jfbGetFields.call(e,r)),(t=o).push.apply(t,me(u.filter((function(e){return!o.some((function(t){return t.value===e.value}))}))))}})),o=e?[{value:"",label:e}].concat(me(o)):o,t?o:de("jet.fb.getFormFieldsBlocks",o,r)},he=function(e){var t=wp.data.select("core/block-editor").getBlock(e);return t?t.innerBlocks:[]};var ge=wp.hooks.addFilter;const we=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=window.JetFormEditorData.gateways;if(!e)return r;if(!r[e])return!1;var n=r[e];return function(e){return n[e]?n[e]:t}},je=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=we("labels");return function(n){return r(e)?r(e)[n]:t}},Oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cred";return window.JetFBGatewaysList&&window.JetFBGatewaysList[e]&&window.JetFBGatewaysList[e][t]},Se=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"cred";if(!Oe(e,r))return null;var n=window.JetFBGatewaysList[e][r];return wp.element.createElement(n,t)};function Ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(r),!0).forEach((function(t){Pe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Pe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ce(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ce(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ce(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ce(e){return Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ce(e)}var Ie=wp.data,_e=Ie.useSelect,ke=Ie.useDispatch;const Te=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"{}",r=_e((function(r){var n=r("core/editor").getEditedPostAttribute("meta")||{};return JSON.parse(n[e]||t)}),arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0),n=ke("core/editor").editPost;return[r,function(o){var i;"object"===Ce(i="function"==typeof o?o(r):o)&&null!==i||(i=JSON.parse(t)),n({meta:Ae(Ae({},r),{},Pe({},e,JSON.stringify(i)))})}]},xe=function(){return Te("_jf_actions","[]",arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0)};function Ne(e){return function(e){if(Array.isArray(e))return De(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Re(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Re(e,t){if(e){if("string"==typeof e)return De(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?De(e,t):void 0}}function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Fe=wp.element.useState;const Me=function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||Re(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Fe(Ne(I)),2),t=e[0],r=e[1];return[t.join(" "),function(){r([].concat(Ne(I),["loading"]))},function(){r(I)}]};function Le(e){return Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Le(e)}function Be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $e(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Le(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Le(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Le(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ue=wp.element,Ve=Ue.useState,qe=Ue.useEffect,Je=wp.data.useDispatch;const He=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ge(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ge(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Ve(!1),2),n=r[0],o=r[1],i=Je(wp.notices.store);return qe((function(){n&&i.createWarningNotice(e,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(r),!0).forEach((function(t){$e(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({type:"snackbar"},t))}),[n]),o};function Xe(e){return Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xe(e)}function We(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ze(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?We(Object(r),!0).forEach((function(t){Ye(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):We(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ye(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Xe(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Xe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Xe(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ke(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.initData(e)}Ke.prototype.initData=function(e){var t,r,n,o,i,l=this;this.id=null!==(t=null==e?void 0:e.id)&&void 0!==t?t:ne.getRandomID(),this.settings=null!==(r=null==e?void 0:e.settings)&&void 0!==r?r:{},this.type=null!==(n=null==e?void 0:e.type)&&void 0!==n?n:"send_email",this.conditions=null!==(o=null==e?void 0:e.conditions)&&void 0!==o?o:[],this.events=null!==(i=null==e?void 0:e.events)&&void 0!==i?i:[],Object.defineProperty(this,"selfSettings",{get:function(){var e;return l.settings.hasOwnProperty(null!==(e=l.type)&&void 0!==e?e:"")?l.settings[l.type]:{}},set:function(e){var t;l.settings.hasOwnProperty(null!==(t=l.type)&&void 0!==t?t:"")&&(l.settings[l.type]={}),l.settings[l.type]=ze(ze({},l.settings[l.type]),e)}}),Object.defineProperty(this,"index",{get:function(){var t;return null!==(t=null==e?void 0:e.index)&&void 0!==t?t:0}})},Ke.prototype.refactorSettings=function(){var e=this.settings;this.settings={},this.selfSettings=e},Ke.prototype.resetID=function(){this.id=ne.getRandomID()};const Ze=Ke,Qe=(0,wp.element.createContext)({});function et(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return tt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){a=!0,i=e},f:function(){try{l||null==r.return||r.return()}finally{if(a)throw i}}}}function tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var rt=wp.data.useSelect,nt=wp.element.useContext,ot=function(e){var t,r=e.actions,n=e.fields,o=et(r);try{for(o.s();!(t=o.n()).done;){var i=t.value,l=i.settings[i.type],a=void 0===l?{}:l;if(a.requestFields){var u,c=et(a.requestFields);try{for(c.s();!(u=c.n()).done;){var s=u.value;it(n,s,i)}}catch(e){c.e(e)}finally{c.f()}}}}catch(e){o.e(e)}finally{o.f()}},it=function(e,t,r){-1===e.findIndex((function(e){return e.value===t.name}))&&e.push({from:r.type,id:r.id,label:t.name,value:t.name,name:t.name,help:t.help})},lt=function(e){var t=e.computed,r=e.action,n=e.fields,o=e.nameSet;if(t.isSupported(r,n)){t.setAction(r),t.hasInList=!1;var i=t.getName();if(o.has(i)&&(t.hasInList=!0,i=t.getName()),!n.some((function(e){return e.value===i}))){var l=t.getLabel();o.add(i),n.push({from:r.type,id:r.id,label:l||i,value:i,name:i,help:t.getHelp()})}}};function at(e){var t=e.fields,r=e.actions,n=e.computed,o=e.nameSet;r=r.map((function(e){return new Ze(e)}));var i,l=et(n);try{for(l.s();!(i=l.n()).done;){var a=i.value,u=a.field,c=a.settings;if(null==c||!c.isScoped){var s,f=new u,p=et(r);try{for(p.s();!(s=p.n()).done;){var m=s.value;lt({computed:f,action:m,nameSet:o,fields:t})}}catch(e){p.e(e)}finally{p.f()}if(!f.action&&f.isSupportedGlobal()){var y=f.getLabel(),d=f.getName();t.push({label:y||d,value:d,name:d,help:f.getHelp()})}}}}catch(e){l.e(e)}finally{l.f()}}const ut=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).returnOnEmptyCurrentAction,t=void 0===e||e,r=rt((function(e){return e("core/editor").getEditedPostAttribute("meta")||{}}),[]),n=nt(Qe),o=rt((function(e){return{currentAction:e("jet-forms/actions").getCurrentAction(),computedList:e("jet-forms/actions").getComputedFields()}}),[]),i=o.currentAction,l=o.computedList;if((null==n||!n.actionId)&&t)return[];var a=JSON.parse(r._jf_actions||"[]");Number.isNaN(Number(null==i?void 0:i.index))||a.splice(i.index);var u,c=new Set,s=[],f=et(l);try{for(f.s();!(u=f.n()).done;){var p=u.value,m=p.field,y=p.settings;if(null!=y&&y.isScoped){var d=new m;lt({computed:d,action:i,nameSet:c,fields:s})}}}catch(e){f.e(e)}finally{f.f()}return ot({actions:a,fields:s}),at({fields:s,actions:a,computed:l,nameSet:c}),s};var ct=wp.data.useSelect;const st=function(e){var t=ct((function(e){return e("core/editor").getEditedPostAttribute("meta")||{}}));return JSON.parse(t[e]||"{}")};var ft=wp.element,pt=ft.useContext,mt=ft.useEffect;const yt=function(e){var t=pt(o),r=t.actionClick,n=t.onRequestClose;mt((function(){r&&e(),null!==r&&n()}),[r])};function dt(e){return function(e){if(Array.isArray(e))return bt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return bt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?bt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var vt=wp.hooks.applyFilters,ht=function e(t,r){r.forEach((function(r){t(r),r.innerBlocks.length&&e(t,r.innerBlocks)}))};const gt=function(e){var t=e.slug,r=e.element,n=void 0===r?"":r,o=e.empty,i=void 0===o?"":o,l=JetFormEditorData.global_settings;return l?n?l[t]&&l[t][n]?l[t][n]:i:l[t]||i:i},wt=function(e){var t=e("jet-forms/gateways"),r=t.getCurrentRequestId(),n=t.getGatewaySpecific(),o=t.getScenario(),i=t.getGatewayId(),l=o.id,a=void 0===l?"PAY_NOW":l,u=n.use_global,c=void 0!==u&&u,s=gt({slug:i}),f=we("additional")(i),p=e("jet-forms/actions").getLoading(r),m=we("labels"),y=je(i),d=function(e){return m("".concat(i,".").concat(e))};return{gatewayGeneral:t.getGateway(),gatewayRequest:t.getCurrentRequest(),scenarioSource:f[a]||{},currentScenario:o[a]||{},CURRENT_SCENARIO:a,gatewayScenario:o,additionalSourceGateway:f,gatewaySpecific:n,gatewayRequestId:r,loadingGateway:p,getSpecificOrGlobal:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return c?s[e]||t:n[e]||t},globalGatewayLabel:m,specificGatewayLabel:y,customGatewayLabel:d,scenarioLabel:function(e){return d("scenario.".concat(a,".").concat(e))}}};function jt(e){return jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jt(e)}function Ot(e){return function(e){if(Array.isArray(e))return St(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return St(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?St(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function St(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Et=wp.element,At=Et.useEffect,Pt=Et.useContext;const Ct=function(e){return{loadingState:e("jet-forms/actions").getCurrentLoading()}};function It(e,t){if(e){if("string"==typeof e)return _t(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_t(e,t):void 0}}function _t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var kt=wp.data.useSelect;const Tt=function(){var e,t=[],r=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=It(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){a=!0,i=e},f:function(){try{l||null==r.return||r.return()}finally{if(a)throw i}}}}(kt((function(e){return e("jet-forms/events").getAlwaysTypes()})));try{for(r.s();!(e=r.n()).done;){var n=e.value.value;t.push(n)}}catch(e){r.e(e)}finally{r.f()}return function(e){return function(e){if(Array.isArray(e))return _t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||It(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(new Set(t))};function xt(e,t){if(e){if("string"==typeof e)return Nt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Nt(e,t):void 0}}function Nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Rt=wp.data.useSelect;const Dt=function(){var e,t=st("_jf_gateways"),r=(null!==(e=t[null==t?void 0:t.gateway])&&void 0!==e?e:{}).scenario,n=void 0===r?{}:r;return Rt((function(e){var r,o=[],i=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=xt(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){a=!0,i=e},f:function(){try{l||null==r.return||r.return()}finally{if(a)throw i}}}}(e("jet-forms/events").getGatewayTypes());try{for(i.s();!(r=i.n()).done;){var l=r.value,a=!l.gateway||l.gateway===t.gateway,u=!l.scenario||l.scenario===(null==n?void 0:n.id);a&&u&&o.push(l.value)}}catch(e){i.e(e)}finally{i.f()}return function(e){return function(e){if(Array.isArray(e))return Nt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||xt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(new Set(o))}),[t.gateway,null==n?void 0:n.id])};function Ft(e){return function(e){if(Array.isArray(e))return Lt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Mt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mt(e,t){if(e){if("string"==typeof e)return Lt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Lt(e,t):void 0}}function Lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Bt=wp.data.useSelect;var $t=wp.data.useSelect;function Gt(e){return function(e){if(Array.isArray(e))return Ut(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ut(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ut(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Vt=wp.data.useSelect;const qt=function(e){var t=[].concat(Gt(Tt()),Gt(Dt()),Gt(function(e){var t=e.index,r=st("_jf_actions"),n=Bt((function(e){return e("jet-forms/actions").getActionsMap()}),[]);r.splice(t,1);var o,i=[],l=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Mt(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){a=!0,i=e},f:function(){try{l||null==r.return||r.return()}finally{if(a)throw i}}}}(r);try{for(l.s();!(o=l.n()).done;){var a,u=o.value,c=null==n||null===(a=n[u.type])||void 0===a?void 0:a.provideEvents;if("function"==typeof c){var s=u.settings[u.type],f=void 0===s?{}:s;i.push.apply(i,Ft(c(f)))}}}catch(e){l.e(e)}finally{l.f()}return Ft(new Set(i))}(e)),Gt($t((function(e){return e("jet-forms/events").getDynamicTypes().map((function(e){return e.value}))}))));return Vt((function(r){return r("jet-forms/events").filterList(e.type,t)}))};var Jt=wp.data.useSelect;function Ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Xt=wp.data.useSelect;const Wt=function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ht(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ht(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Xt((function(e){return[e("jet-forms/block-conditions").getOperators(),e("jet-forms/block-conditions").getFunctions()]}),[]),2);return{operators:e[0],functions:e[1]}};var zt=wp.blockEditor.useBlockEditContext;const Yt=function(){var e=zt().clientId;return function(t){return t+"-"+e}};function Kt(e){return Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kt(e)}var Zt=wp.blockEditor.useBlockEditContext,Qt=wp.data,er=Qt.useSelect,tr=Qt.useDispatch;const rr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Zt(),r=t.clientId;e&&(r=e);var n=er((function(e){return e("core/block-editor").getBlockAttributes(r)})),o=tr("core/block-editor",[]).updateBlock;return[n,function(e){e="object"===Kt(e)?e:e(n),e=wp.data.select("jet-forms/fields").getSanitizedAttributes(e,t),o(r,{attributes:e})}]};function nr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var or=wp.blockEditor.useBlockProps,ir=wp.data.useSelect;const lr=function(e){var t=or()["data-type"];return ir((function(r){return!!r("core/blocks").getBlockType(t).attributes[e]}),[e,t])};function ar(){return ar=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ar.apply(this,arguments)}function ur(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function sr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==fr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==fr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===fr(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fr(e){return fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fr(e)}var pr=wp.hooks.applyFilters;const mr=function(e){return function(t){return wp.element.createElement(e,ar({key:"wrapped-preset-editor"},t,{parseValue:function(){var e={};if("object"===fr(t.value))e=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cr(Object(r),!0).forEach((function(t){sr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t.value);else if(t.value&&"string"==typeof t.value)try{if("number"==typeof(e=JSON.parse(t.value)))throw new Error}catch(t){e={}}return e.jet_preset=!0,e},isVisible:function(e,t,r){return(t.position&&r===t.position||!t.position||"query_var"!==e.from)&&function(e,t){return!t.condition&&!t.custom_condition||(t.custom_condition?"query_var"===t.custom_condition?"post"===e.from&&"query_var"===e.post_from||"user"===e.from&&"query_var"===e.user_from||"query_var"===e.from:pr("jet.fb.preset.editor.custom.condition",!1,t.custom_condition,e):!t.condition||e[t.condition.field]===t.condition.value)}(e,t)},isMapFieldVisible:function(e,t,r){return!((t.condition||t.parent_condition)&&(t.parent_condition&&!t.condition?e[t.parent_condition.field]!==t.parent_condition.value:t.parent_condition&&t.condition?!e.fields_map||!e.fields_map[r]||e.fields_map[r][t.condition.field]!==t.condition.value||e[t.parent_condition.field]!==t.parent_condition.value:!t.parent_condition&&t.condition&&(!e.fields_map||!e.fields_map[r]||e.fields_map[r][t.condition.field]!==t.condition.value)))},isCurrentFieldVisible:function(e,t,r){return!((t.condition||t.parent_condition)&&(t.position&&r!==t.position||(t.parent_condition&&!t.condition?e[t.parent_condition.field]!==t.parent_condition.value:t.parent_condition&&t.condition?e["current_field_"+t.condition.field]!==t.condition.value||e[t.parent_condition.field]!==t.parent_condition.value:!t.parent_condition&&t.condition&&e["current_field_"+t.condition.field]!==t.condition.value)))},excludeOptions:function(e){var r=function(e){return function(e){if(Array.isArray(e))return ur(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ur(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ur(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e);return r.forEach((function(e,n){t.excludeSources&&t.excludeSources.includes(e.value)&&r.splice(n,1)})),r}}))}};var yr=wp.components,dr=yr.TextControl,br=yr.SelectControl;const vr=function(e){var t=e.data,r=e.value,n=e.index,o=e.onChangeValue,i=e.isVisible,l=e.excludeOptions,a=void 0===l?function(e){return e}:l,u=e.position;switch(t.type){case"text":return i(r,t,u)&&wp.element.createElement("div",{key:"field_"+t.name+n,className:"jet-form-preset__row"},wp.element.createElement(dr,{key:t.name+n,label:t.label,value:r[t.name],onChange:function(e){o(e,t.name)}}));case"select":return i(r,t,u)&&wp.element.createElement("div",{key:"field_"+t.name+n,className:"jet-form-preset__row"},wp.element.createElement(br,{key:t.name+n,labelPosition:"side",options:a(t.options),label:t.label,value:r[t.name],onChange:function(e){o(e,t.name)}}))}return null};var hr=window.wp.compose.withInstanceId,gr=window.wp.components.BaseControl;const wr=hr((function(e){var t=e.help,r=e.instanceId,n=e.label,o=e.onChange,i=e.options,l=void 0===i?[]:i,a=e.className,u=e.value,c=e.hideLabelFromVision,s="inspector-select-control-".concat(r);return!re(l)&&wp.element.createElement(gr,{label:n,hideLabelFromVision:c,id:s,help:t,className:a},wp.element.createElement("select",{id:s,className:"components-select-control__input",onChange:function(e){o(e.target.value)},value:u,"aria-describedby":t?"".concat(s,"__help"):void 0},wp.element.createElement("option",{key:"".concat(n,"-placeholder"),value:""},"--"),l.map((function(e,t){return!re(e.values)&&wp.element.createElement("optgroup",{key:"".concat(e.label,"-").concat(t),label:e.label},e.values.map((function(e,r){return wp.element.createElement("option",{key:"".concat(e.value,"-").concat(r,"-").concat(t),value:e.value,disabled:e.disabled},e.label)})))}))))}));var jr=wp.components,Or=jr.TextControl,Sr=jr.SelectControl,Er=jr.CustomSelectControl;const Ar=function(e){var t=e.data,r=e.value,n=e.index,o=e.currentState,i=e.onChangeValue,l=e.isCurrentFieldVisible;switch(t.type){case"text":return l(o,t)&&wp.element.createElement("div",{key:t.name+n,className:"jet-form-preset__row"},wp.element.createElement(Or,{key:"control_"+t.name+n,placeholder:t.label,value:r,onChange:function(e){i(e,"current_field_"+t.name)}}));case"select":return l(o,t)&&wp.element.createElement("div",{key:t.name+n,className:"jet-form-preset__row"},wp.element.createElement(Sr,{key:"control_"+t.name+n,labelPosition:"side",options:t.options,label:t.label,value:r,onChange:function(e){i(e,"current_field_"+t.name)}}));case"custom_select":return l(o,t)&&wp.element.createElement("div",{key:t.name+n,className:"jet-form-preset__row"},wp.element.createElement(Er,{className:"jet-custom-select-control",label:t.label,options:t.options,onChange:function(e){var n=e.selectedItem;r=n.key,i(r,"current_field_"+t.name)},value:t.options.find((function(e){return e.key===r}))}));case"grouped_select":return l(o,t)&&wp.element.createElement("div",{key:t.name+n,className:"jet-form-preset__row"},wp.element.createElement(wr,{options:t.options,label:t.label,labelPosition:"side",value:r,onChange:function(e){i(e,"current_field_"+t.name)}}))}return null},Pr=(0,wp.element.createContext)({});function Cr(e){return Cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cr(e)}function Ir(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ir(Object(r),!0).forEach((function(t){kr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ir(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function kr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Cr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Cr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Cr(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var xr=wp.element,Nr=xr.useState,Rr=xr.useContext,Dr=wp.components.ToggleControl,Fr=wp.i18n.__,Mr=function(e){var t,r,n=e.value,o=e.onSavePreset,i=e.parseValue,l=e.excludeOptions,a=e.isCurrentFieldVisible,u=e.isVisible,c="dynamic",s=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Tr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Tr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Nr((function(){return i(n)})),2),f=s[0],p=s[1],m=Rr(Pr),y=function(e,t){p((function(r){return _r(_r({},r),{},kr({},t,e))}))};return yt((function(){o(JSON.stringify(f))})),wp.element.createElement(React.Fragment,null,window.JetFormEditorData.presetConfig.global_fields.map((function(e,t){return wp.element.createElement(vr,{key:"current_field_".concat(e.name,"_").concat(t),value:f,index:t,data:e,excludeOptions:l,onChangeValue:y,isVisible:u,position:c})})),window.JetFormEditorData.presetConfig.map_fields.map((function(e,t){return wp.element.createElement(Ar,{key:"current_field_".concat(e.name,"_").concat(t),currentState:f,value:f["current_field_"+e.name],index:t,data:e,onChangeValue:y,isCurrentFieldVisible:a,position:c})})),(null==m?void 0:m.show)&&wp.element.createElement(Dr,{label:Fr("Restrict access","jet-form-builder"),help:null===(t=f.restricted)||void 0===t||t?Fr("Will set default value from preset only for users who allowed to edit this value","jet-form-builder"):Fr("Always set default value from preset. Make sure it can't be accidentally changed from form Actions","jet-form-builder"),checked:null===(r=f.restricted)||void 0===r||r,onChange:function(e){return p((function(t){return _r(_r({},t),{},{restricted:e?void 0:e})}))}}))};const Lr=Mr=mr(Mr);function Br(e){return Br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Br(e)}function $r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Gr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$r(Object(r),!0).forEach((function(t){Ur(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$r(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ur(e,t,r){return(t=qr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qr(n.key),n)}}function qr(e){var t=function(e,t){if("object"!==Br(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Br(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Br(t)?t:String(t)}function Jr(e,t){return Jr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Jr(e,t)}function Hr(e){return Hr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Hr(e)}var Xr=wp.components,Wr=Xr.SelectControl,zr=Xr.TextControl,Yr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jr(e,t)}(l,wp.element.Component);var t,r,n,o,i=(n=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Hr(n);if(o){var r=Hr(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Br(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=i.call(this,e)).fieldTypes=t.props.fieldTypes,t.taxonomiesList=t.props.taxonomiesList,t.className=t.props.className,t.metaProp=t.props.metaProp?t.props.metaProp:"post_meta",t.termsProp=t.props.termsProp?t.props.termsProp:"post_terms",t.index=t.props.index,t.init(),t.bindFunctions(),t.state={type:t.getFieldType(t.props.fieldValue)},t}return t=l,(r=[{key:"bindFunctions",value:function(){this.onChangeType=this.onChangeType.bind(this),this.onChangeValue=this.onChangeValue.bind(this)}},{key:"init",value:function(){if(this.id="inspector-select-control-".concat(this.index),this.preparedTaxes=[],this.taxPrefix="jet_tax__",this.taxonomiesList)for(var e=0;e<this.taxonomiesList.length;e++)this.preparedTaxes.push({value:this.taxPrefix+this.taxonomiesList[e].value,label:this.taxonomiesList[e].label})}},{key:"getFieldName",value:function(e){if(!e)return"";var t=this.getFieldType(e);return this.termsProp===t||this.metaProp===t?e:""}},{key:"isTermOrMeta",value:function(e){return this.termsProp===e||this.metaProp===e}},{key:"getFieldType",value:function(e){if(!e)return"";for(var t=0;t<this.fieldTypes.length;t++)if(e===this.fieldTypes[t].value)return e;return e.includes(this.taxPrefix)?this.termsProp:this.metaProp}},{key:"onChangeValue",value:function(e){this.props.onChange(Gr(Gr({},this.props.fieldsMap),{},Ur({},this.props.fieldName,e)))}},{key:"onChangeType",value:function(e){var t=this.getFieldType(e);this.setState({type:t}),this.isTermOrMeta(t)&&(t=""),this.onChangeValue(t)}},{key:"render",value:function(){return wp.element.createElement("div",{className:"jet-fields-map__row"},wp.element.createElement("div",{className:"jet-post-field-control"},wp.element.createElement(Wr,{key:"field_type_"+this.props.fieldName+this.index,label:this.props.fieldName,labelPosition:"side",value:this.state.type,onChange:this.onChangeType,options:this.fieldTypes,style:{width:"160px"}}),this.metaProp===this.state.type&&wp.element.createElement(zr,{key:"field_name_"+this.props.fieldName+this.index,value:this.props.fieldValue,onChange:this.onChangeValue,style:{width:"200px"}}),this.termsProp===this.state.type&&wp.element.createElement(Wr,{className:"jet-control-without-label",key:"field_tax_"+this.props.fieldName+this.index,value:this.props.fieldValue,onChange:this.onChangeValue,options:this.preparedTaxes,style:{width:"200px"}})))}}])&&Vr(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),l}();const Kr=Yr;function Zr(){return Zr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zr.apply(this,arguments)}function Qr(e,t){if(e){if("string"==typeof e)return en(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?en(e,t):void 0}}function en(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var tn=wp.components,rn=tn.Path,nn=tn.SVG,on=tn.BaseControl,ln=wp.element.useState;function an(){return an=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},an.apply(this,arguments)}function un(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?un(Object(r),!0).forEach((function(t){sn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):un(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function sn(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==fn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==fn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===fn(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fn(e){return fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fn(e)}var pn=wp.components,mn=pn.TextControl,yn=pn.SelectControl,dn=pn.CustomSelectControl,bn=pn.Card,vn=pn.CardBody,hn=pn.CardHeader;function gn(e){return gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gn(e)}function wn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==gn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==gn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===gn(o)?o:String(o)),n)}var o}var jn=wp.blocks.store;const On=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t.id,this.blocks=[],this.setBlocksMeta(t.supported)}var t,r;return t=e,(r=[{key:"setBlocksMeta",value:function(e){e.length&&(this.blocks=e.map((function(e){var t=wp.data.select(jn).getBlockType("jet-forms/".concat(e));return{title:t.title,icon:t.icon.src}})))}}])&&wn(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Sn(e){return Sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sn(e)}function En(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==Sn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Sn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===Sn(o)?o:String(o)),n)}var o}const An=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.items=[]}var t,r;return t=e,(r=[{key:"push",value:function(e){this.items.push(new On(e))}}])&&En(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Pn(e,t){if(e){if("string"==typeof e)return Cn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Cn(e,t):void 0}}function Cn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var In=window.jetFormValidation.messages,_n=wp.element.useState,kn=In.sort((function(e,t){return e.supported.length-t.supported.length}));function Tn(){var e,t=new An,r=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Pn(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){a=!0,i=e},f:function(){try{l||null==r.return||r.return()}finally{if(a)throw i}}}}(kn);try{for(r.s();!(e=r.n()).done;){var n=e.value;t.push(n)}}catch(e){r.e(e)}finally{r.f()}return t.items}const xn=function(e,t){1>=e.label.length||e.name&&"field_name"!==e.name||t({name:ee(e.label)})};function Nn(){return Nn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nn.apply(this,arguments)}var Rn=wp.components.BaseControl,Dn=wp.blockEditor.RichText,Fn=wp.compose,Mn=Fn.__experimentalUseFocusOutside,Ln=Fn.useFocusOutside;Ln=Ln||Mn;var Bn=wp.i18n.__;function $n(e){return wp.element.createElement("small",{style:{whiteSpace:"nowrap",padding:"0.2em 0.8em 0 0",color:"#8e8a8a"}},e)}var Gn=["children","fields","onFieldClick","customMacros","zIndex"];function Un(){return Un=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Un.apply(this,arguments)}function Vn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var qn=wp.components,Jn=qn.Button,Hn=qn.Popover,Xn=qn.PanelBody,Wn=wp.element.useState;function zn(e){return zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zn(e)}function Yn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||to(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kn(Object(r),!0).forEach((function(t){Qn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Qn(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==zn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==zn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===zn(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eo(e){return function(e){if(Array.isArray(e))return ro(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||to(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function to(e,t){if(e){if("string"==typeof e)return ro(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ro(e,t):void 0}}function ro(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var no=wp.i18n,oo=no.__,io=no.sprintf,lo=wp.components,ao=lo.Button,uo=lo.ButtonGroup,co=lo.Card,so=lo.CardBody,fo=lo.CardHeader,po=lo.ToggleControl,mo=lo.Flex,yo=lo.FlexItem,bo=wp.element,vo=bo.useState,ho=bo.useEffect;function go(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var wo=wp.i18n.__,jo=wp.components.TextControl;const Oo=function(e){var t=e.label,r=e.help,n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return go(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?go(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(rr(),2),o=n[0],i=n[1];return lr("placeholder")?wp.element.createElement(jo,{label:null!=t?t:wo("Placeholder","jet-form-builder"),value:o.placeholder,help:null!=r?r:"",onChange:function(e){return i({placeholder:e})}}):null};function So(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Eo=wp.i18n.__,Ao=wp.components.ToggleControl;const Po=function(e){var t=e.label,r=e.help,n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return So(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?So(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(rr(),2),o=n[0],i=n[1];return lr("add_prev")?wp.element.createElement(Ao,{label:null!=t?t:Eo("Add Prev Page Button","jet-form-builder"),help:null!=r?r:Eo('It is recommended to use the "Action Button" block with the "Go to Prev Page" type',"jet-form-builder"),checked:o.add_prev,onChange:function(e){return i({add_prev:e})}}):null};function Co(e){return Co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Co(e)}var Io=["children","className","style"];function _o(){return _o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_o.apply(this,arguments)}function ko(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function To(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ko(Object(r),!0).forEach((function(t){xo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ko(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xo(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Co(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Co(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Co(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const No=function(e){var t=e.children,r=e.className,n=void 0===r?"":r,o=e.style,i=void 0===o?{}:o,l=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Io);return wp.element.createElement("p",_o({className:"jet-fb-base-control__help"+(n?" ".concat(n):""),style:To({fontSize:"12px",fontStyle:"normal",color:"rgb(117, 117, 117)",marginTop:"0px"},i)},l),t)};var Ro=wp.blockEditor.useBlockEditContext,Do=wp.data.useSelect,Fo=wp.i18n.__;const Mo=function(e){var t=e.name,r=void 0!==t&&t,n=e.children,o=void 0===n?null:n,i=Ro().name,l=Do((function(e){var t,n;return!1!==r&&null!==(t=null===(n=e("core/blocks").getBlockType(i).attributes[r])||void 0===n?void 0:n.jfb)&&void 0!==t&&t}),[i,r]);return l?wp.element.createElement(No,{className:"jet-fb mb-24"},o&&wp.element.createElement(React.Fragment,null,o," "),(null==l?void 0:l.shortcode)&&!l.rich&&!o&&Fo("You can use shortcodes here.","jet-form-builder"),(null==l?void 0:l.shortcode)&&!l.rich&&o&&Fo("You can also use shortcodes here.","jet-form-builder")):Boolean(o)&&wp.element.createElement(No,{className:"jet-fb mb-24"},o)};function Lo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Bo=wp.i18n.__,$o=wp.components.TextControl;const Go=function(e){var t=e.label,r=e.help,n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Lo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Lo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(rr(),2),o=n[0],i=n[1];return o.add_prev?wp.element.createElement(React.Fragment,null,wp.element.createElement($o,{label:null!=t?t:Bo("Prev Page Button Label","jet-form-builder"),value:o.prev_label,className:"jet-fb m-unset",onChange:function(e){return i({prev_label:e})}}),wp.element.createElement(Mo,{name:"prev_label"},null!=r?r:"")):null};function Uo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Vo=wp.i18n.__,qo=wp.components.SelectControl;const Jo=function(e){var t=e.label,r=e.help,n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Uo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Uo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(rr(),2),o=n[0],i=n[1];return lr("visibility")?wp.element.createElement(qo,{options:[{value:"all",label:Vo("For all","jet-form-builder")},{value:"logged_id",label:Vo("Only for logged in users","jet-form-builder")},{value:"not_logged_in",label:Vo("Only for NOT-logged in users","jet-form-builder")}],label:null!=t?t:Vo("Field Visibility","jet-form-builder"),help:null!=r?r:"",value:o.visibility,onChange:function(e){return i({visibility:e})}}):null};function Ho(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Xo=wp.i18n.__,Wo=wp.components.TextControl;const zo=function(e){var t=e.label,r=e.help,n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ho(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ho(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(rr(),2),o=n[0],i=n[1];return wp.element.createElement(Wo,{label:null!=t?t:Xo("CSS Class Name","jet-form-builder"),value:o.class_name,help:null!=r?r:"",onChange:function(e){return i({class_name:e})}})};var Yo=wp.blockEditor.InspectorAdvancedControls;function Ko(){return Ko=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ko.apply(this,arguments)}function Zo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Qo=wp.i18n.__,ei=wp.components.TextControl,ti=wp.compose,ri=ti.__experimentalUseFocusOutside,ni=ti.useFocusOutside;ni=ni||ri;const oi=function(e){var t=e.label,r=e.help,n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Zo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Zo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(rr(),2),o=n[0],i=n[1],l=ni((function(){xn(o,i)}));return wp.element.createElement(React.Fragment,null,wp.element.createElement(ei,Ko({label:null!=t?t:Qo("Field Label","jet-form-builder"),className:"jet-fb m-unset",value:o.label,onChange:function(e){return i({label:e})}},l)),wp.element.createElement(Mo,{name:"label"},null!=r?r:""))};function ii(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var li,ai=wp.data.useSelect,ui=wp.blockEditor.useBlockEditContext,ci=wp.i18n,si=ci.__,fi=ci.sprintf,pi={},mi=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return ii(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ii(e,t):void 0}}(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){a=!0,i=e},f:function(){try{l||null==r.return||r.return()}finally{if(a)throw i}}}}(window.jetFormActionTypes);try{for(mi.s();!(li=mi.n()).done;){var yi=li.value,di=yi.id,bi=yi.name;pi[di]=bi}}catch(e){mi.e(e)}finally{mi.f()}function vi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var hi=wp.i18n.__,gi=wp.components,wi=gi.TextControl,ji=gi.Icon,Oi=gi.Flex,Si=gi.Tooltip,Ei=wp.compose.useInstanceId;const Ai=function e(t){var r=t.label,n=t.help,o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(rr(),2),i=o[0],l=o[1],a=function(){var e=ui().clientId,t=ut({returnOnEmptyCurrentAction:!1}),r=ai((function(t){var r,n,o,i=t("jet-forms/fields").getBlockById(e);return{hasParent:!(null==i||!i.parentBlock),fieldNames:null!==(r=null==i||null===(n=i.fields)||void 0===n||null===(o=n.map)||void 0===o?void 0:o.call(n,(function(e){return e.value})))&&void 0!==r?r:[],inFormFields:t("jet-forms/fields").isUniqueName(e)}})),n=r.inFormFields,o=r.hasParent,i=r.fieldNames;if(!n)return{error:"not_unique_in_fields",message:si("The form field name must be unique. Please change it","jet-form-builder")};if(o)return{};var l=t.find((function(e){var t=e.value;return i.includes(t)}));return l?{error:"not_unique_in_actions",message:null!=l&&l.from?fi(si("The %s action already uses this field name. Please change it","jet-form-builder"),pi[l.from]):si("The form field name must be unique. Please change it","jet-form-builder")}:{}}().message,u=Ei(e,"AdvancedInspectorControl");return lr("name")?wp.element.createElement(React.Fragment,null,wp.element.createElement(Oi,{align:"center",justify:"flex-start",style:{marginBottom:"8px"}},wp.element.createElement("label",{htmlFor:u,className:"jet-fb label"},null!=r?r:hi("Form field name","jet-form-builder")),!!a&&wp.element.createElement(Si,{text:a,delay:200,position:"top center"},wp.element.createElement(ji,{icon:"warning",style:{color:"orange",cursor:"help"}}))),wp.element.createElement(wi,{id:u,value:i.name,help:null!=n?n:hi("Should contain only Latin letters, numbers, `-` or `_` chars, no spaces only lower case","jet-form-builder"),onChange:function(e){return l({name:e})}})):null};function Pi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ci=wp.i18n.__,Ii=wp.components.TextControl;const _i=function(e){var t=e.label,r=e.help,n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Pi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Pi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(rr(),2),o=n[0],i=n[1];return lr("desc")?wp.element.createElement(React.Fragment,null,wp.element.createElement(Ii,{label:null!=t?t:Ci("Field Description","jet-form-builder"),value:o.desc,className:"jet-fb m-unset",onChange:function(e){return i({desc:e})}}),wp.element.createElement(Mo,{name:"desc"},null!=r?r:"")):null};function ki(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ti=wp.i18n.__,xi=wp.components.Button,Ni=wp.element.useState;const Ri=function(e){var t=e.value,r=e.onChange,n=e.title,o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ki(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ki(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Ni(!1),2),i=o[0],l=o[1];return wp.element.createElement(React.Fragment,null,wp.element.createElement(xi,{icon:"database",variant:"tertiary",isSmall:!0,className:"jet-fb-is-thick",onClick:function(){return l(!0)}}),i&&wp.element.createElement(b,{classNames:["width-60"],title:null!=n?n:Ti("Edit Preset","jet-form-builder"),onRequestClose:function(){return l(!1)}},wp.element.createElement(Lr,{key:"dynamic_key_preset",value:t,onSavePreset:r})))},Di=(0,wp.element.createContext)(!1);var Fi=["children"];function Mi(){return Mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mi.apply(this,arguments)}function Li(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Bi=wp.element,$i=Bi.useState,Gi=Bi.useRef,Ui=wp.components,Vi=Ui.Button,qi=Ui.Popover;const Ji=function(e){var t=e.children,r=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Fi),n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Li(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Li(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}($i(!1),2),o=n[0],i=n[1],l=Gi();return wp.element.createElement(Di.Provider,{value:{showPopover:o,setShowPopover:i}},wp.element.createElement(Vi,Mi({ref:l,icon:"admin-tools",variant:"tertiary",isSmall:!0,className:"jet-fb-is-thick",onClick:function(){return i((function(e){return!e}))}},r)),o&&wp.element.createElement(qi,{anchorRef:l.current,position:"top-start",noArrow:!1,isAlternate:!0,onFocusOutside:function(e){e.relatedTarget!==l.current&&i(!1)},onClose:function(){return i(!1)}},t))},Hi=(0,wp.element.createContext)([]),Xi=(0,wp.element.createContext)({name:""});function Wi(){}Wi.prototype={fullName:function(){},fullHelp:function(){}};const zi=Wi;function Yi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ki=wp.element.useState,Zi=wp.components.Button;const Qi=function(e){var t=e.current,r=e.children,n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Yi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Yi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Ki(!1),2),o=n[0],i=n[1];if(!(t instanceof zi))return wp.element.createElement("li",null,wp.element.createElement(Xi.Provider,{value:t},r));var l=t.fullHelp.bind(t);return wp.element.createElement("li",null,wp.element.createElement(Xi.Provider,{value:t},wp.element.createElement("div",{style:{display:"flex",alignItems:"center",gap:"0.6em"}},wp.element.createElement(Zi,{isSmall:!0,variant:"tertiary",icon:o?"arrow-down":"arrow-right",className:"jet-fb-is-thick",onClick:function(){return i((function(e){return!e}))}}),r),o&&wp.element.createElement(l,null)))};var el=wp.element,tl=el.Children,rl=el.cloneElement,nl=wp.components.PanelBody;const ol=function(e){var t=e.title,r=e.items,n=e.children,o=e.initialOpen,i=r.map((function(e){return wp.element.createElement(Qi,{current:e})}));return wp.element.createElement(nl,{title:t,initialOpen:o},wp.element.createElement("ul",{style:{padding:"0 0.5em"}},tl.map(i,(function(e){return rl(e,{},n)}))))};var il=["children","fields"];function ll(e){return function(e){if(Array.isArray(e))return al(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return al(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?al(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function al(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ul=wp.element.useContext,cl=wp.i18n.__;const sl=function(e){var t,r,n,o,i,l,a=e.children,u=e.fields,c=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,il),s=ul(Hi),f=[].concat(ll(null!==(t=s.beforeFields)&&void 0!==t?t:[]),ll(u),ll(null!==(r=s.afterFields)&&void 0!==r?r:[]));return f.length||null!=s&&null!==(n=s.extra)&&void 0!==n&&n.length||null!=s&&null!==(o=s.filters)&&void 0!==o&&o.length?wp.element.createElement(Ji,c,Boolean(f.length)&&wp.element.createElement(ol,{title:cl("Fields:","jet-form-builder"),items:f,initialOpen:!0},a),Boolean(null==s||null===(i=s.extra)||void 0===i?void 0:i.length)&&wp.element.createElement(ol,{title:cl("Extra macros:","jet-form-builder"),items:s.extra},a),Boolean(null==s||null===(l=s.filters)||void 0===l?void 0:l.length)&&wp.element.createElement(ol,{title:cl("Filters:","jet-form-builder"),items:s.filters},a)):null};var fl=wp.element.useContext,pl=wp.components.Button;const ml=function(e){var t=e.onClick,r=fl(Xi),n=r.fullName?r.fullName():"%".concat(r.value,"%");return wp.element.createElement(pl,{isLink:!0,onClick:function(){return t(n)}},n)},yl="SET_BLOCKS",dl="SET_BLOCKS_FIRST",bl="TOGGLE_EXECUTE";var vl;function hl(e){return hl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hl(e)}function gl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gl(Object(r),!0).forEach((function(t){jl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function jl(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==hl(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==hl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===hl(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ol=(jl(vl={},yl,(function(e,t){var r=[];for(var n in t.blockMap)t.blockMap.hasOwnProperty(n)&&!e.blockMap.hasOwnProperty(n)&&r.push(n);return wl(wl({},e),{},{blocks:t.blocks,blockMap:t.blockMap,recentlyAdded:r})})),jl(vl,dl,(function(e,t){return wl(wl({},e),{},{blocks:t.blocks,blockMap:t.blockMap})})),jl(vl,bl,(function(e){return wl(wl({},e),{},{executed:!0})})),vl);const Sl=wl({},Ol);var El={blocks:[],blockMap:{},executed:!1,recentlyAdded:[],sanitizers:{name:[function(e){return e.replace(/[^\w\-]/gi,"")}]}},Al=wp.data.select;const Pl=function(){var e=[],t={};return ie((function(r,n){var o,i;if(null!=r&&null!==(o=r.name)&&void 0!==o&&o.includes("jet-forms/")){var l=Al("core/blocks").getBlockType(r.name),a=l.jfbResolveBlock.call(r);if(l.hasOwnProperty("jfbGetFields")&&(a.fields=l.jfbGetFields.call(r)),null==n||!n.name)return e.push(a),void(t[a.clientId]=a);var u=null!==(i=t[null==n?void 0:n.clientId])&&void 0!==i&&i;u&&(Object.defineProperty(a,"parentBlock",{get:function(){return u}}),u.innerBlocks=(null==u?void 0:u.innerBlocks)||[],u.innerBlocks.push(a),t[a.clientId]=a)}})),{blocks:e,blockMap:t}};var Cl=wp.data,Il=Cl.select,_l=Cl.dispatch;const kl={setBlocks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null===e&&(e=Pl());var t=Il(Xl).isExecuted();return t||_l(Xl).toggleExecute(),{type:t?yl:dl,blocks:e.blocks,blockMap:e.blockMap}},toggleExecute:function(){return{type:bl}}};function Tl(e){return Tl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(e)}function xl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Nl(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Tl(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Tl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Tl(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rl(e){return function(e){if(Array.isArray(e))return Ml(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Fl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dl(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Fl(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){a=!0,i=e},f:function(){try{l||null==r.return||r.return()}finally{if(a)throw i}}}}function Fl(e,t){if(e){if("string"==typeof e)return Ml(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ml(e,t):void 0}}function Ml(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ll={getBlocks:function(e){return e.blocks},getBlockMap:function(e){return e.blockMap},getFields:function(e,t){var r=t.withInner,n=void 0===r||r,o=t.currentId,i=void 0!==o&&o,l=[];return function e(t){var r,o=Dl(t);try{for(o.s();!(r=o.n()).done;){var a,u,c=r.value;null!==(a=c.fields)&&void 0!==a&&a.length&&c.clientId!==i&&l.push.apply(l,Rl(c.fields)),n&&null!==(u=c.innerBlocks)&&void 0!==u&&u.length&&e(c.innerBlocks)}}catch(e){o.e(e)}finally{o.f()}}(e.blocks),l},isExecuted:function(e){return e.executed},isRecentlyAdded:function(e,t){return-1!==e.recentlyAdded.indexOf(t)},getUniqueNames:function(e,t){var r,n,o,i,l=null!==(r=e.blockMap[t])&&void 0!==r&&r;if(!l)return{hasChanged:!1};var a,u=!1,c=null!==(n=null==l||null===(o=l.fields)||void 0===o||null===(i=o.map)||void 0===i?void 0:i.call(o,(function(e){return e.value})))&&void 0!==n?n:[],s=function e(t){var r,n=Dl(t);try{for(n.s();!(r=n.n()).done;){var o=r.value,i=c.indexOf(o.value);-1!==i&&("field_name"!==o.value?(c[i]="".concat(c[i],"_copy"),u=!0,e(t)):u=!0)}}catch(e){n.e(e)}finally{n.f()}},f=Dl(l.hasOwnProperty("parentBlock")?l.parentBlock.innerBlocks:e.blocks);try{for(f.s();!(a=f.n()).done;){var p,m=a.value;t!==m.clientId&&s(null!==(p=null==m?void 0:m.fields)&&void 0!==p?p:[])}}catch(e){f.e(e)}finally{f.f()}return{hasChanged:u,names:c.join("|")}},getSanitizedAttributes:function(e,t){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).name;for(var n in t){var o,i,l,a;if(t.hasOwnProperty(n)){var u=null!==(o=null!==(i=null===(l=e.sanitizers)||void 0===l||null===(l=l[r])||void 0===l?void 0:l[n])&&void 0!==i?i:null===(a=e.sanitizers)||void 0===a?void 0:a[n])&&void 0!==o&&o;if(null!=u&&u.length){var c,s=Dl(u);try{for(s.s();!(c=s.n()).done;){var f=c.value;"function"==typeof f&&(t[n]=f(t[n]))}}catch(e){s.e(e)}finally{s.f()}}}}return t},isUniqueName:function(e,t){return!Ll.getUniqueNames(e,t).hasChanged},getBlock:function(e,t){return e.blocks.find((function(e){return[e.name,e.clientId].includes(t)}))},getBlockByName:function(e,t){return!!t&&(function e(r){var n,o=Dl(r);try{for(o.s();!(n=o.n()).done;){var i,l=n.value;if(l.fields.some((function(e){return e.value===t})))return l;null!==(i=l.innerBlocks)&&void 0!==i&&i.length&&e(l.innerBlocks)}}catch(e){o.e(e)}finally{o.f()}}(e.blocks),!1)},getBlockNameByName:function(e,t){var r,n=Ll.getBlockByName(e,t);return null!==(r=null==n?void 0:n.name)&&void 0!==r?r:""},getBlockById:function(e,t){var r;return null!==(r=e.blockMap[t])&&void 0!==r&&r}};const Bl=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xl(Object(r),!0).forEach((function(t){Nl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Ll);var $l,Gl,Ul=wp.data,Vl=Ul.createReduxStore,ql=Ul.dispatch,Jl=Ul.select,Hl=Ul.subscribe,Xl="jet-forms/fields";Hl((function(){var e=window._.debounce,t=ql(Xl).setBlocks;e((function(){var e=Jl("core/block-editor").getGlobalBlockCount();if($l!==e)return $l=e,void t();var r=Pl(),n=JSON.stringify(r.blocks);n!==Gl&&(Gl=n,t(r))}),100)()}));const Wl=Vl(Xl,{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:El,t=arguments.length>1?arguments[1]:void 0,r=Sl[null==t?void 0:t.type];return r?r(e,t):e},actions:kl,selectors:Bl});function zl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Yl=wp.data.useSelect,Kl=wp.blockEditor.useBlockEditContext,Zl=wp.hooks.applyFilters;const Ql=function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,o=Kl(),i=ut();r.excludeCurrent&&null!=o&&null!==(e=o.clientId)&&void 0!==e&&e.length&&(r.currentId=o.clientId);var l=Yl((function(e){return e(Xl).getFields(r)}),n);return(t=l=Zl("jet.fb.getFormFieldsBlocks",l)).push.apply(t,function(e){return function(e){if(Array.isArray(e))return zl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return zl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zl(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(i)),r.placeholder?ne.withPlaceholder(l,r.placeholder):l};var ea=["onClick","withCurrent"];function ta(){return ta=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ta.apply(this,arguments)}const ra=function(e){var t=e.onClick,r=void 0===t?function(){}:t,n=e.withCurrent,o=void 0!==n&&n,i=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,ea),l=Ql({excludeCurrent:!o});return wp.element.createElement(sl,ta({withCurrent:o,fields:l},i),wp.element.createElement(ml,{onClick:r}))};var na=["label","children"];function oa(){return oa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oa.apply(this,arguments)}var ia=wp.components.Flex;const la=function(e){var t=e.label,r=e.children,n=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,na);return wp.element.createElement(ia,{align:"center",justify:"flex-start",style:{marginBottom:"8px"}},wp.element.createElement("label",oa({className:"jet-fb label"},n),t),r)};var aa=wp.components.FlexItem,ua=wp.compose.useInstanceId;const ca=function(e){var t=e.children,r=e.value,n=e.label,o=e.onChangePreset,i=void 0!==o&&o,l=e.onChangeMacros,a=void 0!==l&&l,u=ua(aa,"jfb-AdvancedInspectorControl");return wp.element.createElement(React.Fragment,null,wp.element.createElement(la,{label:n,htmlFor:u},!1!==i&&wp.element.createElement(Ri,{value:r,onChange:i}),!1!==a&&wp.element.createElement(ra,{onClick:a})),"function"==typeof t?t({instanceId:u}):t)};function sa(){zi.call(this)}sa.prototype=Object.create(zi.prototype),sa.prototype.isServerSide=!1,sa.prototype.isClientSide=!1,sa.prototype.name="",sa.prototype.namespace="CT",sa.prototype.help=null,sa.prototype.fullHelp=function(){return this.help},sa.prototype.fullName=function(){return"%".concat(this.namespace,"::").concat(this.name,"%")};const fa=sa;var pa=wp.data.useSelect,ma=wp.i18n.__,ya=new fa;ya.fullName=function(){return"%this%"},ya.fullHelp=function(){return ma("Returns current field value","jet-form-builder")};const da=function(e){var t=e.children,r=e.withThis,n=void 0!==r&&r,o=pa((function(e){return e("jet-forms/macros").getClientMacros()}),[]),i=n?{extra:o,afterFields:[ya]}:{extra:o};return wp.element.createElement(Hi.Provider,{value:i},t)};function ba(e,t,r){var n,o=r.selectionStart,i=r.selectionEnd,l=(e=null!==(n=e)&&void 0!==n?n:"").slice(0,o),a=e.slice(i);return l+=t,setTimeout((function(){r.focus(),r.selectionStart=l.length,r.selectionEnd=l.length})),l+a}function va(e){return va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},va(e)}function ha(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ga=wp.element.useRef;const wa=function(e){var t,r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ha(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ha(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(rr(),2),n=r[0],o=r[1],i=null!==(t=n[e])&&void 0!==t?t:"",l=ga();return[l,function(t){o(function(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==va(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==va(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===va(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},e,ba(i,t,l.current)))}]};function ja(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Oa(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Oa(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oa(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Sa=wp.i18n.__,Ea=wp.components.TextControl;const Aa=function(e){var t=e.label,r=e.help,n=e.hasMacro,o=void 0===n||n,i=ja(rr(),2),l=i[0],a=i[1],u=ja(wa("default"),2),c=u[0],s=u[1];return lr("default")?wp.element.createElement(Pr.Provider,{value:{show:!0}},wp.element.createElement(da,null,wp.element.createElement(ca,{value:l.default,label:null!=t?t:Sa("Default Value","jet-form-builder"),onChangePreset:function(e){return a({default:e})},onChangeMacros:!!o&&s},(function(e){var t=e.instanceId;return wp.element.createElement(React.Fragment,null,wp.element.createElement(Ea,{ref:c,id:t,value:l.default,className:"jet-fb m-unset",onChange:function(e){return a({default:e})}}),wp.element.createElement(Mo,{name:"default"},null!=r?r:""))})))):null};var Pa=wp.components.PanelBody,Ca=wp.i18n.__;function Ia(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _a=wp.blockEditor.BlockControls,ka=wp.compose.useCopyToClipboard,Ta=wp.components,xa=Ta.TextControl,Na=Ta.ToolbarGroup,Ra=Ta.ToolbarItem,Da=Ta.ToolbarButton;const Fa=function(e){var t=e.children,r=void 0===t?null:t,n=Yt(),o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ia(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ia(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(rr(),2),i=o[0],l=o[1],a=He('Copied "'.concat(i.name,'" to clipboard.')),u=ka(i.name,(function(){return a(!0)}));return wp.element.createElement(_a,{key:n("ToolBarFields-BlockControls")},wp.element.createElement(Na,{key:n("ToolBarFields-ToolbarGroup"),className:"jet-fb-block-toolbar"},wp.element.createElement(Da,{isSmall:!0,icon:"admin-page",showTooltip:!0,shortcut:"Copy name",ref:u}),wp.element.createElement(Ra,{as:xa,value:i.name,onChange:function(e){return l({name:e})}}),r))};function Ma(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var La=wp.i18n.__,Ba=wp.components.ToolbarButton,$a=wp.blockEditor.BlockControls,Ga=wp.primitives,Ua=Ga.SVG,Va=Ga.Path;const qa=function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ma(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ma(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(rr(),2),t=e[0],r=e[1];return lr("required")?wp.element.createElement($a,{group:"block"},wp.element.createElement(Ba,{icon:wp.element.createElement(Ua,{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none"},wp.element.createElement(Va,{d:"M12 4L12 20",stroke:"currentcolor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),wp.element.createElement(Va,{d:"M17.3137 6.00024L6.00001 17.314",stroke:"currentcolor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),wp.element.createElement(Va,{d:"M20 12L4 12",stroke:"currentcolor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),wp.element.createElement(Va,{d:"M17.3137 17.3137L6.00001 6.00001",stroke:"currentcolor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),title:t.required?La("Click to make this field optional","jet-form-builder"):La("Click to make this field required","jet-form-builder"),onClick:function(){return r({required:!t.required})},isActive:t.required})):null};function Ja(e){return Ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ja(e)}function Ha(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xa(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ja(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ja(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ja(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wa(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var za,Ya=wp.components.createSlotFill,Ka={},Za=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Wa(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Wa(e,t):void 0}}(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){a=!0,i=e},f:function(){try{l||null==r.return||r.return()}finally{if(a)throw i}}}}(jetFormActionTypes);try{for(Za.s();!(za=Za.n()).done;){var Qa,eu,tu,ru,nu=za.value.self;if(null!==(Qa=window[nu])&&void 0!==Qa&&null!==(eu=(tu=Qa).hasOwnProperty)&&void 0!==eu&&eu.call(tu,"__messages")&&null!==(ru=Object.keys(window[nu].__messages))&&void 0!==ru&&ru.length)for(var ou=0,iu=Object.keys(window[nu].__messages);ou<iu.length;ou++){var lu=iu[ou];Ka.hasOwnProperty(lu)||(Ka[lu]=Ya("JFBActionMessageRow-".concat(lu)))}}}catch(e){Za.e(e)}finally{Za.f()}const au=Ka;function uu(e){return uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(e)}function cu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function su(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cu(Object(r),!0).forEach((function(t){fu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fu(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==uu(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==uu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===uu(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return mu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mu(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var yu=wp.components,du=yu.TextControl,bu=yu.BaseControl,vu=wp.element,hu=vu.useMemo,gu=vu.useEffect,wu=wp.i18n.__;function ju(e){var t=e.type,r=e.label,n=e.value,o=e.onChange,i=hu((function(){return au[t]}),[t]).Slot;return wp.element.createElement("div",{className:"jet-user-meta__row"},wp.element.createElement(i,{fillProps:e},(function(e){return Boolean(null==e?void 0:e.length)?e:wp.element.createElement(du,{label:r,value:n,onChange:o})})))}function Ou(e){return Ou="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ou(e)}function Su(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Eu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Su(Object(r),!0).forEach((function(t){Au(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Su(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Au(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ou(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ou(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ou(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Cu(e){return function(e){if(Array.isArray(e))return Iu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Iu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Iu(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Iu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _u=wp.i18n.__,ku=wp.components.PanelBody,Tu=wp.hooks.applyFilters,xu=wp.blockEditor.useBlockProps;var Nu=wp.hooks.applyFilters;const Ru=function(){return Nu("jet.fb.register.fields.controls",{})},Du=function(e){return{setLoading:function(t){e("jet-forms/actions").setLoading({actionId:t})},setResultSuccess:function(t,r){e("jet-forms/actions").setLoadingResult({actionId:t,success:!0,response:r})},setResultFail:function(t){e("jet-forms/actions").setLoadingResult({actionId:t,success:!1,response:{}})}}};var Fu=wp.compose.compose,Mu=wp.data,Lu=Mu.withSelect,Bu=Mu.withDispatch;const $u=Fu(Lu(Ct),Bu(Du))((function(e){var t=e.initialLabel,r=void 0===t?"Valid":t,n=e.label,o=void 0===n?"InValid":n,i=e.ajaxArgs,l=void 0===i?{}:i,a=e.loadingState,u=e.setLoading,c=e.id,s=e.setResultSuccess,f=e.setResultFail;return wp.element.createElement(A,{disabled:a.loading,ajaxArgs:l,label:-1===a.id&&r?r:o,onLoading:function(){u(c)},onSuccessRequest:function(e){s(c,e)},onFailRequest:function(){return f(c)},className:a.buttonClassName},wp.element.createElement("i",{className:"dashicons"}))}));function Gu(){return Gu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gu.apply(this,arguments)}var Uu=wp.data.useSelect;var Vu=wp.compose.compose,qu=wp.data.withDispatch,Ju=wp.apiFetch;const Hu=Vu(qu(Du))((function(e){var t=e.initialLabel,r=void 0===t?"Valid":t,n=e.label,o=void 0===n?"InValid":n,i=e.apiArgs,l=void 0===i?{}:i,a=e.loadingState,u=e.setLoading,c=e.id,s=e.setResultSuccess,f=e.setResultFail,p=e.onLoading,m=void 0===p?function(){}:p,y=e.onSuccess,d=void 0===y?function(){}:y,b=e.onFail,v=void 0===b?function(){}:b,h=e.isHidden,g=void 0!==h&&h;return wp.element.createElement(A,{disabled:a.loading,hasFetched:a.id,label:(-1===a.id||a.loading)&&r?r:o,className:a.buttonClassName,isHidden:g,customRequest:function(){u(c),m(),Ju(l).then((function(e){s(c,e),d(e)})).catch((function(e){f(c),v(e)}))},isDestructive:a.buttonClassName.includes("is-invalid")},wp.element.createElement("i",{className:"dashicons"}))})),Xu=(0,wp.compose.compose)((0,wp.data.withSelect)(wt))((function(e){var t=e.initialLabel,r=void 0===t?"Valid":t,n=e.label,o=void 0===n?"InValid":n,i=e.apiArgs,l=void 0===i?{}:i,a=e.gatewayRequestId,u=e.loadingGateway,c=e.onLoading,s=void 0===c?function(){}:c,f=e.onSuccess,p=void 0===f?function(){}:f,m=e.onFail,y=void 0===m?function(){}:m,d=e.isHidden,b=void 0!==d&&d;return wp.element.createElement(Hu,{id:a,loadingState:u,initialLabel:r,label:o,apiArgs:l,onFail:y,onLoading:s,onSuccess:p,isHidden:b})})),Wu="SET_CURRENT_ACTION",zu="SET_LOADING",Yu="UPDATE_ACTION_SETTINGS",Ku="UPDATE_ACTION_CONDITIONS",Zu="ADD_CALLBACK",Qu="ADD_DETAIL",ec="SET_CURRENT_META",tc="CLEAR_CURRENT",rc="ADD_COMPUTED_FIELD",nc="EDIT_ACTION";function oc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const ic={id:-1,state:"",success:!1,response:{},loading:!1,buttonClassName:(lc=I,function(e){if(Array.isArray(e))return oc(e)}(lc)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(lc)||function(e,t){if(e){if("string"==typeof e)return oc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?oc(e,t):void 0}}(lc)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())};var lc;function ac(e){return ac="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ac(e)}function uc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function sc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cc(Object(r),!0).forEach((function(t){fc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ac(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ac(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ac(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var pc={getLoadingIndex:function(e,t){return e.loadingState.findIndex((function(e){return e.id===t}))},getLoading:function(e,t){var r=pc.getLoadingIndex(e,t);return-1!==r?e.loadingState[r]:sc({},ic)},getCallback:function(e,t){return e.callbacks[t]},getDetail:function(e,t){return e.details[t]},getComputedFields:function(e){return e.computedFields},getActionsList:function(e){return e.list},getActionsMap:function(e){var t,r={},n=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return uc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?uc(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){a=!0,i=e},f:function(){try{l||null==r.return||r.return()}finally{if(a)throw i}}}}(e.list);try{for(n.s();!(t=n.n()).done;){var o=t.value;r[o.value]=o}}catch(e){n.e(e)}finally{n.f()}return r},getAction:function(e,t){return e.list.find((function(e){return e.value===t}))}};const mc=sc(sc({},pc),{},{isSettingsModal:function(e){var t;return"settings"===(null===(t=e.meta)||void 0===t?void 0:t.modalType)},isConditionalModal:function(e){var t;return"conditions"===(null===(t=e.meta)||void 0===t?void 0:t.modalType)},getMetaIndex:function(e){var t;return null===(t=e.meta)||void 0===t?void 0:t.index},getCurrentAction:function(e){return e.currentAction},getCurrentCallback:function(e){var t,r,n=null!==(t=null===(r=e.currentAction)||void 0===r?void 0:r.type)&&void 0!==t&&t;return pc.getCallback(e,n)},getCurrentDetail:function(e){var t,r,n=null!==(t=null===(r=e.currentAction)||void 0===r?void 0:r.type)&&void 0!==t&&t;return pc.getDetail(e,n)},getCurrentSettings:function(e){var t,r,n,o,i;return null!==(i=(null!==(t=null===(r=e.currentAction)||void 0===r?void 0:r.settings)&&void 0!==t?t:{})[null!==(n=null===(o=e.currentAction)||void 0===o?void 0:o.type)&&void 0!==n&&n])&&void 0!==i?i:{}},getCurrentLoading:function(e){var t,r=null===(t=e.currentAction)||void 0===t?void 0:t.id;return pc.getLoading(e,r)},dangerGetAllLoading:function(e){return e.loadingState}});function yc(e){return yc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yc(e)}function dc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bc(Object(r),!0).forEach((function(t){hc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function hc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==yc(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==yc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===yc(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const gc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=vc({},ic);return e.state&&(t.buttonClassName=[].concat(function(e){return function(e){if(Array.isArray(e))return dc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return dc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?dc(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(I),[e.state])),vc(vc({},t),e)};function wc(e){return wc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wc(e)}function jc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Oc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jc(Object(r),!0).forEach((function(t){Sc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Sc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==wc(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==wc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===wc(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ec=wp.components.withFilters;var Ac;function Pc(e){return Pc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(e)}function Cc(e){return function(e){if(Array.isArray(e))return Ic(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ic(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ic(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ic(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_c(Object(r),!0).forEach((function(t){Tc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Tc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Pc(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Pc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Pc(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const xc=(Tc(Ac={},Wu,(function(e,t){var r={};return"function"==typeof t.item?r.currentAction=t.item(e.currentAction):r.currentAction=t.item,kc(kc({},e),r)})),Tc(Ac,ec,(function(e,t){return kc(kc({},e),{},{meta:kc({},t.item)})})),Tc(Ac,tc,(function(e){return kc(kc({},e),{},{currentAction:{},meta:{}})})),Tc(Ac,zu,(function(e,t){var r=mc.getLoadingIndex(e,t.state.id),n=Cc(e.loadingState);return-1!==r?n[r]=gc(t.state):n.push(gc(t.state)),kc(kc({},e),{},{loadingState:n})})),Tc(Ac,Yu,(function(e,t){var r=e.currentAction,n=r.settings,o=r.type,i=kc(kc({},mc.getCurrentSettings(e)),t.item);return kc(kc({},e),{},{currentAction:kc(kc({},e.currentAction),{},{settings:kc(kc({},n),{},Tc({},o,i))})})})),Tc(Ac,Ku,(function(e,t){var r=e.currentAction.conditions,n=void 0===r?[]:r,o="function"==typeof t.item?t.item(n):t.item;return kc(kc({},e),{},{currentAction:kc(kc({},e.currentAction),{},{conditions:o})})})),Tc(Ac,Zu,(function(e,t){return kc(kc({},e),{},{callbacks:kc(kc({},e.callbacks),{},Tc({},t.actionType,(r=t.actionType,n=t.callback,o=window.JetFBLocalizeHelper.getLocalizedFullPack(r),function(e){var t={onChangeSetting:function(t,r){e.onChange(Oc(Oc({},e.settings),{},Sc({},r,t)))},getMapField:function(t){var r=t.source,n=void 0===r?"fields_map":r,o=t.name,i=e.settings;return void 0!==i[n]&&void 0!==i[n][o]?i[n][o]:""},setMapField:function(t){var r=t.source,n=void 0===r?"fields_map":r,o=t.nameField,i=t.value,l=Oc(Oc({},e.settings[n]),{},Sc({},o,i));e.onChange(Oc(Oc({},e.settings),{},Sc({},n,l)))},onChangeSettingObj:function(t){e.onChange(Oc(Oc({},e.settings),t))}},i=Oc(Oc(Oc({},e),o),t),l=Ec("jet.fb.render.action.".concat(r))((function(){return null}));return wp.element.createElement(Qe.Provider,{value:i},wp.element.createElement(n,i),wp.element.createElement(l,i))})))});var r,n,o})),Tc(Ac,Qu,(function(e,t){return kc(kc({},e),{},{details:kc(kc({},e.details),{},Tc({},t.actionType,t.item))})})),Tc(Ac,rc,(function(e,t){var r=[].concat(Cc(e.computedFields),[{field:t.field,settings:t.settings}]).sort((function(e,t){var r,n,o=e.settings,i=t.settings;return(null!==(r=null==o?void 0:o.priority)&&void 0!==r?r:10)-(null!==(n=null==i?void 0:i.priority)&&void 0!==n?n:10)}));return kc(kc({},e),{},{computedFields:r})})),Tc(Ac,nc,(function(e,t){var r=e.list.map((function(e){return e.value!==t.actionType?e:kc(kc(kc({},e),t.replace),{},{value:t.actionType})}));return kc(kc({},e),{},{list:r})})),Tc(Ac,"OPEN_ACTION_SETTINGS",(function(e,t){var r=t.index,n=t.item;return kc(kc({},e),{},{meta:{index:r,modalType:"settings"},currentAction:n})})),Ac),Nc={currentAction:{},callbacks:{},details:{},meta:{},loadingState:[gc()],computedFields:[],list:window.jetFormActionTypes.map((function(e){return{value:e.id,label:e.name,disabled:!!e.disabled}}))};function Rc(e){return Rc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rc(e)}function Dc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dc(Object(r),!0).forEach((function(t){Mc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Mc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Rc(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Rc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Rc(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Lc=wp.data.dispatch;const Bc={setCurrentAction:function(){return{type:Wu,item:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}},setMeta:function(e){return{type:ec,item:e}},clearCurrent:function(){return{type:tc}},setLoading:function(e){return{type:zu,state:{id:e.actionId,state:"loading",loading:!0}}},setLoadingResult:function(e){return{type:"SET_LOADING",state:{id:e.actionId,state:e.success?"is-valid":"is-invalid",success:e.success,response:e.response,loading:!1}}},updateCurrentSettings:function(e){return{type:Yu,item:e}},updateCurrentConditions:function(e){return{type:Ku,item:e}},addCallback:function(e,t){return{type:Zu,actionType:e,callback:t}},addDetail:function(e,t){return{type:Qu,actionType:e,item:t}},addComputedField:function(e){return{type:rc,field:e,settings:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}}},editAction:function(e,t){return{type:nc,actionType:e,replace:t}},openActionSettings:function(e){var t=e.item,r=e.index;return Lc("jet-forms/actions").setCurrentAction(Fc(Fc({},t),{},{index:r})),{type:ec,item:{index:r,modalType:"settings"}}}},$c=(0,wp.data.createReduxStore)("jet-forms/actions",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nc,t=arguments.length>1?arguments[1]:void 0,r=xc[null==t?void 0:t.type];return r?r(e,t):e},actions:Bc,selectors:mc}),Gc="CLEAR_GATEWAY",Uc="CLEAR_SCENARIO",Vc="SET_CURRENT_GATEWAY_SCENARIO",qc="SET_CURRENT_GATEWAY",Jc="SET_CURRENT_GATEWAY_SPECIFIC",Hc="SET_CURRENT_GATEWAY_INNER",Xc="SET_CURRENT_REQUEST",Wc="SET_CURRENT_SCENARIO",zc="REGISTER_EVENT_TYPE",Yc="HARD_SET_CURRENT_GATEWAY",Kc="HARD_SET_CURRENT_GATEWAY_SPECIFIC";function Zc(e){return Zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(e)}function Qc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function es(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qc(Object(r),!0).forEach((function(t){ts(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ts(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Zc(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Zc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Zc(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var rs={getCurrentRequestId:function(e){return e.currentRequest.id},getCurrentRequest:function(e){return e.currentRequest},getScenario:function(e){return e.currentScenario},getScenarioId:function(e){var t;return null===(t=e.currentScenario)||void 0===t?void 0:t.id},getGatewayId:function(e){var t;return null===(t=e.currentGateway)||void 0===t?void 0:t.gateway},getGateway:function(e){return e.currentGateway},getEventTypes:function(e){return e.eventTypes}};const ns=es(es({},rs),{},{getGatewaySpecific:function(e){return e.currentGateway[rs.getGatewayId(e)]||{}}});var os;function is(e){return is="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},is(e)}function ls(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function as(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ls(Object(r),!0).forEach((function(t){us(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ls(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function us(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==is(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==is(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===is(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const cs=(us(os={},Gc,(function(e){return as(as({},e),{},{currentGateway:{}})})),us(os,Uc,(function(e){return as(as({},e),{},{currentScenario:{}})})),us(os,Vc,(function(e,t){return as(as({},e),{},{currentScenario:as(as({},e.currentScenario),t.item||{})})})),us(os,qc,(function(e,t){return as(as({},e),{},{currentGateway:as(as({},e.currentGateway),t.item)})})),us(os,Jc,(function(e,t){return as(as({},e),{},{currentGateway:as(as({},e.currentGateway),{},us({},e.currentGateway.gateway,as(as({},ns.getGatewaySpecific(e)),t.item)))})})),us(os,Hc,(function(e,t){var r=t.item,n=r.key,o=r.value;return as(as({},e),{},{currentGateway:as(as({},e.currentGateway),{},us({},n,as(as({},e.currentGateway[n]||{}),o)))})})),us(os,Xc,(function(e,t){var r,n=[ns.getGatewayId(e),null===(r=t.item)||void 0===r?void 0:r.id].filter((function(e){return e}));return t.item.id=n.join("/"),as(as({},e),{},{currentRequest:t.item})})),us(os,Wc,(function(e,t){var r,n;return as(as({},e),{},{currentScenario:as(as({},e.currentScenario),{},us({},null===(r=e.currentScenario)||void 0===r?void 0:r.id,as(as({},e.currentScenario[null===(n=e.currentScenario)||void 0===n?void 0:n.id]||{}),t.item||{})))})})),us(os,Yc,(function(e,t){return t.item&&(e.currentGateway[t.item]=t.value),as({},e)})),us(os,Kc,(function(e,t){var r,n,o;return t.item&&null!==(r=e.currentGateway)&&void 0!==r&&r.gateway&&(e.currentGateway[null===(n=e.currentGateway)||void 0===n?void 0:n.gateway]={},e.currentGateway[null===(o=e.currentGateway)||void 0===o?void 0:o.gateway][t.item]=t.value),as({},e)})),us(os,zc,(function(e,t){var r,n,o,i,l,a,u=as(as({},t.item),{},{gateway:null!==(r=null===(n=t.item)||void 0===n?void 0:n.gateway)&&void 0!==r?r:null===(o=e.currentGateway)||void 0===o?void 0:o.gateway,scenario:null!==(i=null===(l=t.item)||void 0===l?void 0:l.scenario)&&void 0!==i?i:null===(a=e.currentScenario)||void 0===a?void 0:a.id});return e.eventTypes.push(u),e})),os);var ss={currentRequest:{id:-1},currentGateway:{},currentScenario:{},eventTypes:[]};const fs={clearGateway:function(){return{type:Gc}},clearScenario:function(){return{type:Uc}},setRequest:function(e){return{type:Xc,item:e}},setGateway:function(e){return{type:qc,item:e}},setGatewayInner:function(e){return{type:Hc,item:e}},setGatewaySpecific:function(e){return{type:Jc,item:e}},setScenario:function(e){return{type:Vc,item:e}},setCurrentScenario:function(e){return{type:Wc,item:e}},registerEventType:function(e){return{type:zc,item:e}},hardSetGateway:function(e){return{type:Yc,item:e,value:arguments.length>1&&void 0!==arguments[1]?arguments[1]:""}},hardSetGatewaySpecific:function(e){return{type:Kc,item:e,value:arguments.length>1&&void 0!==arguments[1]?arguments[1]:""}}},ps=(0,wp.data.createReduxStore)("jet-forms/gateways",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ss,t=arguments.length>1?arguments[1]:void 0,r=cs[null==t?void 0:t.type];return r?r(e,t):e},actions:fs,selectors:ns}),ms="REGISTER",ys="UNREGISTER",ds="LOCK_ACTIONS",bs="CLEAR_DYNAMIC_EVENTS";function vs(e){return vs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vs(e)}function hs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gs(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==vs(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==vs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===vs(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ws(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var js={getTypeIndex:function(e,t){return e.types.findIndex((function(e){return e.value===t}))},getTypes:function(e){return e.types},getGatewayTypes:function(e){return e.types.filter((function(e){return"gateway"in e}))},getAlwaysTypes:function(e){return e.types.filter((function(e){return"always"in e}))},getDynamicTypes:function(e){return e.types.filter((function(e){return e.isDynamic}))},getType:function(e,t){var r=js.getTypeIndex(e,t);return e.types[r]},getUnsupported:function(e,t){var r,n=null!==(r=e.lockedActions[t])&&void 0!==r&&r;return!1===n?[]:n.unsupported},getSupported:function(e,t){var r,n=null!==(r=e.lockedActions[t])&&void 0!==r&&r;return!1===n?[]:n.supported},isValid:function(e,t,r){var n=js.getUnsupported(e,t);if(n.length&&n.includes(r))return!1;var o=js.getSupported(e,t);return!o.length||o.includes(r)},filterList:function(e,t,r){return r.filter((function(r){return js.isValid(e,t,r)}))},getHelpMap:function(e){var t,r={},n=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return ws(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ws(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){a=!0,i=e},f:function(){try{l||null==r.return||r.return()}finally{if(a)throw i}}}}(e.types);try{for(n.s();!(t=n.n()).done;){var o=t.value,i=o.value,l=o.help;r[i]=l}}catch(e){n.e(e)}finally{n.f()}return r}};const Os=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hs(Object(r),!0).forEach((function(t){gs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},js);function Ss(e){return Ss="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ss(e)}var Es;function As(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ps(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?As(Object(r),!0).forEach((function(t){Cs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):As(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Cs(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ss(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ss(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ss(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Is(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return _s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){a=!0,i=e},f:function(){try{l||null==r.return||r.return()}finally{if(a)throw i}}}}function _s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const ks=(Cs(Es={},ms,(function(e,t){var r,n=e.types,o=Is(t.items);try{for(o.s();!(r=o.n()).done;){var i=r.value;i.title=i.label;var l=Os.getTypeIndex(e,i.value);-1===l?n.push(Ps({},i)):n[l]=Ps({},i)}}catch(e){o.e(e)}finally{o.f()}return Ps(Ps({},e),{},{types:n})})),Cs(Es,ds,(function(e){var t,r=Is(window.jetFormActionTypes);try{var n=function(){var r,n=t.value,o=n.id,i=n.self,l=null!==(r=window[i])&&void 0!==r&&r;if(!1===l)return"continue";var a=l.__unsupported_events,u=l.__supported_events,c={unsupported:e.types.filter((function(e){var t=e.self;return a.includes(t)})).map((function(e){return e.value})),supported:e.types.filter((function(e){var t=e.self;return u.includes(t)})).map((function(e){return e.value}))};if(!c.supported.length&&!c.unsupported.length)return"continue";e.lockedActions[o]=c};for(r.s();!(t=r.n()).done;)n()}catch(e){r.e(e)}finally{r.f()}return e})),Cs(Es,ys,(function(e,t){var r=t.types;return e.types=e.types.filter((function(e){var t=e.value;return!r.includes(t)})),e})),Cs(Es,bs,(function(e){return e.types=e.types.filter((function(e){var t=e.isDynamic;return!(void 0!==t&&t)})),e})),Es);var Ts={types:[],labels:{},lockedActions:{}};const xs={register:function(e){return{type:ms,items:e}},lockActions:function(){return{type:ds}},unRegister:function(e){return{type:ys,types:e}},clearDynamicEvents:function(){return{type:bs}}},Ns=(0,wp.data.createReduxStore)("jet-forms/events",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ts,t=arguments.length>1?arguments[1]:void 0,r=ks[null==t?void 0:t.type];return r?r(e,t):e},actions:xs,selectors:Os}),Rs="REGISTER",Ds="ADD_RENDER_STATE",Fs="ADD_RENDER_STATES",Ms="DELETE_RENDER_STATES";function Ls(e){return Ls="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ls(e)}var Bs;function $s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Gs(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ls(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ls(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ls(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Us(e){return function(e){if(Array.isArray(e))return qs(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Vs(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vs(e,t){if(e){if("string"==typeof e)return qs(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qs(e,t):void 0}}function qs(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Js=wp.hooks.doAction,Hs=(Gs(Bs={},Rs,(function(e,t){var r=t.items,n=r.operators,o=r.functions,i=r.render_states;return e.operators=Us(n),e.functions=Us(o),e.renderStates=Us(i),Js("jet.fb.change.blockConditions.renderState",e.renderStates),e})),Gs(Bs,Ds,(function(e,t){return e.renderStates.push(t.item),Js("jet.fb.change.blockConditions.renderState",e.renderStates),e})),Gs(Bs,Fs,(function(e,t){var r,n=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Vs(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){a=!0,i=e},f:function(){try{l||null==r.return||r.return()}finally{if(a)throw i}}}}(t.items);try{for(n.s();!(r=n.n()).done;){var o=r.value;e.renderStates.push(o)}}catch(e){n.e(e)}finally{n.f()}return Js("jet.fb.change.blockConditions.renderState",e.renderStates),e})),Gs(Bs,Ms,(function(e,t){var r=Array.isArray(t.items)?Us(t.items):[t.items];return e.renderStates=e.renderStates.filter((function(e){var t=e.value;return!r.includes(t)})),Js("jet.fb.change.blockConditions.renderState",e.renderStates),e})),Bs);const Xs=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$s(Object(r),!0).forEach((function(t){Gs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Hs);var Ws=wp.i18n.__;const zs=function(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"code";if(!function(e){var t,r;try{r=JSON.parse(e)}catch(e){return!1}return!(null===(t=r)||void 0===t||!t.jet_preset)}(e=null!==(t=e)&&void 0!==t?t:""))return e;var o,i=JSON.parse(e),l=Ws("Preset from","jet-form-builder"),a=null!==(r=null==i?void 0:i.from)&&void 0!==r?r:"(empty)";switch(n){case"code":o="<code>".concat(a,"</code>");break;case"b":o="<b>".concat(a,"</b>")}return[l,o].join(" ")};var Ys=wp.data.select,Ks=wp.i18n.__,Zs=function(e){var t=Ys("jet-forms/block-conditions").getOperator(null==e?void 0:e.operator);if(!t)return"";var r=(null==e?void 0:e.field)||"(no field)";return["<code>".concat(r,"</code>"),t.label].join(" ")},Qs={functions:[],operators:[],conditionReaders:{default:function(e){var t=Ys("jet-forms/block-conditions").getOperator(null==e?void 0:e.operator);if(!t)return"";var r=(null==e?void 0:e.field)||"(no field)",n=zs(e.value,"b")||"(no value)";return["<code>".concat(r,"</code>"),t.label,"<code>".concat(n,"</code>")].join(" ")},empty:Zs,not_empty:Zs,render_state:function(e){var t,r=(null!==(t=null==e?void 0:e.render_state)&&void 0!==t?t:[]).map((function(e){return"<code>".concat(e,"</code>")}));return[1===r.length?Ks("Is render state","jet-form-builder"):Ks("One of the render states","jet-form-builder"),r.join(", ")].join(": ")}},renderStates:[]};const ef={register:function(e){return{type:Rs,items:e}},addRenderState:function(e){return{type:Ds,item:e}},addRenderStates:function(e){return{type:Fs,items:e}},deleteRenderStates:function(e){return{type:Ms,items:e}}};function tf(e){return tf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(e)}function rf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nf(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==tf(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==tf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===tf(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var of={getFunctions:function(e){return e.functions},getOperators:function(e){return e.operators},getRenderStates:function(e){return e.renderStates},getSwitchableRenderStates:function(e){return e.renderStates.filter((function(e){var t=e.is_custom,r=void 0!==t&&t,n=e.can_be_switched;return r||void 0!==n&&n}))},getCustomRenderStates:function(e){return e.renderStates.filter((function(e){var t=e.is_custom;return void 0!==t&&t}))},getOperator:function(e,t){var r=e.operators.findIndex((function(e){return e.value===t}));return-1!==r&&e.operators[r]},readCondition:function(e,t){var r,n=t.operator,o=void 0===n?"":n;if(!o)return"";var i=null!==(r=e.conditionReaders[o])&&void 0!==r&&r;return"function"==typeof i?i(t):e.conditionReaders.default(t)},getFunction:function(e,t){return e.functions.find((function(e){return e.value===t}))},getFunctionDisplay:function(e,t){var r;return null===(r=of.getFunction(e,t))||void 0===r?void 0:r.display}};const lf=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rf(Object(r),!0).forEach((function(t){nf(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},of),af=(0,wp.data.createReduxStore)("jet-forms/block-conditions",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qs,t=arguments.length>1?arguments[1]:void 0,r=Xs[null==t?void 0:t.type];return r?r(e,t):e},actions:ef,selectors:lf}),uf="REGISTER_MACRO";function cf(e){return cf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(e)}function sf(e){return function(e){if(Array.isArray(e))return pf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ff(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ff(e,t){if(e){if("string"==typeof e)return pf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pf(e,t):void 0}}function pf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const mf=(yf={},bf=function(e,t){var r,n,o,i=t.items,l=t.isClient,a=Array.isArray(i)?i:[i],u=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=ff(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){a=!0,i=e},f:function(){try{l||null==r.return||r.return()}finally{if(a)throw i}}}}(a);try{for(u.s();!(r=u.n()).done;)if(!(r.value instanceof fa))throw new Error("^^^ Invalid macro item ^^^")}catch(e){u.e(e)}finally{u.f()}return l?(n=e.clientMacros).push.apply(n,sf(a)):(o=e.serverMacros).push.apply(o,sf(a)),e},(df=function(e){var t=function(e,t){if("object"!==cf(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==cf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===cf(t)?t:String(t)}(df=uf))in yf?Object.defineProperty(yf,df,{value:bf,enumerable:!0,configurable:!0,writable:!0}):yf[df]=bf,yf);var yf,df,bf,vf=wp.i18n.__;function hf(){fa.call(this),this.name="CurrentDate",this.isClientSide=!0,this.fullHelp=function(){return wp.element.createElement(React.Fragment,null,vf("Returns the current timestamp. Replacing","jet-form-builder")," ",wp.element.createElement("code",null,"Date.now()"))}}hf.prototype=Object.create(fa.prototype);const gf=hf;var wf=wp.i18n.__;function jf(){fa.call(this),this.name="Min_In_Sec",this.isClientSide=!0,this.help=wf("Number of milliseconds in one minute","jet-form-builder")}jf.prototype=Object.create(fa.prototype);const Of=jf;var Sf=wp.i18n.__;function Ef(){fa.call(this),this.name="Month_In_Sec",this.isClientSide=!0,this.help=Sf("Number of milliseconds in one month","jet-form-builder")}Ef.prototype=Object.create(fa.prototype);const Af=Ef;var Pf=wp.i18n.__;function Cf(){fa.call(this),this.name="Day_In_Sec",this.isClientSide=!0,this.help=Pf("Number of milliseconds in one day","jet-form-builder")}Cf.prototype=Object.create(fa.prototype);const If=Cf;var _f=wp.i18n.__;function kf(){fa.call(this),this.name="Year_In_Sec",this.isClientSide=!0,this.help=_f("Number of milliseconds in one year","jet-form-builder")}kf.prototype=Object.create(fa.prototype);const Tf=kf;function xf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Nf=wp.i18n.__;function Rf(){zi.call(this)}Rf.prototype=Object.create(zi.prototype),Rf.prototype.docArgument=!1,Rf.prototype.help=null,Rf.prototype.isServerSide=!1,Rf.prototype.isClientSide=!1,Rf.prototype.getArgumentsList=function(){if(!this.docArgument||!this.docArgument.length)return null;var e,t=[],r=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return xf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xf(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){a=!0,i=e},f:function(){try{l||null==r.return||r.return()}finally{if(a)throw i}}}}(Array.isArray(this.docArgument)?this.docArgument:[this.docArgument]);try{for(r.s();!(e=r.n()).done;)switch(e.value){case"string":case String:t.push(Nf("String","jet-form-builder"));break;case"number":case Number:t.push(Nf("Number","jet-form-builder"));break;case"array":case Array:t.push(Nf("Array","jet-form-builder"));break;case"any":t.push(Nf("Anything","jet-form-builder"))}}catch(e){r.e(e)}finally{r.f()}return t.join(" | ")},Rf.prototype.fullHelp=function(){if(!this.docArgument&&!this.help)return null;var e=this.help,t=this.getArgumentsList();return wp.element.createElement(React.Fragment,null,t&&wp.element.createElement("div",{style:{marginBottom:"0.5em"}},Nf("Arguments:","jet-form-builder")+" ",wp.element.createElement("code",null,t)),"function"!=typeof e?e:wp.element.createElement(e,null))};const Df=Rf;var Ff=wp.i18n.__;function Mf(){Df.call(this),this.fullName=function(){return"addDay"},this.docArgument=Number,this.isClientSide=!0,this.help=Ff("Adds the passed number of days via an argument to a macro that returns a date or a timestamp.","jet-form-builder")}Mf.prototype=Object.create(Df.prototype);const Lf=Mf;var Bf=wp.i18n.__;function $f(){Df.call(this),this.fullName=function(){return"addMonth"},this.docArgument=Number,this.isClientSide=!0,this.help=Bf("Adds the passed number of months via an argument to a macro that returns a date or a timestamp.","jet-form-builder")}$f.prototype=Object.create(Df.prototype);const Gf=$f;var Uf=wp.i18n.__;function Vf(){Df.call(this),this.fullName=function(){return"addYear"},this.docArgument=Number,this.isClientSide=!0,this.help=Uf("Adds the passed number of years through an argument to a macro that returns a date or a timestamp.","jet-form-builder")}Vf.prototype=Object.create(Df.prototype);const qf=Vf;var Jf=wp.i18n.__;function Hf(){Df.call(this),this.fullName=function(){return"ifEmpty"},this.docArgument="any",this.isClientSide=!0,this.help=Jf("If the macro returns an empty value, then the filter returns the value passed in the argument","jet-form-builder")}Hf.prototype=Object.create(Df.prototype);const Xf=Hf;var Wf=wp.i18n.__;function zf(){Df.call(this),this.fullName=function(){return"length"},this.isClientSide=!0,this.help=Wf("Returns the length of a string or array","jet-form-builder")}zf.prototype=Object.create(Df.prototype);const Yf=zf;var Kf=wp.i18n.__;function Zf(){Df.call(this),this.fullName=function(){return"toDate"},this.isClientSide=!0,this.help=function(){return wp.element.createElement(React.Fragment,null,Kf("Gets the timestamp from the macro and formats it according to the format of the Date Field.","jet-form-builder"),wp.element.createElement("hr",null),Kf("Example:","jet-form-builder")+" ",wp.element.createElement("code",null,"2022-02-24"))}}Zf.prototype=Object.create(Df.prototype);const Qf=Zf;var ep=wp.i18n.__;function tp(){Df.call(this),this.fullName=function(){return"toDateTime"},this.isClientSide=!0,this.help=function(){return wp.element.createElement(React.Fragment,null,ep("Gets the timestamp from the macro and formats it according to the format of the Datetime Field.","jet-form-builder"),wp.element.createElement("hr",null),ep("Example:","jet-form-builder")+" ",wp.element.createElement("code",null,"2022-02-24T04:25"))}}tp.prototype=Object.create(Df.prototype);const rp=tp;var np=wp.i18n.__;function op(){Df.call(this),this.fullName=function(){return"toTime"},this.isClientSide=!0,this.help=function(){return wp.element.createElement(React.Fragment,null,np("Gets the timestamp from the macro and formats it according to the format of the Time Field.","jet-form-builder"),wp.element.createElement("hr",null),np("Example:","jet-form-builder")+" ",wp.element.createElement("code",null,"04:25"))}}op.prototype=Object.create(Df.prototype);const ip=op;var lp=wp.i18n.__;function ap(){Df.call(this),this.fullName=function(){return"subDay"},this.docArgument=Number,this.isClientSide=!0,this.help=lp("Subtracts the number of days by argument from a macro that returns a date or timestamp.","jet-form-builder")}ap.prototype=Object.create(Df.prototype);const up=ap;var cp=wp.i18n.__;function sp(){Df.call(this),this.fullName=function(){return"subMonth"},this.docArgument=Number,this.isClientSide=!0,this.help=cp("Subtracts the number of months by argument from a macro that returns a date or timestamp.","jet-form-builder")}sp.prototype=Object.create(Df.prototype);const fp=sp;var pp=wp.i18n.__;function mp(){Df.call(this),this.fullName=function(){return"subYear"},this.docArgument=Number,this.isClientSide=!0,this.help=pp("Subtracts the number of years by argument from a macro that returns a date or timestamp.","jet-form-builder")}mp.prototype=Object.create(Df.prototype);const yp=mp;var dp={macros:[new gf,new Of,new If,new Af,new Tf],filters:[new Xf,new Yf,new Lf,new Gf,new qf,new up,new fp,new yp,new Qf,new rp,new ip]};const bp={registerMacro:function(e){return{type:uf,items:e,isClient:!(arguments.length>1&&void 0!==arguments[1])||arguments[1]}}};function vp(e){return vp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vp(e)}function hp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gp(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==vp(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==vp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===vp(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const jp=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hp(Object(r),!0).forEach((function(t){gp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},{getClientMacros:function(e){return e.macros.filter((function(e){return e.isClientSide}))},getServerMacros:function(e){return e.macros.filter((function(e){return e.isServerSide}))},getClientFilters:function(e){return e.filters.filter((function(e){return e.isClientSide}))},getServerFilters:function(e){return e.filters.filter((function(e){return e.isServerSide}))}}),Op=(0,wp.data.createReduxStore)("jet-forms/macros",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dp,t=arguments.length>1?arguments[1]:void 0,r=mf[null==t?void 0:t.type];return r?r(e,t):e},actions:bp,selectors:jp}),Sp="REGISTER";function Ep(e){return Ep="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ep(e)}function Ap(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pp(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ep(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ep(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ep(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Cp=Pp({},Sp,(function(e,t){var r=t.items,n=r.messages,o=r.ssr_callbacks,i=r.formats,l=r.rule_types;return e.messages=JSON.parse(JSON.stringify(n)),e.ssrCallbacks=JSON.parse(JSON.stringify(o)),e.formats=JSON.parse(JSON.stringify(i)),e.ruleTypes=JSON.parse(JSON.stringify(l)),e}));const Ip=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ap(Object(r),!0).forEach((function(t){Pp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ap(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Cp);var _p=wp.data.select,kp=wp.i18n.__,Tp={messages:[],ssrCallbacks:[],formats:[],ruleTypes:[],ruleReaders:{default:function(e){var t=_p("jet-forms/validation").getRule(e.type);if(!t)return"";var r=(null==e?void 0:e.field)||(null==e?void 0:e.value)||"";return r=zs(r,"b")||"(no value)",[t.label,"<code>".concat(r,"</code>")].join(" ")},ssr:function(e){return[kp("Function:","jet-form-builder"),null==e?void 0:e.value].join(" ")}}};const xp={register:function(e){return{type:Sp,items:e}}};function Np(e){return Np="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Np(e)}function Rp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Dp(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Np(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Np(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Np(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Fp=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rp(Object(r),!0).forEach((function(t){Dp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},{getRule:function(e,t){var r=e.ruleTypes.findIndex((function(e){return e.value===t}));return-1!==r&&e.ruleTypes[r]},readRule:function(e,t){var r,n=t.type,o=void 0===n?"":n;if(!o)return"";var i=null!==(r=e.ruleReaders[o])&&void 0!==r&&r;return"function"==typeof i?i(t):e.ruleReaders.default(t)}}),Mp=(0,wp.data.createReduxStore)("jet-forms/validation",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tp,t=arguments.length>1?arguments[1]:void 0,r=Ip[null==t?void 0:t.type];return r?r(e,t):e},actions:xp,selectors:Fp});r(7194);var Lp=wp.data,Bp=Lp.register,$p=Lp.dispatch,Gp=wp.hooks.addAction;[ps,Ns,$c,af,Op,Mp,Wl].forEach(Bp),$p("jet-forms/events").register(window.jetFormEvents.types),$p("jet-forms/events").lockActions(),$p("jet-forms/validation").register(window.jetFormValidation),Gp("jet.fb.change.blockConditions.renderState","jet-form-builder/events",(function(e){$p("jet-forms/events").clearDynamicEvents();var t=e.map((function(e){var t=e.value;return{value:t="ON."+t,label:t,isDynamic:!0}}));$p("jet-forms/events").register(t)})),$p("jet-forms/block-conditions").register(window.jetFormBlockConditions);const Up=(0,wp.element.createContext)(!1),Vp=(0,wp.element.createContext)({currentItem:{},changeCurrentItem:function(){},currentIndex:-1}),qp=(0,wp.element.createContext)({index:-1,action:{}}),Jp=(0,wp.element.createContext)({isSupported:function(){return!1},render:function(e){return e.children}}),Hp=(0,wp.element.createContext)({isSupported:function(){return!1},render:function(){return null}}),Xp=(0,wp.element.createContext)({edit:function(){return!0},move:function(){return!0},clone:function(){return!0},delete:function(){return!0}}),Wp=(0,wp.element.createContext)({});function zp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Yp=wp.components.ToggleControl,Kp=wp.i18n.__,Zp=wp.element.useState;function Qp(e){return Qp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qp(e)}function em(e){return function(e){if(Array.isArray(e))return tm(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return tm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tm(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tm(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rm(Object(r),!0).forEach((function(t){om(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rm(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function om(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Qp(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Qp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Qp(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const im=function(e){if(void 0===e)return null;var t=function(t){var r=t.oldIndex,n=t.newIndex;e((function(e){var t=JSON.parse(JSON.stringify(e)),o=[t[r],t[n]];return t[n]=o[0],t[r]=o[1],t}))};return{changeCurrentItem:function(t,r){e((function(e){var n=JSON.parse(JSON.stringify(e));return n[r]=nm(nm({},e[r]),t),n}))},toggleVisible:function(t){e((function(e){var r=JSON.parse(JSON.stringify(e));return r[t].__visible=!r[t].__visible,r}))},moveDown:function(e){t({oldIndex:e,newIndex:e+1})},moveUp:function(e){t({oldIndex:e,newIndex:e-1})},cloneItem:function(t){e((function(e){var r=JSON.parse(JSON.stringify(e)),n=[r.slice(0,t+1),r.slice(t+1)],o=n[1];return[].concat(em(n[0]),[r[t]],em(o))}))},addNewItem:function(t){e((function(e){return[].concat(em(e),[nm({__visible:!0},t)])}))},removeOption:function(t){e((function(e){var r=JSON.parse(JSON.stringify(e));return r.splice(t,1),r}))}}},lm=(0,wp.element.createContext)(!1);var am=wp.components.Button,um=wp.element.useContext;const cm=function(e){var t,r=e.item,n=e.onSetState,o=e.functions,i=e.children,l=(null!==(t=null!=o?o:im(n))&&void 0!==t?t:um(lm)).addNewItem;return wp.element.createElement(am,{icon:"plus-alt2",isSecondary:!0,onClick:function(){return l(r)}},i)};var sm=wp.components,fm=sm.Card,pm=sm.ButtonGroup,mm=sm.Button,ym=sm.CardHeader,dm=sm.CardBody,bm=wp.element.useContext,vm=wp.i18n.__;const hm=function(e){var t,r=e.items,n=e.onSetState,o=e.functions,i=e.children,l=null!==(t=null!=o?o:im(n))&&void 0!==t?t:bm(lm),a=l.cloneItem,u=l.moveUp,c=l.moveDown,s=l.toggleVisible,f=l.changeCurrentItem,p=l.removeOption,m=bm(Hp),y=m.isSupported,d=m.render,b=bm(Xp),v=b.edit,h=b.move,g=b.clone,w=b.delete,j=function(e){var t=e.currentItem,r=e.index;return y(t)?wp.element.createElement(d,{currentItem:t,index:r}):wp.element.createElement("span",{className:"repeater-item-title"},"#".concat(r+1))};return wp.element.createElement("div",{className:"jet-form-builder__repeater-component",key:"jet-form-builder-repeater"},r.map((function(e,t){return wp.element.createElement(fm,{size:"small",elevation:2,className:"jet-form-builder__repeater-component-item",key:"jet-form-builder__repeater-component-item-".concat(t)},wp.element.createElement(ym,{className:"repeater__item__header"},wp.element.createElement("div",{className:"repeater-item__left-heading"},wp.element.createElement(pm,{className:"repeater-action-buttons"},(!v||v(e))&&wp.element.createElement(mm,{variant:"tertiary",isSmall:!0,icon:e.__visible?"no-alt":"edit",onClick:function(){return s(t)},className:"repeater-action-button jet-fb-is-thick"}),(!h||h(e))&&wp.element.createElement(mm,{variant:"tertiary",isSmall:!0,isSecondary:!0,disabled:!Boolean(t),icon:"arrow-up-alt2",onClick:function(){return u(t)},className:"repeater-action-button jet-fb-is-thick"}),(!h||h(e))&&wp.element.createElement(mm,{variant:"tertiary",isSmall:!0,isSecondary:!0,disabled:!(t<r.length-1),icon:"arrow-down-alt2",onClick:function(){return c(t)},className:"repeater-action-button jet-fb-is-thick"})),wp.element.createElement(j,{currentItem:e,index:t})),wp.element.createElement(pm,null,(!g||g(e))&&wp.element.createElement(mm,{variant:"tertiary",isSmall:!0,isSecondary:!0,onClick:function(){return a(t)},className:"jet-fb-is-thick",icon:"admin-page"}),(!w||w(e))&&wp.element.createElement(Ji,{icon:"trash",isDestructive:!0},wp.element.createElement(Di.Consumer,null,(function(e){var r=e.setShowPopover;return wp.element.createElement("div",{style:{padding:"0.5em",width:"max-content"}},wp.element.createElement("span",null,vm("Delete this item?","jet-form-builder"))," ",wp.element.createElement(mm,{isLink:!0,isDestructive:!0,onClick:function(){return p(t)}},vm("Yes","jet-form-builder"))," / ",wp.element.createElement(mm,{isLink:!0,onClick:function(){return r(!1)}},vm("No","jet-form-builder")))}))))),e.__visible&&wp.element.createElement(dm,{className:"repeater-item__content",key:"jet-form-builder__card-body-".concat(t)},(n={currentItem:e,changeCurrentItem:function(e){return f(e,t)},currentIndex:t},wp.element.createElement(Vp.Provider,{value:n},!i&&"Set up your Repeater Template, please.","function"==typeof i?i(n):i))));var n})))};function gm(e){return gm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(e)}function wm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wm(Object(r),!0).forEach((function(t){Om(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wm(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Om(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==gm(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==gm(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===gm(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sm(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Em=wp.components,Am=Em.__experimentalToggleGroupControl,Pm=Em.__experimentalToggleGroupControlOption,Cm=wp.i18n.__,Im=window.jetFormValidation.formats;var _m=window.jetFormValidation.messages;const km=function(e){return _m.find((function(t){var r=t.id;return e===r}))};function Tm(e){return Tm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tm(e)}function xm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Nm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xm(Object(r),!0).forEach((function(t){Rm(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xm(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Rm(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Tm(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Tm(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Tm(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Fm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Fm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fm(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Mm=wp.components.TextControl;function Lm(e){return Lm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lm(e)}var Bm=["message","update","value","help"];function $m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Gm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$m(Object(r),!0).forEach((function(t){Um(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Um(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Lm(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Lm(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Lm(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Vm=wp.components,qm=Vm.TextControl,Jm=Vm.Tooltip;const Hm=(0,wp.element.createContext)({FieldSelect:null,property:""});function Xm(e,t){if(e){if("string"==typeof e)return Wm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Wm(e,t):void 0}}function Wm(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var zm=wp.element,Ym=zm.useState,Km=zm.useContext,Zm=wp.components.SelectControl;var Qm=["currentAction"];function ey(){return ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ey.apply(this,arguments)}var ty=wp.compose.compose,ry=wp.data.withSelect;const ny=ty(ry((function(e){return{currentAction:e("jet-forms/actions").getCurrentAction()}})),ry(Ct))((function(e){var t=e.currentAction,r=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Qm);return wp.element.createElement(Hu,ey({id:t.id},r))})),oy=function(e){var t=e.state,r=e.children,n=im(t);return wp.element.createElement(lm.Provider,{value:n},r)};function iy(e){return iy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iy(e)}function ly(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ay(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ly(Object(r),!0).forEach((function(t){uy(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ly(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function uy(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==iy(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==iy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===iy(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||sy(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sy(e,t){if(e){if("string"==typeof e)return fy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fy(e,t):void 0}}function fy(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var py=wp.components,my=py.Button,yy=py.TextControl,dy=wp.i18n.__,by=wp.element.useState,vy=wp.data,hy=vy.useSelect,gy=vy.useDispatch,wy=wp.apiFetch,jy=window.jetFormBlockConditions,Oy=jy.rest_add_state,Sy=jy.rest_delete_state,Ey=i.Fill;const Ay=function(e){var t,r=e.setShowModal,n=e.changeCurrentItem,o=e.currentItem,i=cy(by(!1),2),l=i[0],a=i[1],u=cy(by({}),2),c=u[0],s=u[1],f=cy(by(""),2),p=f[0],m=f[1],y=function(e){return function(e){if(Array.isArray(e))return fy(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||sy(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(null!==(t=o.render_state)&&void 0!==t?t:[]),d=gy("jet-forms/block-conditions",[]),v=d.addRenderState,h=d.deleteRenderStates,g=hy((function(e){return e("jet-forms/block-conditions").getCustomRenderStates()}),[l,c]);return wp.element.createElement(b,{title:dy("Register custom render state","jet-form-builder"),onRequestClose:function(){return r(!1)},classNames:["width-45"]},wp.element.createElement("div",{className:"jet-fb with-button"},wp.element.createElement(yy,{value:p,onChange:function(e){return m(e)},placeholder:dy("Set your custom state name","jet-form-builder")}),wp.element.createElement(my,{variant:"secondary",onClick:function(){a(!0),Oy.data={value:p},wy(Oy).then((function(e){var t;t=e.state,v(t),y.push(t.value),n({render_state:y}),a(!1),r(!1)})).catch((function(e){console.error(e),a(!1)}))},disabled:l,isBusy:l,style:{padding:"7px 12px",height:"unset"}},dy("Add","jet-form-builder"))),Boolean(null==g?void 0:g.length)&&wp.element.createElement(React.Fragment,null,wp.element.createElement("b",{className:"jet-fb flex mb-05-em"},dy("Manage your custom states:","jet-form-builder")),wp.element.createElement("div",{className:"jet-fb-buttons-flex"},g.map((function(e){var t;return wp.element.createElement(my,{key:e.value,icon:"no-alt",iconPosition:"right",onClick:function(){return t=e.value,Sy.data={list:[t]},s((function(e){return ay(ay({},e),{},uy({},t,!0))})),void wy(Sy).then((function(){!function(e){h(e),y=y.filter((function(t){return t!==e})),n({render_state:y})}(t)})).catch(console.error).finally((function(){s((function(e){return ay(ay({},e),{},uy({},t,!1))}))}));var t},isBusy:null!==(t=c[e.value])&&void 0!==t&&t},e.label)})))),wp.element.createElement(Ey,null,wp.element.createElement("span",null)))};function Py(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Cy=wp.components,Iy=Cy.Button,_y=Cy.BaseControl,ky=Cy.FormTokenField,Ty=wp.i18n.__,xy=wp.element.useState,Ny=wp.data.useSelect;const Ry=function(e){var t=e.currentItem,r=e.changeCurrentItem,n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Py(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Py(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(xy(!1),2),o=n[0],i=n[1],l=Ny((function(e){return K(e("jet-forms/block-conditions").getRenderStates(),"value")}),[o]);return wp.element.createElement(React.Fragment,null,wp.element.createElement(_y,{label:Ty("Render State","jet-form-builder"),className:"control-flex"},wp.element.createElement("div",null,wp.element.createElement("label",{className:"jet-fb label mb-05-em"},Ty("Add render state","jet-form-builder")),wp.element.createElement("div",{className:"jet-fb with-button clear-label"},wp.element.createElement(ky,{value:t.render_state,suggestions:l,onChange:function(e){return r({render_state:e})},tokenizeOnSpace:!0,__experimentalExpandOnFocus:!0}),wp.element.createElement(Iy,{label:Ty("New render state","jet-form-builder"),variant:"secondary",icon:"plus-alt2",onClick:function(){return i(!0)}})))),o&&wp.element.createElement(Ay,{setShowModal:i,changeCurrentItem:r,currentItem:t}))};var Dy=wp.components,Fy=Dy.Flex,My=Dy.FlexItem,Ly=wp.compose.useInstanceId;const By=function(e){var t=e.children,r=e.value,n=e.label,o=e.onChangePreset,i=void 0!==o&&o,l=e.onChangeMacros,a=void 0!==l&&l,u=e.macroWithCurrent,c=void 0!==u&&u,s=Ly(My,"jfb-AdvancedModalControl");return wp.element.createElement("div",{className:"components-base-control"},wp.element.createElement(Fy,{align:"flex-start",className:"components-base-control__field"},wp.element.createElement(My,{isBlock:!0},wp.element.createElement(Fy,{align:"center",justify:"flex-start"},wp.element.createElement("label",{htmlFor:s,className:"jet-fb label"},n),!1!==i&&wp.element.createElement(Ri,{value:r,onChange:i}),!1!==a&&wp.element.createElement(ra,{onClick:a,withCurrent:c}))),wp.element.createElement(My,{isBlock:!0,style:{flex:3,marginLeft:"unset"}},"function"==typeof t?t({instanceId:s}):t)))};var $y=wp.components,Gy=$y.TextareaControl,Uy=$y.withFilters,Vy=wp.i18n.__,qy=Uy("jet.fb.block.conditions.options")((function(e){var t=e.currentItem,r=e.changeCurrentItem,n=Yt();return["empty","not_empty"].includes(t.operator)?null:"render_state"===t.operator?wp.element.createElement(Ry,{key:n("RenderStateOptions"),changeCurrentItem:r,currentItem:t}):wp.element.createElement(da,null,wp.element.createElement(By,{value:t.value,label:Vy("Value to compare","jet-form-builder"),onChangePreset:function(e){return r({value:e})},onChangeMacros:function(e){var n;return r({value:(null!==(n=t.value)&&void 0!==n?n:"")+e})}},(function(e){var n=e.instanceId;return wp.element.createElement(Gy,{id:n,value:t.value,onChange:function(e){return r({value:e})}})})))}));const Jy=qy;var Hy=wp.components,Xy=Hy.SelectControl,Wy=Hy.withFilters,zy=wp.i18n.__;const Yy=Wy("jet.fb.block.conditions.options")((function(e){var t=e.currentItem,r=e.changeCurrentItem,n=Ql({placeholder:"--"});return"render_state"===t.operator?null:wp.element.createElement(Xy,{label:zy("Field","jet-form-builder"),labelPosition:"side",value:t.field,options:n,onChange:function(e){r({field:e})}})}));var Ky=wp.element.useContext,Zy=wp.components.SelectControl,Qy=wp.i18n.__;const ed=function(){var e=Ky(Vp),t=e.currentItem,r=e.changeCurrentItem,n=Yt(),o=Wt().operators;return wp.element.createElement(React.Fragment,null,wp.element.createElement(Yy,{currentItem:t,changeCurrentItem:r}),wp.element.createElement(Zy,{key:n("SelectControl-operator"),label:Qy("Operator","jet-form-builder"),labelPosition:"side",value:t.operator,options:o,onChange:function(e){return r({operator:e})}}),wp.element.createElement(Jy,{currentItem:t,changeCurrentItem:r}))};var td=wp.data.select;const rd=function(e){return td("jet-forms/block-conditions").readCondition(e)};var nd=wp.i18n.__;const od=function(e){var t=e.children;return wp.element.createElement(Hp.Provider,{value:{isSupported:function(){return!0},render:function(e){var t=e.currentItem;return wp.element.createElement("span",{className:"repeater-item-title",dangerouslySetInnerHTML:{__html:null!=t&&t.or_operator?nd("OR","jet-form-builder"):rd(t)}})}}},wp.element.createElement(Xp.Provider,{value:{edit:function(e){return!e.or_operator}}},t))};function id(e){return id="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(e)}function ld(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ad(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ld(Object(r),!0).forEach((function(t){ud(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ld(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ud(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==id(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==id(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===id(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return sd(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?sd(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sd(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var fd=wp.i18n.__,pd=wp.element,md=pd.useState,yd=pd.useContext,dd=pd.Fragment,bd=pd.useEffect,vd=wp.components,hd=vd.SelectControl,gd=vd.TextareaControl,wd=vd.FlexItem,jd=vd.Flex,Od=vd.ToggleControl,Sd=[{key:"commas",render:function(){return wp.element.createElement("li",null,fd("If this field supports multiple values, you can separate them with commas","jet-form-builder"))}}],Ed=[{value:"on_change",label:fd("On change conditions result","jet-form-builder"),help:fd("The value will be applied if condition check-ups return a result different from the first check-up's cached value","jet-form-builder")},{value:"once",label:fd("Once","jet-form-builder"),help:fd("The value will be applied only the first time the condition is matched","jet-form-builder")},{value:"always",label:fd("Always","jet-form-builder"),help:fd("The value will be applied every time the condition is matched","jet-form-builder")}],Ad=function(e){return Ed.find((function(t){return t.value===(null!=e?e:"on_change")})).help};const Pd=function(){var e,t,r,n,o=yd(Wp),i=o.current,l=o.update,a=cd(md((function(){return i})),2),u=a[0],c=a[1],s=cd(md((function(){return Ad(u.frequency)})),2),f=s[0],p=s[1];bd((function(){p(Ad(u.frequency))}),[u.frequency]);var m=function(e){c((function(t){return ad(ad({},t),e)}))};return yt((function(){return l(u)})),wp.element.createElement(React.Fragment,null,wp.element.createElement(jd,{align:"flex-start"},wp.element.createElement(wd,{isBlock:!0},wp.element.createElement(jd,{align:"center",justify:"flex-start"},wp.element.createElement("span",{className:"jet-fb label"},fd("Value to set","jet-form-builder")),wp.element.createElement(Ri,{value:u.to_set,onChange:function(e){return m({to_set:e})}}),wp.element.createElement(da,{withThis:!0},wp.element.createElement(ra,{onClick:function(e){var t;return m({to_set:"".concat(null!==(t=u.to_set)&&void 0!==t?t:"").concat(e)})}}))),wp.element.createElement(No,null,wp.element.createElement("ul",null,Sd.map((function(e){return wp.element.createElement(dd,{key:e.key},e.render())}))))),wp.element.createElement(wd,{isBlock:!0,style:{flex:3,marginLeft:"unset"}},wp.element.createElement(gd,{className:"jet-control-clear",hideLabelFromVision:!0,value:null!==(e=u.to_set)&&void 0!==e?e:"",onChange:function(e){return m({to_set:e})}}))),wp.element.createElement(hd,{options:Ed,value:null!==(t=u.frequency)&&void 0!==t?t:"on_change",label:fd("Apply type","jet-form-builder"),labelPosition:"side",onChange:function(e){return m({frequency:e})},help:f}),wp.element.createElement(oy,{state:function(e){var t;m({conditions:"function"==typeof e?e(null!==(t=u.conditions)&&void 0!==t?t:[]):e})}},wp.element.createElement(od,null,wp.element.createElement(hm,{items:null!==(r=u.conditions)&&void 0!==r?r:[]},wp.element.createElement(ed,null))),wp.element.createElement("div",{className:"jet-fb flex jc-space-between ai-center"},wp.element.createElement(cm,null,fd("Add New Condition","jet-form-builder")),wp.element.createElement(Od,{className:"jet-fb m-unset clear-control",label:fd("Set value only if field is empty","jet-form-builder"),checked:null!==(n=u.set_on_empty)&&void 0!==n&&n,onChange:function(e){return m({set_on_empty:e})}}))))};var Cd=wp.i18n.__,Id=wp.element,_d=Id.Children,kd=Id.cloneElement;const Td=function(e){var t=e.conditions,r=e.showWarning,n=void 0!==r&&r,o=[],i="";return Boolean(null==t?void 0:t.length)&&(i=rd(t[0]),o=t.filter((function(e,t){return 0!==t})).map((function(e){return wp.element.createElement("span",{"data-title":Cd("And","jet-form-builder")+":",dangerouslySetInnerHTML:{__html:rd(e)}})}))),i?wp.element.createElement(React.Fragment,null,wp.element.createElement("span",{"data-title":Cd("If","jet-form-builder")+":",dangerouslySetInnerHTML:{__html:i}}),_d.map(o,kd)):n&&wp.element.createElement("span",{"data-title":Cd("The condition is not fully configured.","jet-form-builder")})},xd=function(e){var t=e.isHover,r=void 0!==t&&t,n=e.children;return wp.element.createElement("div",{className:["jet-fb",r?"show":"hide","p-absolute","wh-100","flex-center","gap-05em"].join(" "),style:{backgroundColor:"#ffffffcc",transition:"0.3s"}},n)},Nd=function(e){var t=e.children;return wp.element.createElement("div",{className:["jet-fb","flex","flex-dir-column","container","gap-1em"].join(" ")},t)};function Rd(e){return Rd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rd(e)}function Dd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Fd(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Fd(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fd(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Md(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ld(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Md(Object(r),!0).forEach((function(t){Bd(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Md(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Bd(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Rd(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Rd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Rd(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $d=wp.i18n.__,Gd=wp.element.useState,Ud=wp.components.Button;const Vd=function(e){var t,r=e.current,n=e.update,o=e.isOpenModal,i=e.setOpenModal,l=Dd(Gd(!1),2),a=l[0],u=l[1],c=Dd(Gd(!1),2),s=c[0],f=c[1],p=1>=(null===(t=Object.keys(r))||void 0===t?void 0:t.length);return wp.element.createElement(Wp.Provider,{value:{update:function(e){n((function(t){var n=JSON.parse(JSON.stringify(t.groups));for(var o in n)n.hasOwnProperty(o)&&r.id===n[o].id&&(n[o]=Ld(Ld({},n[o]),e));return{groups:n}}))},current:r}},wp.element.createElement("div",{className:"jet-fb p-relative",onMouseOver:function(){return f(!0)},onFocus:function(){return f(!0)},onMouseOut:function(){return f(!1)},onBlur:function(){return f(!1)}},wp.element.createElement(xd,{isHover:s},wp.element.createElement(Ud,{isSmall:!0,isSecondary:!0,icon:a?"no-alt":"edit",onClick:function(){return u((function(e){return!e}))}},$d("Edit","jet-form-builder")),wp.element.createElement(Ud,{isSmall:!0,isDestructive:!0,icon:"trash",onClick:function(){n((function(e){return{groups:JSON.parse(JSON.stringify(e.groups)).filter((function(e){return e.id!==r.id}))}}))}},$d("Delete","jet-form-builder"))),wp.element.createElement(Nd,null,p?wp.element.createElement("div",{"data-title":$d("This value item is empty","jet-form-builder")}):wp.element.createElement(React.Fragment,null,wp.element.createElement("span",{"data-title":$d("Set","jet-form-builder")+":",dangerouslySetInnerHTML:{__html:zs(r.to_set)}}),wp.element.createElement(Td,{conditions:null==r?void 0:r.conditions})))),(a||o===r.id)&&wp.element.createElement(b,{classNames:["width-60"],onRequestClose:function(){u(!1),i(!1)},title:$d("Edit Dynamic Value","jet-form-builder")},wp.element.createElement(Pd,null)))};var qd=["children"];function Jd(){return Jd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jd.apply(this,arguments)}const Hd=function(e){var t=e.children,r=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,qd);return wp.element.createElement("div",Jd({className:"jet-fb flex flex-dir-column gap-default",style:{marginBottom:"1em"}},r),t)};function Xd(e){return Xd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xd(e)}function Wd(e){return function(e){if(Array.isArray(e))return eb(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Qd(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Yd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zd(Object(r),!0).forEach((function(t){Kd(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Kd(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Xd(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Xd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Xd(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||Qd(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qd(e,t){if(e){if("string"==typeof e)return eb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?eb(e,t):void 0}}function eb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var tb=wp.i18n.__,rb=wp.element.useState,nb=wp.components.Button;const ob=function(){var e,t,r=Zd(rr(),2),n=r[0],o=r[1],i=Yt(),l=null!==(e=n.value)&&void 0!==e?e:{},a=null!==(t=l.groups)&&void 0!==t?t:[],u=Zd(rb(!1),2),c=u[0],s=u[1];if(!lr("value"))return null;var f=a.filter((function(e,t){return 0!==t})),p=function(e){o(Yd(Yd({},n),{},{value:Yd(Yd({},l),"function"==typeof e?e(l):e)}))};return wp.element.createElement(React.Fragment,null,wp.element.createElement(No,null,tb("Or use a condition-dependent value","jet-form-builder")+" ",wp.element.createElement(nb,{isLink:!0,onClick:function(){},label:tb("Former Set Value functionality, moved from the Conditional Block","jet-form-builder"),showTooltip:!0},"(?)")),Boolean(a.length)?wp.element.createElement(Hd,null,wp.element.createElement(Vd,{key:i(a[0].id),current:a[0],update:p,isOpenModal:c,setOpenModal:s}),Boolean(f.length)&&f.map((function(e){return wp.element.createElement(React.Fragment,null,wp.element.createElement("b",null,tb("OR","jet-form-builder")),wp.element.createElement(Vd,{key:i(e.id),current:e,update:p,isOpenModal:c,setOpenModal:s}))}))):null,wp.element.createElement(nb,{icon:"plus-alt2",isSecondary:!0,onClick:function(){var e=ne.getRandomID();p({groups:[].concat(Wd(a),[{id:e,conditions:[{__visible:!0}]}])}),s(e)}},tb("Add Dynamic Value","jet-form-builder")))};var ib=wp.components.Button,lb=wp.element.useContext;var ab=wp.components.SelectControl,ub=wp.element,cb=ub.useContext,sb=ub.useMemo,fb=wp.i18n.__;const pb=function(){var e=cb(Vp),t=e.currentItem,r=e.changeCurrentItem,n=sb((function(){return ve(fb("Custom value","jet-form-builder"))}),[]);return wp.element.createElement(ab,{labelPosition:"side",options:n,label:fb("Choose field","jet-form-builder"),value:t.field,onChange:function(e){return r({field:e})}})};function mb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return yb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yb(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var db=wp.components,bb=db.SelectControl,vb=db.TextareaControl,hb=db.TextControl,gb=db.withFilters,wb=wp.element,jb=wb.useContext,Ob=wb.useState,Sb=wb.useEffect,Eb=wp.i18n.__,Ab=wp.hooks.addFilter,Pb=window.jetFormValidation,Cb=Pb.rule_types,Ib=Pb.ssr_callbacks,_b=Ib.map((function(e){return e.value}));function kb(e){var t,r,n=Cb.findIndex((function(t){return t.value===e})),o=Eb("Enter value","jet-form-builder");return-1===n?o:null!==(t=null===(r=Cb[n])||void 0===r?void 0:r.control_label)&&void 0!==t?t:o}Ab("jet.fb.advanced.rule.controls","jet-form-builder",(function(e){return function(t){var r=t.currentItem,n=t.changeCurrentItem,o=mb(Ob(!1),2),i=o[0],l=o[1];if("ssr"!==r.type)return wp.element.createElement(e,t);var a=r.value||"custom_jfb_field_validation";return wp.element.createElement(React.Fragment,null,wp.element.createElement(bb,{labelPosition:"side",options:ne.withPlaceholder(Ib,Eb("Custom function","jet-form-builder")),label:Eb("Choose callback","jet-form-builder"),value:r.value,onChange:function(e){return n({value:e})}}),!_b.includes(r.value)&&wp.element.createElement(React.Fragment,null,wp.element.createElement(hb,{label:Eb("Function name","jet-form-builder"),value:r.value,onChange:function(e){return n({value:e})}}),wp.element.createElement(No,null,Eb("Example of registering a function below.","jet-form-builder")+" ",wp.element.createElement("a",{href:"javascript:void(0)",onClick:function(){return l((function(e){return!e}))}},Eb(i?"Hide":"Show","jet-form-builder"))),i&&wp.element.createElement("pre",null,"/**\n * To get all the values of the fields in the form, you can use the expression:\n * jet_fb_request_handler()->get_request() or $context->get_request()\n *\n * If the field is located in the middle of the repeater, then only\n * jet_fb_request_handler()->get_request(), but $context->get_request() \n * will return the values of all fields of the current repeater element\n *\n * @param $value mixed\n * @param $context \\Jet_Form_Builder\\Request\\Parser_Context\n *\n * @return bool\n */\nfunction ".concat(a,"( $value, $context ): bool {\n\t// your logic\n\treturn true;\n}"))))}}));var Tb=gb("jet.fb.advanced.rule.controls")((function(e){var t=e.currentItem,r=e.changeCurrentItem,n=mb(Ob((function(){return kb(t.type)})),2),o=n[0],i=n[1];switch(Sb((function(){i(kb(t.type))}),[t.type]),t.type){case"equal":case"contain":case"contain_not":case"regexp":case"regexp_not":return wp.element.createElement(React.Fragment,null,wp.element.createElement(pb,null),!Boolean(t.field)&&wp.element.createElement(By,{value:t.value,label:o,onChangePreset:function(e){return r({value:e})},onChangeMacros:function(e){var n;return r({value:(null!==(n=t.value)&&void 0!==n?n:"")+e})}},(function(e){var n=e.instanceId;return wp.element.createElement(vb,{id:n,value:t.value,onChange:function(e){return r({value:e})}})})));default:return null}}));const xb=function(){var e=jb(Vp),t=e.currentItem,r=e.changeCurrentItem;return wp.element.createElement(React.Fragment,null,wp.element.createElement(bb,{labelPosition:"side",options:ne.withPlaceholder(Cb),label:Eb("Rule type","jet-form-builder"),value:t.type,onChange:function(e){return r({type:e})}}),wp.element.createElement(Tb,{currentItem:t,changeCurrentItem:r}),wp.element.createElement(vb,{label:Eb("Error message","jet-form-builder"),value:t.message,onChange:function(e){return r({message:e})}}))};var Nb=wp.data.select;const Rb=function(e){return Nb("jet-forms/validation").readRule(e)};function Db(e){return Db="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Db(e)}function Fb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Mb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fb(Object(r),!0).forEach((function(t){Lb(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fb(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Lb(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Db(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Db(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Db(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$b(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Gb=wp.element.useState,Ub=wp.i18n.__;const Vb=function(){var e=Bb(rr(),2),t=e[0],r=e[1],n=Bb(Gb((function(){var e,r;return null!==(e=null===(r=t.validation)||void 0===r?void 0:r.rules)&&void 0!==e?e:[]})),2),o=n[0],i=n[1];return yt((function(){r((function(e){return Mb(Mb({},e),{},{validation:Mb(Mb({},t.validation),{},{rules:o})})}))})),wp.element.createElement(oy,{state:i},wp.element.createElement(Hp.Provider,{value:{isSupported:function(){return!0},render:function(e){var t=e.currentItem;return wp.element.createElement("span",{className:"repeater-item-title",dangerouslySetInnerHTML:{__html:Rb(t)}})}}},wp.element.createElement(hm,{items:o},wp.element.createElement(xb,null))),wp.element.createElement(cm,null,Ub("Add Rule","jet-form-builder")))},qb=(0,wp.element.createContext)({showModal:!1,setShowModal:function(){}});function Jb(e){return Jb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jb(e)}function Hb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hb(Object(r),!0).forEach((function(t){Wb(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hb(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Wb(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Jb(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Jb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Jb(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Yb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Yb(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Kb=wp.element,Zb=Kb.useContext,Qb=Kb.useState,ev=wp.i18n.__,tv=wp.components.Button;const rv=function(){var e=Zb(qb).setShowModal,t=zb(rr(),2),r=t[0],n=t[1],o=zb(Qb(!1),2),i=o[0],l=o[1];return wp.element.createElement("div",{className:"jet-fb p-relative",onMouseOver:function(){return l(!0)},onFocus:function(){return l(!0)},onMouseOut:function(){return l(!1)},onBlur:function(){return l(!1)}},wp.element.createElement(xd,{isHover:i},wp.element.createElement(tv,{isSmall:!0,isSecondary:!0,icon:"plus-alt2",onClick:function(){n({validation:Xb(Xb({},r.validation),{},{rules:[{__visible:!0}]})}),e((function(e){return!e}))}},ev("Add new","jet-form-builder"))),wp.element.createElement(Nd,null,wp.element.createElement("span",{"data-title":ev("You have no rules for this field.","jet-form-builder")}),wp.element.createElement("span",{"data-title":ev("Please click here to add new.","jet-form-builder")})))};var nv=wp.i18n.__;const ov=function(e){var t=e.rule;return t.type?wp.element.createElement(React.Fragment,null,wp.element.createElement("span",{"data-title":nv("Rule:","jet-form-builder"),dangerouslySetInnerHTML:{__html:Rb(t)}}),Boolean(t.message)&&wp.element.createElement("span",{"data-title":nv("Message:","jet-form-builder"),dangerouslySetInnerHTML:{__html:t.message}})):wp.element.createElement("span",{"data-title":nv("The rule is not fully configured.","jet-form-builder")})};function iv(e){return iv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iv(e)}function lv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function av(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lv(Object(r),!0).forEach((function(t){uv(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function uv(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==iv(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==iv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===iv(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return sv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?sv(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var fv=wp.element,pv=fv.useContext,mv=fv.useState,yv=wp.i18n.__,dv=wp.components.Button;const bv=function(e){var t=e.rule,r=e.index,n=void 0===r?0:r,o=pv(qb).setShowModal,i=cv(rr(),2),l=i[0],a=i[1],u=cv(mv(!1),2),c=u[0],s=u[1];return wp.element.createElement("div",{className:"jet-fb p-relative",onMouseOver:function(){return s(!0)},onFocus:function(){return s(!0)},onMouseOut:function(){return s(!1)},onBlur:function(){return s(!1)}},wp.element.createElement(xd,{isHover:c},wp.element.createElement(dv,{isSmall:!0,isSecondary:!0,icon:"edit",onClick:function(){a({validation:av(av({},l.validation),{},{rules:l.validation.rules.map((function(e,t){return e.__visible=n===t,e}))})}),o((function(e){return!e}))}},yv("Edit","jet-form-builder")),wp.element.createElement(dv,{isSmall:!0,isDestructive:!0,icon:"trash",onClick:function(){a({validation:av(av({},l.validation),{},{rules:l.validation.rules.filter((function(e,t){return t!==n}))})})}},yv("Delete","jet-form-builder"))),wp.element.createElement(Nd,null,wp.element.createElement(ov,{rule:t})))};function vv(e,t){if(e){if("string"==typeof e)return hv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?hv(e,t):void 0}}function hv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var gv=wp.i18n.__,wv=wp.element,jv=wv.Children,Ov=wv.cloneElement;const Sv=function(){var e,t,r,n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||vv(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(rr(),1)[0];return null!=n&&null!==(e=n.validation)&&void 0!==e&&null!==(e=e.rules)&&void 0!==e&&e.length?wp.element.createElement(Hd,null,jv.map((r=(t=n.validation.rules).filter((function(e,t){return 0!==t})),[wp.element.createElement(bv,{rule:t[0]})].concat(function(e){return function(e){if(Array.isArray(e))return hv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||vv(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r.map((function(e,t){return function(e,t){return wp.element.createElement(React.Fragment,null,wp.element.createElement("b",null,gv("AND","jet-form-builder")),wp.element.createElement(bv,{rule:e,index:t}))}(e,t+1)}))))),Ov)):wp.element.createElement(rv,null)};function Ev(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Av=wp.element.useState,Pv=wp.i18n.__;var Cv=["help","attrName","label"],Iv=["help","attrName","label"];function _v(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function kv(e){return kv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kv(e)}var Tv=wp.blockEditor.useBlockProps,xv=wp.components,Nv=xv.TextControl,Rv=xv.SelectControl,Dv=xv.ToggleControl,Fv=xv.BaseControl,Mv=xv.__experimentalNumberControl,Lv=wp.components.NumberControl;void 0===Lv&&(Lv=Mv);var Bv=["help","label","hasMacro"];function $v(){return $v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$v.apply(this,arguments)}var Gv=wp.components,Uv=Gv.FormToggle,Vv=Gv.BaseControl,qv=Gv.Flex,Jv=wp.compose.useInstanceId;function Hv(){this.action=null,this.hasInList=!1}Hv.prototype.isSupported=function(e,t){return this.getSupportedActions().includes(e.type)},Hv.prototype.isSupportedGlobal=function(){return!1},Hv.prototype.getSupportedActions=function(){return[]},Hv.prototype.setAction=function(e){this.action=e},Hv.prototype.getName=function(){return""},Hv.prototype.getLabel=function(){return""},Hv.prototype.getHelp=function(){return""};const Xv=Hv;var Wv=wp.blockEditor.useBlockProps;function zv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.list=e}Yv.prototype={setList:function(e){this.list=e},resetID:function(){var e,t=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return zv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zv(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){a=!0,i=e},f:function(){try{l||null==r.return||r.return()}finally{if(a)throw i}}}}(this.list);try{for(t.s();!(e=t.n()).done;)e.value.resetID()}catch(e){t.e(e)}finally{t.f()}},hasType:function(e){return this.list.some((function(t){return t.type===e}))},add:function(e){"string"==typeof e&&(e={type:e}),this.list.push(new Ze(e))}};const Kv=Yv;function Zv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var eh=wp.data,th=eh.useSelect,rh=eh.useDispatch;const nh=function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Qv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Qv(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(th((function(e){return[e("jet-forms/actions").getCurrentAction(),e("jet-forms/actions").getCurrentSettings()]})),2);return{currentAction:e[0],currentSettings:e[1],updateSettings:rh("jet-forms/actions").updateCurrentSettings}};function oh(e){return oh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(e)}function ih(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function lh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ih(Object(r),!0).forEach((function(t){ah(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ih(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ah(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==oh(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==oh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===oh(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var uh=wp.data.useDispatch;function ch(e){return ch="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ch(e)}function sh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sh(Object(r),!0).forEach((function(t){ph(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sh(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ph(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ch(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ch(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ch(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mh(e){return function(e){if(Array.isArray(e))return dh(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||yh(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yh(e,t){if(e){if("string"==typeof e)return dh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?dh(e,t):void 0}}function dh(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const bh=function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||yh(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(xe(),2),t=e[0],r=e[1],n=function(e,n){var o=t.map((function(t){return e!==t.id?t:fh(fh({},JSON.parse(JSON.stringify(t))),n)}));r(mh(o))};return{actions:t,setActions:r,moveAction:function(e,n){var o=JSON.parse(JSON.stringify(t[e])),i=JSON.parse(JSON.stringify(t[n]));t.splice(n,1,o),t.splice(e,1,i),r(mh(t))},deleteAction:function(e){t.splice(e,1),r(mh(t))},updateActionObj:n,toggleExecute:function(e){var t;n(e.id,{is_execute:!(null===(t=e.is_execute)||void 0===t||t)})},addActionProps:function(e){var n=JSON.parse(JSON.stringify(e));n.id=0>n.id?-1*n.id:n.id,r([].concat(mh(t),[fh({},n)]))}}};var vh=wp.data.useSelect;const hh=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return vh((function(t){return e?t("jet-forms/actions").getCallback(e):t("jet-forms/actions").getCurrentCallback()}),[e])};var gh=wp.data.useSelect;function wh(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var jh=wp.element.useEffect,Oh=wp.data.useSelect,Sh=wp.blockEditor.useBlockProps;function Eh(e){return Eh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eh(e)}function Ah(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ph(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Eh(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Eh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Eh(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ch(e,t){if(e){if("string"==typeof e)return Ih(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ih(e,t):void 0}}function Ih(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _h=wp.data.useSelect,kh=wp.components,Th=kh.CustomSelectControl,xh=kh.Icon,Nh=wp.blockEditor.useBlockEditContext;function Rh(e){return Rh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rh(e)}function Dh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fh(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Rh(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Rh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Rh(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mh(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Lh=wp.element,Bh=Lh.Children,$h=Lh.cloneElement,Gh=Lh.useContext,Uh=wp.data.useSelect,Vh=wp.blockEditor.useBlockEditContext,qh=wp.components,Jh=qh.__experimentalToggleGroupControl,Hh=qh.__experimentalToggleGroupControlOptionIcon,Xh=qh.__experimentalToolbarContext,Wh=qh.ToggleGroupControl,zh=qh.ToggleGroupControlOptionIcon,Yh=qh.ToolbarItem,Kh=qh.ToolbarGroup,Zh=qh.ToolbarContext;function Qh(e){var t=e.value,r=Vh().name,n=Gh(Zh),o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Mh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Mh(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(rr(),2)[1],i=Uh((function(e){var t=(0,e("core/blocks").getBlockVariations)(r,"block");return{variations:t,components:t.map((function(e){var t;return(null!==(t=null==n?void 0:n.currentId)&&void 0!==t?t:null==n?void 0:n.baseId)?wp.element.createElement(Yh,{key:e.name,as:zh,value:e.name,label:e.title,icon:e.icon}):wp.element.createElement(zh,{key:e.name,value:e.name,label:e.title,icon:e.icon})}))}}),[]),l=i.variations,a=i.components;return l.length?wp.element.createElement(Wh,{hideLabelFromVision:!0,onChange:function(e){return o(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dh(Object(r),!0).forEach((function(t){Fh(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dh(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},l.find((function(t){return t.name===e})).attributes))},value:t,isBlock:!0},Bh.map(a,$h)):null}Wh=Wh||Jh,zh=zh||Hh,Zh=Zh||Xh;var eg=wp.data.useSelect,tg=wp.blockEditor.useBlockEditContext,rg=window._.get;var ng=wp.element.useContext;const og=function(){return ng(qp)};function ig(e){return ig="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ig(e)}function lg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ag(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lg(Object(r),!0).forEach((function(t){ug(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ug(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ig(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ig(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ig(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var cg=wp.i18n.__,sg=wp.data.useDispatch,fg=wp.components.Button;const pg=function(){var e=og(),t=e.action,r=e.index,n=sg("jet-forms/actions",[]),o=n.setCurrentAction,i=n.setMeta,l=hh(t.type);return wp.element.createElement(fg,{disabled:!l,icon:"edit",label:cg("Edit Action","jet-form-builder"),onClick:function(){o(ag(ag({},t),{},{index:r})),i({index:r,modalType:"settings"})}})};function mg(){return mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mg.apply(this,arguments)}var yg=wp.data.useSelect,dg=wp.components.Card;const bg=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=og().action,n=yg((function(e){return e("jet-forms/actions").getCurrentAction()})),o=["jet-form-action"];return null===(e=r.is_execute)||void 0===e||e||o.push("is-disabled"),(null==n?void 0:n.id)===r.id&&o.push("is-current"),wp.element.createElement(dg,mg({elevation:2,size:"extraSmall",className:o},t))};function vg(e){return vg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vg(e)}function hg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gg(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==vg(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==vg(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===vg(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var wg=wp.data.useSelect,jg=wp.element.useContext,Og=wp.i18n.__;function Sg(e){var t,r,n=e.slug,o=e.index,i=jg(qp).action,l=wg((function(e){return e("jet-forms/events").getType(n)})),a=bh().updateActionObj,u=[null!==(t=null==l?void 0:l.title)&&void 0!==t?t:"",Og("(Click to delete)","jet-form-builder")].join(" ");return wp.element.createElement("button",{type:"button",className:"jfb-events-item",title:u,onClick:function(){i.events.splice(o,1),a(i.id,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hg(Object(r),!0).forEach((function(t){gg(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},i))}},null!==(r=null==l?void 0:l.value)&&void 0!==r?r:n)}const Eg=function(e){var t=e.events;return(void 0===t?[]:t).map((function(e,t){return wp.element.createElement(Sg,{key:e,slug:e,index:t})}))};var Ag=["children"];function Pg(){return Pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pg.apply(this,arguments)}var Cg=wp.components.CardFooter;const Ig=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.children,n=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(t,Ag),o=og().action;return Boolean(null===(e=o.events)||void 0===e?void 0:e.length)&&wp.element.createElement(Cg,Pg({style:{flexWrap:"wrap",rowGap:"0.5em"}},n),wp.element.createElement(Eg,{events:o.events}),r)};var _g=["children"];var kg=wp.hooks.applyFilters,Tg=wp.components.CardHeader;const xg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.children,r=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,_g),n=og().action,o=kg("jet.fb.section.actions.header.".concat(n.type),null,n);return o?wp.element.createElement(Tg,r,o,t):null};var Ng=wp.components.SelectControl,Rg=wp.data.useSelect;const Dg=function(){var e=bh().updateActionObj,t=og().action,r=Rg((function(e){return e("jet-forms/actions").getActionsList()}));return wp.element.createElement(Ng,{value:t.type,options:r,onChange:function(r){return e(t.id,{type:r})}},r.map((function(e){return wp.element.createElement("option",{key:t.id+"__"+e.value,value:e.value,disabled:e.disabled},e.label)})))};function Fg(e){return Fg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fg(e)}function Mg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Lg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mg(Object(r),!0).forEach((function(t){Bg(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Bg(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Fg(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Fg(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Fg(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $g=wp.i18n.__,Gg=wp.data.useDispatch,Ug=wp.components.Button;const Vg=function(){var e,t=og(),r=t.action,n=t.index,o=Gg("jet-forms/actions",[]),i=o.setCurrentAction,l=o.setMeta,a=null!=r&&null!==(e=r.conditions)&&void 0!==e&&e.length?wp.element.createElement("span",{className:"dashicon dashicons dashicons-randomize","data-count":null==r?void 0:r.conditions.length}):wp.element.createElement("span",{className:"dashicon dashicons dashicons-randomize"});return wp.element.createElement(Ug,{className:"jet-fb-button",icon:a,label:$g("Edit Conditions & Events","jet-form-builder"),onClick:function(){i(Lg(Lg({},r),{},{index:n})),l({index:n,modalType:"conditions"})}})};var qg=(0,wp.components.createSlotFill)("JFBActionItemDetails"),Jg=qg.Slot,Hg=qg.Fill;function Xg(e){var t=e.children,r=e.type;return wp.element.createElement(Hg,null,(function(e){return e.type!==r?null:t}))}Xg.Slot=Jg;const Wg=Xg;var zg=wp.i18n.__;const Yg=function(){var e=og().action;return wp.element.createElement(Ji,{variant:null,isSmall:!1,icon:"editor-help",label:zg("Show details about selected action","jet-form-builder")},wp.element.createElement("div",{className:"jet-fb p-06em flex flex-dir-column gap-default"},wp.element.createElement("div",{"data-title":zg("ID:","jet-form-builder")},wp.element.createElement("b",null,e.id)),wp.element.createElement(Wg.Slot,{fillProps:{type:e.type}})))};var Kg=wp.i18n.__,Zg=wp.components.DropdownMenu;const Qg=function(e){var t,r=e.exclude,n=void 0===r?[]:r,o=og(),i=o.action,l=o.index,a=bh(),u=a.moveAction,c=a.deleteAction,s=a.actions,f=a.toggleExecute,p=null===(t=i.is_execute)||void 0===t||t,m=[];return-1===n.indexOf("up")&&m.push({title:Kg("Up","jet-form-builder"),icon:"arrow-up",disabled:0===l,onClick:function(){u(l,l-1)}}),-1===n.indexOf("down")&&m.push({title:Kg("Down","jet-form-builder"),icon:"arrow-down",disabled:s.length-1===l,onClick:function(){u(l,l+1)}}),-1===n.indexOf("delete")&&m.push({title:Kg("Delete","jet-form-builder"),icon:"trash",onClick:function(){c(l)}}),-1===n.indexOf("off-on")&&m.push({title:Kg(p?"Turn off":"Turn on","jet-form-builder"),icon:p?"no-alt":"yes",onClick:function(){f(i)}}),wp.element.createElement(Zg,{icon:"ellipsis",label:Kg("Edit, move or delete","jet-form-builder"),controls:m})};var ew=wp.components,tw=ew.CardBody,rw=ew.Flex;var nw=wp.i18n.__,ow=wp.components,iw=ow.Icon,lw=ow.Flex;function aw(e){return aw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aw(e)}function uw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uw(Object(r),!0).forEach((function(t){sw(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uw(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function sw(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==aw(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==aw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===aw(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var pw=wp.i18n.__,mw=wp.components.Button;const yw=(0,wp.components.createSlotFill)("JFBActionsAfterNewButton"),dw=(0,wp.components.createSlotFill)("JFBActionModalHeader");var bw=wp.blockEditor,vw=bw.useBlockProps,hw=bw.RichText,gw=wp.components.Button;const ww=(0,wp.element.createContext)({});var jw=wp.element.useContext;function Ow(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Sw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Sw(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ew=wp.element.useState;function Aw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Pw=window._.get;function Cw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Iw=wp.element,_w=Iw.useState,kw=Iw.useRef;var Tw=wp.data,xw=Tw.useSelect,Nw=Tw.useDispatch;window.JetFBComponents={BaseLabel:la,ActionFieldsMap:function(r){var o=r.fields,i=void 0===o?[]:o,l=r.label,a=void 0===l?"[Empty label]":l,u=r.children,c=void 0===u?null:u,s=r.plainHelp,f=void 0===s?"":s,p=r.customHelp,m=void 0!==p&&p;return wp.element.createElement(n,{label:a,key:"jet_fields_map"},wp.element.createElement("div",{className:"jet-user-fields-map__list"},m&&"function"==typeof m&&m(),Boolean(f.length)&&wp.element.createElement("span",{className:"description-controls"},f),i.map((function(r,n){var o=function(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,r)||function(e,r){if(e){if("string"==typeof e)return t(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r,2),i=o[0],l=o[1];return wp.element.createElement(e.Provider,{key:"field_in_map_".concat(i+n),value:{name:i,data:l,index:n}},"function"==typeof c?c({fieldId:i,fieldData:l,index:n}):c)}))))},ActionModal:b,ActionModalContext:o,SafeDeleteContext:Up,RepeaterItemContext:Vp,ActionListItemContext:qp,RepeaterBodyContext:Jp,RepeaterHeadContext:Hp,RepeaterButtonsContext:Xp,CurrentActionEditContext:Qe,ActionFieldsMapContext:e,CurrentPropertyMapContext:Hm,BlockValueItemContext:Wp,DynamicPropertySelect:function(t){var r,n=t.dynamic,o=void 0===n?[]:n,i=t.parseValue,l=void 0===i?null:i,a=t.children,u=void 0===a?null:a,c=t.properties,s=void 0===c?null:c,f=Km(Qe),p=f.source,m=f.settings,y=f.setMapField;s=null!==(r=s)&&void 0!==r?r:p.properties;var d=Km(e),b=d.name,v=d.index,h=m.fields_map,g=void 0===h?{}:h;function w(e){var t,r,n=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Xm(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){a=!0,i=e},f:function(){try{l||null==r.return||r.return()}finally{if(a)throw i}}}}(s);try{for(n.s();!(r=n.n()).done;)if(e===r.value.value)return e}catch(e){n.e(e)}finally{n.f()}return l?l(e):null!==(t=o[0])&&void 0!==t?t:""}var j,O,S=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||Xm(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Ym((function(){var e;return w(null!==(e=g[b])&&void 0!==e?e:"")})),2),E=S[0],A=S[1],P=wp.element.createElement(Zm,{key:b+v,value:E,options:s,help:(O=s.find((function(e){return e.value===E})),null!==(j=null==O?void 0:O.help)&&void 0!==j?j:""),onChange:function(e){var t=w(e);A(t),y({nameField:b,value:o.includes(e)?"":e})}});return wp.element.createElement(Hm.Provider,{value:{FieldSelect:P,property:E}},u&&u,!u&&P)},SafeDeleteToggle:function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return zp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zp(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Zp(!0),2),r=t[0],n=t[1];return wp.element.createElement(React.Fragment,null,wp.element.createElement(Yp,{label:Kp("Safe deleting","jet-form-builder"),checked:r,onChange:n}),wp.element.createElement(Up.Provider,{value:r},e.children))},RepeaterAddNew:cm,RepeaterAddOrOperator:function(e){var t,r=e.onSetState,n=e.functions,o=e.children,i=(null!==(t=null!=n?n:im(r))&&void 0!==t?t:lb(lm)).addNewItem;return wp.element.createElement(ib,{isSecondary:!0,icon:"randomize",onClick:function(){return i({__visible:!1,or_operator:!0})}},o)},Repeater:hm,RequestButton:A,ValidateButton:function(e){var t=e.initialValid,r=void 0===t?null:t,n=e.label,o=e.ajaxArgs,i=void 0===o?{}:o,l=e.onValid,a=void 0===l?function(){}:l,u=e.onInvalid,c=void 0===u?function(){}:u,s=x(R({}),2),f=s[0],p=s[1],m=x(k(r||null),4),y=m[0],d=m[1],b=m[2],v=m[3];return wp.element.createElement(A,T({ajaxArgs:i,label:n,onLoading:v,onSuccessRequest:function(e){d(),a(e),p({})},onFailRequest:function(){b(),c(),p({isDestructive:!0})},className:y},f),wp.element.createElement("i",{className:"dashicons"}))},RequestLoadingButton:function(e){var t=e.label,r=e.ajaxArgs,n=void 0===r?{}:r,o=e.onSuccessRequest,i=void 0===o?function(){}:o,l=e.onFailRequest,a=void 0===l?function(){}:l,u=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Pu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Pu(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Me(),3),c=u[0],s=u[1],f=u[2];return wp.element.createElement(A,{ajaxArgs:n,label:t,onLoading:s,onSuccessRequest:function(e){f(),i(e)},onFailRequest:function(){f(),a()},className:c},wp.element.createElement("i",{className:"dashicons"}))},WrapperRequiredControl:function(t){var r=t.children,n=t.labelKey,o=void 0===n?"label":n,i=t.requiredKey,l=void 0===i?"required":i,a=t.helpKey,u=void 0===a?"help":a,c=t.field,s=void 0===c?[]:c,f=w(e),p=f.name,m=f.data;if(s.length){var y=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(s,2);p=y[0],m=y[1]}return wp.element.createElement("div",{className:"jet-user-meta__row",key:"user_meta_"+p},wp.element.createElement("div",{className:"jet-field-map__row-label"},wp.element.createElement("span",{className:"fields-map__label"},m.hasOwnProperty(o)&&m[o]&&m[o],!m.hasOwnProperty(o)&&m),m.hasOwnProperty(l)&&m[l]&&wp.element.createElement("span",{className:"fields-map__required"}," *"),m[u]&&wp.element.createElement("p",{className:"components-base-control__help",style:{color:"rgb(117, 117, 117)",margin:"1em 0 0 0"}},wp.element.createElement(g,null,m[u]))),r)},DynamicPreset:Lr,JetFieldsMapControl:Kr,FieldWithPreset:function(e){var t=e.children,r=void 0===t?null:t,n=e.ModalEditor,o=e.triggerClasses,i=void 0===o?[]:o,l=e.baseControlProps,a=void 0===l?{}:l,u=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||Qr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(ln(!1),2),c=u[0],s=u[1],f=function(){s((function(e){return!e}))},p=["jet-form-dynamic-preset__trigger"].concat(function(e){return function(e){if(Array.isArray(e))return en(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Qr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(i)).join(" ");return wp.element.createElement(React.Fragment,null,wp.element.createElement(on,Zr({className:"jet-form-dynamic-preset"},a),r,wp.element.createElement("div",{className:p,onClick:f},wp.element.createElement(nn,{viewBox:"0 0 54 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement(rn,{d:"M42.6396 26.4347C37.8682 27.3436 32.5666 28.0252 27.1894 28.0252C21.8121 28.0252 16.4348 27.3436 11.7391 26.4347C6.96774 25.4502 3.18093 23.8597 0.37868 21.9663L0.37868 28.0252C0.37868 29.5399 1.59046 31.1304 3.78682 32.4179C5.98317 33.7054 9.46704 34.9172 13.6325 35.5988C17.798 36.2805 22.115 36.8106 27.1894 36.8106C32.2637 36.8106 36.6564 36.5077 40.7462 35.5988C44.8359 34.69 48.3198 33.7054 50.5162 32.4179C52.7125 31.1304 54 29.5399 54 28.0252L54 21.9663C51.122 23.8597 47.3352 25.4502 42.6396 26.4347ZM42.6396 53.5484C37.8682 54.5329 32.5666 55.1388 27.1894 55.1388C21.8121 55.1388 16.4348 54.5329 11.7391 53.5484C7.04348 52.5638 3.18093 51.0491 0.378682 49.1556L0.378682 55.1388C0.378683 56.7293 1.59046 58.3197 3.78682 59.5315C6.36186 60.819 9.46705 62.1066 13.6325 62.7125C17.7223 63.697 22.115 64 27.1894 64C32.2637 64 36.6564 63.697 40.7462 62.7125C44.8359 61.8036 48.3198 60.819 50.5162 59.5315C52.7125 57.9411 54 56.7293 54 54.8359L54 48.8527C51.122 51.0491 47.3352 52.2608 42.6396 53.5484ZM42.6396 39.9915C37.8682 40.9004 32.5666 41.582 27.1894 41.582C21.8121 41.582 16.4348 40.9004 11.7391 39.9915C6.96774 39.007 3.18093 37.4922 0.378681 35.5988L0.378681 41.582C0.378681 43.1725 1.59046 44.6872 3.78682 45.9747C6.36185 47.2622 9.46705 48.474 13.6325 49.1556C17.7223 50.0645 22.115 50.3674 27.1894 50.3674C32.2637 50.3674 36.6564 50.0645 40.7462 49.1556C44.8359 48.1711 48.3198 47.2622 50.5162 45.9747C52.7125 44.3843 54 43.1725 54 41.582L54 35.5988C51.122 37.4922 47.3352 39.007 42.6396 39.9915ZM40.4432 2.12337C36.3535 1.13879 31.885 0.835848 26.8864 0.835849C21.8878 0.835849 17.4194 1.13879 13.2539 2.12337C9.08836 3.10794 5.68022 4.01678 3.48387 5.3043C1.28751 6.59181 -3.4782e-06 8.10654 -3.33916e-06 9.697L-2.95513e-06 14.0897C-2.81609e-06 15.6802 1.28752 17.2706 3.48387 18.5582C6.05891 19.7699 9.1641 21.0575 13.2539 21.6633C17.3436 22.2692 21.8121 22.9509 26.8864 22.9509C31.9607 22.9509 36.3535 22.9509 40.4432 22.345C44.533 21.7391 48.0169 20.4516 50.2132 19.164C52.7125 17.5736 54 15.9831 54 14.3927L54 9.99995C54 8.40948 52.7125 6.81902 50.5162 5.60724C48.3198 4.39546 44.533 2.72926 40.4432 2.12337Z",fill:"#7E8993"})))),c&&wp.element.createElement(b,{onRequestClose:f,classNames:["width-60"],title:"Edit Preset"},(function(e){return wp.element.createElement(n,e)})))},GlobalField:vr,AvailableMapField:function(e){var t=e.fieldsMap,r=e.field,n=e.index,o=e.value,i=e.onChangeValue,l=e.isMapFieldVisible,a=null;t||(t={}),(a=t[r])&&"object"===fn(a)||(a={});var u=function(e){var t=e.field,r=e.name,n=e.index,o=e.fIndex,i=e.children;return wp.element.createElement(bn,{key:t+r+n+o,size:"extraSmall",style:{marginBottom:"10px"}},wp.element.createElement(hn,null,wp.element.createElement("span",{className:"jet-label-overflow"},t)),wp.element.createElement(vn,{key:t+r+n+o,className:"jet-form-preset__fields-map-item"},i))};return window.JetFormEditorData.presetConfig.map_fields.map((function(e,c){var s={field:r,name:e.name,index:n,fIndex:c},f="control_"+r+e.name+n+c;switch(e.type){case"text":return l(o,e,r)&&function(e,t){var r=e.field,n=e.name,o=e.index,i=e.fIndex;return wp.element.createElement(bn,{key:r+n+o+i,size:"extraSmall",style:{marginBottom:"10px"}},wp.element.createElement(hn,null,wp.element.createElement("span",{className:"jet-label-overflow"},r)),wp.element.createElement(vn,{key:r+n+o+i,className:"jet-form-preset__fields-map-item"},t))}(s,wp.element.createElement(mn,{key:f+"TextControl",placeholder:e.label,value:a[e.name],onChange:function(n){a[e.name]=n,i(cn(cn({},t),{},sn({},r,a)),"fields_map")}}));case"select":return l(o,e,r)&&wp.element.createElement(u,an({},s,{key:f}),wp.element.createElement(yn,{options:e.options,labelPosition:"top",value:a[e.name],onChange:function(n){a[e.name]=n,i(cn(cn({},t),{},sn({},r,a)),"fields_map")}}));case"custom_select":return l(o,e,r)&&wp.element.createElement(u,an({},s,{key:f}),wp.element.createElement(dn,{options:e.options,onChange:function(n){var o=n.selectedItem;a[e.name]=o.key,i(cn(cn({},t),{},sn({},r,a)),"fields_map")},value:e.options.find((function(t){return t.key===a[e.name]}))}));case"grouped_select":return l(o,e,r)&&wp.element.createElement(u,an({},s,{key:f}),wp.element.createElement(wr,{options:e.options,labelPosition:"top",value:a[e.name],onChange:function(n){a[e.name]=n,i(cn(cn({},t),{},sn({},r,a)),"fields_map")}}));default:return null}}))},MapField:Ar,FieldWrapper:function(e){var t=e.attributes,r=e.children,n=e.wrapClasses,o=void 0===n?[]:n,i=e.valueIfEmptyLabel,l=void 0===i?"":i,a=e.setAttributes,u=e.childrenPosition,c=void 0===u?"between":u,s=Yt(),f=st("_jf_args"),p=Ln((function(){xn(t,a)}));function m(){return wp.element.createElement(Rn.VisualLabel,null,$n(Bn("input label:","jet-form-builder")),wp.element.createElement("div",{className:"jet-form-builder__label"},wp.element.createElement(Dn,Nn({key:s("rich-label"),placeholder:"Label...",allowedFormats:[],value:t.label?t.label:l,onChange:function(e){return a({label:e})},isSelected:!1},p)),t.required&&wp.element.createElement("span",{className:"jet-form-builder__required"},f.required_mark?f.required_mark:"*")))}function y(){return wp.element.createElement("div",{className:"jet-form-builder__desc--wrapper"},$n(Bn("input description:","jet-form-builder")),wp.element.createElement(Rn,{key:"custom_help_description",className:"jet-form-builder__desc"},wp.element.createElement("div",{className:"components-base-control__help"},wp.element.createElement(Dn,{key:s("rich-description"),tagName:"small",placeholder:"Description...",allowedFormats:[],value:t.desc,onChange:function(e){return a({desc:e})},style:{marginTop:"0px"}}))))}return"row"===f.fields_layout&&o.push("jet-form-builder-row__flex"),wp.element.createElement(Rn,{key:s("placeHolder_block"),className:te("jet-form-builder__field-wrap","jet-form-builder-row",o)},"row"!==f.fields_layout&&wp.element.createElement(React.Fragment,null,"top"===c&&r,m(),"between"===c&&r,y(),"bottom"===c&&r),"row"===f.fields_layout&&wp.element.createElement(React.Fragment,null,wp.element.createElement("div",{className:"jet-form-builder-row__flex--label"},m(),y()),wp.element.createElement("div",{className:"jet-form-builder-row__flex--content"},r)))},MacrosInserter:function(e){e.children;var t=e.fields,r=e.onFieldClick,n=e.customMacros,o=e.zIndex,i=void 0===o?1e6:o,l=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Gn),a=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Vn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Vn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Wn((function(){return!1})),2),u=a[0],c=a[1];return wp.element.createElement("div",{className:"jet-form-editor__macros-inserter"},wp.element.createElement(Jn,{isTertiary:!0,isSmall:!0,icon:u?"no-alt":"admin-tools",label:"Insert macros",className:"jet-form-editor__macros-trigger",onClick:function(){c((function(e){return!e}))}}),u&&wp.element.createElement(Hn,Un({style:{zIndex:i},position:"bottom left"},l),t.length&&wp.element.createElement(Xn,{title:"Form Fields"},t.map((function(e){return wp.element.createElement("div",{key:"field_"+e.name},wp.element.createElement(Jn,{isLink:!0,onClick:function(){r(e.name)}},"%"+e.name+"%"))}))),n&&wp.element.createElement(Xn,{title:"Custom Macros"},n.map((function(e){return wp.element.createElement("div",{key:"macros_"+e},wp.element.createElement(Jn,{isLink:!0,onClick:function(){r(e)}},"%"+e+"%"))})))))},RepeaterWithState:function(e){var t=e.children,r=e.ItemHeading,n=e.repeaterClasses,o=void 0===n?[]:n,i=e.repeaterItemClasses,l=void 0===i?[]:i,a=e.newItem,u=e.addNewButtonLabel,c=void 0===u?"Add New":u,s=e.items,f=void 0===s?[]:s,p=e.isSaveAction,m=e.onSaveItems,y=e.onUnMount,d=e.onAddNewItem,b=e.onRemoveItem,v=e.help,h=void 0===v?{helpSource:{},helpVisible:function(){return!1},helpKey:""}:v,g=e.additionalControls,w=void 0===g?null:g,j=["jet-form-builder__repeater-component"].concat(eo(o)).join(" "),O=["jet-form-builder__repeater-component-item"].concat(eo(l)).join(" "),S=Yn(vo([]),2),E=S[0],A=S[1];ho((function(){A(f&&f.length>0?f.map((function(e){return e.__visible=!1,e})):[Zn(Zn({},a),{},{__visible:!0})])}),[]);var P=Yn(vo(!0),2),C=P[0],I=P[1],_=function(e,t){A((function(r){var n=JSON.parse(JSON.stringify(r));return n[t]=Zn(Zn({},r[t]),e),n}))},k=function(e){var t=e.oldIndex,r=e.newIndex;A((function(e){var n=JSON.parse(JSON.stringify(e)),o=[n[t],n[r]];return n[r]=o[0],n[t]=o[1],n}))},T=function(e){return!(e<E.length-1)};ho((function(){if(!0===p){for(var e in E)for(var t in E[e])t.startsWith("__")&&delete E[e][t];m(E),y()}else!1===p&&y()}),[p]);var x=function(e){return"jet-form-builder-repeater__item_".concat(e)},N=h.helpSource,R=h.helpVisible,D=h.helpKey,F=R(E)&&N&&N[D];return wp.element.createElement("div",{className:j,key:"jet-form-builder-repeater"},F&&wp.element.createElement("p",null,N[D].label),0<E.length&&wp.element.createElement(React.Fragment,null,wp.element.createElement(mo,null,wp.element.createElement(yo,null,wp.element.createElement(po,{label:oo("Safe deleting","jet-form-builder"),checked:C,onChange:I})),wp.element.createElement(yo,{style:{flex:"unset",marginBottom:"1em"}}))),w,E.map((function(e,n){return wp.element.createElement(co,{elevation:2,className:O,key:x(n)},wp.element.createElement(fo,{className:"repeater__item__header"},wp.element.createElement("div",{className:"repeater-item__left-heading"},wp.element.createElement(uo,{className:"repeater-action-buttons"},wp.element.createElement(ao,{isSmall:!0,icon:e.__visible?"no-alt":"edit",onClick:function(){return function(e){A((function(t){var r=JSON.parse(JSON.stringify(t));return r[e].__visible=!r[e].__visible,r}))}(n)},className:"repeater-action-button"}),wp.element.createElement(ao,{isSmall:!0,isSecondary:!0,disabled:!Boolean(n),icon:"arrow-up-alt2",onClick:function(){return function(e){k({oldIndex:e,newIndex:e-1})}(n)},className:"repeater-action-button"}),wp.element.createElement(ao,{isSmall:!0,isSecondary:!0,disabled:T(n),icon:"arrow-down-alt2",onClick:function(){return function(e){k({oldIndex:e,newIndex:e+1})}(n)},className:"repeater-action-button"})),wp.element.createElement("span",{className:"repeater-item-title"},r&&wp.element.createElement(r,{currentItem:e,index:n,changeCurrentItem:function(e){return _(e,n)}}),!r&&"#".concat(n+1))),wp.element.createElement(uo,null,wp.element.createElement(ao,{isSmall:!0,isSecondary:!0,onClick:function(){return function(e){A((function(t){var r=JSON.parse(JSON.stringify(t)),n=[r.slice(0,e+1),r.slice(e+1)],o=n[1];return[].concat(eo(n[0]),[r[e]],eo(o))}))}(n)}},oo("Clone","jet-form-builder")),wp.element.createElement(ao,{isSmall:!0,isSecondary:!0,isDestructive:!0,onClick:function(){return function(e){C&&!function(e){return confirm(io(oo("Are you sure you want to remove item %d?","jet-form-builder"),e+1))}(e)||b&&!b(e,E)||A((function(t){var r=JSON.parse(JSON.stringify(t));return r.splice(e,1),r}))}(n)}},oo("Delete","jet-form-builder")))),e.__visible&&wp.element.createElement(so,{className:"repeater-item__content"},t&&wp.element.createElement(React.Fragment,null,"function"==typeof t&&t({currentItem:e,changeCurrentItem:function(e){return _(e,n)},currentIndex:n}),"function"!=typeof t&&t),!t&&"Set up your Repeater Template, please."))})),1<E.length&&wp.element.createElement(React.Fragment,null,w,wp.element.createElement(po,{className:"jet-control-clear",label:oo("Safe deleting","jet-form-builder"),checked:C,onChange:I})),wp.element.createElement(ao,{isSecondary:!0,onClick:function(){return e=a,d&&d(e,E),void A((function(t){return[].concat(eo(t),[Zn(Zn({},e),{},{__visible:!0})])}));var e}},c))},AdvancedFields:function(){return wp.element.createElement(Yo,null,wp.element.createElement(Oo,null),wp.element.createElement(Po,null),wp.element.createElement(Go,null),wp.element.createElement(Jo,null),wp.element.createElement(zo,null))},GeneralFields:function(e){var t=e.hasMacro,r=void 0===t||t;return wp.element.createElement(Pa,{title:Ca("General","jet-form-builder"),key:"jet-form-general-fields"},wp.element.createElement(oi,null),wp.element.createElement(Ai,null),wp.element.createElement(_i,null),wp.element.createElement(Aa,{hasMacro:r}))},ToolBarFields:function(e){var t=e.children,r=void 0===t?null:t;return wp.element.createElement(React.Fragment,null,wp.element.createElement(Fa,null,r),wp.element.createElement(qa,null))},FieldControl:function(e){var t=e.setAttributes,r=e.attributes,n=function(e){var t=e.type,r=e.attributes,n=e.attrsSettings,o=void 0===n?{}:n,i=Tv()["data-type"],l=Ru();return l[t]?l[t].attrs.filter((function(e){e.help;var t=e.attrName,n=(e.label,_v(e,Cv)),l=t in r,a=function(e){if(!e.condition)return!0;if(i&&e.condition.blockName){if("string"==typeof e.condition.blockName&&i!==e.condition.blockName)return!1;if("object"===kv(e.condition.blockName)&&e.condition.blockName.length&&!e.condition.blockName.includes(i))return!1}return!(!function(){if("object"!==kv(e.condition.attr))return!0;var t=e.condition.attr,n=t.operator,o=void 0===n?"and":n,i=t.items,l=void 0===i?{}:i;if("or"===o.toLowerCase())for(var a in l)if(l[a]===r[a])return!0;return"and"!==o.toLowerCase()||function(){for(var e in l)if(l[e]!==r[e])return!1;return!0}()}()||"string"==typeof e.condition.attr&&e.condition.attr&&!r[e.condition.attr]||"string"==typeof e.condition&&!r[e.condition])}(n),u=t in o&&"show"in o[t]&&!1===o[t].show;return l&&a&&!u})):[]}(e),o=function(e,r){t(function(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==kv(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==kv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===kv(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},r,e))};return n.map((function(e){var t=e.help,n=void 0===t?"":t,i=e.attrName,l=e.label,a=_v(e,Iv);switch(a.type){case"text":return wp.element.createElement(Nv,{key:"".concat(a.type,"-").concat(i,"-TextControl"),label:l,help:n,value:r[i],onChange:function(e){return o(e,i)}});case"select":return wp.element.createElement(Rv,{key:"".concat(a.type,"-").concat(i,"-SelectControl"),label:l,help:n,value:r[i],options:a.options,onChange:function(e){o(e,i)}});case"toggle":return wp.element.createElement(Dv,{key:"".concat(a.type,"-").concat(i,"-ToggleControl"),label:l,help:n,checked:r[i],onChange:function(e){o(e,i)}});case"number":return wp.element.createElement(Fv,{key:"".concat(a.type,"-").concat(i,"-BaseControl"),label:l},wp.element.createElement(Lv,{key:"".concat(a.type,"-").concat(i,"-NumberControl"),value:r[i],onChange:function(e){o(Number(e),i)}}),wp.element.createElement("p",{className:"components-base-control__help",style:{color:"rgb(117, 117, 117)"}},n))}}))},PlaceholderMessage:function(e){var t=e.style,r=e.children,n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ha(Object(r),!0).forEach((function(t){Xa(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ha(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({fontSize:"1.5em",padding:"2em",textAlign:"center",backgroundColor:"aliceblue"},t);return wp.element.createElement("p",{style:n},r)},HorizontalLine:function(e){return wp.element.createElement("hr",{style:Eu({},e)})},FieldSettingsWrapper:function(e){var t=e.title,r=e.children,n=xu()["data-type"].replace("/","-"),o=Tu("jet.fb.render.settings.".concat(n),null);return(r||o)&&wp.element.createElement(ku,{title:t||_u("Field","jet-form-builder")},r,o)},ActionMessages:function(e){var t=e.settings,r=e.source,n=e.getMapField,o=e.setMapField,i=e.messages,l=e.onChangeSetting;return gu((function(){var e=t.messages||{},n={};Object.entries(r.__messages).forEach((function(t){var r=pu(t,2),o=r[0],i=r[1];e[o]||(n[o]=i.value)})),n&&l(su(su({},e),n),"messages")}),[]),wp.element.createElement(bu,{label:wu("Messages Settings:","jet-form-builder"),key:"messages_settings_fields"},wp.element.createElement("div",{className:"jet-user-fields-map__list"},t.messages&&Object.entries(t.messages).map((function(e,t){var r,l=pu(e,1)[0];return wp.element.createElement(ju,{key:"message_"+l+t,type:l,label:i(l).label,value:(r=l,n({name:r,source:"messages"})),onChange:function(e){o({value:e,nameField:l,source:"messages"})}})}))))},GroupedSelectControl:wr,BaseHelp:No,ValidateButtonWithStore:function(e){var t=Uu((function(e){return e("jet-forms/actions").getCurrentAction()}),[]);return wp.element.createElement($u,Gu({id:t.id},e))},GatewayFetchButton:Xu,ValidationToggleGroup:function(e){var t,r,n=e.excludeBrowser,o=void 0!==n&&n,i=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Sm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Sm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(rr(),2),l=i[0],a=i[1],u=Yt();return Im=Im.filter((function(e){return"browser"!==e.value||!o})),wp.element.createElement(Am,{onChange:function(e){return a((function(t){return jm(jm({},t),{},{validation:jm(jm({},l.validation),{},{type:e})})}))},value:null!==(t=null===(r=l.validation)||void 0===r?void 0:r.type)&&void 0!==t?t:"",label:Cm("Validation type","jet-form-builder"),isBlock:!0,isAdaptiveWidth:!1},wp.element.createElement(Pm,{label:Cm("Inherit","jet-form-builder"),value:"","aria-label":Cm("Inherit from form's args","jet-form-builder"),showTooltip:!0}),Im.map((function(e){return wp.element.createElement(Pm,{key:u(e.value+"_key"),label:e.label,value:e.value,"aria-label":e.title,showTooltip:!0})})))},ValidationBlockMessage:function(e){var t,r,n,o,i,l=e.name,a=Yt(),u=Dm(rr(),2),c=u[0],s=u[1],f=Dm(Te("_jf_validation","{}",[]),1)[0],p=!(null!==(t=c.validation)&&void 0!==t&&t.type),m=p?null!==(r=null==f?void 0:f.messages)&&void 0!==r?r:{}:null!==(n=null===(o=c.validation)||void 0===o?void 0:o.messages)&&void 0!==n?n:{},y=km(l);return wp.element.createElement(React.Fragment,null,wp.element.createElement(Mm,{disabled:p,key:a("massage_"+l),label:null==y?void 0:y.label,help:null==y?void 0:y.help,value:null!==(i=m[l])&&void 0!==i?i:null==y?void 0:y.initial,onChange:function(e){return s((function(t){return Nm(Nm({},t),{},{validation:Nm(Nm({},c.validation),{},{messages:Nm(Nm({},m),{},Rm({},l,e))})})}))}}))},ValidationMetaMessage:function(e){var t=e.message,r=e.update,n=e.value,o=void 0===n?null:n,i=e.help,l=void 0===i?null:i,a=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Bm),u=km(t.id);return wp.element.createElement("div",a,wp.element.createElement("label",{htmlFor:t.id,className:"jet-fb flex jc-space-between"},wp.element.createElement("span",null,u.label),wp.element.createElement("span",{className:"jet-fb flex gap-1em"},t.blocks.map((function(e){return wp.element.createElement("span",{key:"message_block_item"+e.title,className:"jet-fb-validation-messages-item-heading-pair__icon"},wp.element.createElement(Jm,{text:e.title,delay:200,position:"top center"},wp.element.createElement("div",null,e.icon)))})))),wp.element.createElement(qm,{id:t.id,key:"validation_message_"+t.id,help:null!=l?l:null==u?void 0:u.help,value:null!=o?o:null==u?void 0:u.initial,onChange:function(e){return r((function(r){return Gm(Gm({},r),{},Um({},t.id,e))}))}}))},ActionFetchButton:ny,DynamicValues:ob,EditAdvancedRulesButton:function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ev(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ev(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Av(!1),2),t=e[0],r=e[1];return wp.element.createElement(React.Fragment,null,wp.element.createElement(qb.Provider,{value:{showModal:t,setShowModal:r}},wp.element.createElement("div",{className:"jet-fb mb-24"},wp.element.createElement(Sv,null))),t&&wp.element.createElement(b,{title:Pv("Edit Advanced Rules","jet-form-builder"),classNames:["width-60"],onRequestClose:function(){return r(!1)}},wp.element.createElement(Vb,null)))},RepeaterStateContext:lm,RepeaterState:oy,BlockLabel:oi,BlockName:Ai,BlockDescription:_i,BlockDefaultValue:Aa,BlockPlaceholder:Oo,BlockAddPrevButton:Po,BlockPrevButtonLabel:Go,BlockVisibility:Jo,BlockClassName:zo,BlockAdvancedValue:function(e){var t=e.help,r=e.label,n=e.hasMacro,o=void 0===n||n,i=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Bv);return wp.element.createElement("div",i,wp.element.createElement(Aa,{help:t,label:r,hasMacro:o}),wp.element.createElement("hr",null),wp.element.createElement(ob,null))},MacrosFields:ra,MacrosButtonTemplate:Ji,MacrosFieldsTemplate:sl,ShowPopoverContext:Di,PopoverItem:Xi,PresetButton:Ri,ConditionItem:ed,AdvancedInspectorControl:ca,AdvancedModalControl:By,ClientSideMacros:da,ToggleControl:function e(t){var r=t.checked,n=void 0!==r&&r,o=t.disabled,i=void 0!==o&&o,l=t.onChange,a=void 0===l?function(){}:l,u=t.children,c=void 0===u?null:u,s=t.help,f=void 0===s?null:s,p=t.flexLabelProps,m=void 0===p?{}:p,y=t.outsideLabel,d=void 0===y?null:y,b=f,v=Jv(e),h="inspector-jfb-toggle-control-".concat(v);return wp.element.createElement(Vv,{id:h},wp.element.createElement(qv,{direction:"column"},wp.element.createElement(qv,$v({gap:3,align:"flex-start",justify:"flex-start"},m),wp.element.createElement(Uv,{id:h,checked:n,onChange:function(e){return a(e.target.checked)},disabled:i}),wp.element.createElement("label",{htmlFor:h},c),d),"string"==typeof b?wp.element.createElement(No,null,b):b&&wp.element.createElement(b,null)))},BaseAction:Ze,BaseComputedField:Xv,DetailsContainer:Nd,HoverContainer:xd,ContainersList:Hd,HumanReadableConditions:Td,ConditionsRepeaterContextProvider:od,ServerSideMacros:function(e){var t=e.children,r=ut();return wp.element.createElement(Hi.Provider,{value:{afterFields:r}},t)},ActionsFlow:Kv,SelectVariations:function(e){var t=e.value,r=Nh().name,n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||Ch(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(rr(),2)[1],o=_h((function(e){var t,n=[],o={},i=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Ch(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){a=!0,i=e},f:function(){try{l||null==r.return||r.return()}finally{if(a)throw i}}}}((0,e("core/blocks").getBlockVariations)(r,"block"));try{for(i.s();!(t=i.n()).done;){var l=t.value;n.push({key:l.name,name:wp.element.createElement("span",{className:"jet-fb flex gap-1em ai-center"},wp.element.createElement(xh,{icon:l.icon}),l.title)}),o[l.name]=l}}catch(e){i.e(e)}finally{i.f()}return{variations:n,rawVariations:o}}),[]),i=o.variations,l=o.rawVariations;return i.length?wp.element.createElement(Th,{__nextUnconstrainedWidth:!0,hideLabelFromVision:!0,options:i,size:"__unstable-large",onChange:function(e){var t=e.selectedItem;return n(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ah(Object(r),!0).forEach((function(t){Ph(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ah(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},l[t.key].attributes))},value:i.find((function(e){return e.key===t}))}):null},ToggleGroupVariations:function(e){var t=Gh(Zh);return null!=t&&t.currentId?wp.element.createElement(Kh,{className:"jet-fb toggle-toolbar-group"},wp.element.createElement(Qh,e)):wp.element.createElement(Qh,e)},AttributeHelp:Mo,ActionMessagesSlotFills:au,ActionsAfterNewButtonSlotFill:yw,ListActionItem:function(){return wp.element.createElement(bg,null,wp.element.createElement(xg,null),wp.element.createElement(tw,null,wp.element.createElement("div",null,wp.element.createElement(Dg,null)),wp.element.createElement(rw,{style:{marginTop:"0.5em"},justify:"space-between"},wp.element.createElement(pg,null),wp.element.createElement(Vg,null),wp.element.createElement(Qg,null),wp.element.createElement(Yg,null))),wp.element.createElement(Ig,null))},ActionItemWrapper:bg,ActionItemHeader:xg,ActionItemFooter:Ig,EditActionSettingsButton:pg,AllProActionsLink:function(){return!JetFormEditorData.isActivePro&&wp.element.createElement(lw,{gap:3,justify:"center",style:{width:"calc( 100% + 32px )",borderTop:"1px solid rgb(224, 224, 224)",marginTop:"16px",marginLeft:"-16px",marginBottom:"-8px",paddingTop:"8px"}},wp.element.createElement("a",{href:JetFormEditorData.utmLinks.allProActions,target:"_blank",rel:"external noreferrer noopener",style:{textDecoration:"none"}},wp.element.createElement(lw,null,nw("All PRO Actions","jet-form-builder"),wp.element.createElement(iw,{size:20,icon:wp.element.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",fill:"currentColor"},wp.element.createElement("path",{d:"M19.5 4.5h-7V6h4.44l-5.97 5.97 1.06 1.06L18 7.06v4.44h1.5v-7Zm-13 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-3H17v3a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h3V5.5h-3Z"}))}))))},AddActionButton:function(){var e=bh(),t=e.actions,r=e.setActions;return wp.element.createElement(mw,{isPrimary:!0,onClick:function(){r([].concat(function(e){return function(e){if(Array.isArray(e))return fw(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return fw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fw(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t),[cw({},new Ze)]))}},pw("+ New Action","jet-form-builder"))},EditActionConditionsButton:Vg,ActionItemDetails:Yg,ActionItemDetailsSlotFill:Wg,ActionItemMoreButton:Qg,SelectActionsControl:Dg,ActionModalHeaderSlotFill:dw,ActionButtonPlaceholder:function(e){var t=vw();return wp.element.createElement("div",t,wp.element.createElement("div",{className:e.wrapperClasses.join(" ")},wp.element.createElement(gw,{isPrimary:!0,className:e.buttonClasses.join(" ")},wp.element.createElement(hw,{placeholder:"Input Submit label...",allowedFormats:[],value:e.attributes.label,onChange:function(t){return e.setAttributes({label:t})}}))))},ActionModalFooterSlotFill:i,ScopedAttributesProvider:function(e){var t=e.children,r=Ow(rr(),2),n=r[0],o=r[1],i=Ow(Ew((function(){return n})),2),l=i[0],a=i[1];return wp.element.createElement(ww.Provider,{value:{realAttributes:n,setRealAttributes:o,attributes:l,setAttributes:a}},t)}},window.JetFBActions={addAction:function(e,t){wp.data.dispatch("jet-forms/actions").addCallback(e,t)},withPreset:mr,getInnerBlocks:he,getAvailableFieldsString:function(e){var t=fe([e]),r=[];return t.forEach((function(e){r.push("%FIELD::"+e+"%")})),pe("Available fields: ","jet-form-builder")+r.join(", ")},getAvailableFields:fe,getFormFieldsBlocks:se,getFieldsWithoutCurrent:ve,gatewayAttr:we,gatewayLabel:je,registerGateway:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"cred";window.JetFBGatewaysList=window.JetFBGatewaysList||{},window.JetFBGatewaysList[e]=window.JetFBGatewaysList[e]||{},window.JetFBGatewaysList[e][r]=t},Tools:ne,event:function(e){var t=new Event(e);return function(){return document.dispatchEvent(t)}},listen:function(e,t){document.addEventListener(e,t)},renderGateway:Se,renderGatewayWithPlaceholder:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"cred",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Oe(e,r)?(t.Placeholder=n,Se(e,t,r)):n},globalTab:gt,versionCompare:function(e,t,r){try{return function(e){switch(e){case">":return J;case">=":return X;case"<":return H;case"<=":return W}return function(){return!1}}(r)(e,t)}catch(e){return!1}},convertListToFieldsMap:function(){for(var e=[],t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];for(var o=0,i=r;o<i.length;o++){var l=i[o];Array.isArray(l)&&e.push.apply(e,Cu(l.map((function(e){return[e.value,e]}))))}return e},maybeCyrToLatin:Q,getConvertedName:ee,getBlockControls:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";if(!e)return!1;var t=Ru();return"all"===e?t:!!(t[e]&&t[e].attrs&&Array.isArray(t[e].attrs)&&0<t[e].attrs.length)&&t[e].attrs},classnames:te,getBlocksByName:function(e){var t=[];return ie((function(r){e.includes(r.name)&&t.push(r)})),t},convertObjectToOptionsList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.usePlaceholder,n=void 0===r||r,o=t.label,i=void 0===o?"--":o,l=t.value,a={label:i,value:void 0===l?"":l};if(!e)return n?[a]:[];var u=Object.entries(e).map((function(e){var t=L(e,2);return{value:t[0],label:t[1]}}));return n?[a].concat($(u)):u},appendField:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];ge("jet.fb.register.fields","jet-form-builder",(function(r){return r.map((function(r){return t.length&&!t.includes(r.name)?r:e(r)}))}))},insertMacro:ba,addDetail:function(e,t){return wp.data.dispatch("jet-forms/actions").addDetail(e,t)},column:K,addComputedField:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};wp.data.dispatch("jet-forms/actions").addComputedField(e,t)},getCurrentInnerBlocks:function(){var e=Wv()["data-block"];return he(e)},humanReadableCondition:rd,convertFlow:function(){var e,t=[],r=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Zv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Zv(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){a=!0,i=e},f:function(){try{l||null==r.return||r.return()}finally{if(a)throw i}}}}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]);try{for(r.s();!(e=r.n()).done;){var n=e.value,o=new Ze(n);o.refactorSettings(),t.push(o)}}catch(e){r.e(e)}finally{r.f()}return new Kv(t)},assetUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return JetFormEditorData.assetsUrl+e},set:function(e,t,r){for(var n,o=JSON.parse(JSON.stringify(e)),i=o,l=0;l<t.length;l++)i[n=t[l]]||(i[n]={}),l===t.length-1?i[n]=r:(i[n]=F({},i[n]),i=i[n]);return o},isEmpty:re,getSupport:function(e,t){return Array.isArray(t)||(t=[t]),Pw(e,["supports"].concat(function(e){return function(e){if(Array.isArray(e))return Aw(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Aw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Aw(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t)),!1)},extendPrototype:function(e){function t(){e.call(this)}return t.prototype=Object.create(e.prototype),t}},window.JetFBHooks={useActions:xe,useMetaState:Te,useSelectPostMeta:st,useStateValidClasses:k,useStateLoadingClasses:Me,useSuccessNotice:He,useEvents:qt,useRequestEvents:function(){var e=Jt((function(e){return e("jet-forms/actions").getCurrentAction()}));return qt(e)},useBlockConditions:Wt,useUniqKey:Yt,useBlockAttributes:rr,useIsAdvancedValidation:function(){var e,t,r=st("_jf_validation").type,n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return nr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?nr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(rr(),1)[0];return null!==(e=n.validation)&&void 0!==e&&e.type?"advanced"===(null===(t=n.validation)||void 0===t?void 0:t.type):"advanced"===r},useGroupedValidationMessages:function(){return function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||Pn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(_n(Tn),1)[0]},useSanitizeFieldsMap:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"fields_map",t=ut(),r=Pt(Qe),n=r.settings,o=r.onChangeSettingObj;At((function(){if(n.hasOwnProperty(e)){var r=[].concat(Ot(se()),Ot(t)),i=n[e],l=function(e){return-1!==r.findIndex((function(t){return t.value===e}))};for(var a in i)i.hasOwnProperty(a)&&(l(a)||delete i[a]);o(function(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==jt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==jt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===jt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},e,i))}}),[])},withRequestFields:function(e){var t=e("core/editor").getEditedPostAttribute("meta")||{},r=JSON.parse(t._jf_actions||"[]"),n=e("jet-forms/actions").getCurrentAction(),o=e("jet-forms/actions").getComputedFields();r.splice(n.index);var i=[],l=new Set;return ot({actions:r,fields:i}),at({fields:i,actions:r,computed:o,nameSet:l}),{requestFields:i}},useRequestFields:ut,withSelectActionLoading:Ct,withSelectFormFields:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(n){var o=[],i=["submit","form-break","heading","group-break","conditional"].concat(dt(e));return ht((function(e){e.name.includes("jet-forms/")&&e.attributes.name&&!i.find((function(t){return e.name.includes(t)}))&&o.push({blockName:e.name,name:e.attributes.name,label:e.attributes.label||e.attributes.name,value:e.attributes.name})}),n("core/block-editor").getBlocks()),o=t?[{value:"",label:t}].concat(dt(o)):o,{formFields:r?o:vt("jet.fb.getFormFieldsBlocks",o)}}},withSelectGateways:wt,withDispatchGateways:function(e){var t=e("jet-forms/gateways");return{setGatewayRequest:t.setRequest,setGatewayScenario:t.setScenario,setScenario:t.setCurrentScenario,setGateway:t.setGateway,setGatewayInner:t.setGatewayInner,setGatewaySpecific:t.setGatewaySpecific,clearGateway:t.clearGateway,clearScenario:t.clearScenario}},useOnUpdateModal:yt,useInsertMacro:wa,useIsHasAttribute:lr,useCurrentAction:nh,useUpdateCurrentAction:function(){var e=nh().currentAction,t=uh("jet-forms/actions",[]),r=t.setCurrentAction,n=t.clearCurrent,o=t.updateCurrentConditions;return{setCurrentAction:r,setTypeSettings:function(t){r(lh(lh({},e),{},{settings:lh(lh({},e.settings),{},ah({},e.type,t))}))},clearCurrent:n,updateCurrentConditions:o}},useUpdateCurrentActionMeta:function(){var e=nh().currentAction,t=bh(),r=t.updateActionObj,n=t.addActionProps;return 0>e.id?function(e){return n(e)}:function(t){r(e.id,t)}},useActionsEdit:bh,useActionCallback:hh,useActionDetail:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return gh((function(t){return e?t("jet-forms/actions").getDetail(e):t("jet-forms/actions").getCurrentDetail()}),[e])},useUniqueNameOnDuplicate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Sh(),r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return wh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wh(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(rr(),2)[1],n=t["data-block"],o=Oh((function(e){if(!e(Xl).isRecentlyAdded(n))return!1;var t=e(Xl).getUniqueNames(n),r=t.hasChanged,o=t.names;return!!r&&o}),[n]);jh((function(){o&&("function"!=typeof e?r({name:o.split("|")[0]}):e(o))}),[o])},useFields:Ql,useSupport:function(e){var t=tg(),r=t.clientId,n=t.name;return eg((function(t){var r=t("core/blocks").getBlockType(n);return rg(r,["supports",e],!1)}),[r])},useLoopedAction:og,useScopedAttributesContext:function(){return jw(ww)},useTriggerPopover:function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Cw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Cw(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(_w(!1),2),t=e[0],r=e[1],n=kw(),o={anchor:n.current,onFocusOutside:function(e){e.relatedTarget!==n.current&&r(!1)},onClose:function(){return r(!1)}};return{ref:n,setShowPopover:r,showPopover:t,popoverProps:o}},useOpenEditorPanel:function(e){var t=Nw("core/interface").enableComplementaryArea,r=Nw("core/edit-post").toggleEditorPanelOpened,n=xw((function(t){return t("core/edit-post").isEditorPanelOpened(e)}),[e]);return function(){t("core/edit-post","edit-post/document"),n||r(e)}}}})()})();