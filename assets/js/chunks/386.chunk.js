"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[386],{9386:(e,t,n)=>{function l(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||r(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var l,o,r=[],a=!0,i=!1;try{for(n=n.call(e);!(a=(l=n.next()).done)&&(r.push(l.value),!t||r.length!==t);a=!0);}catch(e){i=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(i)throw o}}return r}}(e,t)||r(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}n.r(t),n.d(t,{default:()=>E});var i=JetFBComponents,m=i.AdvancedModalControl,c=i.ServerSideMacros,u=JetFBActions,s=(u.addAction,u.getFormFieldsBlocks),f=u.Tools.withPlaceholder,p=wp.components,d=p.TextControl,_=p.TextareaControl,y=p.SelectControl,h=p.FormTokenField,b=p.BaseControl,w=wp.element,v=w.useState,g=w.useEffect,C=JetFBHooks.withRequestFields;const E=(0,wp.data.withSelect)(C)((function(e){var t=e.settings,n=e.source,r=e.label,a=e.help,i=e.onChangeSetting,u=e.onChangeSettingObj,p=e.requestFields,w=o(v([]),2),C=w[0],E=w[1],k=o(v([]),2),S=k[0],A=k[1];return g((function(){var e=[].concat(l(s()),l(p));E(e),A(e.map((function(e){return e.value})))}),[]),wp.element.createElement(React.Fragment,null,wp.element.createElement(y,{key:"mail_to",labelPosition:"side",className:"full-width",value:t.mail_to,options:n.mailTo,label:r("mail_to"),help:a("mail_to"),onChange:function(e){i(e,"mail_to")}}),"custom"===t.mail_to&&wp.element.createElement(d,{key:"custom_email",value:t.custom_email,label:r("custom_email"),help:a("custom_email"),onChange:function(e){i(e,"custom_email")}}),"form"===t.mail_to&&wp.element.createElement(y,{key:"from_field",labelPosition:"side",className:"full-width",value:t.from_field,options:f(C),label:r("from_field"),help:a("from_field"),onChange:function(e){i(e,"from_field")}}),wp.element.createElement(y,{key:"reply_to",labelPosition:"side",className:"full-width",value:t.reply_to,options:n.replyTo,label:r("reply_to"),help:a("reply_to"),onChange:function(e){i(e,"reply_to")}}),"custom"===t.reply_to&&wp.element.createElement(d,{key:"reply_to_email",value:t.reply_to_email,label:r("reply_to_email"),help:a("reply_to_email"),onChange:function(e){i(e,"reply_to_email")}}),"form"===t.reply_to&&wp.element.createElement(y,{key:"reply_from_field",labelPosition:"side",className:"full-width",value:t.reply_from_field,options:f(C),label:r("reply_from_field"),help:a("reply_from_field"),onChange:function(e){i(e,"reply_from_field")}}),wp.element.createElement(d,{key:"subject",value:t.subject,label:r("subject"),help:a("subject"),onChange:function(e){i(e,"subject")}}),wp.element.createElement(d,{key:"from_name",value:t.from_name,label:r("from_name"),help:a("from_name"),onChange:function(e){i(e,"from_name")}}),wp.element.createElement(d,{key:"from_address",value:t.from_address,label:r("from_address"),help:a("from_address"),onChange:function(e){i(e,"from_address")}}),wp.element.createElement(y,{key:"content_type",labelPosition:"side",className:"full-width",value:t.content_type,options:n.content_type,label:r("content_type"),help:a("content_type"),onChange:function(e){return i(e,"content_type")}}),wp.element.createElement(c,null,wp.element.createElement(m,{value:t.content,label:r("content"),macroWithCurrent:!0,onChangeMacros:function(e){var n;return u({content:(null!==(n=null==t?void 0:t.content)&&void 0!==n?n:"")+e})}},wp.element.createElement(_,{value:t.content,help:a("content"),onChange:function(e){return u({content:e})}}))),wp.element.createElement(b,{label:r("attachments"),className:"control-flex"},wp.element.createElement(h,{label:r("add_attachment"),value:t.attachments,suggestions:S,onChange:function(e){return u({attachments:l(new Set(e))})},tokenizeOnSpace:!0})))}))}}]);