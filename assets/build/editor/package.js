(()=>{var e={4180:()=>{const e=()=>{const{select:e}=wp.data;return e("core/editor").getEditedPostAttribute("meta")},t=(t,n)=>{const{dispatch:r}=wp.data,{editPost:o}=r("core/editor");o({meta:{...e(),[t]:JSON.stringify(n)}})},n=e=>{const t=[];for(const[n,{active:r=!1}]of Object.entries(e))r&&t.push(+n);return t},r=()=>{let r={},o=[];try{[r={},o=[]]=(()=>{const t=e();let n={},r=[];try{n=JSON.parse(t._jf_gateways)}catch(e){return[]}if(1===n.last_migrate)throw"migrated";try{r=JSON.parse(t._jf_actions)}catch(e){return[n]}return[n,r]})()}catch(e){return}r.last_migrate=1,t("_jf_gateways",r);const a=[];try{a.push(...((e,t)=>{var r,o,a,l;const i=n(null!==(r=e.notifications_success)&&void 0!==r?r:{}),s=n(null!==(o=e.notifications_failed)&&void 0!==o?o:{}),c=n(null!==(a=e.notifications_before)&&void 0!==a?a:{}),u=null!==(l=e.use_success_redirect)&&void 0!==l&&l;let d=!1;if(!(i.length||s.length||c.length||u))throw"nothing_to_migrate";return t.map((e=>{var t;return e.events=null!==(t=e.events)&&void 0!==t?t:[],i.includes(e.id)&&e.events.push("GATEWAY.SUCCESS"),s.includes(e.id)&&e.events.push("GATEWAY.FAILED"),c.includes(e.id)&&e.events.push("DEFAULT.PROCESS"),u&&!d&&"redirect_to_page"===e.type&&(e.events.push("GATEWAY.SUCCESS"),d=!0),e}))})(r,o))}catch(e){return}t("_jf_actions",a)};wp.domReady((()=>setTimeout(r,0)))},8835:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(6758),o=n.n(r),a=n(935),l=n.n(a)()(o());l.push([e.id,".a1b3hg0z{margin:unset;text-align:center;}\n.cckv027{fill:currentColor;}\n.fk913ua{box-shadow:rgba(0, 0, 0, 0.16) 0 1px 4px;cursor:pointer;padding:1em;border-radius:8px;}.fk913ua,.fk913ua .a1b3hg0z{-webkit-transition:0.2s ease-in-out;transition:0.2s ease-in-out;}.fk913ua:hover{box-shadow:rgba(0, 0, 0, 0.24) 0 3px 8px;}.fk913ua:hover,.fk913ua:hover .a1b3hg0z{color:var(--wp-components-color-accent, var(--wp-admin-theme-color, #3858e9));}.components-disabled .fk913ua,.components-disabled .fk913ua .a1b3hg0z{color:#c7c7c7;}\n",""]);const i=l},7763:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(6758),o=n.n(r),a=n(935),l=n.n(a)()(o());l.push([e.id,".c1ebknfq{cursor:not-allowed;opacity:0.3;}.jet-form-action.draggable .c1ebknfq{cursor:-webkit-grab;cursor:grab;opacity:1;}\n.fbsjjtg{position:absolute;opacity:0;-webkit-transition:0.2s ease-in-out;transition:0.2s ease-in-out;top:0;right:0;height:100%;background:linear-gradient(90deg, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 1) 15%);padding:0 4px 0 25px;}.fbsjjtg.fbsjjtg{width:auto;}.rtl .fbsjjtg{left:0;padding:0 25px 0 4px;}\n.aswd81u{position:relative;}.aswd81u:hover .fbsjjtg{opacity:1;}\n",""]);const i=l},4038:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(6758),o=n.n(r),a=n(935),l=n.n(a)()(o());l.push([e.id,".mrf8hk8{margin-bottom:unset;}\n.e1qp558z.e1qp558z{box-shadow:#cc1818 0 0 0 2px;}\n.ci6t613{-webkit-animation:show-current-ci6t613 2s infinite;animation:show-current-ci6t613 2s infinite;}@-webkit-keyframes show-current-ci6t613{50%{box-shadow:rgba(3, 102, 214, 0.3) 0 0 0 3px;}}@keyframes show-current-ci6t613{50%{box-shadow:rgba(3, 102, 214, 0.3) 0 0 0 3px;}}\n.dhuh9j5{background-image:repeating-linear-gradient(-45deg, #ffffff75 0 20px, #d5d5d57d 20px 40px);}\n",""]);const i=l},6334:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(6758),o=n.n(r),a=n(935),l=n.n(a)()(o());l.push([e.id,".atp3udb{font-size:13px;line-height:1.4;}\n",""]);const i=l},2155:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(6758),o=n.n(r),a=n(935),l=n.n(a)()(o());l.push([e.id,".shdicp4{border-top:1px solid var(--wp-components-color-accent, var(--wp-admin-theme-color, #3858e9));margin-top:16px;margin-left:-16px;margin-bottom:-8px;padding-top:8px;}.shdicp4.shdicp4{width:calc(100% + 32px);}\n",""]);const i=l},8253:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(6758),o=n.n(r),a=n(935),l=n.n(a)()(o());l.push([e.id,".em86g65{padding:0 4px;border-radius:5px;color:#5c5c5c;font-size:0.9em;background-color:#f3f4f5;cursor:pointer;margin:auto;border:0;font-family:monospace;}.em86g65:after{content:' X';font-weight:bold;}.em86g65:focus{outline:1px solid #5c5c5c;background-color:#e7e8e9;}\n",""]);const i=l},115:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(6758),o=n.n(r),a=n(935),l=n.n(a)()(o());l.push([e.id,".syma2t4{height:40px;min-height:40px;line-height:1.5;}\n",""]);const i=l},4239:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(6758),o=n.n(r),a=n(935),l=n.n(a)()(o());l.push([e.id,".sfqmk5y svg{height:24px;width:24px;}\n",""]);const i=l},935:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var l={};if(r)for(var i=0;i<this.length;i++){var s=this[i][0];null!=s&&(l[s]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);r&&l[u[0]]||(void 0!==a&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=a),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),t.push(u))}},t}},6758:e=>{"use strict";e.exports=function(e){return e[1]}},4517:(e,t,n)=>{const r=n(1361),{MAX_LENGTH:o,MAX_SAFE_INTEGER:a}=n(9543),{safeRe:l,t:i}=n(2841),s=n(3990),{compareIdentifiers:c}=n(3806);class u{constructor(e,t){if(t=s(t),e instanceof u){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>o)throw new TypeError(`version is longer than ${o} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?l[i.LOOSE]:l[i.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>a||this.major<0)throw new TypeError("Invalid major version");if(this.minor>a||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>a||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<a)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],o=e.prerelease[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return c(n,o)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{const n=this.build[t],o=e.build[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return c(n,o)}while(++t)}inc(e,t,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(n)?1:0;if(!t&&!1===n)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let r=this.prerelease.length;for(;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);if(-1===r){if(t===this.prerelease.join(".")&&!1===n)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let r=[t,e];!1===n&&(r=[t]),0===c(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=r):this.prerelease=r}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=u},7851:(e,t,n)=>{const r=n(4517);e.exports=(e,t,n)=>new r(e,n).compare(new r(t,n))},9761:(e,t,n)=>{const r=n(7851);e.exports=(e,t,n)=>r(e,t,n)>0},2386:(e,t,n)=>{const r=n(7851);e.exports=(e,t,n)=>r(e,t,n)>=0},1262:(e,t,n)=>{const r=n(7851);e.exports=(e,t,n)=>r(e,t,n)<0},9639:(e,t,n)=>{const r=n(7851);e.exports=(e,t,n)=>r(e,t,n)<=0},9543:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},1361:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},3806:e=>{const t=/^[0-9]+$/,n=(e,n)=>{const r=t.test(e),o=t.test(n);return r&&o&&(e=+e,n=+n),e===n?0:r&&!o?-1:o&&!r?1:e<n?-1:1};e.exports={compareIdentifiers:n,rcompareIdentifiers:(e,t)=>n(t,e)}},3990:e=>{const t=Object.freeze({loose:!0}),n=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:n},2841:(e,t,n)=>{const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:o,MAX_LENGTH:a}=n(9543),l=n(1361),i=(t=e.exports={}).re=[],s=t.safeRe=[],c=t.src=[],u=t.t={};let d=0;const m="[a-zA-Z0-9-]",p=[["\\s",1],["\\d",a],[m,o]],f=(e,t,n)=>{const r=(e=>{for(const[t,n]of p)e=e.split(`${t}*`).join(`${t}{0,${n}}`).split(`${t}+`).join(`${t}{1,${n}}`);return e})(t),o=d++;l(e,o,t),u[e]=o,c[o]=t,i[o]=new RegExp(t,n?"g":void 0),s[o]=new RegExp(r,n?"g":void 0)};f("NUMERICIDENTIFIER","0|[1-9]\\d*"),f("NUMERICIDENTIFIERLOOSE","\\d+"),f("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${m}*`),f("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),f("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),f("PRERELEASEIDENTIFIER",`(?:${c[u.NUMERICIDENTIFIER]}|${c[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NUMERICIDENTIFIERLOOSE]}|${c[u.NONNUMERICIDENTIFIER]})`),f("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.PRERELEASEIDENTIFIER]})*))`),f("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),f("BUILDIDENTIFIER",`${m}+`),f("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),f("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),f("FULL",`^${c[u.FULLPLAIN]}$`),f("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),f("LOOSE",`^${c[u.LOOSEPLAIN]}$`),f("GTLT","((?:<|>)?=?)"),f("XRANGEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),f("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),f("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),f("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),f("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}$`),f("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),f("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),f("COERCE",`${c[u.COERCEPLAIN]}(?:$|[^\\d])`),f("COERCEFULL",c[u.COERCEPLAIN]+`(?:${c[u.PRERELEASE]})?`+`(?:${c[u.BUILD]})?(?:$|[^\\d])`),f("COERCERTL",c[u.COERCE],!0),f("COERCERTLFULL",c[u.COERCEFULL],!0),f("LONETILDE","(?:~>?)"),f("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",f("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}$`),f("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),f("LONECARET","(?:\\^)"),f("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",f("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),f("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),f("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),f("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),f("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",f("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),f("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),f("STAR","(<|>)?=?\\s*\\*"),f("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),f("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},1167:(e,t,n)=>{var r=n(8835);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(611).A)("dbf9e12a",r,!1,{})},1199:(e,t,n)=>{var r=n(7763);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(611).A)("75b043eb",r,!1,{})},1282:(e,t,n)=>{var r=n(4038);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(611).A)("19e2806a",r,!1,{})},3010:(e,t,n)=>{var r=n(6334);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(611).A)("29f526cb",r,!1,{})},2503:(e,t,n)=>{var r=n(2155);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(611).A)("725d4bab",r,!1,{})},3897:(e,t,n)=>{var r=n(8253);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(611).A)("0c7c92f9",r,!1,{})},4023:(e,t,n)=>{var r=n(115);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(611).A)("55433ea3",r,!1,{})},483:(e,t,n)=>{var r=n(4239);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals),(0,n(611).A)("62ebcc8a",r,!1,{})},611:(e,t,n)=>{"use strict";function r(e,t){for(var n=[],r={},o=0;o<t.length;o++){var a=t[o],l=a[0],i={id:e+":"+o,css:a[1],media:a[2],sourceMap:a[3]};r[l]?r[l].parts.push(i):n.push(r[l]={id:l,parts:[i]})}return n}n.d(t,{A:()=>f});var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var a={},l=o&&(document.head||document.getElementsByTagName("head")[0]),i=null,s=0,c=!1,u=function(){},d=null,m="data-vue-ssr-id",p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function f(e,t,n,o){c=n,d=o||{};var l=r(e,t);return h(l),function(t){for(var n=[],o=0;o<l.length;o++){var i=l[o];(s=a[i.id]).refs--,n.push(s)}for(t?h(l=r(e,t)):l=[],o=0;o<n.length;o++){var s;if(0===(s=n[o]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete a[s.id]}}}}function h(e){for(var t=0;t<e.length;t++){var n=e[t],r=a[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(E(n.parts[o]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{var l=[];for(o=0;o<n.parts.length;o++)l.push(E(n.parts[o]));a[n.id]={id:n.id,refs:1,parts:l}}}}function g(){var e=document.createElement("style");return e.type="text/css",l.appendChild(e),e}function E(e){var t,n,r=document.querySelector("style["+m+'~="'+e.id+'"]');if(r){if(c)return u;r.parentNode.removeChild(r)}if(p){var o=s++;r=i||(i=g()),t=v.bind(null,r,o,!1),n=v.bind(null,r,o,!0)}else r=g(),t=w.bind(null,r),n=function(){r.parentNode.removeChild(r)};return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else n()}}var b,y=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function v(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=y(t,o);else{var a=document.createTextNode(o),l=e.childNodes;l[t]&&e.removeChild(l[t]),l.length?e.insertBefore(a,l[t]):e.appendChild(a)}}function w(e,t){var n=t.css,r=t.media,o=t.sourceMap;if(r&&e.setAttribute("media",r),d.ssrId&&e.setAttribute(m,t.id),o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={id:r,exports:{}};return e[r](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";const e=window.React,{createContext:t}=wp.element,r=t({name:"",data:{},index:0}),o=window.jfb.components,a=window.wp.element,{createContext:l}=wp.element,i=l({actionClick:null,onRequestClose:()=>{}}),{createSlotFill:s}=wp.components,c=s("JFBActionModalFooter"),u=window.wp.components,d=window.wp.i18n,{Slot:m}=c,p=function({onRequestClose:t,children:n,title:r="",classNames:o=[],className:l="",onUpdateClick:s,onCancelClick:c,updateBtnLabel:p="Update",updateBtnProps:f={},cancelBtnProps:h={},cancelBtnLabel:g="Cancel",fixedHeight:E="",...b}){const y=["jet-form-edit-modal",...o,l],[v,w]=(0,a.useState)(null),_=()=>{s&&s(),w(!0)},C=()=>{c&&c(),w(!1)};let S={};return E&&(S={height:E},y.push("jet-modal-fixed-height")),(0,e.createElement)(u.Modal,{onRequestClose:t,className:y.join(" "),title:r,style:S,...b},!n&&(0,e.createElement)("div",{className:"jet-form-edit-modal__content"},(0,d.__)("Action callback is not found.","jet-form-builder")),n&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"jet-form-edit-modal__wrapper"},(0,e.createElement)(i.Provider,{value:{actionClick:v,onRequestClose:t}},(0,e.createElement)("div",{className:"jet-form-edit-modal__content"},"function"==typeof n&&n({actionClick:v,onRequestClose:t}),"function"!=typeof n&&n))),(0,e.createElement)(m,{fillProps:{updateClick:_,cancelClick:C}},(t=>Boolean(t?.length)?t:(0,e.createElement)(u.ButtonGroup,{className:"jet-form-edit-modal__actions"},(0,e.createElement)(u.Button,{isPrimary:!0,onClick:_,...f},p),(0,e.createElement)(u.Button,{isSecondary:!0,style:{margin:"0 0 0 10px"},onClick:C,...h},g))))))},{RawHTML:f,useContext:h}=wp.element,{__:g}=wp.i18n,{Button:E}=wp.components,{useEffect:b}=wp.element,y=function({label:t,ajaxArgs:n={},onSuccessRequest:r=(()=>{}),onFailRequest:o=(()=>{}),onLoading:a=(()=>{}),className:l="",children:i=(()=>{}),disabled:s=!1,customRequest:c=!1,isHidden:u=!1,hasFetched:d=-1,...m}){l="string"==typeof l?l:l.join(" ");const p=()=>{!1===c?(a(),jQuery.ajax({url:ajaxurl,type:"POST",data:n}).done((e=>e.success?r(e):o())).fail((()=>o()))):"function"==typeof c?c():o()};return b((()=>{u&&-1===d&&p()}),[]),u?null:(0,e.createElement)(E,{disabled:s,key:"validate_api_key",onClick:p,className:l+" jet-fb-button line-with-input",variant:"secondary",...m},i&&i,t)},v=["jet-form-validate-button"],{useState:w}=wp.element,_=function(e){const t="is-valid",n="is-invalid",[r,o]=w((()=>[...v,...e?[t]:!1===e?[n]:[]]));return[r.join(" "),()=>{o([...v,t])},()=>{o([...v,n])},()=>{o([...v,"loading"])}]},{useState:C}=wp.element,S=n(9761),k=n(1262),j=n(2386),x=n(9639),{__:A}=wp.i18n,{applyFilters:N}=wp.hooks;function I(e,t){return e?.length?e.map((e=>"object"==typeof e?e[t]:e)):[]}const R=N("jet.fb.tools.convertSymbols",{checkCyrRegex:/[а-яёїєґі]/i,cyrRegex:/[а-яёїєґі]/gi,charsMap:{а:"a",б:"b",в:"v",г:"g",д:"d",е:"e",ё:"io",ж:"zh",з:"z",и:"i",й:"i",к:"k",л:"l",м:"m",н:"n",о:"o",п:"p",р:"r",с:"s",т:"t",у:"u",ф:"f",х:"kh",ц:"ts",ч:"ch",ш:"sh",щ:"shch",ы:"y",э:"e",ю:"iu",я:"ia",ї:"i",є:"ie",ґ:"g",і:"i"}});function T(e){return R.checkCyrRegex.test(e)&&(e=e.replace(R.cyrRegex,(function(e){return void 0===R.charsMap[e]?"":R.charsMap[e]}))),e}function F(e){let t=e.toLowerCase();t=t.normalize("NFD").replace(/[\u0300-\u036f]/g,""),t=T(t);const n=t.match(/\b(\w+)\b/g);t="";for(const[e,r]of Object.entries(n)){t+=(0==+e?"":"_")+r;const o=+e+1===n.length;if(t.length>60)return t+(o?"":"__")}return t}function O(...e){const t=[],n=e=>{e.forEach((e=>{if(e&&(Array.isArray(e)&&n(e),"string"==typeof e&&t.push(e.trim()),"object"==typeof e))for(const n in e)e[n]&&t.push((n+"").trim())}))};return n(e),t.join(" ")}function L(e){return null==e||("object"!=typeof e||Array.isArray(e)?"number"==typeof e?0===e:!e?.length:!Object.keys(e)?.length)}const B=class{static withPlaceholder(e,t="--",n=""){return[{label:t,value:n},...e]}static isEmptyObject(e){return console.warn("Use JetFBActions.isEmpty insteadof JetFBActions.Tools.isEmptyObject"),L(e)}static getRandomID(){return Math.floor(8999*Math.random())+1e3}},{select:P}=wp.data,M=function(e){const t=(n,r=null)=>{(n=n||P("core/block-editor").getBlocks()).forEach((n=>{if(e(n,r),n.innerBlocks.length){const e="jet-forms/repeater-field"===n.name?n:r;return void t(n.innerBlocks,e)}if("core/block"!==n.name)return;let o=P("core/block-editor")?.__unstableGetClientIdsTree?.(n.clientId);if(!o?.length)return;const a=o.map((({clientId:e})=>e));o=P("core/block-editor").getBlocksByClientId(a),t(o)}))};t()},{applyFilters:D,addFilter:G}=wp.hooks,{select:$}=wp.data,V=function(e=[],t=!1,n=!1,r="default"){let o=[],a=["submit","form-break","heading","group-break","conditional",...e];return M((e=>{if(e.name.includes("jet-forms/")&&!a.find((t=>e.name.includes(t)))){const t=$("core/blocks").getBlockType(e.name);let{fields:n=[]}=t.jfbResolveBlock.call(e,r);t.hasOwnProperty("jfbGetFields")&&(n=t.jfbGetFields.call(e,r)),o.push(...n.filter((e=>!o.some((({value:t})=>t===e.value)))))}})),o=t?[{value:"",label:t},...o]:o,n?o:D("jet.fb.getFormFieldsBlocks",o,r)},q=function(e=[],t="default"){let n=[];const r=V(e,!1,!1,t);return r&&r.forEach((e=>n.push(e.name))),n},{__:H}=wp.i18n,{applyFilters:U,addFilter:J}=wp.hooks,{select:z}=wp.data,X=function(e=!1,t=!1,n="default"){const r=["submit","form-break","heading","group-break","conditional"];let o=[];const a=wp.data.select("core/block-editor").getSelectedBlock();return M((e=>{if(e.name.includes("jet-forms/")&&a?.clientId!==e.clientId&&!r.find((t=>e.name.includes(t)))){const t=z("core/blocks").getBlockType(e.name);let{fields:r=[]}=t.jfbResolveBlock.call(e,n);t.hasOwnProperty("jfbGetFields")&&(r=t.jfbGetFields.call(e,n)),o.push(...r.filter((e=>!o.some((({value:t})=>t===e.value)))))}})),o=e?[{value:"",label:e},...o]:o,t?o:U("jet.fb.getFormFieldsBlocks",o,n)},W=function(e){const t=wp.data.select("core/block-editor").getBlock(e);return t?t.innerBlocks:[]},{addFilter:Y}=wp.hooks,Z=function(e=!1,t=""){const n=window.JetFormEditorData.gateways;if(!e)return n;if(!n[e])return!1;const r=n[e];return e=>r[e]?r[e]:t},K=function(e,t=""){const n=Z("labels");return r=>n(e)?n(e)[r]:t},Q=function(e,t="cred"){return window.JetFBGatewaysList&&window.JetFBGatewaysList[e]&&window.JetFBGatewaysList[e][t]},ee=function(t,n,r="cred"){if(!Q(t,r))return null;const o=window.JetFBGatewaysList[t][r];return(0,e.createElement)(o,{...n})},te=window.wp.data,ne=function(e,t="{}",n=[]){const r=(0,te.useSelect)((n=>{const r=n("core/editor").getEditedPostAttribute("meta")||{};return JSON.parse(r[e]||t)}),n),{editPost:o}=(0,te.useDispatch)("core/editor");return[r,n=>{let a="function"==typeof n?n(r):n;"object"==typeof a&&null!==a||(a=JSON.parse(t)),o({meta:{[e]:JSON.stringify(a)}})}]},re=function(e=void 0){return ne("_jf_actions","[]",e)},{useState:oe}=wp.element,ae=function(){const[e,t]=oe([...v]);return[e.join(" "),()=>{t([...v,"loading"])},()=>{t(v)}]},{useState:le,useEffect:ie}=wp.element,{useDispatch:se}=wp.data,ce=function(e,t={}){const[n,r]=le(!1),o=se(wp.notices.store);return ie((()=>{n&&o.createWarningNotice(e,{type:"snackbar",...t})}),[n]),r};function ue(e=null){this.initData(e)}ue.prototype.initData=function(e){var t,n,r,o,a;this.id=null!==(t=e?.id)&&void 0!==t?t:B.getRandomID(),this.settings=null!==(n=e?.settings)&&void 0!==n?n:{},this.type=null!==(r=e?.type)&&void 0!==r?r:"send_email",this.conditions=null!==(o=e?.conditions)&&void 0!==o?o:[],this.events=null!==(a=e?.events)&&void 0!==a?a:[],Object.defineProperty(this,"selfSettings",{get:()=>{var e;return this.settings.hasOwnProperty(null!==(e=this.type)&&void 0!==e?e:"")?this.settings[this.type]:{}},set:e=>{var t;this.settings.hasOwnProperty(null!==(t=this.type)&&void 0!==t?t:"")||(this.settings[this.type]={}),this.settings[this.type]={...this.settings[this.type],...e}}}),Object.defineProperty(this,"index",{get:()=>{var t;return null!==(t=e?.index)&&void 0!==t?t:0}})},ue.prototype.refactorSettings=function(){const e=this.settings;this.settings={},this.selfSettings=e},ue.prototype.resetID=function(){this.id=B.getRandomID()};const de=ue,{createContext:me}=wp.element,pe=me({}),{useSelect:fe}=wp.data,{useContext:he}=wp.element,ge=({actions:e,fields:t})=>{for(const n of e){const{[n.type]:e={}}=n.settings;if(e.requestFields)for(const r of e.requestFields)-1===t.findIndex((e=>e.value===r.name))&&t.push({from:n.type,id:n.id,label:r.name,value:r.name,name:r.name,help:r.help})}},Ee=({computed:e,action:t,fields:n,nameSet:r})=>{if(!e.isSupported(t,n))return;e.setAction(t),e.hasInList=!1;const o=e.getLabel();let a=e.getName();r.has(a)&&(e.hasInList=!0,a=e.getName()),n.some((({value:e})=>e===a))||(r.add(a),n.push({from:t.type,id:t.id,label:o||a,value:a,name:a,help:e.getHelp()}))};function be({fields:e,actions:t,computed:n,nameSet:r}){t=t.map((e=>new de(e)));for(const{field:o,settings:a}of n){if(a?.isScoped)continue;const n=new o;for(let o of t)Ee({computed:n,action:o,nameSet:r,fields:e});if(n.action||!n.isSupportedGlobal())continue;const l=n.getLabel(),i=n.getName();e.push({label:l||i,value:i,name:i,help:n.getHelp()})}}const ye=function({returnOnEmptyCurrentAction:e=!0}={}){const t=fe((e=>e("core/editor").getEditedPostAttribute("meta")||{}),[]),n=he(pe),{currentAction:r,computedList:o}=fe((e=>({currentAction:e("jet-forms/actions").getCurrentAction(),computedList:e("jet-forms/actions").getComputedFields()})),[]);if(!n?.actionId&&e)return[];const a=JSON.parse(t._jf_actions||"[]");Number.isNaN(Number(r?.index))||a.splice(r.index);const l=new Set,i=[];for(const{field:e,settings:t}of o){if(!t?.isScoped)continue;const n=new e;Ee({computed:n,action:r,nameSet:l,fields:i})}return ge({actions:a,fields:i}),be({fields:i,actions:a,computed:o,nameSet:l}),i},{useSelect:ve}=wp.data,we=function(e){const t=ve((e=>e("core/editor").getEditedPostAttribute("meta")||{}));return JSON.parse(t[e]||"{}")},_e=function(e){const{actionClick:t,onRequestClose:n}=(0,a.useContext)(i);(0,a.useEffect)((()=>{t&&e(),null!==t&&n()}),[t])},{applyFilters:Ce}=wp.hooks,Se=(e,t)=>{t.map((t=>{e(t),t.innerBlocks.length&&Se(e,t.innerBlocks)}))},ke=function({slug:e,element:t="",empty:n=""}){const r=JetFormEditorData.global_settings;return r?t?r[e]&&r[e][t]?r[e][t]:n:r[e]||n:n},je=function(e){const t=e("jet-forms/gateways"),n=t.getCurrentRequestId(),r=t.getGatewaySpecific(),o=t.getScenario(),a=t.getGatewayId(),{id:l="PAY_NOW"}=o,{use_global:i=!1}=r,s=ke({slug:a}),c=Z("additional")(a),u=e("jet-forms/actions").getLoading(n),d=Z("labels"),m=K(a),p=function(e){return d(`${a}.${e}`)};return{gatewayGeneral:t.getGateway(),gatewayRequest:t.getCurrentRequest(),scenarioSource:c[l]||{},currentScenario:o[l]||{},CURRENT_SCENARIO:l,gatewayScenario:o,additionalSourceGateway:c,gatewaySpecific:r,gatewayRequestId:n,loadingGateway:u,getSpecificOrGlobal:(e,t="")=>i?s[e]||t:r[e]||t,globalGatewayLabel:d,specificGatewayLabel:m,customGatewayLabel:p,scenarioLabel:function(e){return p(`scenario.${l}.${e}`)}}},{useEffect:xe,useContext:Ae}=wp.element,Ne=function(e){return{loadingState:e("jet-forms/actions").getCurrentLoading()}},{useSelect:Ie}=wp.data,Re=function(){const e=Ie((e=>e("jet-forms/events").getAlwaysTypes())),t=[];for(const{value:n}of e)t.push(n);return[...new Set(t)]},{useSelect:Te}=wp.data,Fe=function(){var e;const t=we("_jf_gateways"),{scenario:n={}}=null!==(e=t[t?.gateway])&&void 0!==e?e:{};return Te((e=>{const r=e("jet-forms/events").getGatewayTypes(),o=[];for(const e of r){const r=!e.gateway||e.gateway===t.gateway,a=!e.scenario||e.scenario===n?.id;r&&a&&o.push(e.value)}return[...new Set(o)]}),[t?.gateway])},{useSelect:Oe}=wp.data,Le=function({index:e}){const t=we("_jf_actions"),n=Oe((e=>e("jet-forms/actions").getActionsMap()),[]);t.splice(e,1);const r=[];for(const e of t){const t=n?.[e.type]?.provideEvents;if("function"!=typeof t)continue;const{[e.type]:o={}}=e.settings;r.push(...t(o))}return[...new Set(r)]},{useSelect:Be}=wp.data,{useSelect:Pe}=wp.data,Me=function(e){const t=[...Re(),...Fe(),...Le(e),...Be((e=>e("jet-forms/events").getDynamicTypes().map((({value:e})=>e))))];return Pe((n=>n("jet-forms/events").filterList(e.type,t)))},{useSelect:De}=wp.data,{useSelect:Ge}=wp.data,$e=function(){const[e,t]=Ge((e=>[e("jet-forms/block-conditions").getOperators(),e("jet-forms/block-conditions").getFunctions()]),[]);return{operators:e,functions:t}},{useBlockEditContext:Ve}=wp.blockEditor,qe=function(){const{clientId:e}=Ve();return t=>t+"-"+e},{useBlockEditContext:He}=wp.blockEditor,{useSelect:Ue,useDispatch:Je,select:ze}=wp.data,Xe=function(e=null){const t=He();let{clientId:n}=t;e&&(n=e);const r=Ue((e=>e("core/block-editor").getBlockAttributes(n))),{updateBlock:o}=Je("core/block-editor",[]);return[r,e=>{e="object"==typeof e?e:e(r),e=ze("jet-forms/fields").getSanitizedAttributes(e,t),o(n,{attributes:e})}]},We=window.wp.blockEditor,Ye=function(e){const t=(0,We.useBlockProps)()["data-type"];return(0,te.useSelect)((n=>!!n("core/blocks").getBlockType(t).attributes[e]),[t])},{applyFilters:Ze}=wp.hooks,Ke=function(t){return function(n){return(0,e.createElement)(t,{key:"wrapped-preset-editor",...n,parseValue:()=>{let e={};if("object"==typeof n.value)e={...n.value};else if(n.value&&"string"==typeof n.value)try{if(e=JSON.parse(n.value),"number"==typeof e)throw new Error}catch(t){e={}}return e.jet_preset=!0,e},isVisible:(e,t,n)=>(t.position&&n===t.position||!t.position||"query_var"!==e.from)&&((e,t)=>!t.condition&&!t.custom_condition||(t.custom_condition?"query_var"===t.custom_condition?"post"===e.from&&"query_var"===e.post_from||"user"===e.from&&"query_var"===e.user_from||"query_var"===e.from:Ze("jet.fb.preset.editor.custom.condition",!1,t.custom_condition,e):!t.condition||e[t.condition.field]===t.condition.value))(e,t),isMapFieldVisible:(e,t,n)=>!((t.condition||t.parent_condition)&&(t.parent_condition&&!t.condition?e[t.parent_condition.field]!==t.parent_condition.value:t.parent_condition&&t.condition?!e.fields_map||!e.fields_map[n]||e.fields_map[n][t.condition.field]!==t.condition.value||e[t.parent_condition.field]!==t.parent_condition.value:!t.parent_condition&&t.condition&&(!e.fields_map||!e.fields_map[n]||e.fields_map[n][t.condition.field]!==t.condition.value))),isCurrentFieldVisible:(e,t,n)=>!((t.condition||t.parent_condition)&&(t.position&&n!==t.position||(t.parent_condition&&!t.condition?e[t.parent_condition.field]!==t.parent_condition.value:t.parent_condition&&t.condition?e["current_field_"+t.condition.field]!==t.condition.value||e[t.parent_condition.field]!==t.parent_condition.value:!t.parent_condition&&t.condition&&e["current_field_"+t.condition.field]!==t.condition.value))),excludeOptions:e=>{const t=[...e];return t.forEach(((e,r)=>{n.excludeSources&&n.excludeSources.includes(e.value)&&t.splice(r,1)})),t}})}},{TextControl:Qe,SelectControl:et}=wp.components,tt=function({data:t,value:n,index:r,onChangeValue:o,isVisible:a,excludeOptions:l=(e=>e),position:i}){switch(t.type){case"text":return a(n,t,i)&&(0,e.createElement)("div",{key:"field_"+t.name+r,className:"jet-form-preset__row"},(0,e.createElement)(Qe,{key:t.name+r,label:t.label,value:n[t.name],onChange:e=>{o(e,t.name)},__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}));case"select":return a(n,t,i)&&(0,e.createElement)("div",{key:"field_"+t.name+r,className:"jet-form-preset__row"},(0,e.createElement)(et,{key:t.name+r,options:l(t.options),label:t.label,value:n[t.name],onChange:e=>{o(e,t.name)},__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}))}return null};function nt(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var rt=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,ot=nt((function(e){return rt.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),at=function(){const e=Array.prototype.slice.call(arguments).filter(Boolean),t={},n=[];e.forEach((e=>{(e?e.split(" "):[]).forEach((e=>{if(e.startsWith("atm_")){const[,n]=e.split("_");t[n]=e}else n.push(e)}))}));const r=[];for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&r.push(t[e]);return r.push(...n),r.join(" ")},lt=(e,t)=>{const n={};return Object.keys(e).filter((e=>t=>-1===e.indexOf(t))(t)).forEach((t=>{n[t]=e[t]})),n},it=function(t){let n="";return r=>{const o=(o,a)=>{const{as:l=t,class:i=n}=o;var s;const c=function(e,t,n){const r=lt(t,["as","class"]);if(!e){const e="function"==typeof ot?{default:ot}:ot;Object.keys(r).forEach((t=>{e.default(t)||delete r[t]}))}return r}(void 0===r.propsAsIs?!("string"==typeof l&&-1===l.indexOf("-")&&(s=l[0],s.toUpperCase()!==s)):r.propsAsIs,o);c.ref=a,c.className=r.atomic?at(r.class,c.className||i):at(c.className||i,r.class);const{vars:u}=r;if(u){const e={};for(const t in u){const n=u[t],a=n[0],l=n[1]||"",i="function"==typeof a?a(o):a;r.name,e[`--${t}`]=`${i}${l}`}const t=c.style||{},n=Object.keys(t);n.length>0&&n.forEach((n=>{e[n]=t[n]})),c.style=e}return t.__wyw_meta&&t!==l?(c.as=l,e.createElement(t,c)):e.createElement(l,c)},a=e.forwardRef?e.forwardRef(o):e=>{const t=lt(e,["innerRef"]);return o(t,e.innerRef)};return a.displayName=r.name,a.__wyw_meta={className:r.class||n,extends:t},a}};const st=it("select")({name:"StyledSelect",class:"syma2t4",propsAsIs:!1}),ct=function({id:t,label:n,multiple:r=!1,onChange:o,options:a=[],value:l}){return!L(a)&&(0,e.createElement)(st,{id:t,className:"components-select-control__input",onChange:e=>{o(e.target.value)},value:l},(0,e.createElement)("option",{key:`${n}-placeholder`,value:""},"--"),a.map(((t,n)=>!L(t.values)&&(0,e.createElement)("optgroup",{key:`${t.label}-${n}`,label:t.label},t.values.map(((t,r)=>(0,e.createElement)("option",{key:`${t.value}-${r}-${n}`,value:t.value,disabled:t.disabled},t.label)))))))};n(4023);const ut=function({data:t,value:n,index:r,currentState:a,onChangeValue:l,isCurrentFieldVisible:i,position:s="general"}){switch(t.type){case"text":return i(a,t)&&(0,e.createElement)("div",{key:t.name+r,className:"jet-form-preset__row"},(0,e.createElement)(u.TextControl,{key:"control_"+t.name+r,placeholder:t.label,value:n,onChange:e=>{l(e,"current_field_"+t.name)},__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}));case"select":return i(a,t)&&(0,e.createElement)("div",{key:t.name+r,className:"jet-form-preset__row"},(0,e.createElement)(u.SelectControl,{key:"control_"+t.name+r,options:t.options,label:t.label,value:n,onChange:e=>{l(e,"current_field_"+t.name)},__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}));case"custom_select":return i(a,t)&&(0,e.createElement)("div",{key:t.name+r,className:"jet-form-preset__row"},(0,e.createElement)(u.CustomSelectControl,{className:"jet-custom-select-control",label:t.label,options:t.options,onChange:({selectedItem:e})=>{n=e.key,l(n,"current_field_"+t.name)},value:t.options.find((e=>e.key===n))}));case"grouped_select":return i(a,t)&&(0,e.createElement)("div",{key:t.name+r},(0,e.createElement)(o.Label,null,t.label),(0,e.createElement)(ct,{options:t.options,value:n,onChange:e=>{l(e,"current_field_"+t.name)}}))}return null},{createContext:dt}=wp.element,mt=dt({});let pt=function({value:t,onChange:n,parseValue:r,excludeOptions:o,isCurrentFieldVisible:l,isVisible:i}){var s,c;const m="dynamic",p=r(t),f=(0,a.useContext)(mt),h=(e,t)=>{n((()=>JSON.stringify({...p,[t]:e})))};return(0,e.createElement)(u.Flex,{direction:"column",gap:4},window.JetFormEditorData.presetConfig.global_fields.map(((t,n)=>(0,e.createElement)(tt,{key:`current_field_${t.name}_${n}`,value:p,index:n,data:t,excludeOptions:o,onChangeValue:h,isVisible:i,position:m}))),window.JetFormEditorData.presetConfig.map_fields.map(((t,n)=>(0,e.createElement)(ut,{key:`current_field_${t.name}_${n}`,currentState:p,value:p["current_field_"+t.name],index:n,data:t,onChangeValue:h,isCurrentFieldVisible:l,position:m}))),f?.show&&(0,e.createElement)(u.ToggleControl,{label:(0,d.__)("Restrict access","jet-form-builder"),help:null===(s=p.restricted)||void 0===s||s?(0,d.__)("Will set default value from preset only for users \nwho allowed to edit this value","jet-form-builder"):(0,d.__)("Always set default value from preset. Make sure it \ncan't be accidentally changed from form Actions","jet-form-builder"),checked:null===(c=p.restricted)||void 0===c||c,onChange:e=>n((t=>JSON.stringify({...t,restricted:e?void 0:e})))}))};pt=Ke(pt);const ft=pt,{SelectControl:ht,TextControl:gt}=wp.components;class Et extends wp.element.Component{constructor(e){super(e),this.fieldTypes=this.props.fieldTypes,this.taxonomiesList=this.props.taxonomiesList,this.className=this.props.className,this.metaProp=this.props.metaProp?this.props.metaProp:"post_meta",this.termsProp=this.props.termsProp?this.props.termsProp:"post_terms",this.index=this.props.index,this.init(),this.bindFunctions(),this.state={type:this.getFieldType(this.props.fieldValue)}}bindFunctions(){this.onChangeType=this.onChangeType.bind(this),this.onChangeValue=this.onChangeValue.bind(this)}init(){if(this.id=`inspector-select-control-${this.index}`,this.preparedTaxes=[],this.taxPrefix="jet_tax__",this.taxonomiesList)for(var e=0;e<this.taxonomiesList.length;e++)this.preparedTaxes.push({value:this.taxPrefix+this.taxonomiesList[e].value,label:this.taxonomiesList[e].label})}getFieldName(e){if(!e)return"";const t=this.getFieldType(e);return this.termsProp===t||this.metaProp===t?e:""}isTermOrMeta(e){return this.termsProp===e||this.metaProp===e}getFieldType(e){if(!e)return"";for(var t=0;t<this.fieldTypes.length;t++)if(e===this.fieldTypes[t].value)return e;return e.includes(this.taxPrefix)?this.termsProp:this.metaProp}onChangeValue(e){this.props.onChange({...this.props.fieldsMap,[this.props.fieldName]:e})}onChangeType(e){let t=this.getFieldType(e);this.setState({type:t}),this.isTermOrMeta(t)&&(t=""),this.onChangeValue(t)}render(){return(0,e.createElement)("div",{className:"jet-fields-map__row"},(0,e.createElement)("div",{className:"jet-post-field-control"},(0,e.createElement)(ht,{key:"field_type_"+this.props.fieldName+this.index,label:this.props.fieldName,labelPosition:"side",value:this.state.type,onChange:this.onChangeType,options:this.fieldTypes,style:{width:"160px"}}),this.metaProp===this.state.type&&(0,e.createElement)(gt,{key:"field_name_"+this.props.fieldName+this.index,value:this.props.fieldValue,onChange:this.onChangeValue,style:{width:"200px"}}),this.termsProp===this.state.type&&(0,e.createElement)(ht,{className:"jet-control-without-label",key:"field_tax_"+this.props.fieldName+this.index,value:this.props.fieldValue,onChange:this.onChangeValue,options:this.preparedTaxes,style:{width:"200px"}})))}}const bt=Et,{Path:yt,SVG:vt,BaseControl:wt}=wp.components,{useState:_t}=wp.element,{TextControl:Ct,SelectControl:St,CustomSelectControl:kt,Card:jt,CardBody:xt,CardHeader:At}=wp.components,{store:Nt}=wp.blocks,It=class{constructor(e){this.id=e.id,this.blocks=[],this.setBlocksMeta(e.supported)}setBlocksMeta(e){e.length&&(this.blocks=e.map((e=>{const t=wp.data.select(Nt).getBlockType(`jet-forms/${e}`);return{title:t.title,icon:t.icon.src}})))}},Rt=class{constructor(){this.items=[]}push(e){this.items.push(new It(e))}},{messages:Tt}=window.jetFormValidation,{useState:Ft}=wp.element,Ot=Tt.sort(((e,t)=>e.supported.length-t.supported.length));function Lt(){const e=new Rt;for(const t of Ot)e.push(t);return e.items}const Bt=function(e,t){1>=e.label.length||e.name&&"field_name"!==e.name||t({name:F(e.label)})},{BaseControl:Pt}=wp.components,{RichText:Mt}=wp.blockEditor;let{__experimentalUseFocusOutside:Dt,useFocusOutside:Gt}=wp.compose;Gt=Gt||Dt;const{__:$t}=wp.i18n;function Vt(t){return(0,e.createElement)("small",{style:{whiteSpace:"nowrap",padding:"0.2em 0.8em 0 0",color:"#8e8a8a"}},t)}const{Button:qt,Popover:Ht,PanelBody:Ut}=wp.components,{useState:Jt}=wp.element,{__:zt}=wp.i18n,{Button:Xt,ButtonGroup:Wt,Card:Yt,CardBody:Zt,CardHeader:Kt,ToggleControl:Qt,Flex:en,FlexItem:tn}=wp.components,{useState:nn,useEffect:rn}=wp.element,{__:on}=wp.i18n,{TextControl:an}=wp.components,ln=function({label:t,help:n}){const[r,o]=Xe();return Ye("placeholder")?(0,e.createElement)(an,{label:null!=t?t:on("Placeholder","jet-form-builder"),value:r.placeholder,help:null!=n?n:"",onChange:e=>o({placeholder:e})}):null},{__:sn}=wp.i18n,{ToggleControl:cn}=wp.components,un=function({label:t,help:n}){const[r,o]=Xe();return Ye("add_prev")?(0,e.createElement)(cn,{label:null!=t?t:sn("Add Prev Page Button","jet-form-builder"),help:null!=n?n:sn('It is recommended to use the "Action Button" block \n\t\t\twith the "Go to Prev Page" type',"jet-form-builder"),checked:r.add_prev,onChange:e=>o({add_prev:e})}):null},dn=function({children:t,className:n="",style:r={},...o}){return(0,e.createElement)("p",{className:"jet-fb-base-control__help"+(n?` ${n}`:""),style:{fontSize:"12px",fontStyle:"normal",color:"rgb(117, 117, 117)",marginTop:"0px",...r},...o},t)},{useBlockEditContext:mn}=wp.blockEditor,{useSelect:pn}=wp.data,{__:fn}=wp.i18n,hn=function({name:t=!1,children:n=null}){const{name:r}=mn(),o=pn((e=>{var n;if(!1===t)return!1;const o=e("core/blocks").getBlockType(r);return null!==(n=o.attributes[t]?.jfb)&&void 0!==n&&n}),[r,t]);return o?(0,e.createElement)(dn,{className:"jet-fb mb-24"},n&&(0,e.createElement)(e.Fragment,null,n," "),o?.shortcode&&!o.rich&&!n&&fn("You can use shortcodes here.","jet-form-builder"),o?.shortcode&&!o.rich&&n&&fn("You can also use shortcodes here.","jet-form-builder")):Boolean(n)&&(0,e.createElement)(dn,{className:"jet-fb mb-24"},n)},{__:gn}=wp.i18n,{TextControl:En}=wp.components,bn=function({label:t,help:n}){const[r,o]=Xe();return r.add_prev?(0,e.createElement)(e.Fragment,null,(0,e.createElement)(En,{label:null!=t?t:gn("Prev Page Button Label","jet-form-builder"),value:r.prev_label,className:"jet-fb m-unset",onChange:e=>o({prev_label:e})}),(0,e.createElement)(hn,{name:"prev_label"},null!=n?n:"")):null},{__:yn}=wp.i18n,{SelectControl:vn}=wp.components,wn=function({label:t,help:n}){const[r,o]=Xe();return Ye("visibility")?(0,e.createElement)(vn,{options:[{value:"all",label:yn("For all","jet-form-builder")},{value:"logged_id",label:yn("Only for logged in users","jet-form-builder")},{value:"not_logged_in",label:yn("Only for NOT-logged in users","jet-form-builder")}],label:null!=t?t:yn("Field Visibility","jet-form-builder"),help:null!=n?n:"",value:r.visibility,onChange:e=>o({visibility:e})}):null},{__:_n}=wp.i18n,{TextControl:Cn}=wp.components,Sn=function({label:t,help:n}){const[r,o]=Xe();return(0,e.createElement)(Cn,{label:null!=t?t:_n("CSS Class Name","jet-form-builder"),value:r.class_name,help:null!=n?n:"",onChange:e=>o({class_name:e})})},{__:kn}=wp.i18n,{InspectorAdvancedControls:jn}=wp.blockEditor,{__:xn}=wp.i18n,{TextControl:An}=wp.components;let{__experimentalUseFocusOutside:Nn,useFocusOutside:In}=wp.compose;In=In||Nn;const Rn=function({label:t,help:n}){const[r,o]=Xe(),a=In((function(){Bt(r,o)}));return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(An,{label:null!=t?t:xn("Field Label","jet-form-builder"),className:"jet-fb m-unset",value:r.label,onChange:e=>o({label:e}),...a}),(0,e.createElement)(hn,{name:"label"},null!=n?n:""))},{useSelect:Tn}=wp.data,{useBlockEditContext:Fn}=wp.blockEditor,{__:On,sprintf:Ln}=wp.i18n,Bn={};for(const{id:e,name:t}of window.jetFormActionTypes)Bn[e]=t;const{__:Pn}=wp.i18n,{TextControl:Mn,Icon:Dn,Flex:Gn,Tooltip:$n}=wp.components,{useInstanceId:Vn}=wp.compose,qn=function t({label:n,help:r}){const[o,a]=Xe(),{message:l}=function(){const{clientId:e}=Fn(),t=ye({returnOnEmptyCurrentAction:!1}),{inFormFields:n,hasParent:r,fieldNames:o}=Tn((t=>{var n;const r=t("jet-forms/fields").getBlockById(e);return{hasParent:!!r?.parentBlock,fieldNames:null!==(n=r?.fields?.map?.((({value:e})=>e)))&&void 0!==n?n:[],inFormFields:t("jet-forms/fields").isUniqueName(e)}}));if(!n)return{error:"not_unique_in_fields",message:On("The form field name must be unique. Please change it","jet-form-builder")};if(r)return{};const a=t.find((({value:e})=>o.includes(e)));return a?{error:"not_unique_in_actions",message:a?.from?Ln(On("The %s action already uses this field name. Please change it","jet-form-builder"),Bn[a.from]):On("The form field name must be unique. Please change it","jet-form-builder")}:{}}(),i=Vn(t,"AdvancedInspectorControl");return Ye("name")?(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Gn,{align:"center",justify:"flex-start",style:{marginBottom:"8px"}},(0,e.createElement)("label",{htmlFor:i,className:"jet-fb label"},null!=n?n:Pn("Form field name","jet-form-builder")),!!l&&(0,e.createElement)($n,{text:l,delay:200,position:"top center"},(0,e.createElement)(Dn,{icon:"warning",style:{color:"orange",cursor:"help"}}))),(0,e.createElement)(Mn,{id:i,value:o.name,help:null!=r?r:Pn("Should contain only Latin letters, numbers, `-` \nor `_` chars, no spaces only lower case","jet-form-builder"),onChange:e=>a({name:e})})):null},{__:Hn}=wp.i18n,{TextControl:Un}=wp.components,Jn=function({label:t,help:n}){const[r,o]=Xe();return Ye("desc")?(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Un,{label:null!=t?t:Hn("Field Description","jet-form-builder"),value:r.desc,className:"jet-fb m-unset",onChange:e=>o({desc:e})}),(0,e.createElement)(hn,{name:"desc"},null!=n?n:"")):null},zn=function({value:t,onChange:n,title:r}){const[l,i]=(0,a.useState)(!1),[s,c]=(0,a.useState)(t);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(u.Button,{icon:"database",variant:"tertiary",isSmall:!0,className:"jet-fb-is-thick",onClick:()=>i(!0)}),l&&(0,e.createElement)(u.Modal,{size:"medium",title:null!=r?r:(0,d.__)("Edit Preset","jet-form-builder"),onRequestClose:()=>i(!1),className:o.ModalFooterStyle},(0,e.createElement)(ft,{key:"dynamic_key_preset",value:s,onChange:c}),(0,e.createElement)(o.StickyModalActions,null,(0,e.createElement)(u.Button,{isPrimary:!0,onClick:()=>{n(s),i(!1)}},(0,d.__)("Update","jet-form-builder")),(0,e.createElement)(u.Button,{isSecondary:!0,onClick:()=>{i(!1)}},(0,d.__)("Cancel","jet-form-builder")))))},{createContext:Xn}=wp.element,Wn=Xn(!1),{useState:Yn,useRef:Zn}=wp.element,{Button:Kn,Popover:Qn}=wp.components,er=function({children:t,...n}){const[r,o]=Yn(!1),a=Zn();return(0,e.createElement)(Wn.Provider,{value:{showPopover:r,setShowPopover:o}},(0,e.createElement)(Kn,{ref:a,icon:"admin-tools",variant:"tertiary",isSmall:!0,className:"jet-fb-is-thick",onClick:()=>o((e=>!e)),...n}),r&&(0,e.createElement)(Qn,{anchorRef:a.current,position:"top-start",noArrow:!1,isAlternate:!0,onFocusOutside:e=>{e.relatedTarget!==a.current&&o(!1)},onClose:()=>o(!1)},t))},{createContext:tr}=wp.element,nr=tr([]),{createContext:rr}=wp.element,or=rr({name:""});function ar(){}ar.prototype={fullName(){},fullHelp(){}};const lr=ar,{useState:ir}=wp.element,{Button:sr}=wp.components,cr=function({current:t,children:n}){const[r,o]=ir(!1);if(!(t instanceof lr))return(0,e.createElement)("li",null,(0,e.createElement)(or.Provider,{value:t},n));const a=t.fullHelp.bind(t);return(0,e.createElement)("li",null,(0,e.createElement)(or.Provider,{value:t},(0,e.createElement)("div",{style:{display:"flex",alignItems:"center",gap:"0.6em"}},(0,e.createElement)(sr,{isSmall:!0,variant:"tertiary",icon:r?"arrow-down":"arrow-right",className:"jet-fb-is-thick",onClick:()=>o((e=>!e))}),n),r&&(0,e.createElement)(a,null)))},{Children:ur,cloneElement:dr}=wp.element,{PanelBody:mr}=wp.components,pr=function({title:t,items:n,children:r,initialOpen:o}){const a=n.map((t=>(0,e.createElement)(cr,{current:t})));return(0,e.createElement)(mr,{title:t,initialOpen:o},(0,e.createElement)("ul",{style:{padding:"0 0.5em"}},ur.map(a,(e=>dr(e,{},r)))))},{useContext:fr}=wp.element,{__:hr}=wp.i18n,gr=function({children:t,fields:n,...r}){var o,a;const l=fr(nr),i=[...null!==(o=l.beforeFields)&&void 0!==o?o:[],...n,...null!==(a=l.afterFields)&&void 0!==a?a:[]];return i.length||l?.extra?.length||l?.filters?.length?(0,e.createElement)(er,{...r},Boolean(i.length)&&(0,e.createElement)(pr,{title:hr("Fields:","jet-form-builder"),items:i,initialOpen:!0},t),Boolean(l?.extra?.length)&&(0,e.createElement)(pr,{title:hr("Extra macros:","jet-form-builder"),items:l.extra},t),Boolean(l?.filters?.length)&&(0,e.createElement)(pr,{title:hr("Filters:","jet-form-builder"),items:l.filters},t)):null},{useContext:Er}=wp.element,{Button:br}=wp.components,yr=function({onClick:t}){const n=Er(or),r=n.fullName?n.fullName():`%${n.value}%`;return(0,e.createElement)(br,{isLink:!0,onClick:()=>t(r)},r)},vr="SET_BLOCKS",wr="SET_BLOCKS_FIRST",_r="TOGGLE_EXECUTE",Cr={...{[vr](e,t){const n=[];for(const r in t.blockMap)t.blockMap.hasOwnProperty(r)&&!e.blockMap.hasOwnProperty(r)&&n.push(r);return{...e,blocks:t.blocks,blockMap:t.blockMap,recentlyAdded:n}},[wr]:(e,t)=>({...e,blocks:t.blocks,blockMap:t.blockMap}),[_r]:e=>({...e,executed:!0})}},Sr={blocks:[],blockMap:{},executed:!1,recentlyAdded:[],sanitizers:{name:[e=>e.replace(/[^\w\-]/gi,"")]}},{select:kr}=wp.data,jr=function(){const e=[],t={};return M(((n,r)=>{var o;if(!n?.name?.includes("jet-forms/"))return;const a=kr("core/blocks").getBlockType(n.name),l=a.jfbResolveBlock.call(n);if(a.hasOwnProperty("jfbGetFields")&&(l.fields=a.jfbGetFields.call(n)),!r?.name)return e.push(l),void(t[l.clientId]=l);const i=null!==(o=t[r?.clientId])&&void 0!==o&&o;i&&(Object.defineProperty(l,"parentBlock",{get:()=>i}),i.innerBlocks=i?.innerBlocks||[],i.innerBlocks.push(l),t[l.clientId]=l)})),{blocks:e,blockMap:t}},{select:xr,dispatch:Ar}=wp.data,Nr={setBlocks(e=null){null===e&&(e=jr());const t=xr(Br).isExecuted();return t||Ar(Br).toggleExecute(),{type:t?vr:wr,blocks:e.blocks,blockMap:e.blockMap}},toggleExecute:()=>({type:_r})},Ir={getBlocks:e=>e.blocks,getBlockMap:e=>e.blockMap,getFields(e,{withInner:t=!0,currentId:n=!1}){const r=[],o=e=>{for(const a of e)a.fields?.length&&a.clientId!==n&&r.push(...a.fields),t&&a.innerBlocks?.length&&o(a.innerBlocks)};return o(e.blocks),r},isExecuted:e=>e.executed,isRecentlyAdded:(e,t)=>-1!==e.recentlyAdded.indexOf(t),getUniqueNames(e,t){var n,r;const o=null!==(n=e.blockMap[t])&&void 0!==n&&n;if(!o)return{hasChanged:!1};let a=!1,l=null!==(r=o?.fields?.map?.((({value:e})=>e)))&&void 0!==r?r:[];const i=o.hasOwnProperty("parentBlock")?o.parentBlock.innerBlocks:e.blocks,s=e=>{for(const t of e){const n=l.indexOf(t.value);-1!==n&&("field_name"!==t.value?(l[n]=`${l[n]}_copy`,a=!0,s(e)):a=!0)}};for(const e of i){var c;t!==e.clientId&&s(null!==(c=e?.fields)&&void 0!==c?c:[])}return{hasChanged:a,names:l.join("|")}},getSanitizedAttributes(e,t,{name:n}={}){for(const a in t){var r,o;if(!t.hasOwnProperty(a))continue;const l=null!==(r=null!==(o=e.sanitizers?.[n]?.[a])&&void 0!==o?o:e.sanitizers?.[a])&&void 0!==r&&r;if(l?.length)for(const e of l)"function"==typeof e&&(t[a]=e(t[a]))}return t},isUniqueName(e,t){const{hasChanged:n}=Ir.getUniqueNames(e,t);return!n},getBlock:(e,t)=>e.blocks.find((({name:e,clientId:n})=>[e,n].includes(t))),getBlockByName(e,t){if(!t)return!1;const n=e=>{for(const r of e){if(r.fields.some((({value:e})=>e===t)))return r;r.innerBlocks?.length&&n(r.innerBlocks)}};return n(e.blocks),!1},getBlockNameByName(e,t){var n;const r=Ir.getBlockByName(e,t);return null!==(n=r?.name)&&void 0!==n?n:""},getBlockById(e,t){var n;return null!==(n=e.blockMap[t])&&void 0!==n&&n}},Rr={...Ir},{createReduxStore:Tr,dispatch:Fr,select:Or,subscribe:Lr}=wp.data,Br="jet-forms/fields";let Pr,Mr;Lr((()=>{const{debounce:e}=window._,{setBlocks:t}=Fr(Br);e((()=>{const e=Or("core/block-editor").getGlobalBlockCount();if(Pr!==e)return Pr=e,void t();const n=jr(),r=JSON.stringify(n.blocks);r!==Mr&&(Mr=r,t(n))}),100)()}));const Dr=Tr(Br,{reducer:function(e=Sr,t){const n=Cr[t?.type];return n?n(e,t):e},actions:Nr,selectors:Rr}),{useSelect:Gr}=wp.data,{useBlockEditContext:$r}=wp.blockEditor,{applyFilters:Vr}=wp.hooks,qr=function(e={},t=void 0){const n=$r(),r=ye();e.excludeCurrent&&n?.clientId?.length&&(e.currentId=n.clientId);let o=Gr((t=>t(Br).getFields(e)),t);return o=Vr("jet.fb.getFormFieldsBlocks",o),o.push(...r),e.placeholder?B.withPlaceholder(o,e.placeholder):o},Hr=function({onClick:t=(()=>{}),withCurrent:n=!1,...r}){const o=qr({excludeCurrent:!n});return(0,e.createElement)(gr,{withCurrent:n,fields:o,...r},(0,e.createElement)(yr,{onClick:t}))},{Flex:Ur}=wp.components,Jr=function({label:t,children:n,...r}){return(0,e.createElement)(Ur,{align:"center",justify:"flex-start",style:{marginBottom:"8px"}},(0,e.createElement)("label",{className:"jet-fb label",...r},t),n)},{Flex:zr,FlexItem:Xr}=wp.components,{useInstanceId:Wr}=wp.compose,Yr=function({children:t,value:n,label:r,onChangePreset:o=!1,onChangeMacros:a=!1}){const l=Wr(Xr,"jfb-AdvancedInspectorControl");return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Jr,{label:r,htmlFor:l},!1!==o&&(0,e.createElement)(zn,{value:n,onChange:o}),!1!==a&&(0,e.createElement)(Hr,{onClick:a})),"function"==typeof t?t({instanceId:l}):t)};function Zr(){lr.call(this)}Zr.prototype=Object.create(lr.prototype),Zr.prototype.isServerSide=!1,Zr.prototype.isClientSide=!1,Zr.prototype.name="",Zr.prototype.namespace="CT",Zr.prototype.help=null,Zr.prototype.fullHelp=function(){return this.help},Zr.prototype.fullName=function(){return`%${this.namespace}::${this.name}%`};const Kr=Zr,{useSelect:Qr}=wp.data,{__:eo}=wp.i18n,to=new Kr;to.fullName=()=>"%this%",to.fullHelp=()=>eo("Returns current field value","jet-form-builder");const no=function({children:t,withThis:n=!1}){const r=Qr((e=>e("jet-forms/macros").getClientMacros()),[]),o=n?{extra:r,afterFields:[to]}:{extra:r};return(0,e.createElement)(nr.Provider,{value:o},t)};function ro(e,t,n){var r;const o=n.selectionStart,a=n.selectionEnd;let l=(e=null!==(r=e)&&void 0!==r?r:"").slice(0,o),i=e.slice(a);return l+=t,setTimeout((()=>{n.focus(),n.selectionStart=l.length,n.selectionEnd=l.length})),l+i}const{useRef:oo}=wp.element,ao=function(e){var t;const[n,r]=Xe(),o=null!==(t=n[e])&&void 0!==t?t:"",a=oo();return[a,t=>{r({[e]:ro(o,t,a.current)})}]},{__:lo}=wp.i18n,{TextControl:io}=wp.components,so=function({label:t,help:n,hasMacro:r=!0}){const[o,a]=Xe(),[l,i]=ao("default");return Ye("default")?(0,e.createElement)(mt.Provider,{value:{show:!0}},(0,e.createElement)(no,null,(0,e.createElement)(Yr,{value:o.default,label:null!=t?t:lo("Default Value","jet-form-builder"),onChangePreset:e=>a({default:e}),onChangeMacros:!!r&&i},(({instanceId:t})=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)(io,{ref:l,id:t,value:o.default,className:"jet-fb m-unset",onChange:e=>a({default:e})}),(0,e.createElement)(hn,{name:"default"},null!=n?n:"")))))):null},{PanelBody:co}=wp.components,{__:uo}=wp.i18n,{BlockControls:mo}=wp.blockEditor,{useCopyToClipboard:po}=wp.compose,{TextControl:fo,ToolbarGroup:ho,ToolbarItem:go,ToolbarButton:Eo,Button:bo}=wp.components,yo=function({children:t=null}){const n=qe(),[r,o]=Xe(),a=ce(`Copied "${r.name}" to clipboard.`),l=po(r.name,(()=>a(!0)));return(0,e.createElement)(mo,{key:n("ToolBarFields-BlockControls")},(0,e.createElement)(ho,{key:n("ToolBarFields-ToolbarGroup"),className:"jet-fb-block-toolbar"},(0,e.createElement)(Eo,{isSmall:!0,icon:"admin-page",showTooltip:!0,shortcut:"Copy name",ref:l}),(0,e.createElement)(go,{as:fo,value:r.name,onChange:e=>o({name:e})}),t))},{__:vo}=wp.i18n,{ToolbarButton:wo}=wp.components,{BlockControls:_o}=wp.blockEditor,{SVG:Co,Path:So}=wp.primitives,ko=function(){const[t,n]=Xe();return Ye("required")?(0,e.createElement)(_o,{group:"block"},(0,e.createElement)(wo,{icon:(0,e.createElement)(Co,{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none"},(0,e.createElement)(So,{d:"M12 4L12 20",stroke:"currentcolor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.createElement)(So,{d:"M17.3137 6.00024L6.00001 17.314",stroke:"currentcolor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.createElement)(So,{d:"M20 12L4 12",stroke:"currentcolor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.createElement)(So,{d:"M17.3137 17.3137L6.00001 6.00001",stroke:"currentcolor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),title:t.required?vo("Click to make this field optional","jet-form-builder"):vo("Click to make this field required","jet-form-builder"),onClick:()=>n({required:!t.required}),isActive:t.required})):null},{createSlotFill:jo}=wp.components,xo={};for(const{self:e}of jetFormActionTypes)if(window[e]?.hasOwnProperty?.("__messages")&&Object.keys(window[e].__messages)?.length)for(const t of Object.keys(window[e].__messages))xo.hasOwnProperty(t)||(xo[t]=jo(`JFBActionMessageRow-${t}`));const Ao=xo,{TextControl:No,BaseControl:Io}=wp.components,{useMemo:Ro,useEffect:To}=wp.element,{__:Fo}=wp.i18n;function Oo(t){const{type:n,label:r,value:o,onChange:a}=t,{Slot:l}=Ro((()=>Ao[n]),[n]);return(0,e.createElement)("div",{className:"jet-user-meta__row"},(0,e.createElement)(l,{fillProps:t},(t=>Boolean(t?.length)?t:(0,e.createElement)(No,{label:r,value:o,onChange:a}))))}const{__:Lo}=wp.i18n,{PanelBody:Bo}=wp.components,{applyFilters:Po}=wp.hooks,{useBlockProps:Mo}=wp.blockEditor,{applyFilters:Do}=wp.hooks,Go=()=>Do("jet.fb.register.fields.controls",{}),$o=function(e){return{setLoading(t){e("jet-forms/actions").setLoading({actionId:t})},setResultSuccess(t,n){e("jet-forms/actions").setLoadingResult({actionId:t,success:!0,response:n})},setResultFail(t){e("jet-forms/actions").setLoadingResult({actionId:t,success:!1,response:{}})}}},{compose:Vo}=wp.compose,{withSelect:qo,withDispatch:Ho}=wp.data,Uo=Vo(qo(Ne),Ho($o))((function({initialLabel:t="Valid",label:n="InValid",ajaxArgs:r={},loadingState:o,setLoading:a,id:l,setResultSuccess:i,setResultFail:s}){return(0,e.createElement)(y,{disabled:o.loading,ajaxArgs:r,label:-1===o.id&&t?t:n,onLoading:()=>{a(l)},onSuccessRequest:e=>{i(l,e)},onFailRequest:()=>s(l),className:o.buttonClassName},(0,e.createElement)("i",{className:"dashicons"}))})),{useSelect:Jo}=wp.data,{compose:zo}=wp.compose,{withDispatch:Xo}=wp.data,{apiFetch:Wo}=wp,Yo=zo(Xo($o))((function({initialLabel:t="Valid",label:n="InValid",apiArgs:r={},loadingState:o,setLoading:a,id:l,setResultSuccess:i,setResultFail:s,onLoading:c=(()=>{}),onSuccess:u=(()=>{}),onFail:d=(()=>{}),isHidden:m=!1}){return(0,e.createElement)(y,{disabled:o.loading,hasFetched:o.id,label:(-1===o.id||o.loading)&&t?t:n,className:o.buttonClassName,isHidden:m,customRequest:()=>{a(l),c(),Wo(r).then((e=>{i(l,e),u(e)})).catch((e=>{s(l),d(e)}))},isDestructive:o.buttonClassName.includes("is-invalid")},(0,e.createElement)("i",{className:"dashicons"}))})),{compose:Zo}=wp.compose,{withSelect:Ko}=wp.data,Qo=Zo(Ko(je))((function({initialLabel:t="Valid",label:n="InValid",apiArgs:r={},gatewayRequestId:o,loadingGateway:a,onLoading:l=(()=>{}),onSuccess:i=(()=>{}),onFail:s=(()=>{}),isHidden:c=!1}){return(0,e.createElement)(Yo,{id:o,loadingState:a,initialLabel:t,label:n,apiArgs:r,onFail:s,onLoading:l,onSuccess:i,isHidden:c})})),ea="SET_CURRENT_ACTION",ta="SET_LOADING",na="UPDATE_ACTION_SETTINGS",ra="UPDATE_ACTION_CONDITIONS",oa="SET_CURRENT_META",aa="EDIT_CURRENT_META",la="CLEAR_CURRENT",ia="ADD_COMPUTED_FIELD",sa="EDIT_ACTION",ca="OPEN_ACTION_SETTINGS",ua="REGISTER_ACTION",da="REGISTER_CATEGORY",ma="SHOW_ACTIONS_INSERTER_MODAL",pa={id:-1,state:"",success:!1,response:{},loading:!1,buttonClassName:[...v]},fa={getLoadingIndex:(e,t)=>e.loadingState.findIndex((e=>e.id===t)),getLoading(e,t){const n=fa.getLoadingIndex(e,t);return-1!==n?e.loadingState[n]:{...pa}},getComputedFields:e=>e.computedFields,getActionsMap(e){const t={};for(const n of e.types)t[n.type]=n;return t},getActions:e=>e.types,getCategories:e=>e.categories,getAction:(e,t)=>e.types.find((({type:e})=>e===t))},ha={...fa,isShowActionsInserterModal:e=>e.showActionsInserterModal,isSettingsModal:e=>"settings"===e.meta?.modalType,isConditionalModal:e=>"conditions"===e.meta?.modalType,isFixed(e,t){var n;const r=fa.getAction(e,t);return null!==(n=r?.fixed)&&void 0!==n&&n},getOpenScenario:e=>e.meta?.scenario,getMetaIndex:e=>e.meta?.index,getErrorVisibility:e=>e.meta?.errorsShow,getCurrentAction:e=>e.currentAction,getCurrentEdit(e){var t;const n=null!==(t=e.currentAction?.type)&&void 0!==t&&t;return fa.getAction(e,n)?.edit},getCurrentDetail(e){var t;const n=null!==(t=e.currentAction?.type)&&void 0!==t&&t;return fa.getDetail(e,n)},getCurrentSettings(e){var t,n,r;return null!==(r=(null!==(t=e.currentAction?.settings)&&void 0!==t?t:{})[null!==(n=e.currentAction?.type)&&void 0!==n&&n])&&void 0!==r?r:{}},getCurrentLoading(e){const t=e.currentAction?.id;return fa.getLoading(e,t)},dangerGetAllLoading:e=>e.loadingState},ga=(e={})=>{const t={...pa};return e.state&&(t.buttonClassName=[...v,e.state]),{...t,...e}},{withFilters:Ea}=wp.components,ba=function(t,n){const r=window.JetFBLocalizeHelper.getLocalizedFullPack(t);return o=>{const a={onChangeSetting:(e,t)=>{o.onChange({...o.settings,[t]:e})},getMapField:({source:e="fields_map",name:t})=>{const n=o.settings;return void 0!==n[e]&&void 0!==n[e][t]?n[e][t]:""},setMapField:({source:e="fields_map",nameField:t,value:n})=>{const r={...o.settings[e],[t]:n};o.onChange({...o.settings,[e]:r})},onChangeSettingObj:e=>{o.onChange({...o.settings,...e})}},l={...o,...r,...a},i=Ea(`jet.fb.render.action.${t}`)((()=>null));return(0,e.createElement)(pe.Provider,{value:l},(0,e.createElement)(n,{...l}),(0,e.createElement)(i,{...l}))}},ya={[ea]:(e,t)=>{const n={};return"function"==typeof t.item?n.currentAction=t.item(e.currentAction):n.currentAction=t.item,{...e,...n}},[oa]:(e,t)=>({...e,meta:{...t.item}}),[aa]:(e,t)=>({...e,meta:{...e.meta,...t.item}}),[la]:e=>({...e,currentAction:{},meta:{}}),[ta]:(e,t)=>{const n=ha.getLoadingIndex(e,t.state.id),r=[...e.loadingState];return-1!==n?r[n]=ga(t.state):r.push(ga(t.state)),{...e,loadingState:r}},[na]:(e,t)=>{const{settings:n,type:r}=e.currentAction,o={...ha.getCurrentSettings(e),...t.item};return{...e,currentAction:{...e.currentAction,settings:{...n,[r]:o}}}},[ra]:(e,t)=>{const{conditions:n=[]}=e.currentAction,r="function"==typeof t.item?t.item(n):t.item;return{...e,currentAction:{...e.currentAction,conditions:r}}},[ua]:(e,t)=>{const{actionSettings:n}=t;return n.hasOwnProperty("label")||(n.label=window.jetFormActionTypes.find((e=>e.id===n.type))?.name),{...e,types:[...e.types,{...n,edit:ba(n.type,n.edit)}]}},[da]:(e,t)=>({...e,categories:[...e.categories,{...t.category}]}),[ia]:(e,t)=>{const n=[...e.computedFields,{field:t.field,settings:t.settings}].sort((({settings:e},{settings:t})=>{var n,r;return(null!==(n=e?.priority)&&void 0!==n?n:10)-(null!==(r=t?.priority)&&void 0!==r?r:10)}));return{...e,computedFields:n}},[sa]:(e,t)=>{const{actionSettings:n}=t,r=e.types.map((e=>e.value!==n.type?e:{...e,...n}));return{...e,types:r}},[ca]:(e,t)=>{const{index:n,item:r}=t;return{...e,meta:{index:n,modalType:"settings"},currentAction:r}},[ma]:(e,t)=>({...e,showActionsInserterModal:t.show})},va={currentAction:{},types:[],categories:[],meta:{},loadingState:[ga()],computedFields:[],showActionsInserterModal:!1},wa={setCurrentAction:(e={})=>({type:ea,item:e}),setMeta:e=>({type:oa,item:e}),editMeta:e=>({type:aa,item:e}),clearCurrent:()=>({type:la}),setLoading:e=>({type:ta,state:{id:e.actionId,state:"loading",loading:!0}}),setLoadingResult:e=>({type:"SET_LOADING",state:{id:e.actionId,state:e.success?"is-valid":"is-invalid",success:e.success,response:e.response,loading:!1}}),updateCurrentSettings:e=>({type:na,item:e}),updateCurrentConditions:e=>({type:ra,item:e}),registerActions:e=>({dispatch:t})=>{for(const n of e)t.registerAction(n)},registerAction:e=>({select:t,dispatch:n})=>{t.getAction(e.type),n.addAction(e)},registerCategory:e=>({type:da,category:e}),addAction:e=>({type:ua,actionSettings:e}),addCallback:(e,t)=>({type:ua,actionSettings:{type:e,edit:t}}),addComputedField:(e,t={})=>({type:ia,field:e,settings:t}),editAction:(e,t)=>({type:sa,actionSettings:{type:e,...t}}),openActionSettings:({item:e,index:t,scenario:n=""})=>((0,te.dispatch)("jet-forms/actions").setCurrentAction({...e,index:t}),{type:oa,item:{index:t,modalType:"settings",scenario:n}}),showActionsInserterModal:e=>({type:ma,show:e})},{createReduxStore:_a}=wp.data,Ca=_a("jet-forms/actions",{reducer:function(e=va,t){const n=ya[t?.type];return n?n(e,t):e},actions:wa,selectors:ha}),Sa="CLEAR_GATEWAY",ka="CLEAR_SCENARIO",ja="SET_CURRENT_GATEWAY_SCENARIO",xa="SET_CURRENT_GATEWAY",Aa="SET_CURRENT_GATEWAY_SPECIFIC",Na="SET_CURRENT_GATEWAY_INNER",Ia="SET_CURRENT_REQUEST",Ra="SET_CURRENT_SCENARIO",Ta="REGISTER_EVENT_TYPE",Fa="HARD_SET_CURRENT_GATEWAY",Oa="HARD_SET_CURRENT_GATEWAY_SPECIFIC",La={getCurrentRequestId:e=>e.currentRequest.id,getCurrentRequest:e=>e.currentRequest,getScenario:e=>e.currentScenario,getScenarioId:e=>e.currentScenario?.id,getGatewayId:e=>e.currentGateway?.gateway,getGateway:e=>e.currentGateway,getEventTypes:e=>e.eventTypes},Ba={...La,getGatewaySpecific:e=>e.currentGateway[La.getGatewayId(e)]||{}},Pa={[Sa]:(e,t)=>({...e,currentGateway:{}}),[ka]:(e,t)=>({...e,currentScenario:{}}),[ja]:(e,t)=>({...e,currentScenario:{...e.currentScenario,...t.item||{}}}),[xa]:(e,t)=>({...e,currentGateway:{...e.currentGateway,...t.item}}),[Aa]:(e,t)=>({...e,currentGateway:{...e.currentGateway,[e.currentGateway.gateway]:{...Ba.getGatewaySpecific(e),...t.item}}}),[Na]:(e,t)=>{const{key:n,value:r}=t.item;return{...e,currentGateway:{...e.currentGateway,[n]:{...e.currentGateway[n]||{},...r}}}},[Ia]:(e,t)=>{const n=[Ba.getGatewayId(e),t.item?.id].filter((e=>e));return t.item.id=n.join("/"),{...e,currentRequest:t.item}},[Ra]:(e,t)=>({...e,currentScenario:{...e.currentScenario,[e.currentScenario?.id]:{...e.currentScenario[e.currentScenario?.id]||{},...t.item||{}}}}),[Fa]:(e,t)=>(t.item&&(e.currentGateway[t.item]=t.value),{...e}),[Oa]:(e,t)=>(t.item&&e.currentGateway?.gateway&&(e.currentGateway[e.currentGateway?.gateway]={},e.currentGateway[e.currentGateway?.gateway][t.item]=t.value),{...e}),[Ta]:(e,t)=>{var n,r;const o={...t.item,gateway:null!==(n=t.item?.gateway)&&void 0!==n?n:e.currentGateway?.gateway,scenario:null!==(r=t.item?.scenario)&&void 0!==r?r:e.currentScenario?.id};return e.eventTypes.push(o),e}},Ma={currentRequest:{id:-1},currentGateway:{},currentScenario:{},eventTypes:[]},Da={clearGateway:()=>({type:Sa}),clearScenario:()=>({type:ka}),setRequest:e=>({type:Ia,item:e}),setGateway:e=>({type:xa,item:e}),setGatewayInner:e=>({type:Na,item:e}),setGatewaySpecific:e=>({type:Aa,item:e}),setScenario:e=>({type:ja,item:e}),setCurrentScenario:e=>({type:Ra,item:e}),registerEventType:e=>({type:Ta,item:e}),hardSetGateway:(e,t="")=>({type:Fa,item:e,value:t}),hardSetGatewaySpecific:(e,t="")=>({type:Oa,item:e,value:t})},{createReduxStore:Ga}=wp.data,$a=Ga("jet-forms/gateways",{reducer:function(e=Ma,t){const n=Pa[t?.type];return n?n(e,t):e},actions:Da,selectors:Ba}),Va="REGISTER",qa="UNREGISTER",Ha="LOCK_ACTIONS",Ua="CLEAR_DYNAMIC_EVENTS",Ja={getTypeIndex:(e,t)=>e.types.findIndex((e=>e.value===t)),getTypes:e=>e.types,getGatewayTypes:e=>e.types.filter((e=>"gateway"in e)),getAlwaysTypes:e=>e.types.filter((e=>"always"in e)),getDynamicTypes:e=>e.types.filter((({isDynamic:e})=>e)),getType(e,t){const n=Ja.getTypeIndex(e,t);return e.types[n]},getUnsupported(e,t){var n;const r=null!==(n=e.lockedActions[t])&&void 0!==n&&n;return!1===r?[]:r.unsupported},getSupported(e,t){var n;const r=null!==(n=e.lockedActions[t])&&void 0!==n&&n;return!1===r?[]:r.supported},isValid(e,t,n){const r=Ja.getUnsupported(e,t);if(r.length&&r.includes(n))return!1;const o=Ja.getSupported(e,t);return!o.length||o.includes(n)},filterList:(e,t,n)=>n.filter((n=>Ja.isValid(e,t,n))),getHelpMap(e){const t={};for(const{value:n,help:r}of e.types)t[n]=r;return t}},za={...Ja},Xa={[Va](e,t){const{types:n}=e;for(const r of t.items){r.title=r.label;const t=za.getTypeIndex(e,r.value);-1===t?n.push({...r}):n[t]={...r}}return{...e,types:n}},[Ha](e,t){for(const{id:t,self:r}of window.jetFormActionTypes){var n;const o=null!==(n=window[r])&&void 0!==n&&n;if(!1===o)continue;const{__unsupported_events:a,__supported_events:l}=o,i={unsupported:e.types.filter((({self:e})=>a.includes(e))).map((({value:e})=>e)),supported:e.types.filter((({self:e})=>l.includes(e))).map((({value:e})=>e))};(i.supported.length||i.unsupported.length)&&(e.lockedActions[t]=i)}return e},[qa](e,t){const{types:n}=t;return e.types=e.types.filter((({value:e})=>!n.includes(e))),e},[Ua]:e=>(e.types=e.types.filter((({isDynamic:e=!1})=>!e)),e)},Wa={types:[],labels:{},lockedActions:{}},Ya={register:e=>({type:Va,items:e}),lockActions:()=>({type:Ha}),unRegister:e=>({type:qa,types:e}),clearDynamicEvents:()=>({type:Ua})},{createReduxStore:Za}=wp.data,Ka=Za("jet-forms/events",{reducer:function(e=Wa,t){const n=Xa[t?.type];return n?n(e,t):e},actions:Ya,selectors:za}),Qa="REGISTER",el="ADD_RENDER_STATE",tl="ADD_RENDER_STATES",nl="DELETE_RENDER_STATES",{doAction:rl}=wp.hooks,ol={...{[Qa](e,t){const{operators:n,functions:r,render_states:o}=t.items;return e.operators=[...n],e.functions=[...r],e.renderStates=[...o],rl("jet.fb.change.blockConditions.renderState",e.renderStates),e},[el]:(e,t)=>(e.renderStates.push(t.item),rl("jet.fb.change.blockConditions.renderState",e.renderStates),e),[tl](e,t){for(const n of t.items)e.renderStates.push(n);return rl("jet.fb.change.blockConditions.renderState",e.renderStates),e},[nl](e,t){let n=Array.isArray(t.items)?[...t.items]:[t.items];return e.renderStates=e.renderStates.filter((({value:e})=>!n.includes(e))),rl("jet.fb.change.blockConditions.renderState",e.renderStates),e}}},{__:al}=wp.i18n,ll=function(e,t="code"){var n,r;if(!function(e){let t;try{t=JSON.parse(e)}catch(e){return!1}return!!t?.jet_preset}(e=null!==(n=e)&&void 0!==n?n:""))return e;const o=JSON.parse(e),a=al("Preset from","jet-form-builder"),l=null!==(r=o?.from)&&void 0!==r?r:"(empty)";let i;switch(t){case"code":i=`<code>${l}</code>`;break;case"b":i=`<b>${l}</b>`}return[a,i].join(" ")},{select:il}=wp.data,{__:sl}=wp.i18n,cl=function(e){const t=il("jet-forms/block-conditions").getOperator(e?.operator);return t?[`<code>${e?.field||"(no field)"}</code>`,t.label].join(" "):""},ul={functions:[],operators:[],conditionReaders:{default:function(e){const t=il("jet-forms/block-conditions").getOperator(e?.operator);if(!t)return"";const n=e?.field||"(no field)",r=ll(e.value,"b")||"(no value)";return[`<code>${n}</code>`,t.label,`<code>${r}</code>`].join(" ")},empty:cl,not_empty:cl,render_state:function(e){var t;const n=(null!==(t=e?.render_state)&&void 0!==t?t:[]).map((e=>`<code>${e}</code>`));return[1===n.length?sl("Is render state","jet-form-builder"):sl("One of the render states","jet-form-builder"),n.join(", ")].join(": ")}},renderStates:[]},dl={register:e=>({type:Qa,items:e}),addRenderState:e=>({type:el,item:e}),addRenderStates:e=>({type:tl,items:e}),deleteRenderStates:e=>({type:nl,items:e})},ml={getFunctions:e=>e.functions,getOperators:e=>e.operators,getRenderStates:e=>e.renderStates,getSwitchableRenderStates:e=>e.renderStates.filter((({is_custom:e=!1,can_be_switched:t=!1})=>e||t)),getCustomRenderStates:e=>e.renderStates.filter((({is_custom:e=!1})=>e)),getOperator(e,t){const n=e.operators.findIndex((({value:e})=>e===t));return-1!==n&&e.operators[n]},readCondition(e,t){var n;const{operator:r=""}=t;if(!r)return"";const o=null!==(n=e.conditionReaders[r])&&void 0!==n&&n;return"function"==typeof o?o(t):e.conditionReaders.default(t)},getFunction:(e,t)=>e.functions.find((({value:e})=>e===t)),getFunctionDisplay:(e,t)=>ml.getFunction(e,t)?.display},pl={...ml},{createReduxStore:fl}=wp.data,hl=fl("jet-forms/block-conditions",{reducer:function(e=ul,t){const n=ol[t?.type];return n?n(e,t):e},actions:dl,selectors:pl}),gl="REGISTER_MACRO",El={[gl](e,t){const{items:n,isClient:r}=t,o=Array.isArray(n)?n:[n];for(const e of o)if(!(e instanceof Kr))throw console.error(e),new Error("^^^ Invalid macro item ^^^");return r?e.clientMacros.push(...o):e.serverMacros.push(...o),e}},{__:bl}=wp.i18n;function yl(){Kr.call(this),this.name="CurrentDate",this.isClientSide=!0,this.fullHelp=()=>(0,e.createElement)(e.Fragment,null,bl("Returns the current timestamp. Replacing","jet-form-builder")," ",(0,e.createElement)("code",null,"Date.now()"))}yl.prototype=Object.create(Kr.prototype);const vl=yl,{__:wl}=wp.i18n;function _l(){Kr.call(this),this.name="Min_In_Sec",this.isClientSide=!0,this.help=wl("Number of milliseconds in one minute","jet-form-builder")}_l.prototype=Object.create(Kr.prototype);const Cl=_l,{__:Sl}=wp.i18n;function kl(){Kr.call(this),this.name="Month_In_Sec",this.isClientSide=!0,this.help=Sl("Number of milliseconds in one month","jet-form-builder")}kl.prototype=Object.create(Kr.prototype);const jl=kl,{__:xl}=wp.i18n;function Al(){Kr.call(this),this.name="Day_In_Sec",this.isClientSide=!0,this.help=xl("Number of milliseconds in one day","jet-form-builder")}Al.prototype=Object.create(Kr.prototype);const Nl=Al,{__:Il}=wp.i18n;function Rl(){Kr.call(this),this.name="Year_In_Sec",this.isClientSide=!0,this.help=Il("Number of milliseconds in one year","jet-form-builder")}Rl.prototype=Object.create(Kr.prototype);const Tl=Rl,{__:Fl}=wp.i18n;function Ol(){lr.call(this)}Ol.prototype=Object.create(lr.prototype),Ol.prototype.docArgument=!1,Ol.prototype.help=null,Ol.prototype.isServerSide=!1,Ol.prototype.isClientSide=!1,Ol.prototype.getArgumentsList=function(){if(!this.docArgument||!this.docArgument.length)return null;const e=Array.isArray(this.docArgument)?this.docArgument:[this.docArgument],t=[];for(const n of e)switch(n){case"string":case String:t.push(Fl("String","jet-form-builder"));break;case"number":case Number:t.push(Fl("Number","jet-form-builder"));break;case"array":case Array:t.push(Fl("Array","jet-form-builder"));break;case"any":t.push(Fl("Anything","jet-form-builder"))}return t.join(" | ")},Ol.prototype.fullHelp=function(){if(!this.docArgument&&!this.help)return null;const t=this.help,n=this.getArgumentsList();return(0,e.createElement)(e.Fragment,null,n&&(0,e.createElement)("div",{style:{marginBottom:"0.5em"}},Fl("Arguments:","jet-form-builder")+" ",(0,e.createElement)("code",null,n)),"function"!=typeof t?t:(0,e.createElement)(t,null))};const Ll=Ol,{__:Bl}=wp.i18n;function Pl(){Ll.call(this),this.fullName=()=>"addDay",this.docArgument=Number,this.isClientSide=!0,this.help=Bl("Adds the passed number of days via an argument \n\t\tto a macro that returns a date or a timestamp.","jet-form-builder")}Pl.prototype=Object.create(Ll.prototype);const Ml=Pl,{__:Dl}=wp.i18n;function Gl(){Ll.call(this),this.fullName=()=>"addMonth",this.docArgument=Number,this.isClientSide=!0,this.help=Dl("Adds the passed number of months via an argument \n\t\tto a macro that returns a date or a timestamp.","jet-form-builder")}Gl.prototype=Object.create(Ll.prototype);const $l=Gl,{__:Vl}=wp.i18n;function ql(){Ll.call(this),this.fullName=()=>"addYear",this.docArgument=Number,this.isClientSide=!0,this.help=Vl("Adds the passed number of years through an argument \n\t\tto a macro that returns a date or a timestamp.","jet-form-builder")}ql.prototype=Object.create(Ll.prototype);const Hl=ql,{__:Ul}=wp.i18n;function Jl(){Ll.call(this),this.fullName=()=>"ifEmpty",this.docArgument="any",this.isClientSide=!0,this.help=Ul("If the macro returns an empty value, \n\t\tthen the filter returns the value passed in the argument","jet-form-builder")}Jl.prototype=Object.create(Ll.prototype);const zl=Jl,{__:Xl}=wp.i18n;function Wl(){Ll.call(this),this.fullName=()=>"length",this.isClientSide=!0,this.help=Xl("Returns the length of a string or array","jet-form-builder")}Wl.prototype=Object.create(Ll.prototype);const Yl=Wl,{__:Zl}=wp.i18n;function Kl(){Ll.call(this),this.fullName=()=>"toDate",this.isClientSide=!0,this.help=()=>(0,e.createElement)(e.Fragment,null,Zl("Gets the timestamp from the macro and formats it according \n\t\tto the format of the Date Field.","jet-form-builder"),(0,e.createElement)("hr",null),Zl("Example:","jet-form-builder")+" ",(0,e.createElement)("code",null,"2022-02-24"))}Kl.prototype=Object.create(Ll.prototype);const Ql=Kl,{__:ei}=wp.i18n;function ti(){Ll.call(this),this.fullName=()=>"toDateTime",this.isClientSide=!0,this.help=()=>(0,e.createElement)(e.Fragment,null,ei("Gets the timestamp from the macro and formats it according \n\t\tto the format of the Datetime Field.","jet-form-builder"),(0,e.createElement)("hr",null),ei("Example:","jet-form-builder")+" ",(0,e.createElement)("code",null,"2022-02-24T04:25"))}ti.prototype=Object.create(Ll.prototype);const ni=ti,{__:ri}=wp.i18n;function oi(){Ll.call(this),this.fullName=()=>"toTime",this.isClientSide=!0,this.help=()=>(0,e.createElement)(e.Fragment,null,ri("Gets the timestamp from the macro and formats it according \n\t\tto the format of the Time Field.","jet-form-builder"),(0,e.createElement)("hr",null),ri("Example:","jet-form-builder")+" ",(0,e.createElement)("code",null,"04:25"))}oi.prototype=Object.create(Ll.prototype);const ai=oi,{__:li}=wp.i18n;function ii(){Ll.call(this),this.fullName=()=>"subDay",this.docArgument=Number,this.isClientSide=!0,this.help=li("Subtracts the number of days by argument\nfrom a macro that returns a date or timestamp.","jet-form-builder")}ii.prototype=Object.create(Ll.prototype);const si=ii,{__:ci}=wp.i18n;function ui(){Ll.call(this),this.fullName=()=>"subMonth",this.docArgument=Number,this.isClientSide=!0,this.help=ci("Subtracts the number of months by argument\nfrom a macro that returns a date or timestamp.","jet-form-builder")}ui.prototype=Object.create(Ll.prototype);const di=ui,{__:mi}=wp.i18n;function pi(){Ll.call(this),this.fullName=()=>"subYear",this.docArgument=Number,this.isClientSide=!0,this.help=mi("Subtracts the number of years by argument\nfrom a macro that returns a date or timestamp.","jet-form-builder")}pi.prototype=Object.create(Ll.prototype);const fi=pi,hi={macros:[new vl,new Cl,new Nl,new jl,new Tl],filters:[new zl,new Yl,new Ml,new $l,new Hl,new si,new di,new fi,new Ql,new ni,new ai]},gi={registerMacro:(e,t=!0)=>({type:gl,items:e,isClient:t})},Ei={getClientMacros:e=>e.macros.filter((function(e){return e.isClientSide})),getServerMacros:e=>e.macros.filter((function(e){return e.isServerSide})),getClientFilters:e=>e.filters.filter((function(e){return e.isClientSide})),getServerFilters:e=>e.filters.filter((function(e){return e.isServerSide}))},{createReduxStore:bi}=wp.data,yi=bi("jet-forms/macros",{reducer:function(e=hi,t){const n=El[t?.type];return n?n(e,t):e},actions:gi,selectors:Ei}),vi="REGISTER",wi={[vi](e,t){const{messages:n,ssr_callbacks:r,formats:o,rule_types:a}=t.items;return e.messages=JSON.parse(JSON.stringify(n)),e.ssrCallbacks=JSON.parse(JSON.stringify(r)),e.formats=JSON.parse(JSON.stringify(o)),e.ruleTypes=JSON.parse(JSON.stringify(a)),e}},_i={...wi},{select:Ci}=wp.data,{__:Si}=wp.i18n,ki={messages:[],ssrCallbacks:[],formats:[],ruleTypes:[],ruleReaders:{default:function(e){const t=Ci("jet-forms/validation").getRule(e.type);if(!t)return"";let n=e?.field||e?.value||"";return n=ll(n,"b")||"(no value)",[t.label,`<code>${n}</code>`].join(" ")},ssr:function(e){return[Si("Function:","jet-form-builder"),e?.value].join(" ")}}},ji={register:e=>({type:vi,items:e})},xi={...{getRule(e,t){const n=e.ruleTypes.findIndex((({value:e})=>e===t));return-1!==n&&e.ruleTypes[n]},readRule(e,t){var n;const{type:r=""}=t;if(!r)return"";const o=null!==(n=e.ruleReaders[r])&&void 0!==n&&n;return"function"==typeof o?o(t):e.ruleReaders.default(t)}}},{createReduxStore:Ai}=wp.data,Ni=Ai("jet-forms/validation",{reducer:function(e=ki,t){const n=_i[t?.type];return n?n(e,t):e},actions:ji,selectors:xi});n(4180);const{register:Ii,dispatch:Ri}=wp.data,{addAction:Ti}=wp.hooks;[$a,Ka,Ca,hl,yi,Ni,Dr].forEach(Ii),Ri("jet-forms/events").register(window.jetFormEvents.types),Ri("jet-forms/events").lockActions(),Ri("jet-forms/validation").register(window.jetFormValidation),Ti("jet.fb.change.blockConditions.renderState","jet-form-builder/events",(function(e){Ri("jet-forms/events").clearDynamicEvents();const t=e.map((({value:e})=>({value:e="ON."+e,label:e,isDynamic:!0})));Ri("jet-forms/events").register(t)})),Ri("jet-forms/block-conditions").register(window.jetFormBlockConditions);const{createContext:Fi}=wp.element,Oi=Fi(!1),{createContext:Li}=wp.element,Bi=Li({currentItem:{},changeCurrentItem:()=>{},currentIndex:-1}),{createContext:Pi}=wp.element,Mi=Pi({index:-1,action:{}}),{createContext:Di}=wp.element,Gi=Di({isSupported:e=>!1,render:({children:e})=>e}),{createContext:$i}=wp.element,Vi=$i({isSupported:e=>!1,render:({currentItem:e,index:t})=>null}),{createContext:qi}=wp.element,Hi=qi({edit:e=>!0,move:e=>!0,clone:e=>!0,delete:e=>!0}),{createContext:Ui}=wp.element,Ji=Ui({}),{ToggleControl:zi}=wp.components,{__:Xi}=wp.i18n,{useState:Wi}=wp.element,{useContext:Yi}=wp.element,{__:Zi}=wp.i18n,Ki=function(e){if(void 0===e)return null;const t=Yi(Oi),n=function({oldIndex:t,newIndex:n}){e((e=>{const r=JSON.parse(JSON.stringify(e));return[r[n],r[t]]=[r[t],r[n]],r}))};return{changeCurrentItem:function(t,n){e((e=>{const r=JSON.parse(JSON.stringify(e));return r[n]={...e[n],...t},r}))},toggleVisible:function(t){e((e=>{const n=JSON.parse(JSON.stringify(e));return n[t].__visible=!n[t].__visible,n}))},moveDown:function(e){n({oldIndex:e,newIndex:e+1})},moveUp:function(e){n({oldIndex:e,newIndex:e-1})},cloneItem:function(t){e((e=>{const n=JSON.parse(JSON.stringify(e)),[r,o]=[n.slice(0,t+1),n.slice(t+1)];return[...r,n[t],...o]}))},addNewItem:function(t){e((e=>[...e,{__visible:!0,...t}]))},removeOption:function(n){t&&!(e=>confirm(Zi(`Are you sure you want to remove item ${e+1}?`,"jet-form-builder")))(n)||e((e=>{const t=JSON.parse(JSON.stringify(e));return t.splice(n,1),t}))}}},{createContext:Qi}=wp.element,es=Qi(!1),{Button:ts}=wp.components,{useContext:ns}=wp.element,rs=function(t){var n;const{item:r,onSetState:o,functions:a,children:l}=t,{addNewItem:i}=null!==(n=null!=a?a:Ki(o))&&void 0!==n?n:ns(es);return(0,e.createElement)(ts,{icon:"plus-alt2",isSecondary:!0,onClick:()=>i(r)},l)},{Card:os,ButtonGroup:as,Button:ls,CardHeader:is,CardBody:ss}=wp.components,{useContext:cs}=wp.element,{__:us}=wp.i18n,ds=function(t){var n;const{items:r,onSetState:o,functions:a,children:l}=t,{cloneItem:i,moveUp:s,moveDown:c,toggleVisible:u,changeCurrentItem:d,removeOption:m}=null!==(n=null!=a?a:Ki(o))&&void 0!==n?n:cs(es),{isSupported:p,render:f}=cs(Vi),{edit:h,move:g,clone:E,delete:b}=cs(Hi),y=({currentItem:t,index:n})=>p(t)?(0,e.createElement)(f,{currentItem:t,index:n}):(0,e.createElement)("span",{className:"repeater-item-title"},`#${n+1}`);return(0,e.createElement)("div",{className:"jet-form-builder__repeater-component",key:"jet-form-builder-repeater"},r.map(((t,n)=>(0,e.createElement)(os,{size:"small",elevation:2,className:"jet-form-builder__repeater-component-item",key:`jet-form-builder__repeater-component-item-${n}`},(0,e.createElement)(is,{className:"repeater__item__header"},(0,e.createElement)("div",{className:"repeater-item__left-heading"},(0,e.createElement)(as,{className:"repeater-action-buttons"},(!h||h(t))&&(0,e.createElement)(ls,{variant:"tertiary",isSmall:!0,icon:t.__visible?"no-alt":"edit",onClick:()=>u(n),className:"repeater-action-button jet-fb-is-thick"}),(!g||g(t))&&(0,e.createElement)(ls,{variant:"tertiary",isSmall:!0,isSecondary:!0,disabled:!Boolean(n),icon:"arrow-up-alt2",onClick:()=>s(n),className:"repeater-action-button jet-fb-is-thick"}),(!g||g(t))&&(0,e.createElement)(ls,{variant:"tertiary",isSmall:!0,isSecondary:!0,disabled:!(n<r.length-1),icon:"arrow-down-alt2",onClick:()=>c(n),className:"repeater-action-button jet-fb-is-thick"})),(0,e.createElement)(y,{currentItem:t,index:n})),(0,e.createElement)(as,null,(!E||E(t))&&(0,e.createElement)(ls,{variant:"tertiary",isSmall:!0,isSecondary:!0,onClick:()=>i(n),className:"jet-fb-is-thick",icon:"admin-page"}),(!b||b(t))&&(0,e.createElement)(er,{icon:"trash",isDestructive:!0},(0,e.createElement)(Wn.Consumer,null,(({setShowPopover:t})=>(0,e.createElement)("div",{style:{padding:"0.5em",width:"max-content"}},(0,e.createElement)("span",null,us("Delete this item?","jet-form-builder"))," ",(0,e.createElement)(ls,{isLink:!0,isDestructive:!0,onClick:()=>m(n)},us("Yes","jet-form-builder"))," / ",(0,e.createElement)(ls,{isLink:!0,onClick:()=>t(!1)},us("No","jet-form-builder")))))))),t.__visible&&(0,e.createElement)(ss,{className:"repeater-item__content",key:`jet-form-builder__card-body-${n}`},(()=>{const r={currentItem:t,changeCurrentItem:e=>d(e,n),currentIndex:n};return(0,e.createElement)(Bi.Provider,{value:r},!l&&"Set up your Repeater Template, please.","function"==typeof l?l(r):l)})())))))},{__experimentalToggleGroupControl:ms,__experimentalToggleGroupControlOption:ps}=wp.components,{__:fs}=wp.i18n;let{formats:hs}=window.jetFormValidation;const{messages:gs}=window.jetFormValidation,Es=function(e){return gs.find((({id:t})=>e===t))},{TextControl:bs}=wp.components,ys=(0,a.forwardRef)((function({icon:e,size:t=24,...n},r){return(0,a.cloneElement)(e,{width:t,height:t,...n,ref:r})})),vs=it(ys)({name:"StyledIcon",class:"sfqmk5y",propsAsIs:!0});n(483);const{createContext:ws}=wp.element,_s=ws({FieldSelect:null,property:""}),{useState:Cs,useContext:Ss}=wp.element,{SelectControl:ks}=wp.components,{compose:js}=wp.compose,{withSelect:xs}=wp.data,As=js(xs((function(e){return{currentAction:e("jet-forms/actions").getCurrentAction()}})),xs(Ne))((function({currentAction:t,...n}){return(0,e.createElement)(Yo,{id:t.id,...n})})),Ns=function({state:t,children:n}){const r=Ki(t);return(0,e.createElement)(es.Provider,{value:r},n)},Is=window.wp.apiFetch;var Rs=n.n(Is);const{rest_add_state:Ts,rest_delete_state:Fs}=window.jetFormBlockConditions,{Fill:Os}=c,Ls=({setShowModal:t,changeCurrentItem:n,currentItem:r})=>{var o;const[l,i]=(0,a.useState)(!1),[s,c]=(0,a.useState)({}),[m,f]=(0,a.useState)("");let h=[...null!==(o=r.render_state)&&void 0!==o?o:[]];const{addRenderState:g,deleteRenderStates:E}=(0,te.useDispatch)("jet-forms/block-conditions",[]),b=(0,te.useSelect)((e=>e("jet-forms/block-conditions").getCustomRenderStates()),[l,s]);return(0,e.createElement)(p,{title:(0,d.__)("Register custom render state","jet-form-builder"),onRequestClose:()=>t(!1),classNames:["width-45"]},(0,e.createElement)("div",{className:"jet-fb with-button"},(0,e.createElement)(u.TextControl,{value:m,onChange:e=>f(e),placeholder:(0,d.__)("Set your custom state name","jet-form-builder")}),(0,e.createElement)(u.Button,{variant:"secondary",onClick:()=>{i(!0),Ts.data={value:m},Rs()(Ts).then((e=>{var r;r=e.state,g(r),h.push(r.value),n({render_state:h}),i(!1),t(!1)})).catch((e=>{console.error(e),i(!1)}))},disabled:l,isBusy:l,style:{padding:"7px 12px",height:"unset"}},(0,d.__)("Add","jet-form-builder"))),Boolean(b?.length)&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("b",{className:"jet-fb flex mb-05-em"},(0,d.__)("Manage your custom states:","jet-form-builder")),(0,e.createElement)("div",{className:"jet-fb-buttons-flex"},b.map((t=>{var r;return(0,e.createElement)(u.Button,{key:t.value,icon:"no-alt",iconPosition:"right",onClick:()=>{return e=t.value,Fs.data={list:[e]},c((t=>({...t,[e]:!0}))),void Rs()(Fs).then((()=>{(e=>{E(e),h=h.filter((t=>t!==e)),n({render_state:h})})(e)})).catch(console.error).finally((()=>{c((t=>({...t,[e]:!1})))}));var e},isBusy:null!==(r=s[t.value])&&void 0!==r&&r},t.label)})))),(0,e.createElement)(Os,null,(0,e.createElement)("span",null)))},{Button:Bs,BaseControl:Ps,FormTokenField:Ms}=wp.components,{__:Ds}=wp.i18n,{useState:Gs}=wp.element,{useSelect:$s}=wp.data,Vs=({currentItem:t,changeCurrentItem:n})=>{const[r,o]=Gs(!1),a=$s((e=>I(e("jet-forms/block-conditions").getRenderStates(),"value")),[r]);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Ps,{label:Ds("Render State","jet-form-builder"),className:"control-flex"},(0,e.createElement)("div",null,(0,e.createElement)("label",{className:"jet-fb label mb-05-em"},Ds("Add render state","jet-form-builder")),(0,e.createElement)("div",{className:"jet-fb with-button clear-label"},(0,e.createElement)(Ms,{value:t.render_state,suggestions:a,onChange:e=>n({render_state:e}),tokenizeOnSpace:!0,__experimentalExpandOnFocus:!0}),(0,e.createElement)(Bs,{label:Ds("New render state","jet-form-builder"),variant:"secondary",icon:"plus-alt2",onClick:()=>o(!0)})))),r&&(0,e.createElement)(Ls,{setShowModal:o,changeCurrentItem:n,currentItem:t}))},qs=window.wp.compose,Hs=function({children:t,value:n,label:r,onChangePreset:o=!1,onChangeMacros:a=!1,macroWithCurrent:l=!1}){const i=(0,qs.useInstanceId)(u.FlexItem,"jfb-AdvancedModalControl");return(0,e.createElement)("div",{className:"components-base-control"},(0,e.createElement)(u.Flex,{align:"flex-start",className:"components-base-control__field"},(0,e.createElement)(u.FlexItem,{isBlock:!0},(0,e.createElement)(u.Flex,{align:"center",justify:"flex-start"},(0,e.createElement)("label",{htmlFor:i,className:"jet-fb label"},r),!1!==o&&(0,e.createElement)(zn,{value:n,onChange:o}),!1!==a&&(0,e.createElement)(Hr,{onClick:a,withCurrent:l}))),(0,e.createElement)(u.FlexItem,{isBlock:!0,style:{flex:3,marginLeft:"unset"}},"function"==typeof t?t({instanceId:i}):t)))},{TextareaControl:Us,withFilters:Js}=wp.components,{__:zs}=wp.i18n,Xs=Js("jet.fb.block.conditions.options")((t=>{const{currentItem:n,changeCurrentItem:r}=t,o=qe();return["empty","not_empty"].includes(n.operator)?null:"render_state"===n.operator?(0,e.createElement)(Vs,{key:o("RenderStateOptions"),changeCurrentItem:r,currentItem:n}):(0,e.createElement)(no,null,(0,e.createElement)(Hs,{value:n.value,label:zs("Value to compare","jet-form-builder"),onChangePreset:e=>r({value:e}),onChangeMacros:e=>{var t;return r({value:(null!==(t=n.value)&&void 0!==t?t:"")+e})}},(({instanceId:t})=>(0,e.createElement)(Us,{id:t,value:n.value,onChange:e=>r({value:e})}))))})),{SelectControl:Ws,withFilters:Ys}=wp.components,{__:Zs}=wp.i18n,Ks=Ys("jet.fb.block.conditions.options")((t=>{const{currentItem:n,changeCurrentItem:r}=t,o=qr({placeholder:"--"});return"render_state"===n.operator?null:(0,e.createElement)(Ws,{label:Zs("Field","jet-form-builder"),labelPosition:"side",value:n.field,options:o,onChange:e=>{r({field:e})}})})),{useContext:Qs}=wp.element,{SelectControl:ec}=wp.components,{__:tc}=wp.i18n,nc=function(){const{currentItem:t,changeCurrentItem:n}=Qs(Bi),r=qe(),{operators:o}=$e();return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Ks,{currentItem:t,changeCurrentItem:n}),(0,e.createElement)(ec,{key:r("SelectControl-operator"),label:tc("Operator","jet-form-builder"),labelPosition:"side",value:t.operator,options:o,onChange:e=>n({operator:e})}),(0,e.createElement)(Xs,{currentItem:t,changeCurrentItem:n}))},{select:rc}=wp.data,oc=function(e){return rc("jet-forms/block-conditions").readCondition(e)},{__:ac}=wp.i18n,lc=function({children:t}){return(0,e.createElement)(Vi.Provider,{value:{isSupported:()=>!0,render:({currentItem:t})=>(0,e.createElement)("span",{className:"repeater-item-title",dangerouslySetInnerHTML:{__html:t?.or_operator?ac("OR","jet-form-builder"):oc(t)}})}},(0,e.createElement)(Hi.Provider,{value:{edit:e=>!e.or_operator}},t))},{__:ic}=wp.i18n,{useState:sc,useContext:cc,Fragment:uc,useEffect:dc}=wp.element,{SelectControl:mc,TextareaControl:pc,FlexItem:fc,Button:hc,Flex:gc,ToggleControl:Ec}=wp.components,bc=[{key:"commas",render:()=>(0,e.createElement)("li",null,ic("If this field supports multiple values, \n\t\t\tyou can separate them with commas","jet-form-builder"))}],yc=[{value:"on_change",label:ic("On change conditions result","jet-form-builder"),help:ic("The value will be applied if condition check-ups return a result \ndifferent from the first check-up's cached value","jet-form-builder")},{value:"once",label:ic("Once","jet-form-builder"),help:ic("The value will be applied only the first time \nthe condition is matched","jet-form-builder")},{value:"always",label:ic("Always","jet-form-builder"),help:ic("The value will be applied every time the condition is matched","jet-form-builder")}],vc=e=>yc.find((t=>t.value===(null!=e?e:"on_change"))).help,wc=function(){var t,n,r,o;const{current:a,update:l}=cc(Ji),[i,s]=sc((()=>a)),[c,u]=sc((()=>vc(i.frequency)));dc((()=>{u(vc(i.frequency))}),[i.frequency]);const d=e=>{s((t=>({...t,...e})))};return _e((()=>l(i))),(0,e.createElement)(uc,null,(0,e.createElement)(gc,{align:"flex-start"},(0,e.createElement)(fc,{isBlock:!0},(0,e.createElement)(gc,{align:"center",justify:"flex-start"},(0,e.createElement)("span",{className:"jet-fb label"},ic("Value to set","jet-form-builder")),(0,e.createElement)(zn,{value:i.to_set,onChange:e=>d({to_set:e})}),(0,e.createElement)(no,{withThis:!0},(0,e.createElement)(Hr,{onClick:e=>{var t;return d({to_set:`${null!==(t=i.to_set)&&void 0!==t?t:""}${e}`})}}))),(0,e.createElement)(dn,null,(0,e.createElement)("ul",null,bc.map((t=>(0,e.createElement)(uc,{key:t.key},t.render())))))),(0,e.createElement)(fc,{isBlock:!0,style:{flex:3,marginLeft:"unset"}},(0,e.createElement)(pc,{className:"jet-control-clear",hideLabelFromVision:!0,value:null!==(t=i.to_set)&&void 0!==t?t:"",onChange:e=>d({to_set:e})}))),(0,e.createElement)(mc,{options:yc,value:null!==(n=i.frequency)&&void 0!==n?n:"on_change",label:ic("Apply type","jet-form-builder"),labelPosition:"side",onChange:e=>d({frequency:e}),help:c}),(0,e.createElement)(Ns,{state:e=>{var t;d({conditions:"function"==typeof e?e(null!==(t=i.conditions)&&void 0!==t?t:[]):e})}},(0,e.createElement)(lc,null,(0,e.createElement)(ds,{items:null!==(r=i.conditions)&&void 0!==r?r:[]},(0,e.createElement)(nc,null))),(0,e.createElement)("div",{className:"jet-fb flex jc-space-between ai-center"},(0,e.createElement)(rs,null,ic("Add New Condition","jet-form-builder")),(0,e.createElement)(Ec,{className:"jet-fb m-unset clear-control",label:ic("Set value only if field is empty","jet-form-builder"),checked:null!==(o=i.set_on_empty)&&void 0!==o&&o,onChange:e=>d({set_on_empty:e})}))))},{__:_c}=wp.i18n,{Children:Cc,cloneElement:Sc}=wp.element,kc=function({conditions:t,showWarning:n=!1}){let r=[],o="";return Boolean(t?.length)&&(o=oc(t[0]),r=t.filter(((e,t)=>0!==t)).map((t=>(0,e.createElement)("span",{"data-title":_c("And","jet-form-builder")+":",dangerouslySetInnerHTML:{__html:oc(t)}})))),o?(0,e.createElement)(e.Fragment,null,(0,e.createElement)("span",{"data-title":_c("If","jet-form-builder")+":",dangerouslySetInnerHTML:{__html:o}}),Cc.map(r,Sc)):n&&(0,e.createElement)("span",{"data-title":_c("The condition is not fully configured.","jet-form-builder")})},jc=function({isHover:t=!1,children:n}){return(0,e.createElement)("div",{className:["jet-fb",t?"show":"hide","p-absolute","wh-100","flex-center","gap-05em"].join(" "),style:{backgroundColor:"#ffffffcc",transition:"0.3s"}},n)},xc=function({children:t}){return(0,e.createElement)("div",{className:["jet-fb","flex","flex-dir-column","container","gap-1em"].join(" ")},t)},{__:Ac}=wp.i18n,{useState:Nc}=wp.element,{Button:Ic}=wp.components,Rc=function({current:t,update:n,isOpenModal:r,setOpenModal:o}){const[a,l]=Nc(!1),[i,s]=Nc(!1),c=1>=Object.keys(t)?.length;return(0,e.createElement)(Ji.Provider,{value:{update:e=>{n((n=>{const r=JSON.parse(JSON.stringify(n.groups));for(const n in r)r.hasOwnProperty(n)&&t.id===r[n].id&&(r[n]={...r[n],...e});return{groups:r}}))},current:t}},(0,e.createElement)("div",{className:"jet-fb p-relative",onMouseOver:()=>s(!0),onMouseOut:()=>s(!1)},(0,e.createElement)(jc,{isHover:i},(0,e.createElement)(Ic,{isSmall:!0,isSecondary:!0,icon:a?"no-alt":"edit",onClick:()=>l((e=>!e))},Ac("Edit","jet-form-builder")),(0,e.createElement)(Ic,{isSmall:!0,isDestructive:!0,icon:"trash",onClick:()=>{n((e=>({groups:JSON.parse(JSON.stringify(e.groups)).filter((({id:e})=>e!==t.id))})))}},Ac("Delete","jet-form-builder"))),(0,e.createElement)(xc,null,c?(0,e.createElement)("div",{"data-title":Ac("This value item is empty","jet-form-builder")}):(0,e.createElement)(e.Fragment,null,(0,e.createElement)("span",{"data-title":Ac("Set","jet-form-builder")+":",dangerouslySetInnerHTML:{__html:ll(t.to_set)}}),(0,e.createElement)(kc,{conditions:t?.conditions})))),(a||r===t.id)&&(0,e.createElement)(p,{classNames:["width-60"],onRequestClose:()=>{l(!1),o(!1)},title:Ac("Edit Dynamic Value","jet-form-builder")},(0,e.createElement)(wc,null)))},Tc=function({children:t,...n}){return(0,e.createElement)("div",{className:"jet-fb flex flex-dir-column gap-default",style:{marginBottom:"1em"},...n},t)},{__:Fc}=wp.i18n,{useState:Oc}=wp.element,{Button:Lc,Flex:Bc}=wp.components,Pc=function(){var t,n;const[r,o]=Xe(),a=qe(),l=null!==(t=r.value)&&void 0!==t?t:{},i=null!==(n=l.groups)&&void 0!==n?n:[],s=i.filter(((e,t)=>0!==t)),[c,u]=Oc(!1);if(!Ye("value"))return null;const d=e=>{o({...r,value:{...l,..."function"==typeof e?e(l):e}})};return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(dn,null,Fc("Or use a condition-dependent value","jet-form-builder")+" ",(0,e.createElement)(Lc,{isLink:!0,onClick:()=>{},label:Fc("Former Set Value functionality, moved from the Conditional Block","jet-form-builder"),showTooltip:!0},"(?)")),Boolean(i.length)?(0,e.createElement)(Tc,null,(0,e.createElement)(Rc,{key:a(i[0].id),current:i[0],update:d,isOpenModal:c,setOpenModal:u}),Boolean(s.length)&&s.map((t=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("b",null,Fc("OR","jet-form-builder")),(0,e.createElement)(Rc,{key:a(t.id),current:t,update:d,isOpenModal:c,setOpenModal:u}))))):null,(0,e.createElement)(Lc,{icon:"plus-alt2",isSecondary:!0,onClick:()=>{const e=B.getRandomID();d({groups:[...i,{id:e,conditions:[{__visible:!0}]}]}),u(e)}},Fc("Add Dynamic Value","jet-form-builder")))},{Button:Mc}=wp.components,{useContext:Dc}=wp.element,{SelectControl:Gc}=wp.components,{useContext:$c,useMemo:Vc}=wp.element,{__:qc}=wp.i18n,Hc=function(){const{currentItem:t,changeCurrentItem:n}=$c(Bi),r=Vc((()=>X(qc("Custom value","jet-form-builder"))),[]);return(0,e.createElement)(Gc,{labelPosition:"side",options:r,label:qc("Choose field","jet-form-builder"),value:t.field,onChange:e=>n({field:e})})},{SelectControl:Uc,TextareaControl:Jc,TextControl:zc,withFilters:Xc}=wp.components,{useContext:Wc,useState:Yc,useEffect:Zc}=wp.element,{__:Kc}=wp.i18n,{addFilter:Qc}=wp.hooks,{rule_types:eu,ssr_callbacks:tu}=window.jetFormValidation,nu=tu.map((({value:e})=>e));function ru(e){var t;const n=eu.findIndex((({value:t})=>t===e)),r=Kc("Enter value","jet-form-builder");return-1===n?r:null!==(t=eu[n]?.control_label)&&void 0!==t?t:r}Qc("jet.fb.advanced.rule.controls","jet-form-builder",(t=>n=>{const{currentItem:r,changeCurrentItem:o}=n,[a,l]=Yc(!1);if("ssr"!==r.type)return(0,e.createElement)(t,{...n});const i=r.value||"custom_jfb_field_validation";return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Uc,{labelPosition:"side",options:B.withPlaceholder(tu,Kc("Custom function","jet-form-builder")),label:Kc("Choose callback","jet-form-builder"),value:r.value,onChange:e=>o({value:e})}),!nu.includes(r.value)&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(zc,{label:Kc("Function name","jet-form-builder"),value:r.value,onChange:e=>o({value:e})}),(0,e.createElement)(dn,null,Kc("Example of registering a function below.")+" ",(0,e.createElement)("a",{href:"javascript:void(0)",onClick:()=>l((e=>!e))},Kc(a?"Hide":"Show","jet-form-builder"))),a&&(0,e.createElement)("pre",null,`/**\n * To get all the values of the fields in the form, you can use the expression:\n * jet_fb_request_handler()->get_request() or $context->get_request()\n *\n * If the field is located in the middle of the repeater, then only\n * jet_fb_request_handler()->get_request(), but $context->get_request() \n * will return the values of all fields of the current repeater element\n *\n * @param $value mixed\n * @param $context \\Jet_Form_Builder\\Request\\Parser_Context\n *\n * @return bool\n */\nfunction ${i}( $value, $context ): bool {\n\t// your logic\n\treturn true;\n}`)))}));const ou=Xc("jet.fb.advanced.rule.controls")((function({currentItem:t,changeCurrentItem:n}){const[r,o]=Yc((()=>ru(t.type)));switch(Zc((()=>{o(ru(t.type))}),[t.type]),t.type){case"equal":case"contain":case"contain_not":case"regexp":case"regexp_not":return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Hc,null),!Boolean(t.field)&&(0,e.createElement)(Hs,{value:t.value,label:r,onChangePreset:e=>n({value:e}),onChangeMacros:e=>{var r;return n({value:(null!==(r=t.value)&&void 0!==r?r:"")+e})}},(({instanceId:r})=>(0,e.createElement)(Jc,{id:r,value:t.value,onChange:e=>n({value:e})}))));default:return null}})),au=function(){const{currentItem:t,changeCurrentItem:n}=Wc(Bi);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Uc,{labelPosition:"side",options:B.withPlaceholder(eu),label:Kc("Rule type","jet-form-builder"),value:t.type,onChange:e=>n({type:e})}),(0,e.createElement)(ou,{currentItem:t,changeCurrentItem:n}),(0,e.createElement)(Jc,{label:Kc("Error message","jet-form-builder"),value:t.message,onChange:e=>n({message:e})}))},{select:lu}=wp.data,iu=function(e){return lu("jet-forms/validation").readRule(e)},{useState:su}=wp.element,{__:cu}=wp.i18n,uu=function(){const[t,n]=Xe(),[r,o]=su((()=>{var e;return null!==(e=t.validation?.rules)&&void 0!==e?e:[]}));return _e((()=>{n((e=>({...e,validation:{...t.validation,rules:r}})))})),(0,e.createElement)(Ns,{state:o},(0,e.createElement)(Vi.Provider,{value:{isSupported:()=>!0,render:({currentItem:t})=>(0,e.createElement)("span",{className:"repeater-item-title",dangerouslySetInnerHTML:{__html:iu(t)}})}},(0,e.createElement)(ds,{items:r},(0,e.createElement)(au,null))),(0,e.createElement)(rs,null,cu("Add Rule","jet-form-builder")))},{createContext:du}=wp.element,mu=du({showModal:!1,setShowModal:()=>{}}),{useContext:pu,useState:fu}=wp.element,{__:hu}=wp.i18n,{Button:gu}=wp.components,Eu=function(){const{setShowModal:t}=pu(mu),[n,r]=Xe(),[o,a]=fu(!1);return(0,e.createElement)("div",{className:"jet-fb p-relative",onMouseOver:()=>a(!0),onMouseOut:()=>a(!1)},(0,e.createElement)(jc,{isHover:o},(0,e.createElement)(gu,{isSmall:!0,isSecondary:!0,icon:"plus-alt2",onClick:()=>{r({validation:{...n.validation,rules:[{__visible:!0}]}}),t((e=>!e))}},hu("Add new","jet-form-builder"))),(0,e.createElement)(xc,null,(0,e.createElement)("span",{"data-title":hu("You have no rules for this field.","jet-form-builder")}),(0,e.createElement)("span",{"data-title":hu("Please click here to add new.","jet-form-builder")})))},{__:bu}=wp.i18n,yu=function({rule:t}){return t.type?(0,e.createElement)(e.Fragment,null,(0,e.createElement)("span",{"data-title":bu("Rule:","jet-form-builder"),dangerouslySetInnerHTML:{__html:iu(t)}}),Boolean(t.message)&&(0,e.createElement)("span",{"data-title":bu("Message:","jet-form-builder"),dangerouslySetInnerHTML:{__html:t.message}})):(0,e.createElement)("span",{"data-title":bu("The rule is not fully configured.","jet-form-builder")})},{useContext:vu,useState:wu}=wp.element,{__:_u}=wp.i18n,{Button:Cu}=wp.components,Su=function({rule:t,index:n=0}){const{setShowModal:r}=vu(mu),[o,a]=Xe(),[l,i]=wu(!1);return(0,e.createElement)("div",{className:"jet-fb p-relative",onMouseOver:()=>i(!0),onMouseOut:()=>i(!1)},(0,e.createElement)(jc,{isHover:l},(0,e.createElement)(Cu,{isSmall:!0,isSecondary:!0,icon:"edit",onClick:()=>{a({validation:{...o.validation,rules:o.validation.rules.map(((e,t)=>(e.__visible=n===t,e)))}}),r((e=>!e))}},_u("Edit","jet-form-builder")),(0,e.createElement)(Cu,{isSmall:!0,isDestructive:!0,icon:"trash",onClick:()=>{a({validation:{...o.validation,rules:o.validation.rules.filter(((e,t)=>t!==n))}})}},_u("Delete","jet-form-builder"))),(0,e.createElement)(xc,null,(0,e.createElement)(yu,{rule:t})))},{__:ku}=wp.i18n,{Children:ju,cloneElement:xu}=wp.element,Au=function(){const[t]=Xe();return t?.validation?.rules?.length?(0,e.createElement)(Tc,null,ju.map(function(t){const n=t.filter(((e,t)=>0!==t));return[(0,e.createElement)(Su,{rule:t[0]}),...n.map(((t,n)=>((t,n)=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("b",null,ku("AND","jet-form-builder")),(0,e.createElement)(Su,{rule:t,index:n})))(t,n+1)))]}(t.validation.rules),xu)):(0,e.createElement)(Eu,null)},{useState:Nu}=wp.element,{__:Iu}=wp.i18n,{useBlockProps:Ru}=wp.blockEditor,{TextControl:Tu,SelectControl:Fu,ToggleControl:Ou,BaseControl:Lu,__experimentalNumberControl:Bu}=wp.components;let{NumberControl:Pu}=wp.components;void 0===Pu&&(Pu=Bu);const{FormToggle:Mu,BaseControl:Du,Flex:Gu}=wp.components,{useInstanceId:$u}=wp.compose;function Vu(){this.action=null,this.hasInList=!1}Vu.prototype.isSupported=function(e,t){return this.getSupportedActions().includes(e.type)},Vu.prototype.isSupportedGlobal=function(){return!1},Vu.prototype.getSupportedActions=function(){return[]},Vu.prototype.setAction=function(e){this.action=e},Vu.prototype.getName=function(){return""},Vu.prototype.getLabel=function(){return""},Vu.prototype.getHelp=function(){return""};const qu=Vu,{useBlockProps:Hu}=wp.blockEditor;function Uu(e=null){this.list=e}Uu.prototype={setList(e){this.list=e},resetID(){for(const e of this.list)e.resetID()},hasType(e){return this.list.some((t=>t.type===e))},add(e){"string"==typeof e&&(e={type:e}),this.list.push(new de(e))}};const Ju=Uu,{useSelect:zu,useDispatch:Xu}=wp.data,Wu=function(){const[e,t]=zu((e=>[e("jet-forms/actions").getCurrentAction(),e("jet-forms/actions").getCurrentSettings()])),{updateCurrentSettings:n}=Xu("jet-forms/actions");return{currentAction:e,currentSettings:t,updateSettings:n}},{useDispatch:Yu}=wp.data,Zu=()=>{const[e,t]=re(),n=(n,r)=>{const o=e.map((e=>n!==e.id?e:{...JSON.parse(JSON.stringify(e)),...r}));t([...o])};return{actions:e,setActions:t,moveAction:(n,r)=>{const o=JSON.parse(JSON.stringify(e[n])),a=JSON.parse(JSON.stringify(e[r]));e.splice(r,1,o),e.splice(n,1,a),t([...e])},deleteAction:n=>{e.splice(n,1),t([...e])},updateActionObj:n,toggleExecute:e=>{var t;n(e.id,{is_execute:!(null===(t=e.is_execute)||void 0===t||t)})},addActionProps:n=>{const r=JSON.parse(JSON.stringify(n));r.id=0>r.id?-1*r.id:r.id,t([...e,{...r}])}}},Ku=(e=!1)=>(0,te.useSelect)((t=>e?t("jet-forms/actions").getAction(e)?.edit:t("jet-forms/actions").getCurrentEdit()),[e]),{useSelect:Qu}=wp.data,{useEffect:ed}=wp.element,{useSelect:td}=wp.data,{useBlockProps:nd}=wp.blockEditor,{useSelect:rd}=wp.data,{CustomSelectControl:od,Icon:ad}=wp.components,{useBlockEditContext:ld}=wp.blockEditor,{Children:id,cloneElement:sd,useContext:cd}=wp.element,{useSelect:ud}=wp.data,{useBlockEditContext:dd}=wp.blockEditor;let{__experimentalToggleGroupControl:md,__experimentalToggleGroupControlOptionIcon:pd,__experimentalToolbarContext:fd,ToggleGroupControl:hd,ToggleGroupControlOptionIcon:gd,ToolbarItem:Ed,ToolbarGroup:bd,ToolbarContext:yd}=wp.components;function vd({value:t}){const{name:n}=dd(),r=cd(yd),[,o]=Xe(),{variations:a,components:l}=ud((t=>{const{getBlockVariations:o}=t("core/blocks"),a=o(n,"block");return{variations:a,components:a.map((t=>{var n;return(null!==(n=r?.currentId)&&void 0!==n?n:r?.baseId)?(0,e.createElement)(Ed,{as:gd,value:t.name,label:t.title,icon:t.icon}):(0,e.createElement)(gd,{value:t.name,label:t.title,icon:t.icon})}))}}),[]);return a.length?(0,e.createElement)(hd,{hideLabelFromVision:!0,onChange:e=>o({...a.find((({name:t})=>t===e)).attributes}),value:t,isBlock:!0},id.map(l,sd)):null}hd=hd||md,gd=gd||pd,yd=yd||fd;const{useSelect:wd}=wp.data,{useBlockEditContext:_d}=wp.blockEditor,{get:Cd}=window._,Sd=function(){return(0,a.useContext)(Mi)},kd=function(e){e=new de(e);const t=(0,te.useSelect)((t=>{const n=t("jet-forms/actions").getAction(e.type);return n?.validators?n.validators:[]}),[e.type]),n=[];for(const r of t){const t=r({settings:e.selfSettings});Array.isArray(t)?n.push(...t):t&&n.push(t)}return n},jd=it(u.Card)({name:"MarginLessCard",class:"mrf8hk8",propsAsIs:!0}),xd=function({className:t="",...n}={}){var r;const{action:o}=Sd(),{currentAction:a,isFixed:l}=(0,te.useSelect)((e=>({currentAction:e("jet-forms/actions").getCurrentAction(),isFixed:e("jet-forms/actions").isFixed(o.type)})),[o.type]),i=kd(o),s=null===(r=o.is_execute)||void 0===r||r;return(0,e.createElement)(jd,{elevation:2,size:"extraSmall",className:at("jet-form-action",t,!l&&"draggable",!s&&"dhuh9j5",a?.id===o.id&&"ci6t613",i.length&&"e1qp558z"),...n})};n(1282);const Ad=it("button")({name:"EventButton",class:"em86g65",propsAsIs:!1});function Nd(t){var n,r;const{slug:o,index:l}=t,{action:i}=(0,a.useContext)(Mi),s=(0,te.useSelect)((e=>e("jet-forms/events").getType(o)),[o]),{updateActionObj:c}=Zu(),u=[null!==(n=s?.title)&&void 0!==n?n:"",(0,d.__)("(Click to delete)","jet-form-builder")].join(" ");return(0,e.createElement)(Ad,{type:"button",title:u,onClick:()=>{i.events.splice(l,1),c(i.id,{...i})}},null!==(r=s?.value)&&void 0!==r?r:o)}const Id=function(t){const{events:n=[]}=t;return n.map(((t,n)=>(0,e.createElement)(Nd,{key:t,slug:t,index:n})))};n(3897);const{CardFooter:Rd}=wp.components,Td=function({children:t,...n}={}){const{action:r}=Sd();return Boolean(r.events?.length)&&(0,e.createElement)(Rd,{style:{flexWrap:"wrap",rowGap:"0.5em"},...n},(0,e.createElement)(Id,{events:r.events}),t)},{applyFilters:Fd}=wp.hooks,{CardHeader:Od}=wp.components,Ld=function({children:t,...n}={}){const{action:r}=Sd(),o=Fd(`jet.fb.section.actions.header.${r.type}`,null,r);return o?(0,e.createElement)(Od,{...n},o,t):null},Bd=window.wp.primitives,Pd=(0,e.createElement)(Bd.SVG,{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(Bd.Path,{d:"M8 7h2V5H8v2zm0 6h2v-2H8v2zm0 6h2v-2H8v2zm6-14v2h2V5h-2zm0 8h2v-2h-2v2zm0 6h2v-2h-2v2z"})),Md=it("span")({name:"ActionLabel",class:"atp3udb",propsAsIs:!1}),Dd=function(){const{deleteAction:t}=Zu(),{action:n,index:r}=Sd(),o=(0,te.useSelect)((e=>e("jet-forms/actions").getAction(n.type)),[]);return Boolean(o)?(0,e.createElement)(Md,null,o.label):(0,e.createElement)(WideButton,{isDestructive:!0,variant:"secondary",onClick:()=>t(r)},(0,d.__)("Action is not registered. Delete","jet-form-builder"))};n(3010);const Gd=(0,e.createElement)(Bd.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(Bd.Path,{d:"m19 7-3-3-8.5 8.5-1 4 4-1L19 7Zm-7 11.5H5V20h7v-1.5Z"})),$d=function(){const{action:t,index:n}=Sd(),{setCurrentAction:r,setMeta:o}=(0,te.useDispatch)("jet-forms/actions"),a=Ku(t.type);return(0,e.createElement)(u.Button,{disabled:!a,size:"small",icon:Gd,label:(0,d.__)("Edit Action","jet-form-builder"),onClick:()=>{r({...t,index:n}),o({index:n,modalType:"settings"})}})},Vd=function(){const{action:t,index:n}=Sd(),{setCurrentAction:r,setMeta:o}=(0,te.useDispatch)("jet-forms/actions"),a=t?.conditions?.length?(0,e.createElement)("span",{className:"dashicon dashicons dashicons-randomize","data-count":t?.conditions.length}):(0,e.createElement)("span",{className:"dashicon dashicons dashicons-randomize"});return(0,e.createElement)(u.Button,{size:"small",icon:a,label:(0,d.__)("Edit Conditions & Events","jet-form-builder"),onClick:()=>{r({...t,index:n}),o({index:n,modalType:"conditions"})}})},qd=(0,e.createElement)(Bd.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)(Bd.Path,{d:"M4.67 10.664s-2.09 1.11-2.917 1.582l.494.87 1.608-.914.002.002c.343.502.86 1.17 1.563 1.84.348.33.742.663 1.185.976L5.57 16.744l.858.515 1.02-1.701a9.1 9.1 0 0 0 4.051 1.18V19h1v-2.263a9.1 9.1 0 0 0 4.05-1.18l1.021 1.7.858-.514-1.034-1.723c.442-.313.837-.646 1.184-.977.703-.669 1.22-1.337 1.563-1.839l.002-.003 1.61.914.493-.87c-1.75-.994-2.918-1.58-2.918-1.58l-.003.005a8.29 8.29 0 0 1-.422.689 10.097 10.097 0 0 1-1.36 1.598c-1.218 1.16-3.042 2.293-5.544 2.293-2.503 0-4.327-1.132-5.546-2.293a10.099 10.099 0 0 1-1.359-1.599 8.267 8.267 0 0 1-.422-.689l-.003-.005Z"})),Hd=(0,e.createElement)(Bd.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)(Bd.Path,{d:"M3.99961 13C4.67043 13.3354 4.6703 13.3357 4.67017 13.3359L4.67298 13.3305C4.67621 13.3242 4.68184 13.3135 4.68988 13.2985C4.70595 13.2686 4.7316 13.2218 4.76695 13.1608C4.8377 13.0385 4.94692 12.8592 5.09541 12.6419C5.39312 12.2062 5.84436 11.624 6.45435 11.0431C7.67308 9.88241 9.49719 8.75 11.9996 8.75C14.502 8.75 16.3261 9.88241 17.5449 11.0431C18.1549 11.624 18.6061 12.2062 18.9038 12.6419C19.0523 12.8592 19.1615 13.0385 19.2323 13.1608C19.2676 13.2218 19.2933 13.2686 19.3093 13.2985C19.3174 13.3135 19.323 13.3242 19.3262 13.3305L19.3291 13.3359C19.3289 13.3357 19.3288 13.3354 19.9996 13C20.6704 12.6646 20.6703 12.6643 20.6701 12.664L20.6697 12.6632L20.6688 12.6614L20.6662 12.6563L20.6583 12.6408C20.6517 12.6282 20.6427 12.6108 20.631 12.5892C20.6078 12.5459 20.5744 12.4852 20.5306 12.4096C20.4432 12.2584 20.3141 12.0471 20.1423 11.7956C19.7994 11.2938 19.2819 10.626 18.5794 9.9569C17.1731 8.61759 14.9972 7.25 11.9996 7.25C9.00203 7.25 6.82614 8.61759 5.41987 9.9569C4.71736 10.626 4.19984 11.2938 3.85694 11.7956C3.68511 12.0471 3.55605 12.2584 3.4686 12.4096C3.42484 12.4852 3.39142 12.5459 3.36818 12.5892C3.35656 12.6108 3.34748 12.6282 3.34092 12.6408L3.33297 12.6563L3.33041 12.6614L3.32948 12.6632L3.32911 12.664C3.32894 12.6643 3.32879 12.6646 3.99961 13ZM11.9996 16C13.9326 16 15.4996 14.433 15.4996 12.5C15.4996 10.567 13.9326 9 11.9996 9C10.0666 9 8.49961 10.567 8.49961 12.5C8.49961 14.433 10.0666 16 11.9996 16Z"})),Ud=function(){var t;const{action:n}=Sd(),r=null===(t=n.is_execute)||void 0===t||t,{toggleExecute:o}=Zu();return(0,e.createElement)(u.Button,{size:"small",icon:r?qd:Hd,label:r?(0,d.__)("Turn off","jet-form-builder"):(0,d.__)("Turn on","jet-form-builder"),onClick:()=>o(n)})},Jd=(0,e.createElement)(Bd.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(Bd.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5.5A2.25 2.25 0 0 0 9.878 7h4.244A2.251 2.251 0 0 0 12 5.5ZM12 4a3.751 3.751 0 0 0-3.675 3H5v1.5h1.27l.818 8.997a2.75 2.75 0 0 0 2.739 2.501h4.347a2.75 2.75 0 0 0 2.738-2.5L17.73 8.5H19V7h-3.325A3.751 3.751 0 0 0 12 4Zm4.224 4.5H7.776l.806 8.861a1.25 1.25 0 0 0 1.245 1.137h4.347a1.25 1.25 0 0 0 1.245-1.137l.805-8.861Z"})),zd=function(){const{index:t}=Sd(),{deleteAction:n}=Zu(),{showPopover:r,setShowPopover:a,ref:l,popoverProps:i}=(0,o.useTriggerPopover)();return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(u.Button,{ref:l,isDestructive:!0,size:"small",icon:Jd,label:(0,d.__)("Delete action","jet-form-builder"),onClick:()=>a((e=>!e))}),r&&(0,e.createElement)(o.PopoverStandard,{placement:"top-end",noArrow:!1,...i},(0,e.createElement)("span",null,(0,d.__)("Delete this action?","jet-form-builder"))," ",(0,e.createElement)(u.Button,{isLink:!0,isDestructive:!0,onClick:()=>n(t)},(0,d.__)("Yes","jet-form-builder"))," / ",(0,e.createElement)(u.Button,{isLink:!0,onClick:()=>a(!1)},(0,d.__)("No","jet-form-builder"))))},Xd=it(ys)({name:"CursoredIcon",class:"c1ebknfq",propsAsIs:!0}),Wd=it(u.Flex)({name:"FlexActionButtons",class:"fbsjjtg",propsAsIs:!0}),Yd=it(u.CardBody)({name:"ActionCardBody",class:"aswd81u",propsAsIs:!0}),Zd=function(){const{action:t}=Sd(),n=(0,te.useSelect)((e=>e("jet-forms/actions").getAction(t.type)),[t.type]);return(0,e.createElement)(Yd,null,(0,e.createElement)(u.Flex,{align:"center",justify:"flex-start"},(0,e.createElement)(Xd,{className:"jfb-action-handle",icon:Pd}),(0,e.createElement)(Dd,null)),(0,e.createElement)(Wd,{justify:"flex-end"},(0,e.createElement)($d,null),!n.disableConditions&&(0,e.createElement)(Vd,null),(0,e.createElement)(Ud,null),(0,e.createElement)(zd,null)))};n(1199);const Kd=it(u.Flex)({name:"StyledFlex",class:"shdicp4",propsAsIs:!0});n(2503);const Qd=(0,e.createElement)(Bd.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(Bd.Path,{d:"M10.5 4v4h3V4H15v4h1.5a1 1 0 011 1v4l-3 4v2a1 1 0 01-1 1h-3a1 1 0 01-1-1v-2l-3-4V9a1 1 0 011-1H9V4h1.5zm.5 12.5v2h2v-2l3-4v-3H8v3l3 4z"})),em=it("h3")({name:"ActionTitle",class:"a1b3hg0z",propsAsIs:!1}),tm=it(ys)({name:"ColoredIcon",class:"cckv027",propsAsIs:!0}),nm=it(u.Flex)({name:"FlexWrapper",class:"fk913ua",propsAsIs:!0}),rm=function({action:t,onClick:n}){var r;const o=t.disabled?u.Disabled:a.Fragment;return(0,e.createElement)(o,null,(0,e.createElement)(nm,{onClick:n,direction:"column",align:"center"},(0,e.createElement)(em,null,t.label),(0,e.createElement)(tm,{icon:null!==(r=t?.icon)&&void 0!==r?r:Qd,size:64}),t?.docHref&&(0,e.createElement)(u.ExternalLink,{href:t?.docHref},(0,d.__)("Documentation","jet-form-builder"))))};n(1167);const om=(0,e.createElement)(Bd.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(Bd.Path,{d:"M11 12.5V17.5H12.5V12.5H17.5V11H12.5V6H11V11H6V12.5H11Z"})),{createSlotFill:am}=wp.components,lm=am("JFBActionsAfterNewButton"),{createSlotFill:im}=wp.components,{Slot:sm,Fill:cm}=im("JFBActionItemDetails");function um({children:t,type:n}){return(0,e.createElement)(cm,null,(({type:e})=>e!==n?null:t))}um.Slot=sm;const dm=um,{__:mm}=wp.i18n,{__:pm}=wp.i18n,{DropdownMenu:fm}=wp.components,{createSlotFill:hm}=wp.components,gm=hm("JFBActionModalHeader"),{useBlockProps:Em,RichText:bm}=wp.blockEditor,{Button:ym}=wp.components,{createContext:vm}=wp.element,wm=vm({}),{useContext:_m}=wp.element,{useState:Cm}=wp.element,{get:Sm}=window._,{useSelect:km,useDispatch:jm}=wp.data,xm=(0,e.createElement)(Bd.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(Bd.Path,{d:"M10.8622 8.04053L14.2805 12.0286L10.8622 16.0167L9.72327 15.0405L12.3049 12.0286L9.72327 9.01672L10.8622 8.04053Z"})),Am=(0,e.createElement)(Bd.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(Bd.Path,{d:"m13.1 16-3.4-4 3.4-4 1.1 1-2.6 3 2.6 3-1.1 1z"})),Nm=document.body.classList.contains("rtl"),Im=(0,e.createElement)(Bd.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(Bd.Path,{d:"M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"})),Rm=function({isSupported:e}){const{currentAction:t,isShowErrors:n}=(0,te.useSelect)((e=>({currentAction:e("jet-forms/actions").getCurrentAction(),isShowErrors:e("jet-forms/actions").getErrorVisibility()})),[]),[r,o]=(0,a.useState)(!1);return{hasError:kd(r||n?t:{}).some(e),setShowError:o}};var Tm;window.JetFBComponents={BaseLabel:Jr,ActionFieldsMap:function({fields:t=[],label:n="[Empty label]",children:l=null,plainHelp:i="",customHelp:s=!1}){return(0,e.createElement)(o.RowControl,{align:"flex-start"},(0,e.createElement)(o.Label,null,n),(0,e.createElement)(o.RowControlEnd,null,s&&"function"==typeof s&&s(),Boolean(i.length)&&(0,e.createElement)("span",{className:"description-controls"},i),t.map((([t,n],o)=>(0,e.createElement)(a.Fragment,{key:`field_in_map_${t+o}`},(0,e.createElement)(r.Provider,{value:{name:t,data:n,index:o}},"function"==typeof l?l({fieldId:t,fieldData:n,index:o}):l))))))},ActionModal:p,ActionModalContext:i,SafeDeleteContext:Oi,RepeaterItemContext:Bi,ActionListItemContext:Mi,RepeaterBodyContext:Gi,RepeaterHeadContext:Vi,RepeaterButtonsContext:Hi,CurrentActionEditContext:pe,ActionFieldsMapContext:r,CurrentPropertyMapContext:_s,BlockValueItemContext:Ji,DynamicPropertySelect:function({dynamic:t=[],parseValue:n=null,children:o=null,properties:a=null}){var l;const{source:i,settings:s,setMapField:c}=Ss(pe);a=null!==(l=a)&&void 0!==l?l:i.properties;const{name:u,index:d}=Ss(r),{fields_map:m={}}=s;function p(e){var r;for(const t of a)if(e===t.value)return e;return n?n(e):null!==(r=t[0])&&void 0!==r?r:""}const[f,h]=Cs((()=>{var e;return p(null!==(e=m[u])&&void 0!==e?e:"")})),g=(0,e.createElement)(ks,{key:u+d,value:f,options:a,help:(()=>{var e;const t=a.find((({value:e})=>e===f));return null!==(e=t?.help)&&void 0!==e?e:""})(),onChange:e=>{const n=p(e);h(n),c({nameField:u,value:t.includes(e)?"":e})},__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0});return(0,e.createElement)(_s.Provider,{value:{FieldSelect:g,property:f}},o&&o,!o&&g)},SafeDeleteToggle:function(t){const[n,r]=Wi(!0);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(zi,{label:Xi("Safe deleting","jet-form-builder"),checked:n,onChange:r}),(0,e.createElement)(Oi.Provider,{value:n},t.children))},RepeaterAddNew:rs,RepeaterAddOrOperator:function(t){var n;const{onSetState:r,functions:o,children:a}=t,{addNewItem:l}=null!==(n=null!=o?o:Ki(r))&&void 0!==n?n:Dc(es);return(0,e.createElement)(Mc,{isSecondary:!0,icon:"randomize",onClick:()=>l({__visible:!1,or_operator:!0})},a)},Repeater:ds,RequestButton:y,ValidateButton:function({initialValid:t=null,label:n,ajaxArgs:r={},onValid:o=(()=>{}),onInvalid:a=(()=>{})}){const[l,i]=C({}),[s,c,u,d]=_(t||null);return(0,e.createElement)(y,{ajaxArgs:r,label:n,onLoading:d,onSuccessRequest:e=>{c(),o(e),i({})},onFailRequest:()=>{u(),a(),i({isDestructive:!0})},className:s,...l},(0,e.createElement)("i",{className:"dashicons"}))},RequestLoadingButton:function({label:t,ajaxArgs:n={},onSuccessRequest:r=(()=>{}),onFailRequest:o=(()=>{})}){const[a,l,i]=ae();return(0,e.createElement)(y,{ajaxArgs:n,label:t,onLoading:l,onSuccessRequest:e=>{i(),r(e)},onFailRequest:()=>{i(),o()},className:a},(0,e.createElement)("i",{className:"dashicons"}))},WrapperRequiredControl:function({children:t,labelKey:n="label",requiredKey:o="required",helpKey:a="help",field:l=[]}){let{name:i,data:s}=h(r);return l.length&&([i,s]=l),(0,e.createElement)("div",{className:"jet-user-meta__row",key:"user_meta_"+i},(0,e.createElement)("div",{className:"jet-field-map__row-label"},(0,e.createElement)("span",{className:"fields-map__label"},s.hasOwnProperty(n)&&s[n]&&s[n],!s.hasOwnProperty(n)&&s),s.hasOwnProperty(o)&&s[o]&&(0,e.createElement)("span",{className:"fields-map__required"}," *"),s[a]&&(0,e.createElement)("p",{className:"components-base-control__help",style:{color:"rgb(117, 117, 117)",margin:"1em 0 0 0"}},(0,e.createElement)(f,null,s[a]))),t)},DynamicPreset:ft,JetFieldsMapControl:bt,FieldWithPreset:function({children:t=null,ModalEditor:n,triggerClasses:r=[],baseControlProps:o={}}){const[a,l]=_t(!1),i=()=>{l((e=>!e))},s=["jet-form-dynamic-preset__trigger",...r].join(" ");return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(wt,{className:"jet-form-dynamic-preset",...o},t,(0,e.createElement)("div",{className:s,onClick:i},(0,e.createElement)(vt,{viewBox:"0 0 54 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)(yt,{d:"M42.6396 26.4347C37.8682 27.3436 32.5666 28.0252 27.1894 28.0252C21.8121 28.0252 16.4348 27.3436 11.7391 26.4347C6.96774 25.4502 3.18093 23.8597 0.37868 21.9663L0.37868 28.0252C0.37868 29.5399 1.59046 31.1304 3.78682 32.4179C5.98317 33.7054 9.46704 34.9172 13.6325 35.5988C17.798 36.2805 22.115 36.8106 27.1894 36.8106C32.2637 36.8106 36.6564 36.5077 40.7462 35.5988C44.8359 34.69 48.3198 33.7054 50.5162 32.4179C52.7125 31.1304 54 29.5399 54 28.0252L54 21.9663C51.122 23.8597 47.3352 25.4502 42.6396 26.4347ZM42.6396 53.5484C37.8682 54.5329 32.5666 55.1388 27.1894 55.1388C21.8121 55.1388 16.4348 54.5329 11.7391 53.5484C7.04348 52.5638 3.18093 51.0491 0.378682 49.1556L0.378682 55.1388C0.378683 56.7293 1.59046 58.3197 3.78682 59.5315C6.36186 60.819 9.46705 62.1066 13.6325 62.7125C17.7223 63.697 22.115 64 27.1894 64C32.2637 64 36.6564 63.697 40.7462 62.7125C44.8359 61.8036 48.3198 60.819 50.5162 59.5315C52.7125 57.9411 54 56.7293 54 54.8359L54 48.8527C51.122 51.0491 47.3352 52.2608 42.6396 53.5484ZM42.6396 39.9915C37.8682 40.9004 32.5666 41.582 27.1894 41.582C21.8121 41.582 16.4348 40.9004 11.7391 39.9915C6.96774 39.007 3.18093 37.4922 0.378681 35.5988L0.378681 41.582C0.378681 43.1725 1.59046 44.6872 3.78682 45.9747C6.36185 47.2622 9.46705 48.474 13.6325 49.1556C17.7223 50.0645 22.115 50.3674 27.1894 50.3674C32.2637 50.3674 36.6564 50.0645 40.7462 49.1556C44.8359 48.1711 48.3198 47.2622 50.5162 45.9747C52.7125 44.3843 54 43.1725 54 41.582L54 35.5988C51.122 37.4922 47.3352 39.007 42.6396 39.9915ZM40.4432 2.12337C36.3535 1.13879 31.885 0.835848 26.8864 0.835849C21.8878 0.835849 17.4194 1.13879 13.2539 2.12337C9.08836 3.10794 5.68022 4.01678 3.48387 5.3043C1.28751 6.59181 -3.4782e-06 8.10654 -3.33916e-06 9.697L-2.95513e-06 14.0897C-2.81609e-06 15.6802 1.28752 17.2706 3.48387 18.5582C6.05891 19.7699 9.1641 21.0575 13.2539 21.6633C17.3436 22.2692 21.8121 22.9509 26.8864 22.9509C31.9607 22.9509 36.3535 22.9509 40.4432 22.345C44.533 21.7391 48.0169 20.4516 50.2132 19.164C52.7125 17.5736 54 15.9831 54 14.3927L54 9.99995C54 8.40948 52.7125 6.81902 50.5162 5.60724C48.3198 4.39546 44.533 2.72926 40.4432 2.12337Z",fill:"#7E8993"})))),a&&(0,e.createElement)(p,{onRequestClose:i,classNames:["width-60"],title:"Edit Preset"},(t=>(0,e.createElement)(n,{...t}))))},GlobalField:tt,AvailableMapField:function({fieldsMap:t,field:n,index:r,value:o,onChangeValue:a,isMapFieldVisible:l}){let i=null;t||(t={}),i=t[n],i&&"object"==typeof i||(i={});const s=({field:t,name:n,index:r,fIndex:o,children:a})=>(0,e.createElement)(jt,{key:t+n+r+o,size:"extraSmall",style:{marginBottom:"10px"}},(0,e.createElement)(At,null,(0,e.createElement)("span",{className:"jet-label-overflow"},t)),(0,e.createElement)(xt,{key:t+n+r+o,className:"jet-form-preset__fields-map-item"},a));return(0,e.createElement)(React.Fragment,{key:`map_field_preset_${n+r}`},window.JetFormEditorData.presetConfig.map_fields.map(((c,u)=>{const d={field:n,name:c.name,index:r,fIndex:u},m="control_"+n+c.name+r+u;switch(c.type){case"text":return l(o,c,n)&&function({field:t,name:n,index:r,fIndex:o},a){return(0,e.createElement)(jt,{key:t+n+r+o,size:"extraSmall",style:{marginBottom:"10px"}},(0,e.createElement)(At,null,(0,e.createElement)("span",{className:"jet-label-overflow"},t)),(0,e.createElement)(xt,{key:t+n+r+o,className:"jet-form-preset__fields-map-item"},a))}(d,(0,e.createElement)(Ct,{key:m+"TextControl",placeholder:c.label,value:i[c.name],onChange:e=>{i[c.name]=e,a({...t,[n]:i},"fields_map")},__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}));case"select":return l(o,c,n)&&(0,e.createElement)(s,{...d,key:m},(0,e.createElement)(St,{options:c.options,value:i[c.name],onChange:e=>{i[c.name]=e,a({...t,[n]:i},"fields_map")},__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}));case"custom_select":return l(o,c,n)&&(0,e.createElement)(s,{...d,key:m},(0,e.createElement)(kt,{options:c.options,onChange:({selectedItem:e})=>{i[c.name]=e.key,a({...t,[n]:i},"fields_map")},value:c.options.find((e=>e.key===i[c.name]))}));case"grouped_select":return l(o,c,n)&&(0,e.createElement)(s,{...d,key:m},(0,e.createElement)(ct,{options:c.options,value:i[c.name],onChange:e=>{i[c.name]=e,a({...t,[n]:i},"fields_map")}}))}})))},MapField:ut,FieldWrapper:function(t){const{attributes:n,children:r,wrapClasses:o=[],valueIfEmptyLabel:a="",setAttributes:l,childrenPosition:i="between"}=t,s=qe(),c=we("_jf_args"),u=Gt((function(){Bt(n,l)}));function d(){return(0,e.createElement)(Pt.VisualLabel,null,Vt($t("input label:","jet-form-builder")),(0,e.createElement)("div",{className:"jet-form-builder__label"},(0,e.createElement)(Mt,{key:s("rich-label"),placeholder:"Label...",allowedFormats:[],value:n.label?n.label:a,onChange:e=>l({label:e}),isSelected:!1,...u}),n.required&&(0,e.createElement)("span",{className:"jet-form-builder__required"},c.required_mark?c.required_mark:"*")))}function m(){return(0,e.createElement)("div",{className:"jet-form-builder__desc--wrapper"},Vt($t("input description:","jet-form-builder")),(0,e.createElement)(Pt,{key:"custom_help_description",className:"jet-form-builder__desc"},(0,e.createElement)("div",{className:"components-base-control__help"},(0,e.createElement)(Mt,{key:s("rich-description"),tagName:"small",placeholder:"Description...",allowedFormats:[],value:n.desc,onChange:e=>l({desc:e}),style:{marginTop:"0px"}}))))}return"row"===c.fields_layout&&o.push("jet-form-builder-row__flex"),(0,e.createElement)(Pt,{key:s("placeHolder_block"),className:O("jet-form-builder__field-wrap","jet-form-builder-row",o)},"row"!==c.fields_layout&&(0,e.createElement)(e.Fragment,null,"top"===i&&r,d(),"between"===i&&r,m(),"bottom"===i&&r),"row"===c.fields_layout&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"jet-form-builder-row__flex--label"},d(),m()),(0,e.createElement)("div",{className:"jet-form-builder-row__flex--content"},r)))},MacrosInserter:function({children:t,fields:n,onFieldClick:r,customMacros:o,zIndex:a=1e6,...l}){const[i,s]=Jt((()=>!1));return(0,e.createElement)("div",{className:"jet-form-editor__macros-inserter"},(0,e.createElement)(qt,{isTertiary:!0,isSmall:!0,icon:i?"no-alt":"admin-tools",label:"Insert macros",className:"jet-form-editor__macros-trigger",onClick:()=>{s((e=>!e))}}),i&&(0,e.createElement)(Ht,{style:{zIndex:a},position:"bottom left",...l},n.length&&(0,e.createElement)(Ut,{title:"Form Fields"},n.map((t=>(0,e.createElement)("div",{key:"field_"+t.name},(0,e.createElement)(qt,{isLink:!0,onClick:()=>{r(t.name)}},"%"+t.name+"%"))))),o&&(0,e.createElement)(Ut,{title:"Custom Macros"},o.map((t=>(0,e.createElement)("div",{key:"macros_"+t},(0,e.createElement)(qt,{isLink:!0,onClick:()=>{r(t)}},"%"+t+"%")))))))},RepeaterWithState:function({children:t,ItemHeading:n,repeaterClasses:r=[],repeaterItemClasses:o=[],newItem:a,addNewButtonLabel:l="Add New",items:i=[],isSaveAction:s,onSaveItems:c,onUnMount:u,onAddNewItem:d,onRemoveItem:m,help:p={helpSource:{},helpVisible:()=>!1,helpKey:""},additionalControls:f=null}){const h=["jet-form-builder__repeater-component",...r].join(" "),g=["jet-form-builder__repeater-component-item",...o].join(" "),[E,b]=nn([]);rn((()=>{b(i&&i.length>0?i.map((e=>(e.__visible=!1,e))):[{...a,__visible:!0}])}),[]);const[y,v]=nn(!0),w=(e,t)=>{b((n=>{const r=JSON.parse(JSON.stringify(n));return r[t]={...n[t],...e},r}))},_=({oldIndex:e,newIndex:t})=>{b((n=>{const r=JSON.parse(JSON.stringify(n));return[r[t],r[e]]=[r[e],r[t]],r}))},C=e=>!(e<E.length-1);rn((()=>{if(!0===s){for(const e in E)for(const t in E[e])t.startsWith("__")&&delete E[e][t];c(E),u()}else!1===s&&u()}),[s]);const S=e=>`jet-form-builder-repeater__item_${e}`,{helpSource:k,helpVisible:j,helpKey:x}=p,A=j(E)&&k&&k[x];return(0,e.createElement)("div",{className:h,key:"jet-form-builder-repeater"},A&&(0,e.createElement)("p",null,k[x].label),0<E.length&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(en,null,(0,e.createElement)(tn,null,(0,e.createElement)(Qt,{label:zt("Safe deleting","jet-form-builder"),checked:y,onChange:v})),(0,e.createElement)(tn,{style:{flex:"unset",marginBottom:"1em"}}))),f,E.map(((r,o)=>(0,e.createElement)(Yt,{elevation:2,className:g,key:S(o)},(0,e.createElement)(Kt,{className:"repeater__item__header"},(0,e.createElement)("div",{className:"repeater-item__left-heading"},(0,e.createElement)(Wt,{className:"repeater-action-buttons"},(0,e.createElement)(Xt,{isSmall:!0,icon:r.__visible?"no-alt":"edit",onClick:()=>(e=>{b((t=>{const n=JSON.parse(JSON.stringify(t));return n[e].__visible=!n[e].__visible,n}))})(o),className:"repeater-action-button"}),(0,e.createElement)(Xt,{isSmall:!0,isSecondary:!0,disabled:!Boolean(o),icon:"arrow-up-alt2",onClick:()=>(e=>{_({oldIndex:e,newIndex:e-1})})(o),className:"repeater-action-button"}),(0,e.createElement)(Xt,{isSmall:!0,isSecondary:!0,disabled:C(o),icon:"arrow-down-alt2",onClick:()=>(e=>{_({oldIndex:e,newIndex:e+1})})(o),className:"repeater-action-button"})),(0,e.createElement)("span",{className:"repeater-item-title"},n&&(0,e.createElement)(n,{currentItem:r,index:o,changeCurrentItem:e=>w(e,o)}),!n&&`#${o+1}`)),(0,e.createElement)(Wt,null,(0,e.createElement)(Xt,{isSmall:!0,isSecondary:!0,onClick:()=>(e=>{b((t=>{const n=JSON.parse(JSON.stringify(t)),[r,o]=[n.slice(0,e+1),n.slice(e+1)];return[...r,n[e],...o]}))})(o)},zt("Clone","jet-form-builder")),(0,e.createElement)(Xt,{isSmall:!0,isSecondary:!0,isDestructive:!0,onClick:()=>(e=>{y&&!(e=>confirm(zt(`Are you sure you want to remove item ${e+1}?`,"jet-form-builder")))(e)||m&&!m(e,E)||b((t=>{const n=JSON.parse(JSON.stringify(t));return n.splice(e,1),n}))})(o)},zt("Delete","jet-form-builder")))),r.__visible&&(0,e.createElement)(Zt,{className:"repeater-item__content"},t&&(0,e.createElement)(React.Fragment,{key:`repeater-component__item_${o}`},"function"==typeof t&&t({currentItem:r,changeCurrentItem:e=>w(e,o),currentIndex:o}),"function"!=typeof t&&t),!t&&"Set up your Repeater Template, please.")))),1<E.length&&(0,e.createElement)(e.Fragment,null,f,(0,e.createElement)(Qt,{className:"jet-control-clear",label:zt("Safe deleting"),checked:y,onChange:v})),(0,e.createElement)(Xt,{isSecondary:!0,onClick:()=>{return e=a,d&&d(e,E),void b((t=>[...t,{...e,__visible:!0}]));var e}},l))},AdvancedFields:function(){return(0,e.createElement)(jn,null,(0,e.createElement)(ln,null),(0,e.createElement)(un,null),(0,e.createElement)(bn,null),(0,e.createElement)(wn,null),(0,e.createElement)(Sn,null))},GeneralFields:function({hasMacro:t=!0}){return(0,e.createElement)(co,{title:uo("General","jet-form-builder"),key:"jet-form-general-fields"},(0,e.createElement)(Rn,null),(0,e.createElement)(qn,null),(0,e.createElement)(Jn,null),(0,e.createElement)(so,{hasMacro:t}))},ToolBarFields:function({children:t=null}){return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(yo,null,t),(0,e.createElement)(ko,null))},FieldControl:function(t){let{setAttributes:n,attributes:r}=t;const o=function({type:e,attributes:t,attrsSettings:n={}}){const r=Ru()["data-type"],o=Go();return o[e]?o[e].attrs.filter((({help:e="",attrName:o,label:a,...l})=>{const i=o in t,s=(e=>{if(!e.condition)return!0;if(r&&e.condition.blockName){if("string"==typeof e.condition.blockName&&r!==e.condition.blockName)return!1;if("object"==typeof e.condition.blockName&&e.condition.blockName.length&&!e.condition.blockName.includes(r))return!1}return!(!function(){if("object"!=typeof e.condition.attr)return!0;const{operator:n="and",items:r={}}=e.condition.attr;if("or"===n.toLowerCase())for(const e in r)if(r[e]===t[e])return!0;return"and"!==n.toLowerCase()||function(){for(const e in r)if(r[e]!==t[e])return!1;return!0}()}()||"string"==typeof e.condition.attr&&e.condition.attr&&!t[e.condition.attr]||"string"==typeof e.condition&&!t[e.condition])})(l),c=o in n&&"show"in n[o]&&!1===n[o].show;return i&&s&&!c})):[]}(t),a=(e,t)=>{n({[t]:e})};return o.map((({help:t="",attrName:n,label:o,...l})=>{switch(l.type){case"text":return(0,e.createElement)(Tu,{key:`${l.type}-${n}-TextControl`,label:o,help:t,value:r[n],onChange:e=>a(e,n)});case"select":return(0,e.createElement)(Fu,{key:`${l.type}-${n}-SelectControl`,label:o,help:t,value:r[n],options:l.options,onChange:e=>{a(e,n)}});case"toggle":return(0,e.createElement)(Ou,{key:`${l.type}-${n}-ToggleControl`,label:o,help:t,checked:r[n],onChange:e=>{a(e,n)}});case"number":return(0,e.createElement)(Lu,{key:`${l.type}-${n}-BaseControl`,label:o},(0,e.createElement)(Pu,{key:`${l.type}-${n}-NumberControl`,value:r[n],onChange:e=>{a(Number(e),n)}}),(0,e.createElement)("p",{className:"components-base-control__help",style:{color:"rgb(117, 117, 117)"}},t))}}))},PlaceholderMessage:function({style:t,children:n}){const r={fontSize:"1.5em",padding:"2em",textAlign:"center",backgroundColor:"aliceblue",...t};return(0,e.createElement)("p",{style:r},n)},HorizontalLine:function(t){return(0,e.createElement)("hr",{style:{...t}})},FieldSettingsWrapper:function(t){const{title:n,children:r}=t,o=Mo()["data-type"].replace("/","-"),a=Po(`jet.fb.render.settings.${o}`,null);return(r||a)&&(0,e.createElement)(Bo,{title:n||Lo("Field","jet-form-builder")},r,a)},ActionMessages:function(t){const{settings:n,source:r,getMapField:o,setMapField:a,messages:l,onChangeSetting:i}=t;return To((()=>{const e=n.messages||{},t={};Object.entries(r.__messages).forEach((([n,r])=>{e[n]||(t[n]=r.value)})),t&&i({...e,...t},"messages")}),[]),(0,e.createElement)(Io,{label:Fo("Messages Settings:","jet-form-builder"),key:"messages_settings_fields"},(0,e.createElement)("div",{className:"jet-user-fields-map__list"},n.messages&&Object.entries(n.messages).map((([t,n],r)=>{return(0,e.createElement)(Oo,{key:"message_"+t+r,type:t,label:l(t).label,value:(i=t,o({name:i,source:"messages"})),onChange:e=>{a({value:e,nameField:t,source:"messages"})}});var i}))))},GroupedSelectControl:ct,BaseHelp:dn,ValidateButtonWithStore:function(t){const n=Jo((e=>e("jet-forms/actions").getCurrentAction()),[]);return(0,e.createElement)(Uo,{id:n.id,...t})},GatewayFetchButton:Qo,ValidationToggleGroup:function({excludeBrowser:t=!1}){var n;const[r,o]=Xe(),a=qe();return hs=hs.filter((({value:e})=>"browser"!==e||!t)),(0,e.createElement)(ms,{onChange:e=>o((t=>({...t,validation:{...r.validation,type:e}}))),value:null!==(n=r.validation?.type)&&void 0!==n?n:"",label:fs("Validation type","jet-form-builder"),isBlock:!0,isAdaptiveWidth:!1},(0,e.createElement)(ps,{label:fs("Inherit","jet-form-builder"),value:"","aria-label":fs("Inherit from form's args","jet-form-builder"),showTooltip:!0}),hs.map((t=>(0,e.createElement)(ps,{key:a(t.value+"_key"),label:t.label,value:t.value,"aria-label":t.title,showTooltip:!0}))))},ValidationBlockMessage:function({name:t}){var n,r,o;const a=qe(),[l,i]=Xe(),[s]=ne("_jf_validation","{}",[]),c=!l.validation?.type,u=c?null!==(n=s?.messages)&&void 0!==n?n:{}:null!==(r=l.validation?.messages)&&void 0!==r?r:{},d=Es(t);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(bs,{disabled:c,key:a("massage_"+t),label:d?.label,help:d?.help,value:null!==(o=u[t])&&void 0!==o?o:d?.initial,onChange:e=>i((n=>({...n,validation:{...l.validation,messages:{...u,[t]:e}}})))}))},ValidationMetaMessage:function({message:t,update:n,value:r=null,help:a=null}){const l=Es(t.id);return(0,e.createElement)(u.Flex,{direction:"column"},(0,e.createElement)(u.Flex,null,(0,e.createElement)(o.Label,{htmlFor:t.id},l.label),(0,e.createElement)(u.Flex,{style:{width:"auto"}},t.blocks.map((t=>(0,e.createElement)(u.Tooltip,{key:"message_block_item"+t.title,text:t.title,delay:200,position:"top center"},(0,e.createElement)(vs,{icon:t.icon})))))),(0,e.createElement)(u.TextControl,{className:o.ClearBaseControlStyle,id:t.id,help:null!=a?a:l?.help,value:null!=r?r:l?.initial,onChange:e=>n((n=>({...n,[t.id]:e}))),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}))},ActionFetchButton:As,DynamicValues:Pc,EditAdvancedRulesButton:function(){const[t,n]=Nu(!1);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(mu.Provider,{value:{showModal:t,setShowModal:n}},(0,e.createElement)("div",{className:"jet-fb mb-24"},(0,e.createElement)(Au,null))),t&&(0,e.createElement)(p,{title:Iu("Edit Advanced Rules","jet-form-builder"),classNames:["width-60"],onRequestClose:()=>n(!1)},(0,e.createElement)(uu,null)))},RepeaterStateContext:es,RepeaterState:Ns,BlockLabel:Rn,BlockName:qn,BlockDescription:Jn,BlockDefaultValue:so,BlockPlaceholder:ln,BlockAddPrevButton:un,BlockPrevButtonLabel:bn,BlockVisibility:wn,BlockClassName:Sn,BlockAdvancedValue:function({help:t,label:n,hasMacro:r=!0,...o}){return(0,e.createElement)("div",{...o},(0,e.createElement)(so,{help:t,label:n,hasMacro:r}),(0,e.createElement)("hr",null),(0,e.createElement)(Pc,null))},MacrosFields:Hr,MacrosButtonTemplate:er,MacrosFieldsTemplate:gr,ShowPopoverContext:Wn,PopoverItem:or,PresetButton:zn,ConditionItem:nc,AdvancedInspectorControl:Yr,AdvancedModalControl:Hs,ClientSideMacros:no,ToggleControl:function t({checked:n=!1,disabled:r=!1,onChange:o=(()=>{}),children:a=null,help:l=null,flexLabelProps:i={},outsideLabel:s=null}){const c=l,u=`inspector-jfb-toggle-control-${$u(t)}`;return(0,e.createElement)(Du,{id:u},(0,e.createElement)(Gu,{direction:"column"},(0,e.createElement)(Gu,{gap:3,align:"flex-start",justify:"flex-start",...i},(0,e.createElement)(Mu,{id:u,checked:n,onChange:e=>o(e.target.checked),disabled:r}),(0,e.createElement)("label",{htmlFor:u},a),s),"string"==typeof c?(0,e.createElement)(dn,null,c):c&&(0,e.createElement)(c,null)))},BaseAction:de,BaseComputedField:qu,DetailsContainer:xc,HoverContainer:jc,ContainersList:Tc,HumanReadableConditions:kc,ConditionsRepeaterContextProvider:lc,ServerSideMacros:function({children:t}){const n=ye();return(0,e.createElement)(nr.Provider,{value:{afterFields:n}},t)},ActionsFlow:Ju,SelectVariations:function({value:t}){const{name:n}=ld(),[,r]=Xe(),{variations:o,rawVariations:a}=rd((t=>{const{getBlockVariations:r}=t("core/blocks"),o=r(n,"block"),a=[],l={};for(const t of o)a.push({key:t.name,name:(0,e.createElement)("span",{className:"jet-fb flex gap-1em ai-center"},(0,e.createElement)(ad,{icon:t.icon}),t.title)}),l[t.name]=t;return{variations:a,rawVariations:l}}),[]);return o.length?(0,e.createElement)(od,{__nextUnconstrainedWidth:!0,hideLabelFromVision:!0,options:o,size:"__unstable-large",onChange:({selectedItem:e})=>r({...a[e.key].attributes}),value:o.find((({key:e})=>e===t))}):null},ToggleGroupVariations:function(t){const n=cd(yd);return n?.currentId?(0,e.createElement)(bd,{className:"jet-fb toggle-toolbar-group"},(0,e.createElement)(vd,{...t})):(0,e.createElement)(vd,{...t})},AttributeHelp:hn,ActionMessagesSlotFills:Ao,ActionsAfterNewButtonSlotFill:lm,ListActionItem:function(){return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(xd,null,(0,e.createElement)(Ld,null),(0,e.createElement)(Zd,null),(0,e.createElement)(Td,null)))},ActionItemWrapper:xd,ActionItemHeader:Ld,ActionItemFooter:Td,EditActionSettingsButton:$d,AllProActionsLink:function(){return!JetFormEditorData.isActivePro&&(0,e.createElement)(Kd,{gap:3,justify:"center"},(0,e.createElement)("a",{href:JetFormEditorData.utmLinks.allProActions,target:"_blank",rel:"external noreferrer noopener",style:{textDecoration:"none"}},(0,e.createElement)(u.Flex,null,(0,d.__)("All PRO Actions","jet-form-builder"),(0,e.createElement)(ys,{size:20,icon:(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",fill:"currentColor"},(0,e.createElement)("path",{d:"M19.5 4.5h-7V6h4.44l-5.97 5.97 1.06 1.06L18 7.06v4.44h1.5v-7Zm-13 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-3H17v3a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h3V5.5h-3Z"}))}))))},AddActionButton:function(){const{actions:t,setActions:n}=Zu(),{openActionSettings:r,showActionsInserterModal:l}=(0,te.useDispatch)("jet-forms/actions"),{category:i,categories:s,actionTypes:c,setCategory:m}=(()=>{const[e,t]=(0,a.useState)(""),{actionTypes:n,categories:r}=(0,te.useSelect)((t=>{const n=t("jet-forms/actions");return{actionTypes:n.getActions().filter((t=>!e||!t?.category&&"misc"===e||t.category===e)),categories:[{value:"",label:(0,d.__)("All","jet-form-builder")},...n.getCategories().map((e=>({value:e.type,label:e.label}))),{value:"misc",label:(0,d.__)("Misc","jet-form-builder")}]}}),[e]);return{category:e,categories:r,actionTypes:n,setCategory:t}})(),p=(0,te.useSelect)((e=>e("jet-forms/actions").isShowActionsInserterModal()),[]);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(u.Button,{isPrimary:!0,onClick:()=>l(!0),icon:om},(0,d.__)("New Action","jet-form-builder")),p&&(0,e.createElement)(o.ResponsiveModal,{title:(0,d.__)("Add new action","jet-form-builder"),onRequestClose:()=>l(!1)},(0,e.createElement)(u.SelectControl,{value:i,onChange:m,options:s}),(0,e.createElement)(u.__experimentalGrid,{columns:3},c.map((o=>(0,e.createElement)(rm,{key:o.type,action:o,onClick:e=>((e,o)=>{if(e.target?.classList?.contains?.("components-external-link"))return;const a={...new de({type:o.type})};n([...t,a]),l(!1),r({item:a,index:t.length,scenario:"inserter"})})(e,o)}))))))},EditActionConditionsButton:Vd,ActionItemDetails:function(){const{action:t}=Sd();return(0,e.createElement)(er,{variant:null,isSmall:!1,icon:"editor-help",label:mm("Show details about selected action","jet-form-builder")},(0,e.createElement)("div",{className:"jet-fb p-06em flex flex-dir-column gap-default"},(0,e.createElement)("div",{"data-title":mm("ID:","jet-form-builder")},(0,e.createElement)("b",null,t.id)),(0,e.createElement)(dm.Slot,{fillProps:{type:t.type}})))},ActionItemDetailsSlotFill:dm,ActionItemMoreButton:function({exclude:t=[]}){var n;const{action:r,index:o}=Sd(),{moveAction:a,deleteAction:l,actions:i,toggleExecute:s}=Zu(),c=null===(n=r.is_execute)||void 0===n||n,u=[];return-1===t.indexOf("up")&&u.push({title:pm("Up","jet-form-builder"),icon:"arrow-up",disabled:0===o,onClick:()=>{a(o,o-1)}}),-1===t.indexOf("down")&&u.push({title:pm("Down","jet-form-builder"),icon:"arrow-down",disabled:i.length-1===o,onClick:()=>{a(o,o+1)}}),-1===t.indexOf("delete")&&u.push({title:pm("Delete","jet-form-builder"),icon:"trash",onClick:()=>{l(o)}}),-1===t.indexOf("off-on")&&u.push({title:pm(c?"Turn off":"Turn on","jet-form-builder"),icon:c?"no-alt":"yes",onClick:()=>{s(r)}}),(0,e.createElement)(fm,{icon:"ellipsis",label:pm("Edit, move or delete","jet-form-builder"),controls:u})},ActionTitle:Dd,ActionModalHeaderSlotFill:gm,ActionButtonPlaceholder:function(t){const n=Em();return(0,e.createElement)("div",{...n},(0,e.createElement)("div",{className:t.wrapperClasses.join(" ")},(0,e.createElement)(ym,{isPrimary:!0,className:t.buttonClasses.join(" ")},(0,e.createElement)(bm,{placeholder:"Input Submit label...",allowedFormats:[],value:t.attributes.label,onChange:e=>t.setAttributes({label:e})}))))},ActionModalFooterSlotFill:c,ScopedAttributesProvider:function({children:t}){const[n,r]=Xe(),[o,a]=Cm((()=>n));return(0,e.createElement)(wm.Provider,{value:{realAttributes:n,setRealAttributes:r,attributes:o,setAttributes:a}},t)},ActionItemBody:Zd,ActionModalBackButton:function(){const{deleteAction:t}=Zu(),{index:n}=Sd(),{ref:r,setShowPopover:a,showPopover:l,popoverProps:i}=(0,o.useTriggerPopover)(),{showActionsInserterModal:s}=(0,te.useDispatch)("jet-forms/actions");return(0,te.useSelect)((e=>"inserter"===e("jet-forms/actions").getOpenScenario()),[])&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(u.Button,{ref:r,variant:"tertiary",icon:Nm?xm:Am,onClick:()=>a((e=>!e))},(0,d.__)("Back","jet-form-builder")),l&&(0,e.createElement)(o.PopoverStandard,{placement:"bottom",noArrow:!1,...i},(0,e.createElement)("span",null,(0,d.__)("Are you sure? All your changes will be lost.","jet-form-builder"))," ",(0,e.createElement)(u.Button,{isLink:!0,isDestructive:!0,onClick:()=>{t(n),s(!0)}},(0,d.__)("Yes","jet-form-builder"))," / ",(0,e.createElement)(u.Button,{isLink:!0,onClick:()=>a(!1)},(0,d.__)("No","jet-form-builder"))))},ActionModalCloseButton:function(){const{onRequestClose:t}=(0,a.useContext)(i);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(u.Button,{icon:Im,onClick:t,label:(0,d.__)("Close","jet-form-builder")}))},ValidatorProvider:function({isSupported:e,children:t}){return t(Rm({isSupported:e}))}},window.JetFBActions={addAction:function(e,t){wp.data.dispatch("jet-forms/actions").addCallback(e,t)},withPreset:Ke,getInnerBlocks:W,getAvailableFieldsString:function(e){const t=q([e]);let n=[];return t.forEach((function(e){n.push("%FIELD::"+e+"%")})),H("Available fields: ","jet-form-builder")+n.join(", ")},getAvailableFields:q,getFormFieldsBlocks:V,getFieldsWithoutCurrent:X,gatewayAttr:Z,gatewayLabel:K,registerGateway:function(e,t,n="cred"){window.JetFBGatewaysList=window.JetFBGatewaysList||{},window.JetFBGatewaysList[e]=window.JetFBGatewaysList[e]||{},window.JetFBGatewaysList[e][n]=t},Tools:B,event:e=>{const t=new Event(e);return()=>document.dispatchEvent(t)},listen:(e,t)=>{document.addEventListener(e,t)},renderGateway:ee,renderGatewayWithPlaceholder:function(e,t,n="cred",r=null){return Q(e,n)?(t.Placeholder=r,ee(e,t,n)):r},globalTab:ke,versionCompare:function(e,t,n){try{return function(e){switch(e){case">":return S;case">=":return j;case"<":return k;case"<=":return x}return()=>!1}(n)(e,t)}catch(e){return!1}},convertListToFieldsMap:function(...e){const t=[];for(const n of e)Array.isArray(n)&&t.push(...n.map((e=>[e.value,e])));return t},maybeCyrToLatin:T,getConvertedName:F,getBlockControls:function(e="all"){if(!e)return!1;const t=Go();return"all"===e?t:!!(t[e]&&t[e].attrs&&Array.isArray(t[e].attrs)&&0<t[e].attrs.length)&&t[e].attrs},classnames:O,getBlocksByName:function(e){const t=[];return M((n=>{e.includes(n.name)&&t.push(n)})),t},convertObjectToOptionsList:function(e=[],{usePlaceholder:t=!0,label:n="--",value:r=""}={}){const o={label:n,value:r};if(!e)return t?[o]:[];const a=Object.entries(e).map((([e,t])=>({value:e,label:t})));return t?[o,...a]:a},appendField:function(e,t=[]){Y("jet.fb.register.fields","jet-form-builder",(n=>n.map((n=>t.length&&!t.includes(n.name)?n:e(n)))))},insertMacro:ro,addDetail:function(e,t){return wp.data.dispatch("jet-forms/actions").addDetail(e,t)},column:I,addComputedField:function(e,t={}){wp.data.dispatch("jet-forms/actions").addComputedField(e,t)},getCurrentInnerBlocks:function(){const{"data-block":e}=Hu();return W(e)},humanReadableCondition:oc,convertFlow:function(e=[]){const t=[];for(const n of e){const e=new de(n);e.refactorSettings(),t.push(e)}return new Ju(t)},assetUrl:function(e=""){return JetFormEditorData.assetsUrl+e},set:function(e,t,n){const r=JSON.parse(JSON.stringify(e));let o,a=r;for(let e=0;e<t.length;e++)o=t[e],a[o]||(a[o]={}),e===t.length-1?a[o]=n:(a[o]={...a[o]},a=a[o]);return r},isEmpty:L,getSupport:function(e,t){return Array.isArray(t)||(t=[t]),Sm(e,["supports",...t],!1)},extendPrototype:e=>{function t(){e.call(this)}return t.prototype=Object.create(e.prototype),t}},window.JetFBHooks={...null!==(Tm=window?.JetFBHooks)&&void 0!==Tm?Tm:{},useActions:re,useMetaState:ne,useSelectPostMeta:we,useStateValidClasses:_,useStateLoadingClasses:ae,useSuccessNotice:ce,useEvents:Me,useRequestEvents:function(){const e=De((e=>e("jet-forms/actions").getCurrentAction()));return Me(e)},useBlockConditions:$e,useUniqKey:qe,useBlockAttributes:Xe,useIsAdvancedValidation:function(){const{type:e}=we("_jf_validation"),[t]=Xe();return t.validation?.type?"advanced"===t.validation?.type:"advanced"===e},useGroupedValidationMessages:function(){const[e]=Ft(Lt);return e},useSanitizeFieldsMap:function(e="fields_map"){const t=ye(),{settings:n,onChangeSettingObj:r}=Ae(pe);xe((()=>{if(!n.hasOwnProperty(e))return;const o=[...V(),...t],a=n[e],l=e=>-1!==o.findIndex((t=>t.value===e));for(const e in a)a.hasOwnProperty(e)&&(l(e)||delete a[e]);r({[e]:a})}),[])},withRequestFields:function(e){const t=e("core/editor").getEditedPostAttribute("meta")||{},n=JSON.parse(t._jf_actions||"[]"),r=e("jet-forms/actions").getCurrentAction(),o=e("jet-forms/actions").getComputedFields();n.splice(r.index);const a=[],l=new Set;return ge({actions:n,fields:a}),be({fields:a,actions:n,computed:o,nameSet:l}),{requestFields:a}},useRequestFields:ye,withSelectActionLoading:Ne,withSelectFormFields:(e=[],t=!1,n=!1)=>r=>{let o=[],a=["submit","form-break","heading","group-break","conditional",...e];return Se((e=>{e.name.includes("jet-forms/")&&e.attributes.name&&!a.find((t=>e.name.includes(t)))&&o.push({blockName:e.name,name:e.attributes.name,label:e.attributes.label||e.attributes.name,value:e.attributes.name})}),r("core/block-editor").getBlocks()),o=t?[{value:"",label:t},...o]:o,{formFields:n?o:Ce("jet.fb.getFormFieldsBlocks",o)}},withSelectGateways:je,withDispatchGateways:function(e){const t=e("jet-forms/gateways");return{setGatewayRequest:t.setRequest,setGatewayScenario:t.setScenario,setScenario:t.setCurrentScenario,setGateway:t.setGateway,setGatewayInner:t.setGatewayInner,setGatewaySpecific:t.setGatewaySpecific,clearGateway:t.clearGateway,clearScenario:t.clearScenario}},useOnUpdateModal:_e,useInsertMacro:ao,useIsHasAttribute:Ye,useCurrentAction:Wu,useUpdateCurrentAction:()=>{const{currentAction:e}=Wu(),{setCurrentAction:t,clearCurrent:n,updateCurrentConditions:r}=Yu("jet-forms/actions",[]);return{setCurrentAction:t,setTypeSettings:n=>{t({...e,settings:{...e.settings,[e.type]:n}})},clearCurrent:n,updateCurrentConditions:r}},useUpdateCurrentActionMeta:()=>{const{currentAction:e}=Wu(),{updateActionObj:t,addActionProps:n}=Zu();return 0>e.id?e=>n(e):n=>{t(e.id,n)}},useActionsEdit:Zu,useActionCallback:Ku,useActionDetail:(e=!1)=>Qu((t=>e?t("jet-forms/actions").getDetail(e):t("jet-forms/actions").getCurrentDetail()),[e]),useUniqueNameOnDuplicate:function(e=null){const t=nd(),[,n]=Xe(),r=t["data-block"],o=td((e=>{if(!e(Br).isRecentlyAdded(r))return!1;const{hasChanged:t,names:n}=e(Br).getUniqueNames(r);return!!t&&n}),[r]);ed((()=>{o&&("function"!=typeof e?n({name:o.split("|")[0]}):e(o))}),[o])},useFields:qr,useSupport:function(e){const{clientId:t,name:n}=_d();return wd((t=>{const r=t("core/blocks").getBlockType(n);return Cd(r,["supports",e],!1)}),[t])},useLoopedAction:Sd,useScopedAttributesContext:function(){return _m(wm)},useOpenEditorPanel:function(e){const{enableComplementaryArea:t}=jm("core/interface"),{toggleEditorPanelOpened:n}=jm("core/edit-post"),r=km((t=>t("core/edit-post").isEditorPanelOpened(e)),[]);return()=>{t("core/edit-post","edit-post/document"),!r&&n(e)}},useActionErrors:kd,useActionValidatorProvider:Rm}})()})();