(()=>{var e={7194:()=>{function e(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,n)||t(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=function(){return(0,wp.data.select)("core/editor").getEditedPostAttribute("meta")},l=function(e,t){(0,(0,wp.data.dispatch)("core/editor").editPost)({meta:o(o({},a()),{},i({},e,JSON.stringify(t)))})},c=function(t){for(var n=[],r=0,o=Object.entries(t);r<o.length;r++){var i=e(o[r],2),a=i[0],l=i[1].active;void 0!==l&&l&&n.push(+a)}return n},u=function(){var r={},o=[];try{var i=function(){var e=a(),t={},n=[];try{t=JSON.parse(e._jf_gateways)}catch(e){return[]}if(1===t.last_migrate)throw"migrated";try{n=JSON.parse(e._jf_actions)}catch(e){return[t]}return[t,n]}(),u=e(i,2),s=u[0];r=void 0===s?{}:s;var f=u[1];o=void 0===f?[]:f}catch(e){return}r.last_migrate=1,l("_jf_gateways",r);var p,m=[];try{m.push.apply(m,(p=function(e,t){var n,r,o,i,a=c(null!==(n=e.notifications_success)&&void 0!==n?n:{}),l=c(null!==(r=e.notifications_failed)&&void 0!==r?r:{}),u=c(null!==(o=e.notifications_before)&&void 0!==o?o:{}),s=null!==(i=e.use_success_redirect)&&void 0!==i&&i,f=!1;if(!(a.length||l.length||u.length||s))throw"nothing_to_migrate";return t.map((function(e){var t;return e.events=null!==(t=e.events)&&void 0!==t?t:[],a.includes(e.id)&&e.events.push("GATEWAY.SUCCESS"),l.includes(e.id)&&e.events.push("GATEWAY.FAILED"),u.includes(e.id)&&e.events.push("DEFAULT.PROCESS"),s&&!f&&"redirect_to_page"===e.type&&(e.events.push("GATEWAY.SUCCESS"),f=!0),e}))}(r,o),function(e){if(Array.isArray(e))return n(e)}(p)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(p)||t(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))}catch(e){return}l("_jf_actions",m)};wp.domReady((function(){return setTimeout(u,0)}))},9510:(e,t,n)=>{const r=n(6830),{MAX_LENGTH:o,MAX_SAFE_INTEGER:i}=n(39),{re:a,t:l}=n(9022),c=n(8716),{compareIdentifiers:u}=n(8822);class s{constructor(e,t){if(t=c(t),e instanceof s){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid Version: ${e}`);if(e.length>o)throw new TypeError(`version is longer than ${o} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?a[l.LOOSE]:a[l.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<i)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof s)){if("string"==typeof e&&e===this.version)return 0;e=new s(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof s||(e=new s(e,this.options)),u(this.major,e.major)||u(this.minor,e.minor)||u(this.patch,e.patch)}comparePre(e){if(e instanceof s||(e=new s(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],o=e.prerelease[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return u(n,o)}while(++t)}compareBuild(e){e instanceof s||(e=new s(e,this.options));let t=0;do{const n=this.build[t],o=e.build[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return u(n,o)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(0===u(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}e.exports=s},3992:(e,t,n)=>{const r=n(9510);e.exports=(e,t,n)=>new r(e,n).compare(new r(t,n))},2260:(e,t,n)=>{const r=n(3992);e.exports=(e,t,n)=>r(e,t,n)>0},6579:(e,t,n)=>{const r=n(3992);e.exports=(e,t,n)=>r(e,t,n)>=0},290:(e,t,n)=>{const r=n(3992);e.exports=(e,t,n)=>r(e,t,n)<0},5891:(e,t,n)=>{const r=n(3992);e.exports=(e,t,n)=>r(e,t,n)<=0},39:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:t,MAX_SAFE_COMPONENT_LENGTH:16}},6830:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},8822:e=>{const t=/^[0-9]+$/,n=(e,n)=>{const r=t.test(e),o=t.test(n);return r&&o&&(e=+e,n=+n),e===n?0:r&&!o?-1:o&&!r?1:e<n?-1:1};e.exports={compareIdentifiers:n,rcompareIdentifiers:(e,t)=>n(t,e)}},8716:e=>{const t=["includePrerelease","loose","rtl"];e.exports=e=>e?"object"!=typeof e?{loose:!0}:t.filter((t=>e[t])).reduce(((e,t)=>(e[t]=!0,e)),{}):{}},9022:(e,t,n)=>{const{MAX_SAFE_COMPONENT_LENGTH:r}=n(39),o=n(6830),i=(t=e.exports={}).re=[],a=t.src=[],l=t.t={};let c=0;const u=(e,t,n)=>{const r=c++;o(e,r,t),l[e]=r,a[r]=t,i[r]=new RegExp(t,n?"g":void 0)};u("NUMERICIDENTIFIER","0|[1-9]\\d*"),u("NUMERICIDENTIFIERLOOSE","[0-9]+"),u("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),u("MAINVERSION",`(${a[l.NUMERICIDENTIFIER]})\\.(${a[l.NUMERICIDENTIFIER]})\\.(${a[l.NUMERICIDENTIFIER]})`),u("MAINVERSIONLOOSE",`(${a[l.NUMERICIDENTIFIERLOOSE]})\\.(${a[l.NUMERICIDENTIFIERLOOSE]})\\.(${a[l.NUMERICIDENTIFIERLOOSE]})`),u("PRERELEASEIDENTIFIER",`(?:${a[l.NUMERICIDENTIFIER]}|${a[l.NONNUMERICIDENTIFIER]})`),u("PRERELEASEIDENTIFIERLOOSE",`(?:${a[l.NUMERICIDENTIFIERLOOSE]}|${a[l.NONNUMERICIDENTIFIER]})`),u("PRERELEASE",`(?:-(${a[l.PRERELEASEIDENTIFIER]}(?:\\.${a[l.PRERELEASEIDENTIFIER]})*))`),u("PRERELEASELOOSE",`(?:-?(${a[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${a[l.PRERELEASEIDENTIFIERLOOSE]})*))`),u("BUILDIDENTIFIER","[0-9A-Za-z-]+"),u("BUILD",`(?:\\+(${a[l.BUILDIDENTIFIER]}(?:\\.${a[l.BUILDIDENTIFIER]})*))`),u("FULLPLAIN",`v?${a[l.MAINVERSION]}${a[l.PRERELEASE]}?${a[l.BUILD]}?`),u("FULL",`^${a[l.FULLPLAIN]}$`),u("LOOSEPLAIN",`[v=\\s]*${a[l.MAINVERSIONLOOSE]}${a[l.PRERELEASELOOSE]}?${a[l.BUILD]}?`),u("LOOSE",`^${a[l.LOOSEPLAIN]}$`),u("GTLT","((?:<|>)?=?)"),u("XRANGEIDENTIFIERLOOSE",`${a[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),u("XRANGEIDENTIFIER",`${a[l.NUMERICIDENTIFIER]}|x|X|\\*`),u("XRANGEPLAIN",`[v=\\s]*(${a[l.XRANGEIDENTIFIER]})(?:\\.(${a[l.XRANGEIDENTIFIER]})(?:\\.(${a[l.XRANGEIDENTIFIER]})(?:${a[l.PRERELEASE]})?${a[l.BUILD]}?)?)?`),u("XRANGEPLAINLOOSE",`[v=\\s]*(${a[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[l.XRANGEIDENTIFIERLOOSE]})(?:${a[l.PRERELEASELOOSE]})?${a[l.BUILD]}?)?)?`),u("XRANGE",`^${a[l.GTLT]}\\s*${a[l.XRANGEPLAIN]}$`),u("XRANGELOOSE",`^${a[l.GTLT]}\\s*${a[l.XRANGEPLAINLOOSE]}$`),u("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),u("COERCERTL",a[l.COERCE],!0),u("LONETILDE","(?:~>?)"),u("TILDETRIM",`(\\s*)${a[l.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",u("TILDE",`^${a[l.LONETILDE]}${a[l.XRANGEPLAIN]}$`),u("TILDELOOSE",`^${a[l.LONETILDE]}${a[l.XRANGEPLAINLOOSE]}$`),u("LONECARET","(?:\\^)"),u("CARETTRIM",`(\\s*)${a[l.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",u("CARET",`^${a[l.LONECARET]}${a[l.XRANGEPLAIN]}$`),u("CARETLOOSE",`^${a[l.LONECARET]}${a[l.XRANGEPLAINLOOSE]}$`),u("COMPARATORLOOSE",`^${a[l.GTLT]}\\s*(${a[l.LOOSEPLAIN]})$|^$`),u("COMPARATOR",`^${a[l.GTLT]}\\s*(${a[l.FULLPLAIN]})$|^$`),u("COMPARATORTRIM",`(\\s*)${a[l.GTLT]}\\s*(${a[l.LOOSEPLAIN]}|${a[l.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",u("HYPHENRANGE",`^\\s*(${a[l.XRANGEPLAIN]})\\s+-\\s+(${a[l.XRANGEPLAIN]})\\s*$`),u("HYPHENRANGELOOSE",`^\\s*(${a[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${a[l.XRANGEPLAINLOOSE]})\\s*$`),u("STAR","(<|>)?=?\\s*\\*"),u("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),u("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}(()=>{"use strict";const e=(0,wp.element.createContext)({name:"",data:{},index:0});function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var r=wp.components.BaseControl;const o=(0,wp.element.createContext)({actionClick:null,onRequestClose:function(){}});function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function a(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=wp.components,u=c.Button,s=c.ButtonGroup,f=c.Modal,p=wp.element,m=p.useState;p.useEffect;const d=function(e){var t=e.onRequestClose,n=e.children,r=e.title,c=void 0===r?"":r,p=e.classNames,d=void 0===p?[]:p,y=e.onUpdateClick,b=e.onCancelClick,v=e.updateBtnLabel,h=void 0===v?"Update":v,w=e.updateBtnProps,g=void 0===w?{}:w,O=e.cancelBtnProps,j=void 0===O?{}:O,E=e.cancelBtnLabel,S=void 0===E?"Cancel":E,A=e.fixedHeight,C=void 0===A?"":A,I=e.isUseActions,_=void 0===I||I,P=["jet-form-edit-modal"].concat(function(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(d)),N=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(m(null),2),k=N[0],T=N[1],x={};return C&&(x={height:C},P.push("jet-modal-fixed-height")),wp.element.createElement(f,{onRequestClose:t,className:P.join(" "),title:c,style:x},!n&&wp.element.createElement("div",{className:"jet-form-edit-modal__content"},"Action callback is not found."),n&&wp.element.createElement(React.Fragment,null,wp.element.createElement("div",{className:"jet-form-edit-modal__wrapper"},wp.element.createElement(o.Provider,{value:{actionClick:k,onRequestClose:t}},wp.element.createElement("div",{className:"jet-form-edit-modal__content"},"function"==typeof n&&n({actionClick:k,onRequestClose:t}),"function"!=typeof n&&n))),_&&wp.element.createElement(s,{className:"jet-form-edit-modal__actions"},wp.element.createElement(u,i({isPrimary:!0,onClick:function(){y&&y(),T(!0)}},g),h),wp.element.createElement(u,i({isSecondary:!0,style:{margin:"0 0 0 10px"},onClick:function(){b&&b(),T(!1)}},j),S))))};function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=wp.element,v=b.RawHTML,h=b.useContext;wp.i18n.__;var w=wp.components.Button,g=wp.element.useEffect;const O=function(e){var t=e.label,n=e.ajaxArgs,r=void 0===n?{}:n,o=e.onSuccessRequest,i=void 0===o?function(){}:o,a=e.onFailRequest,l=void 0===a?function(){}:a,c=e.onLoading,u=void 0===c?function(){}:c,s=e.className,f=void 0===s?"":s,p=e.children,m=void 0===p?function(){}:p,d=e.disabled,y=void 0!==d&&d,b=e.customRequest,v=void 0!==b&&b,h=e.isHidden,O=void 0!==h&&h,j=e.hasFetched,E=void 0===j?-1:j,S=function(){!1===v?(u(),jQuery.ajax({url:ajaxurl,type:"POST",data:r}).done((function(e){return e.success?i(e):l()})).fail((function(){return l()}))):"function"==typeof v?v():l()};return g((function(){O&&-1===E&&S()}),[]),O?null:wp.element.createElement(w,{disabled:y,key:"validate_api_key",isPrimary:!0,onClick:S,className:f},m&&m,t)};function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=["jet-form-validate-button"],S=wp.element.useState;const A=function(e){var t="is-valid",n="is-invalid",r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(S(e?[].concat(E,[t]):e?void 0:[].concat(E,[n])),2),o=r[0],i=r[1];return[o.join(" "),function(){i([].concat(E,[t]))},function(){i([].concat(E,[n]))},function(){i([].concat(E,["loading"]))}]};function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||N(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function P(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||N(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var x=n(2260),R=n(290),D=n(6579),F=n(5891),L=(wp.i18n.__,wp.hooks.applyFilters),M=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"withPlaceholder",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"--",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return[{label:t,value:n}].concat(P(e))}},{key:"isEmptyObject",value:function(e){return"object"===_(e)&&0===Object.keys(e).length}},{key:"getRandomID",value:function(){return Math.floor(8999*Math.random())+1e3}}],null&&T(t.prototype,null),n&&T(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function B(e,t){return null!=e&&e.length?e.map((function(e){return"object"===_(e)?e[t]:e})):[]}var $=L("jet.fb.tools.convertSymbols",{checkCyrRegex:/[а-яёїєґі]/i,cyrRegex:/[а-яёїєґі]/gi,charsMap:{а:"a",б:"b",в:"v",г:"g",д:"d",е:"e",ё:"io",ж:"zh",з:"z",и:"i",й:"i",к:"k",л:"l",м:"m",н:"n",о:"o",п:"p",р:"r",с:"s",т:"t",у:"u",ф:"f",х:"kh",ц:"ts",ч:"ch",ш:"sh",щ:"shch",ы:"y",э:"e",ю:"iu",я:"ia",ї:"i",є:"ie",ґ:"g",і:"i"}});function G(e){return $.checkCyrRegex.test(e)&&(e=e.replace($.cyrRegex,(function(e){return void 0===$.charsMap[e]?"":$.charsMap[e]}))),e}function U(e){var t=e.toLowerCase().replace(/\s+/g,"_");return 20<(t=G(t=t.normalize("NFD").replace(/[\u0300-\u036f]/g,""))).length&&"-"===(t=t.substr(0,34)).slice(-1)&&(t=t.slice(0,-1)),t}function V(){for(var e=[],t=function t(n){n.forEach((function(n){if(n&&(Array.isArray(n)&&t(n),"string"==typeof n&&e.push(n.trim()),"object"===_(n)))for(var r in n)n[r]&&e.push((r+"").trim())}))},n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t(r),e.join(" ")}const q=M;function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){X(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var W=wp.data.select,z=function e(t){var n=W("core/block-editor").getBlock,r=t.innerBlocks;return t=H(H({},t),n(t.clientId)),null!=r&&r.length&&(t.innerBlocks=r.map(e)),t};const Y=function(e){!function t(n){var r,o,i;(n=n||(r=W("core/block-editor"),o=r.getBlocks,"function"!=typeof(i=r.__unstableGetClientIdsTree)?o():i().map(z))).map((function(n){e(n),n.innerBlocks.length&&t(n.innerBlocks)}))}()};function K(e){return function(e){if(Array.isArray(e))return Z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Q=wp.hooks,ee=Q.applyFilters;Q.addFilter;const te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"default",o=[],i=["submit","form-break","heading","group-break","conditional"].concat(K(e));return Y((function(e){e.name.includes("jet-forms/")&&e.attributes.name&&!i.find((function(t){return e.name.includes(t)}))&&o.push({blockName:e.name,name:e.attributes.name,label:e.attributes.label||e.attributes.name,value:e.attributes.name})})),o=t?[{value:"",label:t}].concat(K(o)):o,n?o:ee("jet.fb.getFormFieldsBlocks",o,r)},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=[],r=te(e,!1,!1,t);return r&&r.forEach((function(e){return n.push(e.name)})),n};var re=wp.i18n.__;function oe(e){return function(e){if(Array.isArray(e))return ie(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ie(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ae=wp.hooks,le=ae.applyFilters;ae.addFilter;const ce=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",r=["submit","form-break","heading","group-break","conditional"],o=[],i=wp.data.select("core/block-editor").getSelectedBlock();return Y((function(e){e.name.includes("jet-forms/")&&(null==i?void 0:i.clientId)!==e.clientId&&!r.find((function(t){return e.name.includes(t)}))&&o.push({blockName:e.name,label:e.attributes.label||e.attributes.name,value:e.attributes.name})})),o=e?[{value:"",label:e}].concat(oe(o)):o,t?o:le("jet.fb.getFormFieldsBlocks",o,n)};var ue=wp.hooks.addFilter;const se=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=window.JetFormEditorData.gateways;if(!e)return n;if(!n[e])return!1;var r=n[e];return function(e){return r[e]?r[e]:t}},fe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=se("labels");return function(r){return n(e)?n(e)[r]:t}},pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cred";return window.JetFBGatewaysList&&window.JetFBGatewaysList[e]&&window.JetFBGatewaysList[e][t]},me=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"cred";if(!pe(e,n))return null;var r=window.JetFBGatewaysList[e][n];return wp.element.createElement(r,t)};function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ve=wp.data,he=ve.useSelect,we=ve.useDispatch;const ge=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"{}",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=he((function(e){return e("core/editor").getEditedPostAttribute("meta")||{}}),n),o=we("core/editor",[r]),i=o.editPost,a=JSON.parse(r[e]||t),l=function(t){var n;n="function"==typeof t?t(a):t,i({meta:ye(ye({},r),{},be({},e,JSON.stringify(n)))})};return[a,l]};function Oe(e){return function(e){if(Array.isArray(e))return Ee(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||je(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function je(e,t){if(e){if("string"==typeof e)return Ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ee(e,t):void 0}}function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Se=wp.element.useState;const Ae=function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||je(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Se(Oe(E)),2),t=e[0],n=e[1];return[t.join(" "),function(){n([].concat(Oe(E),["loading"]))},function(){n(E)}]};function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ne(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ke=wp.element,Te=ke.useState,xe=ke.useEffect,Re=wp.data.useDispatch;const De=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Te(!1),r=Pe(n,2),o=r[0],i=r[1],a=Re(wp.notices.store);return xe((function(){o&&a.createWarningNotice(e,Ie({type:"snackbar"},t))}),[o]),i};function Fe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Le(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Me=wp.data.useSelect,Be=function(e){var t,n=[],r=Fe(e);try{for(r.s();!(t=r.n()).done;){var o=t.value,i=o.settings[o.type],a=void 0===i?{}:i;if(a.requestFields){var l,c=Fe(a.requestFields);try{var u=function(){var e=l.value;if(-1!==n.findIndex((function(t){return t.value===e.name})))return"continue";n.push({from:o.type,id:o.id,label:e.name,value:e.name,name:e.name,help:e.help})};for(c.s();!(l=c.n()).done;)u()}catch(e){c.e(e)}finally{c.f()}}}}catch(e){r.e(e)}finally{r.f()}return n};const $e=function(){var e=Me((function(e){return e("core/editor").getEditedPostAttribute("meta")||{}}),[]),t=JSON.parse(e._jf_actions||"[]"),n=Me((function(e){return e("jet-forms/actions").getCurrentAction()}),[]);return t.splice(n.index),Be(t)};var Ge=wp.data.useSelect;const Ue=function(e){var t=Ge((function(e){return e("core/editor").getEditedPostAttribute("meta")||{}}));return JSON.parse(t[e]||"{}")};var Ve=wp.element,qe=Ve.useContext,Je=Ve.useEffect;const He=function(e){var t=qe(o),n=t.actionClick,r=t.onRequestClose;Je((function(){n&&e(),null!==n&&r()}),[n])};function Xe(e){return function(e){if(Array.isArray(e))return We(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return We(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?We(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ze=wp.hooks.applyFilters,Ye=function e(t,n){n.map((function(n){t(n),n.innerBlocks.length&&e(t,n.innerBlocks)}))};const Ke=function(e){var t=e.slug,n=e.element,r=void 0===n?"":n,o=e.empty,i=void 0===o?"":o,a=JetFormEditorData.global_settings;return a?r?a[t]&&a[t][r]?a[t][r]:i:a[t]||i:i},Ze=function(e){var t=e("jet-forms/gateways"),n=t.getCurrentRequestId(),r=t.getGatewaySpecific(),o=t.getScenario(),i=t.getGatewayId(),a=o.id,l=void 0===a?"PAY_NOW":a,c=r.use_global,u=void 0!==c&&c,s=Ke({slug:i}),f=se("additional")(i),p=e("jet-forms/actions").getLoading(n),m=se("labels"),d=fe(i),y=function(e){return m("".concat(i,".").concat(e))};return{gatewayGeneral:t.getGateway(),gatewayRequest:t.getCurrentRequest(),scenarioSource:f[l]||{},currentScenario:o[l]||{},CURRENT_SCENARIO:l,gatewayScenario:o,additionalSourceGateway:f,gatewaySpecific:r,gatewayRequestId:n,loadingGateway:p,getSpecificOrGlobal:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return u?s[e]||t:r[e]||t},globalGatewayLabel:m,specificGatewayLabel:d,customGatewayLabel:y,scenarioLabel:function(e){return y("scenario.".concat(l,".").concat(e))}}},Qe=(0,wp.element.createContext)({});function et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tt(e){return function(e){if(Array.isArray(e))return nt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var rt=wp.element,ot=rt.useEffect,it=rt.useContext;const at=function(e){return{loadingState:e("jet-forms/actions").getCurrentLoading()}};function lt(e){return function(e){if(Array.isArray(e))return ut(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ct(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ct(e,t){if(e){if("string"==typeof e)return ut(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ut(e,t):void 0}}function ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function st(e,t){if(e){if("string"==typeof e)return ft(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ft(e,t):void 0}}function ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var pt=wp.data.useSelect;const mt=function(){var e,t=Ue("_jf_gateways"),n=(null!==(e=t[null==t?void 0:t.gateway])&&void 0!==e?e:{}).scenario,r=void 0===n?{}:n;return pt((function(e){var n,o=[],i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=st(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(e("jet-forms/events").getGatewayTypes());try{for(i.s();!(n=i.n()).done;){var a=n.value,l=!a.gateway||a.gateway===t.gateway,c=!a.scenario||a.scenario===(null==r?void 0:r.id);l&&c&&o.push(a.value)}}catch(e){i.e(e)}finally{i.f()}return function(e){return function(e){if(Array.isArray(e))return ft(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||st(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(new Set(o))}),[null==t?void 0:t.gateway])};function dt(e,t){if(e){if("string"==typeof e)return yt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yt(e,t):void 0}}function yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var bt=wp.data.useSelect;const vt=function(){var e,t=[],n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=dt(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(bt((function(e){return e("jet-forms/events").getAlwaysTypes()}),[]));try{for(n.s();!(e=n.n()).done;){var r=e.value.value;t.push(r)}}catch(e){n.e(e)}finally{n.f()}return function(e){return function(e){if(Array.isArray(e))return yt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||dt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(new Set(t))};function ht(e){return function(e){if(Array.isArray(e))return wt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return wt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var gt=wp.data.useSelect;function Ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var jt=wp.data.useSelect;const Et=function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ot(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ot(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(jt((function(e){return[e("jet-forms/block-conditions").getOperators(),e("jet-forms/block-conditions").getFunctions()]}),[]),2);return{operators:e[0],functions:e[1]}};var St=wp.blockEditor.useBlockProps;const At=function(){var e=St();return function(t){return t+"-"+e["data-block"]}};function Ct(e){return Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ct(e)}var It=wp.blockEditor.useBlockProps,_t=wp.data,Pt=_t.useSelect,Nt=_t.useDispatch;const kt=function(){var e=It()["data-block"],t=Pt((function(t){return t("core/block-editor").getBlockAttributes(e)})),n=Nt("core/block-editor",[]).updateBlock;return[t,function(r){"object"!==Ct(r)?n(e,{attributes:r(t)}):n(e,{attributes:r})}]};function Tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xt=wp.data.useSelect;var Rt=wp.blockEditor.useBlockProps,Dt=wp.data.useSelect;const Ft=function(e){var t=Rt()["data-type"];return Dt((function(n){return!!n("core/blocks").getBlockType(t).attributes[e]}),[t])};function Lt(){return Lt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lt.apply(this,arguments)}function Mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gt(e){return Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gt(e)}var Ut=wp.hooks.applyFilters;const Vt=function(e){return function(t){return wp.element.createElement(e,Lt({key:"wrapped-preset-editor"},t,{parseValue:function(){var e={};if("object"===Gt(t.value))e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(n),!0).forEach((function(t){$t(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t.value);else if(t.value&&"string"==typeof t.value)try{if("number"==typeof(e=JSON.parse(t.value)))throw new Error}catch(t){e={}}return e.jet_preset=!0,e},isVisible:function(e,t,n){return(t.position&&n===t.position||!t.position||"query_var"!==e.from)&&function(e,t){return!t.condition&&!t.custom_condition||(t.custom_condition?"query_var"===t.custom_condition?"post"===e.from&&"query_var"===e.post_from||"user"===e.from&&"query_var"===e.user_from||"query_var"===e.from:Ut("jet.fb.preset.editor.custom.condition",!1,t.custom_condition,e):!t.condition||e[t.condition.field]===t.condition.value)}(e,t)},isMapFieldVisible:function(e,t,n){return!((t.condition||t.parent_condition)&&(t.parent_condition&&!t.condition?e[t.parent_condition.field]!==t.parent_condition.value:t.parent_condition&&t.condition?!e.fields_map||!e.fields_map[n]||e.fields_map[n][t.condition.field]!==t.condition.value||e[t.parent_condition.field]!==t.parent_condition.value:!t.parent_condition&&t.condition&&(!e.fields_map||!e.fields_map[n]||e.fields_map[n][t.condition.field]!==t.condition.value)))},isCurrentFieldVisible:function(e,t,n){return!((t.condition||t.parent_condition)&&(t.position&&n!==t.position||(t.parent_condition&&!t.condition?e[t.parent_condition.field]!==t.parent_condition.value:t.parent_condition&&t.condition?e["current_field_"+t.condition.field]!==t.condition.value||e[t.parent_condition.field]!==t.parent_condition.value:!t.parent_condition&&t.condition&&e["current_field_"+t.condition.field]!==t.condition.value)))},excludeOptions:function(e){var n=function(e){return function(e){if(Array.isArray(e))return Mt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Mt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e);return n.forEach((function(e,r){t.excludeSources&&t.excludeSources.includes(e.value)&&n.splice(r,1)})),n}}))}};var qt=wp.components,Jt=qt.TextControl,Ht=qt.SelectControl;const Xt=function(e){var t=e.data,n=e.value,r=e.index,o=e.onChangeValue,i=e.isVisible,a=e.excludeOptions,l=void 0===a?function(e){return e}:a,c=e.position;switch(t.type){case"text":return i(n,t,c)&&wp.element.createElement("div",{key:"field_"+t.name+r,className:"jet-form-preset__row"},wp.element.createElement(Jt,{key:t.name+r,label:t.label,value:n[t.name],onChange:function(e){o(e,t.name)}}));case"select":return i(n,t,c)&&wp.element.createElement("div",{key:"field_"+t.name+r,className:"jet-form-preset__row"},wp.element.createElement(Ht,{key:t.name+r,labelPosition:"side",options:l(t.options),label:t.label,value:n[t.name],onChange:function(e){o(e,t.name)}}))}return null};var Wt=window.lodash.isEmpty,zt=window.wp.compose.withInstanceId,Yt=window.wp.components.BaseControl;const Kt=zt((function(e){var t=e.help,n=e.instanceId,r=e.label,o=(e.multiple,e.onChange),i=e.options,a=void 0===i?[]:i,l=e.className,c=e.value,u=e.hideLabelFromVision,s="inspector-select-control-".concat(n);return!Wt(a)&&wp.element.createElement(Yt,{label:r,hideLabelFromVision:u,id:s,help:t,className:l},wp.element.createElement("select",{id:s,className:"components-select-control__input",onChange:function(e){o(e.target.value)},value:c,"aria-describedby":t?"".concat(s,"__help"):void 0},wp.element.createElement("option",{key:"".concat(r,"-placeholder"),value:""},"--"),a.map((function(e,t){return!Wt(e.values)&&wp.element.createElement("optgroup",{key:"".concat(e.label,"-").concat(t),label:e.label},e.values.map((function(e,n){return wp.element.createElement("option",{key:"".concat(e.value,"-").concat(n,"-").concat(t),value:e.value,disabled:e.disabled},e.label)})))}))))}));var Zt=wp.components,Qt=Zt.TextControl,en=Zt.SelectControl,tn=Zt.CustomSelectControl;const nn=function(e){var t=e.data,n=e.value,r=e.index,o=e.currentState,i=e.onChangeValue,a=e.isCurrentFieldVisible;switch(e.position,t.type){case"text":return a(o,t)&&wp.element.createElement("div",{key:t.name+r,className:"jet-form-preset__row"},wp.element.createElement(Qt,{key:"control_"+t.name+r,placeholder:t.label,value:n,onChange:function(e){i(e,"current_field_"+t.name)}}));case"select":return a(o,t)&&wp.element.createElement("div",{key:t.name+r,className:"jet-form-preset__row"},wp.element.createElement(en,{key:"control_"+t.name+r,labelPosition:"side",options:t.options,label:t.label,value:n,onChange:function(e){i(e,"current_field_"+t.name)}}));case"custom_select":return a(o,t)&&wp.element.createElement("div",{key:t.name+r,className:"jet-form-preset__row"},wp.element.createElement(tn,{className:"jet-custom-select-control",label:t.label,options:t.options,onChange:function(e){var r=e.selectedItem;n=r.key,i(n,"current_field_"+t.name)},value:t.options.find((function(e){return e.key===n}))}));case"grouped_select":return a(o,t)&&wp.element.createElement("div",{key:t.name+r,className:"jet-form-preset__row"},wp.element.createElement(Kt,{options:t.options,label:t.label,labelPosition:"side",value:n,onChange:function(e){i(e,"current_field_"+t.name)}}))}return null};function rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function on(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rn(Object(n),!0).forEach((function(t){an(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function an(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ln(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var cn=wp.element,un=cn.useState,sn=cn.useEffect,fn=cn.useContext,pn=function(e){var t=e.value,n=e.isSaveAction,r=e.onSavePreset,i=e.onUnMount,a=e.parseValue,l=e.excludeOptions,c=e.isCurrentFieldVisible,u=e.isVisible,s="dynamic",f=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ln(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ln(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(un((function(){return a(t)})),2),p=f[0],m=f[1],d=fn(o),y=d.actionClick,b=d.onRequestClose;void 0===n&&(n=y),void 0===i&&(i=b);var v=function(e,t){m((function(n){return on(on({},n),{},an({},t,e))}))};return sn((function(){n&&r&&r(JSON.stringify(p)),null!==n&&i()}),[n]),wp.element.createElement(React.Fragment,null,window.JetFormEditorData.presetConfig.global_fields.map((function(e,t){return wp.element.createElement(Xt,{key:"current_field_".concat(e.name,"_").concat(t),value:p,index:t,data:e,excludeOptions:l,onChangeValue:v,isVisible:u,position:s})})),window.JetFormEditorData.presetConfig.map_fields.map((function(e,t){return wp.element.createElement(nn,{key:"current_field_".concat(e.name,"_").concat(t),currentState:p,value:p["current_field_"+e.name],index:t,data:e,onChangeValue:v,isCurrentFieldVisible:c,position:s})})))};const mn=pn=Vt(pn);function dn(e){return dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dn(e)}function yn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yn(Object(n),!0).forEach((function(t){vn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wn(e,t){return wn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wn(e,t)}function gn(e,t){if(t&&("object"===dn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function On(e){return On=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},On(e)}var jn=wp.components,En=jn.SelectControl,Sn=jn.TextControl,An=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wn(e,t)}(a,wp.element.Component);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=On(r);if(o){var n=On(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return gn(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).fieldTypes=t.props.fieldTypes,t.taxonomiesList=t.props.taxonomiesList,t.className=t.props.className,t.metaProp=t.props.metaProp?t.props.metaProp:"post_meta",t.termsProp=t.props.termsProp?t.props.termsProp:"post_terms",t.index=t.props.index,t.init(),t.bindFunctions(),t.state={type:t.getFieldType(t.props.fieldValue)},t}return t=a,(n=[{key:"bindFunctions",value:function(){this.onChangeType=this.onChangeType.bind(this),this.onChangeValue=this.onChangeValue.bind(this)}},{key:"init",value:function(){if(this.id="inspector-select-control-".concat(this.index),this.preparedTaxes=[],this.taxPrefix="jet_tax__",this.taxonomiesList)for(var e=0;e<this.taxonomiesList.length;e++)this.preparedTaxes.push({value:this.taxPrefix+this.taxonomiesList[e].value,label:this.taxonomiesList[e].label})}},{key:"getFieldName",value:function(e){if(!e)return"";var t=this.getFieldType(e);return this.termsProp===t||this.metaProp===t?e:""}},{key:"isTermOrMeta",value:function(e){return this.termsProp===e||this.metaProp===e}},{key:"getFieldType",value:function(e){if(!e)return"";for(var t=0;t<this.fieldTypes.length;t++)if(e===this.fieldTypes[t].value)return e;return e.includes(this.taxPrefix)?this.termsProp:this.metaProp}},{key:"onChangeValue",value:function(e){this.props.onChange(bn(bn({},this.props.fieldsMap),{},vn({},this.props.fieldName,e)))}},{key:"onChangeType",value:function(e){var t=this.getFieldType(e);this.setState({type:t}),this.isTermOrMeta(t)&&(t=""),this.onChangeValue(t)}},{key:"render",value:function(){return wp.element.createElement("div",{className:"jet-fields-map__row"},wp.element.createElement("div",{className:"jet-post-field-control"},wp.element.createElement(En,{key:"field_type_"+this.props.fieldName+this.index,label:this.props.fieldName,labelPosition:"side",value:this.state.type,onChange:this.onChangeType,options:this.fieldTypes,style:{width:"160px"}}),this.metaProp===this.state.type&&wp.element.createElement(Sn,{key:"field_name_"+this.props.fieldName+this.index,value:this.props.fieldValue,onChange:this.onChangeValue,style:{width:"200px"}}),this.termsProp===this.state.type&&wp.element.createElement(En,{className:"jet-control-without-label",key:"field_tax_"+this.props.fieldName+this.index,value:this.props.fieldValue,onChange:this.onChangeValue,options:this.preparedTaxes,style:{width:"200px"}})))}}])&&hn(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}();const Cn=An;function In(){return In=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},In.apply(this,arguments)}function _n(e,t){if(e){if("string"==typeof e)return Pn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pn(e,t):void 0}}function Pn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Nn=wp.components,kn=Nn.Path,Tn=Nn.SVG,xn=Nn.BaseControl,Rn=wp.element.useState;function Dn(){return Dn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dn.apply(this,arguments)}function Fn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fn(Object(n),!0).forEach((function(t){Mn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bn(e){return Bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bn(e)}var $n=wp.components,Gn=$n.TextControl,Un=$n.SelectControl,Vn=$n.CustomSelectControl,qn=$n.Card,Jn=$n.CardBody,Hn=$n.CardHeader;function Xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Wn=wp.blocks.store;const zn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t.id,this.blocks=[],this.setBlocksMeta(t.supported)}var t,n;return t=e,(n=[{key:"setBlocksMeta",value:function(e){e.length&&(this.blocks=e.map((function(e){var t=wp.data.select(Wn).getBlockType("jet-forms/".concat(e));return{title:t.title,icon:t.icon.src}})))}}])&&Xn(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Yn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const Kn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.items=[]}var t,n;return t=e,(n=[{key:"push",value:function(e){this.items.push(new zn(e))}}])&&Yn(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Zn(e,t){if(e){if("string"==typeof e)return Qn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qn(e,t):void 0}}function Qn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var er=window.jetFormValidation.messages,tr=wp.element.useState,nr=er.sort((function(e,t){return e.supported.length-t.supported.length}));function rr(){var e,t=new Kn,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Zn(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(nr);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(r)}}catch(e){n.e(e)}finally{n.f()}return t.items}const or=function(e){return e.replace(/[^\w\-]/gi,"")},ir=function(e,t){1>=e.label.length||e.name&&"field_name"!==e.name||t({name:or(U(e.label))})};var ar=wp.components.BaseControl,lr=wp.blockEditor.RichText,cr=wp.i18n.__;function ur(e){return wp.element.createElement("small",{style:{whiteSpace:"nowrap",padding:"0.2em 0.8em 0 0",color:"#8e8a8a"}},e)}var sr=["children","fields","onFieldClick","customMacros","zIndex"];function fr(){return fr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fr.apply(this,arguments)}function pr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var mr=wp.components,dr=mr.Button,yr=mr.Popover,br=mr.PanelBody,vr=wp.element.useState;function hr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||Er(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wr(Object(n),!0).forEach((function(t){Or(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Or(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jr(e){return function(e){if(Array.isArray(e))return Sr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Er(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Er(e,t){if(e){if("string"==typeof e)return Sr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sr(e,t):void 0}}function Sr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ar=wp.i18n.__,Cr=wp.components,Ir=Cr.Button,_r=Cr.ButtonGroup,Pr=Cr.Card,Nr=Cr.CardBody,kr=Cr.CardHeader,Tr=Cr.ToggleControl,xr=Cr.Flex,Rr=Cr.FlexItem,Dr=wp.element,Fr=Dr.useState,Lr=Dr.useEffect;function Mr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Br=wp.i18n.__,$r=wp.components.TextControl;const Gr=function(e){var t=e.label,n=e.help,r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Mr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(kt(),2),o=r[0],i=r[1];return Ft("placeholder")?wp.element.createElement($r,{label:null!=t?t:Br("Placeholder","jet-form-builder"),value:o.placeholder,help:null!=n?n:"",onChange:function(e){return i({placeholder:e})}}):null};function Ur(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Vr=wp.i18n.__,qr=wp.components.ToggleControl;const Jr=function(e){var t=e.label,n=e.help,r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ur(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ur(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(kt(),2),o=r[0],i=r[1];return Ft("add_prev")?wp.element.createElement(qr,{label:null!=t?t:Vr("Add Prev Page Button","jet-form-builder"),help:null!=n?n:Vr('It is recommended to use the "Action Button" block \n\t\t\twith the "Go to Prev Page" type',"jet-form-builder"),checked:o.add_prev,onChange:function(e){return i({add_prev:e})}}):null};function Hr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Xr=wp.i18n.__,Wr=wp.components.TextControl;const zr=function(e){var t=e.label,n=e.help,r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Hr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(kt(),2),o=r[0],i=r[1];return o.add_prev?wp.element.createElement(Wr,{label:null!=t?t:Xr("Prev Page Button Label","jet-form-builder"),value:o.prev_label,help:null!=n?n:"",onChange:function(e){return i({prev_label:e})}}):null};function Yr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Kr=wp.i18n.__,Zr=wp.components.SelectControl;const Qr=function(e){var t=e.label,n=e.help,r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Yr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(kt(),2),o=r[0],i=r[1];return wp.element.createElement(Zr,{options:[{value:"all",label:Kr("For all","jet-form-builder")},{value:"logged_id",label:Kr("Only for logged in users","jet-form-builder")},{value:"not_logged_in",label:Kr("Only for NOT-logged in users","jet-form-builder")}],label:null!=t?t:Kr("Field Visibility","jet-form-builder"),help:null!=n?n:"",value:o.visibility,onChange:function(e){return i({visibility:e})}})};function eo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var to=wp.i18n.__,no=wp.components.TextControl;const ro=function(e){var t=e.label,n=e.help,r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return eo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(kt(),2),o=r[0],i=r[1];return wp.element.createElement(no,{label:null!=t?t:to("CSS Class Name","jet-form-builder"),value:o.class_name,help:null!=n?n:"",onChange:function(e){return i({class_name:e})}})};var oo=wp.components.PanelBody,io=wp.i18n.__;function ao(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var lo=wp.i18n.__,co=wp.components.TextControl;const uo=function(e){var t=e.label,n=e.help,r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ao(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ao(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(kt(),2),o=r[0],i=r[1];return wp.element.createElement(co,{label:null!=t?t:lo("Field Label","jet-form-builder"),value:o.label,help:null!=n?n:"",onChange:function(e){return i({label:e})},onBlur:function(){return ir(o,i)}})};function so(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var fo=wp.i18n.__,po=wp.components.TextControl;const mo=function(e){var t=e.label,n=e.help,r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return so(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?so(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(kt(),2),o=r[0],i=r[1];return Ft("name")?wp.element.createElement(po,{label:null!=t?t:fo("Form field name","jet-form-builder"),value:o.name,help:null!=n?n:fo("Should contain only Latin letters, numbers, `-` or `_` chars, no spaces only lower case","jet-form-builder"),onChange:function(e){return i({name:or(e)})}}):null};function yo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var bo=wp.i18n.__,vo=wp.components.TextControl;const ho=function(e){var t=e.label,n=e.help,r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return yo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(kt(),2),o=r[0],i=r[1];return Ft("desc")?wp.element.createElement(vo,{label:null!=t?t:bo("Field Description","jet-form-builder"),value:o.desc,help:null!=n?n:"",onChange:function(e){return i({desc:e})}}):null};function wo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var go=wp.i18n.__,Oo=wp.components.Button,jo=wp.element.useState;const Eo=function(e){var t=e.value,n=e.onChange,r=e.title,o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return wo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(jo(!1),2),i=o[0],a=o[1];return wp.element.createElement(React.Fragment,null,wp.element.createElement(Oo,{icon:"database",variant:"tertiary",isSmall:!0,className:"jet-fb-is-thick",onClick:function(){return a(!0)}}),i&&wp.element.createElement(d,{classNames:["width-60"],title:null!=r?r:go("Edit Preset","jet-form-builder"),onRequestClose:function(){return a(!1)}},wp.element.createElement(mn,{key:"dynamic_key_preset",value:t,onSavePreset:n})))},So=(0,wp.element.createContext)(!1);var Ao=["children"];function Co(){return Co=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Co.apply(this,arguments)}function Io(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _o=wp.element,Po=_o.useState,No=_o.useRef,ko=wp.components,To=ko.Button,xo=ko.Popover;const Ro=function(e){var t=e.children,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Ao),r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Io(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Io(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Po(!1),2),o=r[0],i=r[1],a=No();return wp.element.createElement(So.Provider,{value:{showPopover:o,setShowPopover:i}},wp.element.createElement(To,Co({ref:a,icon:"admin-tools",variant:"tertiary",isSmall:!0,className:"jet-fb-is-thick",onClick:function(){return i(!0)}},n)),o&&wp.element.createElement(xo,{anchorRef:a.current,position:"top-start",noArrow:!1,isAlternate:!0,onClose:function(){return i(!1)}},t))},Do=(0,wp.element.createContext)([]),Fo=(0,wp.element.createContext)({name:""});function Lo(){}Lo.prototype={fullName:function(){},fullHelp:function(){}};const Mo=Lo;function Bo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $o=wp.element.useState,Go=wp.components.Button;const Uo=function(e){var t=e.current,n=e.children,r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Bo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}($o(!1),2),o=r[0],i=r[1];if(!(t instanceof Mo))return wp.element.createElement("li",null,wp.element.createElement(Fo.Provider,{value:t},n));var a=t.fullHelp.bind(t);return wp.element.createElement("li",null,wp.element.createElement(Fo.Provider,{value:t},wp.element.createElement("div",{style:{display:"flex",alignItems:"center",gap:"0.6em"}},wp.element.createElement(Go,{isSmall:!0,variant:"tertiary",icon:o?"arrow-down":"arrow-right",className:"jet-fb-is-thick",onClick:function(){return i((function(e){return!e}))}}),n),o&&wp.element.createElement(a,null)))};var Vo=wp.element,qo=Vo.Children,Jo=Vo.cloneElement,Ho=wp.components.PanelBody;const Xo=function(e){var t=e.title,n=e.items,r=e.children,o=e.initialOpen,i=n.map((function(e){return wp.element.createElement(Uo,{current:e})}));return wp.element.createElement(Ho,{title:t,initialOpen:o},wp.element.createElement("ul",{style:{padding:"0 0.5em"}},qo.map(i,(function(e){return Jo(e,{},r)}))))};var Wo=["children"];function zo(e){return function(e){if(Array.isArray(e))return Yo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Yo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yo(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ko=wp.element,Zo=Ko.useMemo,Qo=Ko.useContext,ei=wp.i18n.__;const ti=function(e){var t,n,r,o,i=e.children,a=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Wo),l=Zo((function(){return ce()}),[]),c=Qo(Do),u=[].concat(zo(null!==(t=c.beforeFields)&&void 0!==t?t:[]),zo(l),zo(null!==(n=c.afterFields)&&void 0!==n?n:[]));return wp.element.createElement(Ro,a,Boolean(u.length)&&wp.element.createElement(Xo,{title:ei("Fields:","jet-form-builder"),items:u,initialOpen:!0},i),Boolean(null==c||null===(r=c.extra)||void 0===r?void 0:r.length)&&wp.element.createElement(Xo,{title:ei("Extra macros:","jet-form-builder"),items:c.extra},i),Boolean(null==c||null===(o=c.filters)||void 0===o?void 0:o.length)&&wp.element.createElement(Xo,{title:ei("Filters:","jet-form-builder"),items:c.filters},i))};var ni=["onClick"];var ri=wp.element.useContext,oi=wp.components.Button;function ii(e){var t=e.onClick,n=ri(Fo),r=n.fullName?n.fullName():"%".concat(n.value,"%");return wp.element.createElement(oi,{isLink:!0,onClick:function(){return t(r)}},r)}const ai=function(e){var t=e.onClick,n=void 0===t?function(){}:t,r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,ni);return wp.element.createElement(ti,r,wp.element.createElement(ii,{onClick:n}))};var li=wp.components,ci=li.Flex,ui=li.FlexItem,si=wp.compose.useInstanceId;const fi=function(e){var t=e.children,n=e.value,r=e.label,o=e.onChangePreset,i=void 0!==o&&o,a=e.onChangeMacros,l=void 0!==a&&a,c=si(ui,"jfb-AdvancedModalControl");return wp.element.createElement(React.Fragment,null,wp.element.createElement(ci,{align:"center",justify:"flex-start",style:{marginBottom:"8px"}},wp.element.createElement("label",{htmlFor:c},r),!1!==i&&wp.element.createElement(Eo,{value:n,onChange:i}),!1!==l&&wp.element.createElement(ai,{onClick:l})),"function"==typeof t?t({instanceId:c}):t)};function pi(){Mo.call(this)}pi.prototype=Object.create(Mo.prototype),pi.prototype.isServerSide=!1,pi.prototype.isClientSide=!1,pi.prototype.name="",pi.prototype.namespace="CT",pi.prototype.help=null,pi.prototype.fullHelp=function(){return this.help},pi.prototype.fullName=function(){return"%".concat(this.namespace,"::").concat(this.name,"%")};const mi=pi;var di=wp.data.useSelect,yi=new mi;yi.fullName=function(){return"%this%"},yi.fullHelp=function(){return"Test help"};const bi=function(e){var t=e.children,n=e.withThis,r=void 0!==n&&n,o=di((function(e){return e("jet-forms/macros").getClientMacros()}),[]),i=r?{extra:o,afterFields:[yi]}:{extra:o};return wp.element.createElement(Do.Provider,{value:i},t)};function vi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var hi=wp.i18n.__,wi=wp.components.TextareaControl;const gi=function(e){var t=e.label,n=e.help,r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(kt(),2),o=r[0],i=r[1];return Ft("default")?wp.element.createElement(bi,null,wp.element.createElement(fi,{value:o.default,label:null!=t?t:hi("Default Value","jet-form-builder"),onChangePreset:function(e){return i({default:e})},onChangeMacros:function(e){return i({default:o.default+"%".concat(e,"%")})}},(function(e){var t=e.instanceId;return wp.element.createElement(wi,{rows:1,id:t,value:o.default,help:null!=n?n:"",onChange:function(e){return i({default:e})}})}))):null};var Oi=wp.components.PanelBody,ji=wp.i18n.__;function Ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Si=wp.blockEditor.BlockControls,Ai=wp.compose.useCopyToClipboard,Ci=wp.components,Ii=Ci.TextControl,_i=Ci.ToolbarGroup,Pi=Ci.ToolbarItem,Ni=Ci.Button;const ki=function(e){var t=e.children,n=void 0===t?null:t,r=At(),o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ei(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ei(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(kt(),2),i=o[0],a=o[1],l=De('Copied "'.concat(i.name,'" to clipboard.')),c=Ai(i.name,(function(){return l(!0)}));return wp.element.createElement(Si,{key:r("ToolBarFields-BlockControls")},wp.element.createElement(_i,{key:r("ToolBarFields-ToolbarGroup"),className:"jet-fb-block-toolbar"},wp.element.createElement(Pi,{as:"div",style:{display:"flex"}},wp.element.createElement(Ni,{isSmall:!0,icon:"admin-page",showTooltip:!0,shortcut:"Copy name",ref:c}),wp.element.createElement(Ii,{value:i.name,onChange:function(e){return a({name:e})}})),n))};function Ti(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xi=wp.i18n.__,Ri=wp.components.ToggleControl;const Di=function(e){var t=e.label,n=e.help,r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ti(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ti(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(kt(),2),o=r[0],i=r[1];return wp.element.createElement(Ri,{label:null!=t?t:xi("Is required","jet-form-builder"),checked:o.required,help:null!=n?n:"",onChange:function(e){return i({required:e})}})};function Fi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Li(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mi(Object(n),!0).forEach((function(t){$i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ui(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ui(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ui(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Vi=wp.components,qi=Vi.TextControl,Ji=Vi.BaseControl,Hi=wp.element,Xi=(Hi.useState,Hi.useEffect),Wi=wp.i18n.__;function zi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zi(Object(n),!0).forEach((function(t){Ki(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ki(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qi(e){return function(e){if(Array.isArray(e))return ea(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ea(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ea(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ea(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ta=wp.i18n.__,na=wp.components.PanelBody,ra=wp.hooks.applyFilters,oa=wp.blockEditor.useBlockProps;var ia=wp.hooks.applyFilters;const aa=function(){return ia("jet.fb.register.fields.controls",{})};function la(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ca(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?la(Object(n),!0).forEach((function(t){ua(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):la(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ua(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const sa=function(e){var t=e.children,n=e.style,r=void 0===n?{}:n;return wp.element.createElement("p",{className:"jet-fb-base-control__help",style:ca({fontSize:"12px",fontStyle:"normal",color:"rgb(117, 117, 117)",marginTop:"0px"},r)},t)},fa=function(e){return{setLoading:function(t){e("jet-forms/actions").setLoading({actionId:t})},setResultSuccess:function(t,n){e("jet-forms/actions").setLoadingResult({actionId:t,success:!0,response:n})},setResultFail:function(t){e("jet-forms/actions").setLoadingResult({actionId:t,success:!1,response:{}})}}};var pa=wp.compose.compose,ma=wp.data,da=ma.withSelect,ya=ma.withDispatch;const ba=pa(da(at),ya(fa))((function(e){var t=e.initialLabel,n=void 0===t?"Valid":t,r=e.label,o=void 0===r?"InValid":r,i=e.ajaxArgs,a=void 0===i?{}:i,l=e.loadingState,c=e.setLoading,u=e.id,s=e.setResultSuccess,f=e.setResultFail;return wp.element.createElement(O,{disabled:l.loading,ajaxArgs:a,label:-1===l.id&&n?n:o,onLoading:function(){c(u)},onSuccessRequest:function(e){s(u,e)},onFailRequest:function(){return f(u)},className:l.buttonClassName},wp.element.createElement("i",{className:"dashicons"}))}));function va(){return va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},va.apply(this,arguments)}var ha=wp.data.useSelect;var wa=wp.compose.compose,ga=wp.data.withDispatch,Oa=wp.apiFetch;const ja=wa(ga(fa))((function(e){var t=e.initialLabel,n=void 0===t?"Valid":t,r=e.label,o=void 0===r?"InValid":r,i=e.apiArgs,a=void 0===i?{}:i,l=e.loadingState,c=e.setLoading,u=e.id,s=e.setResultSuccess,f=e.setResultFail,p=e.onLoading,m=void 0===p?function(){}:p,d=e.onSuccess,y=void 0===d?function(){}:d,b=e.onFail,v=void 0===b?function(){}:b,h=e.isHidden,w=void 0!==h&&h;return wp.element.createElement(O,{disabled:l.loading,hasFetched:l.id,label:(-1===l.id||l.loading)&&n?n:o,className:l.buttonClassName,isHidden:w,customRequest:function(){c(u),m(),Oa(a).then((function(e){s(u,e),y(e)})).catch((function(e){f(u),v(e)}))}},wp.element.createElement("i",{className:"dashicons"}))})),Ea=(0,wp.compose.compose)((0,wp.data.withSelect)(Ze))((function(e){var t=e.initialLabel,n=void 0===t?"Valid":t,r=e.label,o=void 0===r?"InValid":r,i=e.apiArgs,a=void 0===i?{}:i,l=e.gatewayRequestId,c=e.loadingGateway,u=e.onLoading,s=void 0===u?function(){}:u,f=e.onSuccess,p=void 0===f?function(){}:f,m=e.onFail,d=void 0===m?function(){}:m,y=e.isHidden,b=void 0!==y&&y;return wp.element.createElement(ja,{id:l,loadingState:c,initialLabel:n,label:o,apiArgs:a,onFail:d,onLoading:s,onSuccess:p,isHidden:b})})),Sa="SET_CURRENT_ACTION",Aa="SET_LOADING",Ca="UPDATE_ACTION_SETTINGS",Ia="UPDATE_ACTION_CONDITIONS",_a="ADD_CALLBACK",Pa="ADD_DETAIL",Na="SET_CURRENT_META",ka="CLEAR_CURRENT";function Ta(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const xa={id:-1,state:"",success:!1,response:{},loading:!1,buttonClassName:(Ra=E,function(e){if(Array.isArray(e))return Ta(e)}(Ra)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(Ra)||function(e,t){if(e){if("string"==typeof e)return Ta(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ta(e,t):void 0}}(Ra)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())};var Ra;function Da(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Da(Object(n),!0).forEach((function(t){La(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Da(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function La(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ma={getLoadingIndex:function(e,t){return e.loadingState.findIndex((function(e){return e.id===t}))},getLoading:function(e,t){var n=Ma.getLoadingIndex(e,t);return-1!==n?e.loadingState[n]:Fa({},xa)},getCallback:function(e,t){return e.callbacks[t]},getDetail:function(e,t){return e.details[t]}};const Ba=Fa(Fa({},Ma),{},{isSettingsModal:function(e){var t;return"settings"===(null===(t=e.meta)||void 0===t?void 0:t.modalType)},isConditionalModal:function(e){var t;return"conditions"===(null===(t=e.meta)||void 0===t?void 0:t.modalType)},getMetaIndex:function(e){var t;return null===(t=e.meta)||void 0===t?void 0:t.index},getCurrentAction:function(e){return e.currentAction},getCurrentCallback:function(e){var t,n,r=null!==(t=null===(n=e.currentAction)||void 0===n?void 0:n.type)&&void 0!==t&&t;return Ma.getCallback(e,r)},getCurrentDetail:function(e){var t,n,r=null!==(t=null===(n=e.currentAction)||void 0===n?void 0:n.type)&&void 0!==t&&t;return Ma.getDetail(e,r)},getCurrentSettings:function(e){var t,n,r,o,i;return null!==(i=(null!==(t=null===(n=e.currentAction)||void 0===n?void 0:n.settings)&&void 0!==t?t:{})[null!==(r=null===(o=e.currentAction)||void 0===o?void 0:o.type)&&void 0!==r&&r])&&void 0!==i?i:{}},getCurrentLoading:function(e){var t,n=null===(t=e.currentAction)||void 0===t?void 0:t.id;return Ma.getLoading(e,n)},dangerGetAllLoading:function(e){return e.loadingState}});function $a(e){return function(e){if(Array.isArray(e))return Ga(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ga(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ga(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ga(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ua(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Va(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ua(Object(n),!0).forEach((function(t){qa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ua(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ja=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Va({},xa);return e.state&&(t.buttonClassName=[].concat($a(E),[e.state])),Va(Va({},t),e)};function Ha(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ha(Object(n),!0).forEach((function(t){Wa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ha(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var za=wp.components.withFilters;var Ya;function Ka(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Za(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Za(Object(n),!0).forEach((function(t){el(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Za(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function el(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const tl=(el(Ya={},Sa,(function(e,t){var n={};return"function"==typeof t.item?n.currentAction=t.item(e.currentAction):n.currentAction=t.item,Qa(Qa({},e),n)})),el(Ya,Na,(function(e,t){return Qa(Qa({},e),{},{meta:Qa({},t.item)})})),el(Ya,ka,(function(e){return Qa(Qa({},e),{},{currentAction:{},meta:{}})})),el(Ya,Aa,(function(e,t){var n=Ba.getLoadingIndex(e,t.state.id),r=function(e){return function(e){if(Array.isArray(e))return Ka(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ka(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ka(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.loadingState);return-1!==n?r[n]=Ja(t.state):r.push(Ja(t.state)),Qa(Qa({},e),{},{loadingState:r})})),el(Ya,Ca,(function(e,t){var n=e.currentAction,r=n.settings,o=n.type,i=Qa(Qa({},Ba.getCurrentSettings(e)),t.item);return Qa(Qa({},e),{},{currentAction:Qa(Qa({},e.currentAction),{},{settings:Qa(Qa({},r),{},el({},o,i))})})})),el(Ya,Ia,(function(e,t){var n=e.currentAction.conditions,r=void 0===n?[]:n,o="function"==typeof t.item?t.item(r):t.item;return Qa(Qa({},e),{},{currentAction:Qa(Qa({},e.currentAction),{},{conditions:o})})})),el(Ya,_a,(function(e,t){return Qa(Qa({},e),{},{callbacks:Qa(Qa({},e.callbacks),{},el({},t.actionType,(n=t.actionType,r=t.callback,o=window.JetFBLocalizeHelper.getLocalizedFullPack(n),function(e){var t={onChangeSetting:function(t,n){e.onChange(Xa(Xa({},e.settings),{},Wa({},n,t)))},getMapField:function(t){var n=t.source,r=void 0===n?"fields_map":n,o=t.name,i=e.settings;return void 0!==i[r]&&void 0!==i[r][o]?i[r][o]:""},setMapField:function(t){var n=t.source,r=void 0===n?"fields_map":n,o=t.nameField,i=t.value,a=Xa(Xa({},e.settings[r]),{},Wa({},o,i));e.onChange(Xa(Xa({},e.settings),{},Wa({},r,a)))},onChangeSettingObj:function(t){e.onChange(Xa(Xa({},e.settings),t))}},i=Xa(Xa(Xa({},e),o),t),a=za("jet.fb.render.action.".concat(n))((function(){return null}));return wp.element.createElement(Qe.Provider,{value:i},wp.element.createElement(r,i),wp.element.createElement(a,i))})))});var n,r,o})),el(Ya,Pa,(function(e,t){return Qa(Qa({},e),{},{details:Qa(Qa({},e.details),{},el({},t.actionType,t.item))})})),Ya),nl={currentAction:{},callbacks:{},details:{},meta:{},loadingState:[Ja()]},rl={setCurrentAction:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:Sa,item:e}},setMeta:function(e){return{type:Na,item:e}},clearCurrent:function(){return{type:ka}},setLoading:function(e){return{type:Aa,state:{id:e.actionId,state:"loading",loading:!0}}},setLoadingResult:function(e){return{type:"SET_LOADING",state:{id:e.actionId,state:e.success?"is-valid":"is-invalid",success:e.success,response:e.response,loading:!1}}},updateCurrentSettings:function(e){return{type:Ca,item:e}},updateCurrentConditions:function(e){return{type:Ia,item:e}},addCallback:function(e,t){return{type:_a,actionType:e,callback:t}},addDetail:function(e,t){return{type:Pa,actionType:e,item:t}}},ol=(0,wp.data.createReduxStore)("jet-forms/actions",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nl,t=arguments.length>1?arguments[1]:void 0,n=tl[null==t?void 0:t.type];return n?n(e,t):e},actions:rl,selectors:Ba}),il="CLEAR_GATEWAY",al="CLEAR_SCENARIO",ll="SET_CURRENT_GATEWAY_SCENARIO",cl="SET_CURRENT_GATEWAY",ul="SET_CURRENT_GATEWAY_SPECIFIC",sl="SET_CURRENT_GATEWAY_INNER",fl="SET_CURRENT_REQUEST",pl="SET_CURRENT_SCENARIO",ml="REGISTER_EVENT_TYPE",dl="HARD_SET_CURRENT_GATEWAY",yl="HARD_SET_CURRENT_GATEWAY_SPECIFIC";function bl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bl(Object(n),!0).forEach((function(t){hl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wl={getCurrentRequestId:function(e){return e.currentRequest.id},getCurrentRequest:function(e){return e.currentRequest},getScenario:function(e){return e.currentScenario},getScenarioId:function(e){var t;return null===(t=e.currentScenario)||void 0===t?void 0:t.id},getGatewayId:function(e){var t;return null===(t=e.currentGateway)||void 0===t?void 0:t.gateway},getGateway:function(e){return e.currentGateway},getEventTypes:function(e){return e.eventTypes}};const gl=vl(vl({},wl),{},{getGatewaySpecific:function(e){return e.currentGateway[wl.getGatewayId(e)]||{}}});var Ol;function jl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function El(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jl(Object(n),!0).forEach((function(t){Sl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Al=(Sl(Ol={},il,(function(e,t){return El(El({},e),{},{currentGateway:{}})})),Sl(Ol,al,(function(e,t){return El(El({},e),{},{currentScenario:{}})})),Sl(Ol,ll,(function(e,t){return El(El({},e),{},{currentScenario:El(El({},e.currentScenario),t.item||{})})})),Sl(Ol,cl,(function(e,t){return El(El({},e),{},{currentGateway:El(El({},e.currentGateway),t.item)})})),Sl(Ol,ul,(function(e,t){return El(El({},e),{},{currentGateway:El(El({},e.currentGateway),{},Sl({},e.currentGateway.gateway,El(El({},gl.getGatewaySpecific(e)),t.item)))})})),Sl(Ol,sl,(function(e,t){var n=t.item,r=n.key,o=n.value;return El(El({},e),{},{currentGateway:El(El({},e.currentGateway),{},Sl({},r,El(El({},e.currentGateway[r]||{}),o)))})})),Sl(Ol,fl,(function(e,t){var n,r=[gl.getGatewayId(e),null===(n=t.item)||void 0===n?void 0:n.id].filter((function(e){return e}));return t.item.id=r.join("/"),El(El({},e),{},{currentRequest:t.item})})),Sl(Ol,pl,(function(e,t){var n,r;return El(El({},e),{},{currentScenario:El(El({},e.currentScenario),{},Sl({},null===(n=e.currentScenario)||void 0===n?void 0:n.id,El(El({},e.currentScenario[null===(r=e.currentScenario)||void 0===r?void 0:r.id]||{}),t.item||{})))})})),Sl(Ol,dl,(function(e,t){return t.item&&(e.currentGateway[t.item]=t.value),El({},e)})),Sl(Ol,yl,(function(e,t){var n,r,o;return t.item&&null!==(n=e.currentGateway)&&void 0!==n&&n.gateway&&(e.currentGateway[null===(r=e.currentGateway)||void 0===r?void 0:r.gateway]={},e.currentGateway[null===(o=e.currentGateway)||void 0===o?void 0:o.gateway][t.item]=t.value),El({},e)})),Sl(Ol,ml,(function(e,t){var n,r,o,i,a,l,c=El(El({},t.item),{},{gateway:null!==(n=null===(r=t.item)||void 0===r?void 0:r.gateway)&&void 0!==n?n:null===(o=e.currentGateway)||void 0===o?void 0:o.gateway,scenario:null!==(i=null===(a=t.item)||void 0===a?void 0:a.scenario)&&void 0!==i?i:null===(l=e.currentScenario)||void 0===l?void 0:l.id});return e.eventTypes.push(c),e})),Ol);var Cl={currentRequest:{id:-1},currentGateway:{},currentScenario:{},eventTypes:[]};const Il={clearGateway:function(){return{type:il}},clearScenario:function(){return{type:al}},setRequest:function(e){return{type:fl,item:e}},setGateway:function(e){return{type:cl,item:e}},setGatewayInner:function(e){return{type:sl,item:e}},setGatewaySpecific:function(e){return{type:ul,item:e}},setScenario:function(e){return{type:ll,item:e}},setCurrentScenario:function(e){return{type:pl,item:e}},registerEventType:function(e){return{type:ml,item:e}},hardSetGateway:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{type:dl,item:e,value:t}},hardSetGatewaySpecific:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{type:yl,item:e,value:t}}},_l=(0,wp.data.createReduxStore)("jet-forms/gateways",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cl,t=arguments.length>1?arguments[1]:void 0,n=Al[null==t?void 0:t.type];return n?n(e,t):e},actions:Il,selectors:gl}),Pl="REGISTER",Nl="LOCK_ACTIONS";function kl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Rl={getTypeIndex:function(e,t){return e.types.findIndex((function(e){return e.value===t}))},getTypes:function(e){return e.types},getGatewayTypes:function(e){return e.types.filter((function(e){return"gateway"in e}))},getAlwaysTypes:function(e){return e.types.filter((function(e){return"always"in e}))},getType:function(e,t){var n=Rl.getTypeIndex(e,t);return e.types[n]},getUnsupported:function(e,t){var n,r=null!==(n=e.lockedActions[t])&&void 0!==n&&n;return!1===r?[]:r.unsupported},getSupported:function(e,t){var n,r=null!==(n=e.lockedActions[t])&&void 0!==n&&n;return!1===r?[]:r.supported},isValid:function(e,t,n){var r=Rl.getUnsupported(e,t);if(r.length&&r.includes(n))return!1;var o=Rl.getSupported(e,t);return!o.length||o.includes(n)},filterList:function(e,t,n){return n.filter((function(n){return Rl.isValid(e,t,n)}))},getHelpMap:function(e){var t,n={},r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return xl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xl(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(e.types);try{for(r.s();!(t=r.n()).done;){var o=t.value,i=o.value,a=o.help;n[i]=a}}catch(e){r.e(e)}finally{r.f()}return n}};const Dl=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kl(Object(n),!0).forEach((function(t){Tl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Rl);var Fl;function Ll(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ml(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ll(Object(n),!0).forEach((function(t){Bl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ll(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Gl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gl(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function Gl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Ul=(Bl(Fl={},Pl,(function(e,t){var n,r=$l(t.items);try{for(r.s();!(n=r.n()).done;){var o=n.value;o.title=o.label;var i=Dl.getTypeIndex(e,o.value);-1===i?e.types.push(Ml({},o)):e.types[i]=Ml({},o)}}catch(e){r.e(e)}finally{r.f()}return e})),Bl(Fl,Nl,(function(e,t){var n,r=$l(window.jetFormActionTypes);try{var o=function(){var t,r=n.value,o=r.id,i=r.self,a=null!==(t=window[i])&&void 0!==t&&t;if(!1===a)return"continue";var l=a.__unsupported_events,c=a.__supported_events,u={unsupported:e.types.filter((function(e){var t=e.self;return l.includes(t)})).map((function(e){return e.value})),supported:e.types.filter((function(e){var t=e.self;return c.includes(t)})).map((function(e){return e.value}))};if(!u.supported.length&&!u.unsupported.length)return"continue";e.lockedActions[o]=u};for(r.s();!(n=r.n()).done;)o()}catch(e){r.e(e)}finally{r.f()}return e})),Fl);var Vl={types:[],labels:{},lockedActions:{}};const ql={register:function(e){return{type:Pl,items:e}},lockActions:function(){return{type:Nl}}},Jl=(0,wp.data.createReduxStore)("jet-forms/events",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vl,t=arguments.length>1?arguments[1]:void 0,n=Ul[null==t?void 0:t.type];return n?n(e,t):e},actions:ql,selectors:Dl}),Hl="REGISTER",Xl="ADD_RENDER_STATE",Wl="ADD_RENDER_STATES",zl="DELETE_RENDER_STATES";var Yl;function Kl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ql(e){return function(e){if(Array.isArray(e))return tc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ec(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ec(e,t){if(e){if("string"==typeof e)return tc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tc(e,t):void 0}}function tc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var nc=(Zl(Yl={},Hl,(function(e,t){var n=t.items,r=n.operators,o=n.functions,i=n.render_states;return e.operators=Ql(r),e.functions=Ql(o),e.renderStates=Ql(i),e})),Zl(Yl,Xl,(function(e,t){return e.renderStates.push(t.item),e})),Zl(Yl,Wl,(function(e,t){var n,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ec(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(t.items);try{for(r.s();!(n=r.n()).done;){var o=n.value;e.renderStates.push(o)}}catch(e){r.e(e)}finally{r.f()}return e})),Zl(Yl,zl,(function(e,t){var n=Array.isArray(t.items)?Ql(t.items):[t.items];return e.renderStates=e.renderStates.filter((function(e){var t=e.value;return!n.includes(t)})),e})),Yl);const rc=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kl(Object(n),!0).forEach((function(t){Zl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},nc),oc=function(e){var t,n;try{n=JSON.parse(e)}catch(e){return!1}return!(null===(t=n)||void 0===t||!t.jet_preset)};var ic=wp.i18n.__;const ac=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"code";if(e=null!==(t=e)&&void 0!==t?t:"",!oc(e))return e;var o,i=JSON.parse(e),a=ic("Preset from","jet-form-builder"),l=null!==(n=null==i?void 0:i.from)&&void 0!==n?n:"(empty)";switch(r){case"code":o="<code>".concat(l,"</code>");break;case"b":o="<b>".concat(l,"</b>")}return[a,o].join(" ")};var lc=wp.data.select,cc=wp.i18n.__,uc={functions:[],operators:[],conditionReaders:{default:function(e){var t=lc("jet-forms/block-conditions").getOperator(null==e?void 0:e.operator);if(!t)return"";var n=(null==e?void 0:e.field)||"(no field)",r=ac(e.value,"b")||"(no value)";return["<code>".concat(n,"</code>"),t.label,"<code>".concat(r,"</code>")].join(" ")},render_state:function(e){var t,n=(null!==(t=null==e?void 0:e.render_state)&&void 0!==t?t:[]).map((function(e){return"<code>".concat(e,"</code>")}));return[1===n.length?cc("Is render state","jet-form-builder"):cc("One of the render states","jet-form-builder"),n.join(", ")].join(": ")}},renderStates:[]};const sc={register:function(e){return{type:Hl,items:e}},addRenderState:function(e){return{type:Xl,item:e}},addRenderStates:function(e){return{type:Wl,items:e}},deleteRenderStates:function(e){return{type:zl,items:e}}};function fc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const mc=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fc(Object(n),!0).forEach((function(t){pc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},{getFunctions:function(e){return e.functions},getOperators:function(e){return e.operators},getRenderStates:function(e){return e.renderStates},getSwitchableRenderStates:function(e){return e.renderStates.filter((function(e){var t=e.is_custom,n=void 0!==t&&t,r=e.can_be_switched;return n||void 0!==r&&r}))},getCustomRenderStates:function(e){return e.renderStates.filter((function(e){var t=e.is_custom;return void 0!==t&&t}))},getOperator:function(e,t){var n=e.operators.findIndex((function(e){return e.value===t}));return-1!==n&&e.operators[n]},readCondition:function(e,t){var n,r=t.operator,o=void 0===r?"":r;if(!o)return"";var i=null!==(n=e.conditionReaders[o])&&void 0!==n&&n;return"function"==typeof i?i(t):e.conditionReaders.default(t)}}),dc=(0,wp.data.createReduxStore)("jet-forms/block-conditions",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uc,t=arguments.length>1?arguments[1]:void 0,n=rc[null==t?void 0:t.type];return n?n(e,t):e},actions:sc,selectors:mc}),yc="REGISTER";function bc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const hc=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bc(Object(n),!0).forEach((function(t){vc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},vc({},yc,(function(e,t){var n=t.slug,r=t.settings;return e.buttons[n]=r,e})));var wc={buttons:{}};const gc={register:function(e,t){return{type:yc,slug:e,settings:t}}};function Oc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ec=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oc(Object(n),!0).forEach((function(t){jc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},{getButtonEdit:function(e,t){var n;return null!==(n=e.buttons[t])&&void 0!==n?n:null}}),Sc=(0,wp.data.createReduxStore)("jet-forms/action-buttons",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wc,t=arguments.length>1?arguments[1]:void 0,n=hc[null==t?void 0:t.type];return n?n(e,t):e},actions:gc,selectors:Ec}),Ac="REGISTER_MACRO";function Cc(e){return function(e){if(Array.isArray(e))return _c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ic(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ic(e,t){if(e){if("string"==typeof e)return _c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_c(e,t):void 0}}function _c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Pc=(Tc=function(e,t){var n,r,o,i=t.items,a=t.isClient,l=Array.isArray(i)?i:[i],c=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ic(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(l);try{for(c.s();!(n=c.n()).done;){var u=n.value;if(!(u instanceof mi))throw console.error(u),new Error("^^^ Invalid macro item ^^^")}}catch(e){c.e(e)}finally{c.f()}return a?(r=e.clientMacros).push.apply(r,Cc(l)):(o=e.serverMacros).push.apply(o,Cc(l)),e},(kc=Ac)in(Nc={})?Object.defineProperty(Nc,kc,{value:Tc,enumerable:!0,configurable:!0,writable:!0}):Nc[kc]=Tc,Nc);var Nc,kc,Tc,xc=wp.i18n.__;function Rc(){mi.call(this),this.name="CurrentDate",this.isClientSide=!0,this.fullHelp=function(){return wp.element.createElement(React.Fragment,null,xc("Returns the current timestamp. Replacing","jet-form-builder")," ",wp.element.createElement("code",null,"Date.now()"))}}Rc.prototype=Object.create(mi.prototype);const Dc=Rc;var Fc=wp.i18n.__;function Lc(){mi.call(this),this.name="Min_In_Sec",this.isClientSide=!0,this.help=Fc("Number of milliseconds in one minute","jet-form-builder")}Lc.prototype=Object.create(mi.prototype);const Mc=Lc;var Bc=wp.i18n.__;function $c(){mi.call(this),this.name="Month_In_Sec",this.isClientSide=!0,this.help=Bc("Number of milliseconds in one month","jet-form-builder")}$c.prototype=Object.create(mi.prototype);const Gc=$c;var Uc=wp.i18n.__;function Vc(){mi.call(this),this.name="Day_In_Sec",this.isClientSide=!0,this.help=Uc("Number of milliseconds in one day","jet-form-builder")}Vc.prototype=Object.create(mi.prototype);const qc=Vc;var Jc=wp.i18n.__;function Hc(){mi.call(this),this.name="Year_In_Sec",this.isClientSide=!0,this.help=Jc("Number of milliseconds in one year","jet-form-builder")}Hc.prototype=Object.create(mi.prototype);const Xc=Hc;function Wc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var zc=wp.i18n.__;function Yc(){Mo.call(this)}Yc.prototype=Object.create(Mo.prototype),Yc.prototype.docArgument=!1,Yc.prototype.help=null,Yc.prototype.isServerSide=!1,Yc.prototype.isClientSide=!1,Yc.prototype.getArgumentsList=function(){if(!this.docArgument||!this.docArgument.length)return null;var e,t=[],n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Wc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wc(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(Array.isArray(this.docArgument)?this.docArgument:[this.docArgument]);try{for(n.s();!(e=n.n()).done;)switch(e.value){case"string":case String:t.push(zc("String","jet-form-builder"));break;case"number":case Number:t.push(zc("Number","jet-form-builder"));break;case"array":case Array:t.push(zc("Array","jet-form-builder"));break;case"any":t.push(zc("Anything","jet-form-builder"))}}catch(e){n.e(e)}finally{n.f()}return t.join(" | ")},Yc.prototype.fullHelp=function(){if(!this.docArgument&&!this.help)return null;var e=this.help,t=this.getArgumentsList();return wp.element.createElement(React.Fragment,null,t&&wp.element.createElement("div",{style:{marginBottom:"0.5em"}},zc("Arguments:","jet-form-builder")+" ",wp.element.createElement("code",null,t)),"function"!=typeof e?e:wp.element.createElement(e,null))};const Kc=Yc;var Zc=wp.i18n.__;function Qc(){Kc.call(this),this.fullName=function(){return"addDay"},this.docArgument=Number,this.isClientSide=!0,this.help=Zc("Adds the passed number of days via an argument \n\t\tto a macro that returns a date or a timestamp.","jet-form-builder")}Qc.prototype=Object.create(Kc.prototype);const eu=Qc;var tu=wp.i18n.__;function nu(){Kc.call(this),this.fullName=function(){return"addMonth"},this.docArgument=Number,this.isClientSide=!0,this.help=tu("Adds the passed number of months via an argument \n\t\tto a macro that returns a date or a timestamp.","jet-form-builder")}nu.prototype=Object.create(Kc.prototype);const ru=nu;var ou=wp.i18n.__;function iu(){Kc.call(this),this.fullName=function(){return"addYear"},this.docArgument=Number,this.isClientSide=!0,this.help=ou("Adds the passed number of years through an argument \n\t\tto a macro that returns a date or a timestamp.","jet-form-builder")}iu.prototype=Object.create(Kc.prototype);const au=iu;var lu=wp.i18n.__;function cu(){Kc.call(this),this.fullName=function(){return"ifEmpty"},this.docArgument="any",this.isClientSide=!0,this.help=lu("If the macro returns an empty value, \n\t\tthen the filter returns the value passed in the argument","jet-form-builder")}cu.prototype=Object.create(Kc.prototype);const uu=cu;var su=wp.i18n.__;function fu(){Kc.call(this),this.fullName=function(){return"length"},this.isClientSide=!0,this.help=su("Returns the length of a string or array","jet-form-builder")}fu.prototype=Object.create(Kc.prototype);const pu=fu;var mu=wp.i18n.__;function du(){Kc.call(this),this.fullName=function(){return"toDate"},this.isClientSide=!0,this.help=function(){return wp.element.createElement(React.Fragment,null,mu("Gets the timestamp from the macro and formats it according \n\t\tto the format of the Date Field.","jet-form-builder"),wp.element.createElement("hr",null),mu("Example:","jet-form-builder")+" ",wp.element.createElement("code",null,"2022-02-24"))}}du.prototype=Object.create(Kc.prototype);const yu=du;var bu=wp.i18n.__;function vu(){Kc.call(this),this.fullName=function(){return"toDateTime"},this.isClientSide=!0,this.help=function(){return wp.element.createElement(React.Fragment,null,bu("Gets the timestamp from the macro and formats it according \n\t\tto the format of the Datetime Field.","jet-form-builder"),wp.element.createElement("hr",null),bu("Example:","jet-form-builder")+" ",wp.element.createElement("code",null,"2022-02-24T04:25"))}}vu.prototype=Object.create(Kc.prototype);const hu=vu;var wu=wp.i18n.__;function gu(){Kc.call(this),this.fullName=function(){return"toTime"},this.isClientSide=!0,this.help=function(){return wp.element.createElement(React.Fragment,null,wu("Gets the timestamp from the macro and formats it according \n\t\tto the format of the Time Field.","jet-form-builder"),wp.element.createElement("hr",null),wu("Example:","jet-form-builder")+" ",wp.element.createElement("code",null,"04:25"))}}gu.prototype=Object.create(Kc.prototype);const Ou=gu;var ju=wp.i18n.__;function Eu(){Kc.call(this),this.fullName=function(){return"subDay"},this.docArgument=Number,this.isClientSide=!0,this.help=ju("Subtracts the number of days by argument\nfrom a macro that returns a date or timestamp.","jet-form-builder")}Eu.prototype=Object.create(Kc.prototype);const Su=Eu;var Au=wp.i18n.__;function Cu(){Kc.call(this),this.fullName=function(){return"subMonth"},this.docArgument=Number,this.isClientSide=!0,this.help=Au("Subtracts the number of months by argument\nfrom a macro that returns a date or timestamp.","jet-form-builder")}Cu.prototype=Object.create(Kc.prototype);const Iu=Cu;var _u=wp.i18n.__;function Pu(){Kc.call(this),this.fullName=function(){return"subYear"},this.docArgument=Number,this.isClientSide=!0,this.help=_u("Subtracts the number of years by argument\nfrom a macro that returns a date or timestamp.","jet-form-builder")}Pu.prototype=Object.create(Kc.prototype);const Nu=Pu;var ku={macros:[new Dc,new Mc,new qc,new Gc,new Xc],filters:[new uu,new pu,new eu,new ru,new au,new Su,new Iu,new Nu,new yu,new hu,new Ou]};const Tu={registerMacro:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:Ac,items:e,isClient:t}}};function xu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ru(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Du=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xu(Object(n),!0).forEach((function(t){Ru(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},{getClientMacros:function(e){return e.macros.filter((function(e){return e.isClientSide}))},getServerMacros:function(e){return e.macros.filter((function(e){return e.isServerSide}))},getClientFilters:function(e){return e.filters.filter((function(e){return e.isClientSide}))},getServerFilters:function(e){return e.filters.filter((function(e){return e.isServerSide}))}}),Fu=(0,wp.data.createReduxStore)("jet-forms/macros",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ku,t=arguments.length>1?arguments[1]:void 0,n=Pc[null==t?void 0:t.type];return n?n(e,t):e},actions:Tu,selectors:Du});n(7194);var Lu=wp.data,Mu=Lu.register,Bu=Lu.dispatch;Mu(_l),Mu(Jl),Mu(ol),Mu(dc),Mu(Sc),Mu(Fu),Bu("jet-forms/block-conditions").register(window.jetFormBlockConditions),Bu("jet-forms/events").register(window.jetFormEvents.types),Bu("jet-forms/events").lockActions();const $u=(0,wp.element.createContext)(!1),Gu=(0,wp.element.createContext)({currentItem:{},changeCurrentItem:function(){},currentIndex:-1}),Uu=(0,wp.element.createContext)({index:-1,action:{}}),Vu=(0,wp.element.createContext)({isSupported:function(e){return!1},render:function(e){return e.children}}),qu=(0,wp.element.createContext)({isSupported:function(e){return!1},render:function(e){return e.currentItem,e.index,null}}),Ju=(0,wp.element.createContext)({edit:function(e){return!0},move:function(e){return!0},clone:function(e){return!0},delete:function(e){return!0}}),Hu=(0,wp.element.createContext)({});function Xu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Wu=wp.components.ToggleControl,zu=wp.i18n.__,Yu=wp.element.useState;function Ku(e){return function(e){if(Array.isArray(e))return Zu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Zu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zu(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function es(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qu(Object(n),!0).forEach((function(t){ts(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ts(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ns=wp.element.useContext,rs=wp.i18n.__;const os=function(e){if(void 0===e)return null;var t=ns($u),n=function(t){var n=t.oldIndex,r=t.newIndex;e((function(e){var t=JSON.parse(JSON.stringify(e)),o=[t[n],t[r]];return t[r]=o[0],t[n]=o[1],t}))};return{changeCurrentItem:function(t,n){e((function(e){var r=JSON.parse(JSON.stringify(e));return r[n]=es(es({},e[n]),t),r}))},toggleVisible:function(t){e((function(e){var n=JSON.parse(JSON.stringify(e));return n[t].__visible=!n[t].__visible,n}))},moveDown:function(e){n({oldIndex:e,newIndex:e+1})},moveUp:function(e){n({oldIndex:e,newIndex:e-1})},cloneItem:function(t){e((function(e){var n=JSON.parse(JSON.stringify(e)),r=[n.slice(0,t+1),n.slice(t+1)],o=r[1];return[].concat(Ku(r[0]),[n[t]],Ku(o))}))},addNewItem:function(t){e((function(e){return[].concat(Ku(e),[es({__visible:!0},t)])}))},removeOption:function(n){t&&!function(e){return confirm(rs("Are you sure you want to remove item ".concat(e+1,"?"),"jet-form-builder"))}(n)||e((function(e){var t=JSON.parse(JSON.stringify(e));return t.splice(n,1),t}))}}},is=(0,wp.element.createContext)(!1);var as=wp.components.Button,ls=wp.element.useContext;const cs=function(e){var t,n=e.item,r=e.onSetState,o=e.functions,i=e.children,a=(null!==(t=null!=o?o:os(r))&&void 0!==t?t:ls(is)).addNewItem;return wp.element.createElement(as,{icon:"plus-alt2",isSecondary:!0,onClick:function(){return a(n)}},i)};var us=wp.components,ss=us.Card,fs=us.ButtonGroup,ps=us.Button,ms=us.CardHeader,ds=us.CardBody,ys=wp.element.useContext,bs=wp.i18n.__;const vs=function(e){var t,n=e.items,r=e.onSetState,o=e.functions,i=e.children,a=null!==(t=null!=o?o:os(r))&&void 0!==t?t:ys(is),l=a.cloneItem,c=a.moveUp,u=a.moveDown,s=a.toggleVisible,f=a.changeCurrentItem,p=a.removeOption,m=ys(qu),d=m.isSupported,y=m.render,b=ys(Ju),v=b.edit,h=b.move,w=b.clone,g=b.delete,O=function(e){var t=e.currentItem,n=e.index;return d(t)?wp.element.createElement(y,{currentItem:t,index:n}):wp.element.createElement("span",{className:"repeater-item-title"},"#".concat(n+1))};return wp.element.createElement("div",{className:"jet-form-builder__repeater-component",key:"jet-form-builder-repeater"},n.map((function(e,t){return wp.element.createElement(ss,{size:"small",elevation:2,className:"jet-form-builder__repeater-component-item",key:"jet-form-builder__repeater-component-item-".concat(t)},wp.element.createElement(ms,{className:"repeater__item__header"},wp.element.createElement("div",{className:"repeater-item__left-heading"},wp.element.createElement(fs,{className:"repeater-action-buttons"},(!v||v(e))&&wp.element.createElement(ps,{variant:"tertiary",isSmall:!0,icon:e.__visible?"no-alt":"edit",onClick:function(){return s(t)},className:"repeater-action-button jet-fb-is-thick"}),(!h||h(e))&&wp.element.createElement(ps,{variant:"tertiary",isSmall:!0,isSecondary:!0,disabled:!Boolean(t),icon:"arrow-up-alt2",onClick:function(){return c(t)},className:"repeater-action-button jet-fb-is-thick"}),(!h||h(e))&&wp.element.createElement(ps,{variant:"tertiary",isSmall:!0,isSecondary:!0,disabled:!(t<n.length-1),icon:"arrow-down-alt2",onClick:function(){return u(t)},className:"repeater-action-button jet-fb-is-thick"})),wp.element.createElement(O,{currentItem:e,index:t})),wp.element.createElement(fs,null,(!w||w(e))&&wp.element.createElement(ps,{variant:"tertiary",isSmall:!0,isSecondary:!0,onClick:function(){return l(t)},className:"jet-fb-is-thick",icon:"admin-page"}),(!g||g(e))&&wp.element.createElement(Ro,{icon:"trash",isDestructive:!0},wp.element.createElement(So.Consumer,null,(function(e){var n=e.setShowPopover;return wp.element.createElement("div",{style:{padding:"0.5em",width:"max-content"}},wp.element.createElement("span",null,bs("Delete this item?","jet-form-builder"))," ",wp.element.createElement(ps,{isLink:!0,isDestructive:!0,onClick:function(){return p(t)}},bs("Yes","jet-form-builder"))," / ",wp.element.createElement(ps,{isLink:!0,onClick:function(){return n(!1)}},bs("No","jet-form-builder")))}))))),e.__visible&&wp.element.createElement(ds,{className:"repeater-item__content",key:"jet-form-builder__card-body-".concat(t)},(r={currentItem:e,changeCurrentItem:function(e){return f(e,t)},currentIndex:t},wp.element.createElement(Gu.Provider,{value:r},!i&&"Set up your Repeater Template, please.","function"==typeof i?i(r):i))));var r})))};function hs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ws(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hs(Object(n),!0).forEach((function(t){gs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Os(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var js=wp.components,Es=js.__experimentalToggleGroupControl,Ss=js.__experimentalToggleGroupControlOption,As=wp.i18n.__,Cs=window.jetFormValidation.formats;var Is=window.jetFormValidation.messages;const _s=function(e){return Is.find((function(t){var n=t.id;return e===n}))};function Ps(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ns(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ps(Object(n),!0).forEach((function(t){ks(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ps(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ks(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ts(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return xs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xs(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Rs=wp.components.TextControl;var Ds=["message","update","value","help"];function Fs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ls(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fs(Object(n),!0).forEach((function(t){Ms(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ms(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bs=wp.components.TextControl;const $s=(0,wp.element.createContext)({FieldSelect:null,property:""});function Gs(e,t){if(e){if("string"==typeof e)return Us(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Us(e,t):void 0}}function Us(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Vs=wp.element,qs=Vs.useState,Js=Vs.useContext,Hs=wp.components.SelectControl;var Xs=["currentAction"];function Ws(){return Ws=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ws.apply(this,arguments)}var zs=wp.compose.compose,Ys=wp.data.withSelect;const Ks=zs(Ys((function(e){return{currentAction:e("jet-forms/actions").getCurrentAction()}})),Ys(at))((function(e){var t=e.currentAction,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Xs);return wp.element.createElement(ja,Ws({id:t.id},n))})),Zs=function(e){var t=e.state,n=e.children,r=os(t);return wp.element.createElement(is.Provider,{value:r},n)};function Qs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ef(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qs(Object(n),!0).forEach((function(t){tf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||rf(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rf(e,t){if(e){if("string"==typeof e)return of(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?of(e,t):void 0}}function of(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function af(){return af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},af.apply(this,arguments)}var lf=wp.components,cf=lf.Button,uf=lf.TextControl,sf=wp.i18n.__,ff=wp.element.useState,pf=wp.data,mf=pf.useSelect,df=pf.useDispatch,yf=wp.apiFetch,bf=window.jetFormBlockConditions,vf=bf.rest_add_state,hf=bf.rest_delete_state,wf=function(e){var t=af({},e);return wp.element.createElement("div",af({className:"jet-fb-notice"},t),wp.element.createElement("a",{href:"#",target:"_blank"},wp.element.createElement("span",{className:"dashicons"}),sf("What is it?","jet-form-builder")))};const gf=function(e){var t,n=e.setShowModal,r=e.changeCurrentItem,o=e.currentItem,i=nf(ff(!1),2),a=i[0],l=i[1],c=nf(ff({}),2),u=c[0],s=c[1],f=nf(ff(""),2),p=f[0],m=f[1],y=function(e){return function(e){if(Array.isArray(e))return of(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||rf(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(null!==(t=o.render_state)&&void 0!==t?t:[]),b=df("jet-forms/block-conditions",[]),v=b.addRenderState,h=b.deleteRenderStates,w=mf((function(e){return e("jet-forms/block-conditions").getCustomRenderStates()}),[a,u]);return wp.element.createElement(d,{title:sf("Register custom render state"),onRequestClose:function(){return n(!1)},isUseActions:!1},wp.element.createElement(wf,{style:{marginBottom:"1em"}}),wp.element.createElement("div",{className:"jet-fb-field-with-button"},wp.element.createElement(uf,{value:p,onChange:function(e){return m(e)}}),wp.element.createElement(cf,{variant:"secondary",onClick:function(){l(!0),vf.data={value:p},yf(vf).then((function(e){var t;t=e.state,v(t),y.push(t.value),r({render_state:y}),l(!1),n(!1)})).catch((function(e){console.error(e),l(!1)}))},disabled:a,isBusy:a},sf("Add","jet-form-builder"))),wp.element.createElement("div",{className:"jet-fb-buttons-flex"},w.map((function(e){var t;return wp.element.createElement(cf,{key:e.value,icon:"no-alt",iconPosition:"right",onClick:function(){return t=e.value,hf.data={list:[t]},s((function(e){return ef(ef({},e),{},tf({},t,!0))})),void yf(hf).then((function(){!function(e){h(e),y=y.filter((function(t){return t!==e})),r({render_state:y})}(t)})).catch(console.error).finally((function(){s((function(e){return ef(ef({},e),{},tf({},t,!1))}))}));var t},isBusy:null!==(t=u[e.value])&&void 0!==t&&t},e.label)}))))};function Of(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var jf=wp.components,Ef=jf.Button,Sf=jf.BaseControl,Af=jf.FormTokenField,Cf=wp.i18n.__,If=wp.element.useState,_f=wp.data.useSelect;const Pf=function(e){var t=e.currentItem,n=e.changeCurrentItem,r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Of(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Of(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(If(!1),2),o=r[0],i=r[1],a=_f((function(e){return B(e("jet-forms/block-conditions").getRenderStates(),"value")}),[o]);return wp.element.createElement(React.Fragment,null,wp.element.createElement(Sf,{label:Cf("Render State","jet-form-builder"),className:"control-flex"},wp.element.createElement("div",{className:"jet-fb-field-with-button"},wp.element.createElement(Af,{label:Cf("Add render state","jet-form-builder"),value:t.render_state,suggestions:a,onChange:function(e){return n({render_state:e})},tokenizeOnSpace:!0,__experimentalExpandOnFocus:!0}),wp.element.createElement(Ef,{variant:"secondary",icon:"plus-alt2",onClick:function(){return i(!0)}}))),o&&wp.element.createElement(gf,{setShowModal:i,changeCurrentItem:n,currentItem:t}))};var Nf=wp.components,kf=Nf.TextareaControl,Tf=Nf.withFilters,xf=Nf.Flex,Rf=Nf.FlexItem,Df=wp.i18n.__,Ff=Tf("jet.fb.block.conditions.options")((function(e){var t,n=e.currentItem,r=e.changeCurrentItem,o=At();return"render_state"===n.operator?wp.element.createElement(Pf,{key:o("RenderStateOptions"),changeCurrentItem:r,currentItem:n}):wp.element.createElement(xf,{align:"flex-start",className:"components-base-control__field"},wp.element.createElement(Rf,{isBlock:!0},wp.element.createElement(xf,{align:"center",justify:"flex-start"},wp.element.createElement("span",null,Df("Value to compare","jet-form-builder")),wp.element.createElement(Eo,{value:n.value,onChange:function(e){return r({value:e})}}),wp.element.createElement(bi,null,wp.element.createElement(ai,{onClick:function(e){var t;return r({value:(null!==(t=n.value)&&void 0!==t?t:"")+"%".concat(e,"%")})}})))),wp.element.createElement(Rf,{isBlock:!0,style:{flex:3,marginLeft:"unset"}},wp.element.createElement(kf,{className:"jet-control-clear",hideLabelFromVision:!0,value:null!==(t=n.value)&&void 0!==t?t:"",onChange:function(e){return r({value:e})}})))}));const Lf=Ff;function Mf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Bf=wp.components,$f=Bf.SelectControl,Gf=Bf.withFilters,Uf=wp.i18n.__,Vf=wp.element.useState;const qf=Gf("jet.fb.block.conditions.options")((function(e){var t=e.currentItem,n=e.changeCurrentItem,r=At(),o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Mf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Vf((function(){return te([],"--")})),1)[0];return"render_state"===t.operator?null:wp.element.createElement($f,{key:r("SelectControl-field"),label:Uf("Field","jet-form-builder"),labelPosition:"side",value:t.field,options:o,onChange:function(e){n({field:e})}})}));var Jf=wp.element.useContext,Hf=wp.components.SelectControl,Xf=wp.i18n.__;const Wf=function(){var e=Jf(Gu),t=e.currentItem,n=e.changeCurrentItem,r=At(),o=Et().operators;return wp.element.createElement(React.Fragment,null,wp.element.createElement(qf,{currentItem:t,changeCurrentItem:n}),wp.element.createElement(Hf,{key:r("SelectControl-operator"),label:Xf("Operator","jet-form-builder"),labelPosition:"side",value:t.operator,options:o,onChange:function(e){return n({operator:e})}}),wp.element.createElement(Lf,{currentItem:t,changeCurrentItem:n}))};function zf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zf(Object(n),!0).forEach((function(t){Kf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Qf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ep=wp.i18n.__,tp=wp.element,np=tp.useState,rp=tp.useContext,op=tp.Fragment,ip=tp.useEffect,ap=wp.components,lp=ap.SelectControl,cp=ap.TextareaControl,up=ap.FlexItem,sp=(ap.Button,ap.Flex),fp=ap.ToggleControl,pp=[{key:"commas",render:function(){return wp.element.createElement("li",null,ep("If this field supports multiple values, \n\t\t\tyou can separate them with commas","jet-form-builder"))}}],mp=[{value:"on_change",label:ep("On change conditions result","jet-form-builder"),help:ep("The value will be applied if condition check-ups return a result \ndifferent from the first check-up's cached value","jet-form-builder")},{value:"once",label:ep("Once","jet-form-builder"),help:ep("The value will be applied only the first time \nthe condition is matched","jet-form-builder")},{value:"always",label:ep("Always","jet-form-builder"),help:ep("The value will be applied every time the condition is matched","jet-form-builder")}],dp=function(e){return mp.find((function(t){return t.value===(null!=e?e:"on_change")})).help};const yp=function(){var e,t,n,r,o=rp(Hu),i=o.current,a=o.update,l=Zf(np((function(){return i})),2),c=l[0],u=l[1],s=Zf(np((function(){return dp(c.frequency)})),2),f=s[0],p=s[1];ip((function(){p(dp(c.frequency))}),[c.frequency]);var m=function(e){u((function(t){return Yf(Yf({},t),e)}))};return He((function(){return a(c)})),wp.element.createElement(React.Fragment,null,wp.element.createElement(lp,{options:mp,value:null!==(e=c.frequency)&&void 0!==e?e:"on_change",label:ep("Apply value","jet-form-builder"),labelPosition:"side",onChange:function(e){return m({frequency:e})},help:f}),wp.element.createElement(fp,{label:ep("Set value only if field is empty","jet-form-builder"),checked:null!==(t=c.set_on_empty)&&void 0!==t&&t,onChange:function(e){return m({set_on_empty:e})}}),wp.element.createElement(sp,{align:"flex-start",className:"components-base-control__field"},wp.element.createElement(up,{isBlock:!0},wp.element.createElement(sp,{align:"center",justify:"flex-start"},wp.element.createElement("span",null,ep("Value to set","jet-form-builder")),wp.element.createElement(Eo,{value:c.to_set,onChange:function(e){return m({to_set:e})}}),wp.element.createElement(bi,null,wp.element.createElement(ai,{onClick:function(e){var t;return m({to_set:(null!==(t=c.to_set)&&void 0!==t?t:"")+"%".concat(e,"%")})}}))),wp.element.createElement(sa,null,wp.element.createElement("ul",null,pp.map((function(e){return wp.element.createElement(op,{key:e.key},e.render())}))))),wp.element.createElement(up,{isBlock:!0,style:{flex:3,marginLeft:"unset"}},wp.element.createElement(cp,{className:"jet-control-clear",hideLabelFromVision:!0,value:null!==(n=c.to_set)&&void 0!==n?n:"",onChange:function(e){return m({to_set:e})}}))),wp.element.createElement(Zs,{state:function(e){var t;m({conditions:"function"==typeof e?e(null!==(t=c.conditions)&&void 0!==t?t:[]):e})}},wp.element.createElement(vs,{items:null!==(r=c.conditions)&&void 0!==r?r:[]},wp.element.createElement(Wf,null)),wp.element.createElement(cs,null,ep("Add New Condition","jet-form-builder"))))};var bp=wp.data.select;const vp=function(e){return bp("jet-forms/block-conditions").readCondition(e)};function hp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return gp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gp(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Op(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Op(Object(n),!0).forEach((function(t){Ep(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Op(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ep(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Sp=wp.i18n.__,Ap=wp.element,Cp=Ap.useState,Ip=(Ap.RawHTML,Ap.Children),_p=Ap.cloneElement,Pp=wp.components.Button;const Np=function(e){var t,n,r=e.current,o=e.update,i=e.isOpenModal,a=e.setOpenModal,l=hp(Cp(!1),2),c=l[0],u=l[1],s=hp(Cp(!1),2),f=s[0],p=s[1],m=1>=(null===(t=Object.keys(r))||void 0===t?void 0:t.length),y=[],b="";return!m&&Boolean(null==r||null===(n=r.conditions)||void 0===n?void 0:n.length)&&(b=vp(null==r?void 0:r.conditions[0]),y=r.conditions.filter((function(e,t){return 0!==t})).map((function(e){return wp.element.createElement("span",{"data-title":Sp("And","jet-form-builder")+":",dangerouslySetInnerHTML:{__html:vp(e)}})}))),wp.element.createElement(Hu.Provider,{value:{update:function(e){o((function(t){var n=JSON.parse(JSON.stringify(t.groups));for(var o in n)n.hasOwnProperty(o)&&r.id===n[o].id&&(n[o]=jp(jp({},n[o]),e));return{groups:n}}))},current:r}},wp.element.createElement("div",{className:"jet-fb-control p-relative",onMouseOver:function(){return p(!0)},onMouseOut:function(){return p(!1)}},wp.element.createElement("div",{className:["jet-fb-control",f?"show":"hide","p-absolute","wh-100","flex-center","gap-05em"].join(" "),style:{backgroundColor:"#ffffffcc",transition:"0.3s"}},wp.element.createElement(Pp,{isSmall:!0,isSecondary:!0,icon:c?"no-alt":"edit",onClick:function(){return u((function(e){return!e}))}},Sp("Edit","jet-form-builder")),wp.element.createElement(Pp,{isSmall:!0,isDestructive:!0,icon:"trash",onClick:function(){o((function(e){return{groups:JSON.parse(JSON.stringify(e.groups)).filter((function(e){return e.id!==r.id}))}}))}},Sp("Delete","jet-form-builder"))),wp.element.createElement("div",{className:["jet-fb-control","flex","flex-dir-column","container","gap-1em"].join(" ")},m?wp.element.createElement("div",{"data-title":Sp("This value item is empty","jet-form-builder")}):wp.element.createElement(React.Fragment,null,wp.element.createElement("span",{"data-title":Sp("Set","jet-form-builder")+":",dangerouslySetInnerHTML:{__html:ac(r.to_set)}}),b&&wp.element.createElement(React.Fragment,null,wp.element.createElement("span",{"data-title":Sp("If","jet-form-builder")+":",dangerouslySetInnerHTML:{__html:b}}),Ip.map(y,_p))))),(c||i===r.id)&&wp.element.createElement(d,{classNames:["width-60"],onRequestClose:function(){u(!1),a(!1)},title:Sp("Edit Dynamic Value","jet-form-builder")},wp.element.createElement(yp,null)))};function kp(e){return function(e){if(Array.isArray(e))return Lp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Fp(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tp(Object(n),!0).forEach((function(t){Rp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||Fp(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fp(e,t){if(e){if("string"==typeof e)return Lp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lp(e,t):void 0}}function Lp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Mp=wp.i18n.__,Bp=wp.element.useState,$p=wp.components,Gp=$p.Button,Up=$p.Flex;const Vp=function(){var e,t,n=Dp(kt(),2),r=n[0],o=n[1],i=At(),a=null!==(e=r.value)&&void 0!==e?e:{},l=null!==(t=a.groups)&&void 0!==t?t:[],c=l.filter((function(e,t){return 0!==t})),u=Dp(Bp(!1),2),s=u[0],f=u[1];if(!Ft("value"))return null;var p=function(e){o(xp(xp({},r),{},{value:xp(xp({},a),"function"==typeof e?e(a):e)}))};return wp.element.createElement(React.Fragment,null,wp.element.createElement(sa,null,Mp("Or use a condition-dependent value","jet-form-builder")+" ",wp.element.createElement(Gp,{isLink:!0,onClick:function(){},label:Mp("Former Set Value functionality, moved from the Conditional Block","jet-form-builder"),showTooltip:!0},"(?)")),Boolean(l.length)?wp.element.createElement(Up,{direction:"column",align:"center",style:{marginBottom:"1em"}},wp.element.createElement(Np,{key:i(l[0].id),current:l[0],update:p,isOpenModal:s,setOpenModal:f}),Boolean(c.length)&&c.map((function(e){return wp.element.createElement(React.Fragment,null,wp.element.createElement("b",null,Mp("OR","jet-form-builder")),wp.element.createElement(Np,{key:i(e.id),current:e,update:p,isOpenModal:s,setOpenModal:f}))}))):null,wp.element.createElement(Gp,{icon:"plus-alt2",isSecondary:!0,onClick:function(){var e=q.getRandomID();p({groups:[].concat(kp(l),[{id:e,conditions:[{__visible:!0}]}])}),f(e)}},Mp("Add Dynamic Value","jet-form-builder")))};var qp=wp.components.Button,Jp=wp.element.useContext;var Hp=wp.components,Xp=Hp.Flex,Wp=Hp.FlexItem,zp=wp.compose.useInstanceId;const Yp=function(e){var t=e.children,n=e.value,r=e.label,o=e.onChangePreset,i=void 0!==o&&o,a=e.onChangeMacros,l=void 0!==a&&a,c=zp(Wp,"jfb-AdvancedModalControl");return wp.element.createElement(Xp,{align:"flex-start",className:"components-base-control__field"},wp.element.createElement(Wp,{isBlock:!0},wp.element.createElement(Xp,{align:"center",justify:"flex-start"},wp.element.createElement("label",{htmlFor:c},r),!1!==i&&wp.element.createElement(Eo,{value:n,onChange:i}),!1!==l&&wp.element.createElement(ai,{onClick:l}))),wp.element.createElement(Wp,{isBlock:!0,style:{flex:3,marginLeft:"unset"}},"function"==typeof t?t({instanceId:c}):t))};var Kp=wp.components.SelectControl,Zp=wp.element,Qp=Zp.useContext,em=Zp.useMemo,tm=wp.i18n.__;const nm=function(){var e=Qp(Gu),t=e.currentItem,n=e.changeCurrentItem,r=em((function(){return ce(tm("Custom value","jet-form-builder"))}),[]);return wp.element.createElement(Kp,{labelPosition:"side",options:r,label:tm("Choose field","jet-form-builder"),value:t.field,onChange:function(e){return n({field:e})}})};function rm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return om(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?om(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function om(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var im=wp.components,am=im.SelectControl,lm=im.TextareaControl,cm=im.TextControl,um=im.withFilters,sm=wp.element,fm=sm.useContext,pm=sm.useState,mm=sm.useEffect,dm=wp.i18n.__,ym=wp.hooks.addFilter,bm=window.jetFormValidation,vm=bm.rule_types,hm=bm.ssr_callbacks,wm=hm.map((function(e){return e.value}));function gm(e){var t,n,r=vm.findIndex((function(t){return t.value===e})),o=dm("Enter value","jet-form-builder");return-1===r?o:null!==(t=null===(n=vm[r])||void 0===n?void 0:n.control_label)&&void 0!==t?t:o}ym("jet.fb.advanced.rule.controls","jet-form-builder",(function(e){return function(t){var n=t.currentItem,r=t.changeCurrentItem,o=rm(pm(!1),2),i=o[0],a=o[1];if("ssr"!==n.type)return wp.element.createElement(e,t);var l=n.value||"custom_jfb_field_validation";return wp.element.createElement(React.Fragment,null,wp.element.createElement(am,{labelPosition:"side",options:q.withPlaceholder(hm,dm("Custom function","jet-form-builder")),label:dm("Choose callback","jet-form-builder"),value:n.value,onChange:function(e){return r({value:e})}}),!wm.includes(n.value)&&wp.element.createElement(React.Fragment,null,wp.element.createElement(cm,{label:dm("Function name","jet-form-builder"),value:n.value,onChange:function(e){return r({value:e})}}),wp.element.createElement(sa,null,dm("Example of registering a function below.")+" ",wp.element.createElement("a",{href:"javascript:void(0)",onClick:function(){return a((function(e){return!e}))}},dm(i?"Hide":"Show","jet-form-builder"))),i&&wp.element.createElement("pre",null,"/**\n * To get all the values of the fields in the form, you can use the expression:\n * jet_fb_request_handler()->get_request() or $context->get_request()\n *\n * If the field is located in the middle of the repeater, then only\n * jet_fb_request_handler()->get_request(), but $context->get_request() \n * will return the values of all fields of the current repeater element\n *\n * @param $value mixed\n * @param $context \\Jet_Form_Builder\\Request\\Parser_Context\n *\n * @return bool\n */\nfunction ".concat(l,"( $value, $context ): bool {\n\t// your logic\n\treturn true;\n}"))))}}));var Om=um("jet.fb.advanced.rule.controls")((function(e){var t=e.currentItem,n=e.changeCurrentItem,r=rm(pm((function(){return gm(t.type)})),2),o=r[0],i=r[1];switch(mm((function(){i(gm(t.type))}),[t.type]),t.type){case"equal":case"contain":case"contain_not":case"regexp":case"regexp_not":return wp.element.createElement(React.Fragment,null,wp.element.createElement(nm,null),!Boolean(t.field)&&wp.element.createElement(Yp,{value:t.value,label:o,onChangePreset:function(e){return n({value:e})},onChangeMacros:function(e){var r;return n({value:(null!==(r=t.value)&&void 0!==r?r:"")+"%".concat(e,"%")})}},(function(e){var r=e.instanceId;return wp.element.createElement(lm,{id:r,value:t.value,onChange:function(e){return n({value:e})}})})));default:return null}}));const jm=function(){var e=fm(Gu),t=e.currentItem,n=e.changeCurrentItem;return wp.element.createElement(React.Fragment,null,wp.element.createElement(am,{labelPosition:"side",options:q.withPlaceholder(vm),label:dm("Rule type","jet-form-builder"),value:t.type,onChange:function(e){return n({type:e})}}),wp.element.createElement(Om,{currentItem:t,changeCurrentItem:n}),wp.element.createElement(lm,{label:dm("Error message","jet-form-builder"),value:t.message,onChange:function(e){return n({message:e})}}))};function Em(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Em(Object(n),!0).forEach((function(t){Am(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Em(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Am(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Im(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Im(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Im(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _m=wp.element.useState,Pm=wp.i18n.__;const Nm=function(){var e=Cm(kt(),2),t=e[0],n=e[1],r=Cm(_m((function(){var e,n;return null!==(e=null===(n=t.validation)||void 0===n?void 0:n.rules)&&void 0!==e?e:[]})),2),o=r[0],i=r[1];return He((function(){n((function(e){return Sm(Sm({},e),{},{validation:Sm(Sm({},t.validation),{},{rules:o})})}))})),wp.element.createElement(Zs,{state:i},wp.element.createElement(vs,{items:o},wp.element.createElement(jm,null)),wp.element.createElement(cs,null,Pm("Add Rule","jet-form-builder")))};function km(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Tm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xm=wp.components.Button,Rm=wp.element,Dm=Rm.useState,Fm=Rm.Fragment,Lm=wp.i18n.__;var Mm=["help","attrName","label"],Bm=["help","attrName","label"];function $m(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Gm(e){return Gm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gm(e)}var Um=wp.blockEditor.useBlockProps,Vm=wp.components,qm=Vm.TextControl,Jm=Vm.SelectControl,Hm=Vm.ToggleControl,Xm=Vm.BaseControl,Wm=Vm.__experimentalNumberControl,zm=wp.components.NumberControl;void 0===zm&&(zm=Wm);var Ym=["help","label"];function Km(e,t,n){var r,o=n.selectionStart,i=n.selectionEnd,a=(e=null!==(r=e)&&void 0!==r?r:"").slice(0,o),l=e.slice(i);return a+=t,setTimeout((function(){n.focus(),n.selectionStart=a.length,n.selectionEnd=a.length})),a+l}function Zm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Qm=wp.element.useRef;var ed=wp.components.ToggleControl;window.JetFBComponents={ActionFieldsMap:function(n){var o=n.fields,i=void 0===o?[]:o,a=n.label,l=void 0===a?"[Empty label]":a,c=n.children,u=void 0===c?null:c,s=n.plainHelp,f=void 0===s?"":s,p=n.customHelp,m=void 0!==p&&p;return wp.element.createElement(r,{label:l,key:"jet_fields_map"},wp.element.createElement("div",{className:"jet-user-fields-map__list"},m&&"function"==typeof m&&m(),Boolean(f.length)&&wp.element.createElement("span",{className:"description-controls"},f),i.map((function(n,r){var o=function(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n,2),i=o[0],a=o[1];return wp.element.createElement(React.Fragment,{key:"field_in_map_".concat(i+r)},wp.element.createElement(e.Provider,{value:{name:i,data:a,index:r}},"function"==typeof u?u({fieldId:i,fieldData:a,index:r}):u))}))))},ActionModal:d,ActionModalContext:o,SafeDeleteContext:$u,RepeaterItemContext:Gu,ActionListItemContext:Uu,RepeaterBodyContext:Vu,RepeaterHeadContext:qu,RepeaterButtonsContext:Ju,CurrentActionEditContext:Qe,ActionFieldsMapContext:e,CurrentPropertyMapContext:$s,BlockValueItemContext:Hu,DynamicPropertySelect:function(t){var n,r=t.dynamic,o=void 0===r?[]:r,i=t.parseValue,a=void 0===i?null:i,l=t.children,c=void 0===l?null:l,u=t.properties,s=void 0===u?null:u,f=Js(Qe),p=f.source,m=f.settings,d=f.setMapField;s=null!==(n=s)&&void 0!==n?n:p.properties;var y=Js(e),b=y.name,v=y.index,h=m.fields_map,w=void 0===h?{}:h;function g(e){var t,n,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Gs(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(s);try{for(r.s();!(n=r.n()).done;)if(e===n.value.value)return e}catch(e){r.e(e)}finally{r.f()}return a?a(e):null!==(t=o[0])&&void 0!==t?t:""}var O,j,E=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||Gs(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(qs((function(){var e;return g(null!==(e=w[b])&&void 0!==e?e:"")})),2),S=E[0],A=E[1],C=wp.element.createElement(Hs,{key:b+v,value:S,options:s,help:(j=s.find((function(e){return e.value===S})),null!==(O=null==j?void 0:j.help)&&void 0!==O?O:""),onChange:function(e){var t=g(e);A(t),d({nameField:b,value:o.includes(e)?"":e})}});return wp.element.createElement($s.Provider,{value:{FieldSelect:C,property:S}},c&&c,!c&&C)},SafeDeleteToggle:function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Xu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xu(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Yu(!0),2),n=t[0],r=t[1];return wp.element.createElement(React.Fragment,null,wp.element.createElement(Wu,{label:zu("Safe deleting","jet-form-builder"),checked:n,onChange:r}),wp.element.createElement($u.Provider,{value:n},e.children))},RepeaterAddNew:cs,RepeaterAddOrOperator:function(e){var t,n=e.onSetState,r=e.functions,o=e.children,i=(null!==(t=null!=r?r:os(n))&&void 0!==t?t:Jp(is)).addNewItem;return wp.element.createElement(qp,{isSecondary:!0,onClick:function(){return i({__visible:!1,or_operator:!0})}},o)},Repeater:vs,RequestButton:O,ValidateButton:function(e){var t=e.initialValid,n=e.label,r=e.ajaxArgs,o=void 0===r?{}:r,i=e.onValid,a=void 0===i?function(){}:i,l=e.onInvalid,c=void 0===l?function(){}:l,u=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(A(t||!1),4),s=u[0],f=u[1],p=u[2],m=u[3];return wp.element.createElement(O,{ajaxArgs:o,label:n,onLoading:m,onSuccessRequest:function(e){f(),a(e)},onFailRequest:function(){p(),c()},className:s},wp.element.createElement("i",{className:"dashicons"}))},RequestLoadingButton:function(e){var t=e.label,n=e.ajaxArgs,r=void 0===n?{}:n,o=e.onSuccessRequest,i=void 0===o?function(){}:o,a=e.onFailRequest,l=void 0===a?function(){}:a,c=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Zi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Ae(),3),u=c[0],s=c[1],f=c[2];return wp.element.createElement(O,{ajaxArgs:r,label:t,onLoading:s,onSuccessRequest:function(e){f(),i(e)},onFailRequest:function(){f(),l()},className:u},wp.element.createElement("i",{className:"dashicons"}))},WrapperRequiredControl:function(t){var n=t.children,r=t.labelKey,o=void 0===r?"label":r,i=t.requiredKey,a=void 0===i?"required":i,l=t.helpKey,c=void 0===l?"help":l,u=t.field,s=void 0===u?[]:u,f=h(e),p=f.name,m=f.data;if(s.length){var d=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(s,2);p=d[0],m=d[1]}return wp.element.createElement("div",{className:"jet-user-meta__row",key:"user_meta_"+p},wp.element.createElement("div",{className:"jet-field-map__row-label"},wp.element.createElement("span",{className:"fields-map__label"},m.hasOwnProperty(o)&&m[o]&&m[o],!m.hasOwnProperty(o)&&m),m.hasOwnProperty(a)&&m[a]&&wp.element.createElement("span",{className:"fields-map__required"}," *"),m[c]&&wp.element.createElement("p",{className:"components-base-control__help",style:{color:"rgb(117, 117, 117)",margin:"1em 0 0 0"}},wp.element.createElement(v,null,m[c]))),n)},DynamicPreset:mn,JetFieldsMapControl:Cn,FieldWithPreset:function(e){var t=e.children,n=void 0===t?null:t,r=e.ModalEditor,o=e.triggerClasses,i=void 0===o?[]:o,a=e.baseControlProps,l=void 0===a?{}:a,c=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||_n(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Rn(!1),2),u=c[0],s=c[1],f=function(){s((function(e){return!e}))},p=["jet-form-dynamic-preset__trigger"].concat(function(e){return function(e){if(Array.isArray(e))return Pn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(i)).join(" ");return wp.element.createElement(React.Fragment,null,wp.element.createElement(xn,In({className:"jet-form-dynamic-preset"},l),n,wp.element.createElement("div",{className:p,onClick:f},wp.element.createElement(Tn,{viewBox:"0 0 54 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement(kn,{d:"M42.6396 26.4347C37.8682 27.3436 32.5666 28.0252 27.1894 28.0252C21.8121 28.0252 16.4348 27.3436 11.7391 26.4347C6.96774 25.4502 3.18093 23.8597 0.37868 21.9663L0.37868 28.0252C0.37868 29.5399 1.59046 31.1304 3.78682 32.4179C5.98317 33.7054 9.46704 34.9172 13.6325 35.5988C17.798 36.2805 22.115 36.8106 27.1894 36.8106C32.2637 36.8106 36.6564 36.5077 40.7462 35.5988C44.8359 34.69 48.3198 33.7054 50.5162 32.4179C52.7125 31.1304 54 29.5399 54 28.0252L54 21.9663C51.122 23.8597 47.3352 25.4502 42.6396 26.4347ZM42.6396 53.5484C37.8682 54.5329 32.5666 55.1388 27.1894 55.1388C21.8121 55.1388 16.4348 54.5329 11.7391 53.5484C7.04348 52.5638 3.18093 51.0491 0.378682 49.1556L0.378682 55.1388C0.378683 56.7293 1.59046 58.3197 3.78682 59.5315C6.36186 60.819 9.46705 62.1066 13.6325 62.7125C17.7223 63.697 22.115 64 27.1894 64C32.2637 64 36.6564 63.697 40.7462 62.7125C44.8359 61.8036 48.3198 60.819 50.5162 59.5315C52.7125 57.9411 54 56.7293 54 54.8359L54 48.8527C51.122 51.0491 47.3352 52.2608 42.6396 53.5484ZM42.6396 39.9915C37.8682 40.9004 32.5666 41.582 27.1894 41.582C21.8121 41.582 16.4348 40.9004 11.7391 39.9915C6.96774 39.007 3.18093 37.4922 0.378681 35.5988L0.378681 41.582C0.378681 43.1725 1.59046 44.6872 3.78682 45.9747C6.36185 47.2622 9.46705 48.474 13.6325 49.1556C17.7223 50.0645 22.115 50.3674 27.1894 50.3674C32.2637 50.3674 36.6564 50.0645 40.7462 49.1556C44.8359 48.1711 48.3198 47.2622 50.5162 45.9747C52.7125 44.3843 54 43.1725 54 41.582L54 35.5988C51.122 37.4922 47.3352 39.007 42.6396 39.9915ZM40.4432 2.12337C36.3535 1.13879 31.885 0.835848 26.8864 0.835849C21.8878 0.835849 17.4194 1.13879 13.2539 2.12337C9.08836 3.10794 5.68022 4.01678 3.48387 5.3043C1.28751 6.59181 -3.4782e-06 8.10654 -3.33916e-06 9.697L-2.95513e-06 14.0897C-2.81609e-06 15.6802 1.28752 17.2706 3.48387 18.5582C6.05891 19.7699 9.1641 21.0575 13.2539 21.6633C17.3436 22.2692 21.8121 22.9509 26.8864 22.9509C31.9607 22.9509 36.3535 22.9509 40.4432 22.345C44.533 21.7391 48.0169 20.4516 50.2132 19.164C52.7125 17.5736 54 15.9831 54 14.3927L54 9.99995C54 8.40948 52.7125 6.81902 50.5162 5.60724C48.3198 4.39546 44.533 2.72926 40.4432 2.12337Z",fill:"#7E8993"})))),u&&wp.element.createElement(d,{onRequestClose:f,classNames:["width-60"],title:"Edit Preset"},(function(e){return wp.element.createElement(r,e)})))},GlobalField:Xt,AvailableMapField:function(e){var t=e.fieldsMap,n=e.field,r=e.index,o=e.value,i=e.onChangeValue,a=e.isMapFieldVisible,l=null;t||(t={}),(l=t[n])&&"object"===Bn(l)||(l={});var c=function(e){var t=e.field,n=e.name,r=e.index,o=e.fIndex,i=e.children;return wp.element.createElement(qn,{key:t+n+r+o,size:"extraSmall",style:{marginBottom:"10px"}},wp.element.createElement(Hn,null,wp.element.createElement("span",{className:"jet-label-overflow"},t)),wp.element.createElement(Jn,{key:t+n+r+o,className:"jet-form-preset__fields-map-item"},i))};return wp.element.createElement(React.Fragment,{key:"map_field_preset_".concat(n+r)},window.JetFormEditorData.presetConfig.map_fields.map((function(e,u){var s={field:n,name:e.name,index:r,fIndex:u},f="control_"+n+e.name+r+u;switch(e.type){case"text":return a(o,e,n)&&function(e,t){var n=e.field,r=e.name,o=e.index,i=e.fIndex;return wp.element.createElement(qn,{key:n+r+o+i,size:"extraSmall",style:{marginBottom:"10px"}},wp.element.createElement(Hn,null,wp.element.createElement("span",{className:"jet-label-overflow"},n)),wp.element.createElement(Jn,{key:n+r+o+i,className:"jet-form-preset__fields-map-item"},t))}(s,wp.element.createElement(Gn,{key:f+"TextControl",placeholder:e.label,value:l[e.name],onChange:function(r){l[e.name]=r,i(Ln(Ln({},t),{},Mn({},n,l)),"fields_map")}}));case"select":return a(o,e,n)&&wp.element.createElement(c,Dn({},s,{key:f}),wp.element.createElement(Un,{options:e.options,labelPosition:"top",value:l[e.name],onChange:function(r){l[e.name]=r,i(Ln(Ln({},t),{},Mn({},n,l)),"fields_map")}}));case"custom_select":return a(o,e,n)&&wp.element.createElement(c,Dn({},s,{key:f}),wp.element.createElement(Vn,{options:e.options,onChange:function(r){var o=r.selectedItem;l[e.name]=o.key,i(Ln(Ln({},t),{},Mn({},n,l)),"fields_map")},value:e.options.find((function(t){return t.key===l[e.name]}))}));case"grouped_select":return a(o,e,n)&&wp.element.createElement(c,Dn({},s,{key:f}),wp.element.createElement(Kt,{options:e.options,labelPosition:"top",value:l[e.name],onChange:function(r){l[e.name]=r,i(Ln(Ln({},t),{},Mn({},n,l)),"fields_map")}}))}})))},MapField:nn,FieldWrapper:function(e){var t=e.attributes,n=e.editProps,r=n.uniqKey,o=(n.blockName,e.children),i=e.wrapClasses,a=void 0===i?[]:i,l=e.valueIfEmptyLabel,c=void 0===l?"":l,u=e.setAttributes,s=e.childrenPosition,f=void 0===s?"between":s,p=Ue("_jf_args");function m(){return wp.element.createElement(ar.VisualLabel,null,ur(cr("input label:","jet-form-builder")),wp.element.createElement("div",{onBlur:function(){return ir(t,u)},className:"jet-form-builder__label"},wp.element.createElement(lr,{key:r("rich-label"),placeholder:"Label...",allowedFormats:[],value:t.label?t.label:c,onChange:function(e){return u({label:e})}}),t.required&&wp.element.createElement("span",{className:"jet-form-builder__required"},p.required_mark?p.required_mark:"*")))}function d(){return wp.element.createElement("div",{className:"jet-form-builder__desc--wrapper"},ur(cr("input description:","jet-form-builder")),wp.element.createElement(ar,{key:"custom_help_description",className:"jet-form-builder__desc"},wp.element.createElement("div",{className:"components-base-control__help"},wp.element.createElement(lr,{key:r("rich-description"),tagName:"small",placeholder:"Description...",allowedFormats:[],value:t.desc,onChange:function(e){return u({desc:e})},style:{marginTop:"0px"}}))))}return"row"===p.fields_layout&&a.push("jet-form-builder-row__flex"),wp.element.createElement(ar,{key:r("placeHolder_block"),className:V("jet-form-builder__field-wrap","jet-form-builder-row",a)},"row"!==p.fields_layout&&wp.element.createElement(React.Fragment,null,"top"===f&&o,m(),"between"===f&&o,d(),"bottom"===f&&o),"row"===p.fields_layout&&wp.element.createElement(React.Fragment,null,wp.element.createElement("div",{className:"jet-form-builder-row__flex--label"},m(),d()),wp.element.createElement("div",{className:"jet-form-builder-row__flex--content"},o)))},MacrosInserter:function(e){e.children;var t=e.fields,n=e.onFieldClick,r=e.customMacros,o=e.zIndex,i=void 0===o?1e6:o,a=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,sr),l=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return pr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(vr((function(){return!1})),2),c=l[0],u=l[1];return wp.element.createElement("div",{className:"jet-form-editor__macros-inserter"},wp.element.createElement(dr,{isTertiary:!0,isSmall:!0,icon:c?"no-alt":"admin-tools",label:"Insert macros",className:"jet-form-editor__macros-trigger",onClick:function(){u((function(e){return!e}))}}),c&&wp.element.createElement(yr,fr({style:{zIndex:i},position:"bottom left"},a),t.length&&wp.element.createElement(br,{title:"Form Fields"},t.map((function(e){return wp.element.createElement("div",{key:"field_"+e.name},wp.element.createElement(dr,{isLink:!0,onClick:function(){n(e.name)}},"%"+e.name+"%"))}))),r&&wp.element.createElement(br,{title:"Custom Macros"},r.map((function(e){return wp.element.createElement("div",{key:"macros_"+e},wp.element.createElement(dr,{isLink:!0,onClick:function(){n(e)}},"%"+e+"%"))})))))},RepeaterWithState:function(e){var t=e.children,n=e.ItemHeading,r=e.repeaterClasses,o=void 0===r?[]:r,i=e.repeaterItemClasses,a=void 0===i?[]:i,l=e.newItem,c=e.addNewButtonLabel,u=void 0===c?"Add New":c,s=e.items,f=void 0===s?[]:s,p=e.isSaveAction,m=e.onSaveItems,d=e.onUnMount,y=e.onAddNewItem,b=e.onRemoveItem,v=e.help,h=void 0===v?{helpSource:{},helpVisible:function(){return!1},helpKey:""}:v,w=e.additionalControls,g=void 0===w?null:w,O=["jet-form-builder__repeater-component"].concat(jr(o)).join(" "),j=["jet-form-builder__repeater-component-item"].concat(jr(a)).join(" "),E=hr(Fr([]),2),S=E[0],A=E[1];Lr((function(){A(f&&f.length>0?f.map((function(e){return e.__visible=!1,e})):[gr(gr({},l),{},{__visible:!0})])}),[]);var C=hr(Fr(!0),2),I=C[0],_=C[1],P=function(e,t){A((function(n){var r=JSON.parse(JSON.stringify(n));return r[t]=gr(gr({},n[t]),e),r}))},N=function(e){var t=e.oldIndex,n=e.newIndex;A((function(e){var r=JSON.parse(JSON.stringify(e)),o=[r[t],r[n]];return r[n]=o[0],r[t]=o[1],r}))},k=function(e){return!(e<S.length-1)};Lr((function(){if(!0===p){for(var e in S)for(var t in S[e])t.startsWith("__")&&delete S[e][t];m(S),d()}else!1===p&&d()}),[p]);var T=function(e){return"jet-form-builder-repeater__item_".concat(e)},x=h.helpSource,R=h.helpVisible,D=h.helpKey,F=R(S)&&x&&x[D];return wp.element.createElement("div",{className:O,key:"jet-form-builder-repeater"},F&&wp.element.createElement("p",null,x[D].label),0<S.length&&wp.element.createElement(React.Fragment,null,wp.element.createElement(xr,null,wp.element.createElement(Rr,null,wp.element.createElement(Tr,{label:Ar("Safe deleting","jet-form-builder"),checked:I,onChange:_})),wp.element.createElement(Rr,{style:{flex:"unset",marginBottom:"1em"}}))),g,S.map((function(e,r){return wp.element.createElement(Pr,{elevation:2,className:j,key:T(r)},wp.element.createElement(kr,{className:"repeater__item__header"},wp.element.createElement("div",{className:"repeater-item__left-heading"},wp.element.createElement(_r,{className:"repeater-action-buttons"},wp.element.createElement(Ir,{isSmall:!0,icon:e.__visible?"no-alt":"edit",onClick:function(){return function(e){A((function(t){var n=JSON.parse(JSON.stringify(t));return n[e].__visible=!n[e].__visible,n}))}(r)},className:"repeater-action-button"}),wp.element.createElement(Ir,{isSmall:!0,isSecondary:!0,disabled:!Boolean(r),icon:"arrow-up-alt2",onClick:function(){return function(e){N({oldIndex:e,newIndex:e-1})}(r)},className:"repeater-action-button"}),wp.element.createElement(Ir,{isSmall:!0,isSecondary:!0,disabled:k(r),icon:"arrow-down-alt2",onClick:function(){return function(e){N({oldIndex:e,newIndex:e+1})}(r)},className:"repeater-action-button"})),wp.element.createElement("span",{className:"repeater-item-title"},n&&wp.element.createElement(n,{currentItem:e,index:r,changeCurrentItem:function(e){return P(e,r)}}),!n&&"#".concat(r+1))),wp.element.createElement(_r,null,wp.element.createElement(Ir,{isSmall:!0,isSecondary:!0,onClick:function(){return function(e){A((function(t){var n=JSON.parse(JSON.stringify(t)),r=[n.slice(0,e+1),n.slice(e+1)],o=r[1];return[].concat(jr(r[0]),[n[e]],jr(o))}))}(r)}},Ar("Clone","jet-form-builder")),wp.element.createElement(Ir,{isSmall:!0,isSecondary:!0,isDestructive:!0,onClick:function(){return function(e){I&&!function(e){return confirm(Ar("Are you sure you want to remove item ".concat(e+1,"?"),"jet-form-builder"))}(e)||b&&!b(e,S)||A((function(t){var n=JSON.parse(JSON.stringify(t));return n.splice(e,1),n}))}(r)}},Ar("Delete","jet-form-builder")))),e.__visible&&wp.element.createElement(Nr,{className:"repeater-item__content"},t&&wp.element.createElement(React.Fragment,{key:"repeater-component__item_".concat(r)},"function"==typeof t&&t({currentItem:e,changeCurrentItem:function(e){return P(e,r)},currentIndex:r}),"function"!=typeof t&&t),!t&&"Set up your Repeater Template, please."))})),1<S.length&&wp.element.createElement(React.Fragment,null,g,wp.element.createElement(Tr,{className:"jet-control-clear",label:Ar("Safe deleting"),checked:I,onChange:_})),wp.element.createElement(Ir,{isSecondary:!0,onClick:function(){return e=l,y&&y(e,S),void A((function(t){return[].concat(jr(t),[gr(gr({},e),{},{__visible:!0})])}));var e}},u))},AdvancedFields:function(){return wp.element.createElement(oo,{title:io("Advanced","jet-form-builder"),key:"jet-form-advanced-fields",initialOpen:!1},wp.element.createElement(Gr,null),wp.element.createElement(Jr,null),wp.element.createElement(zr,null),wp.element.createElement(Qr,null),wp.element.createElement(ro,null))},GeneralFields:function(){return wp.element.createElement(Oi,{title:ji("General","jet-form-builder"),key:"jet-form-general-fields"},wp.element.createElement(uo,null),wp.element.createElement(mo,null),wp.element.createElement(ho,null),wp.element.createElement(gi,null))},ToolBarFields:function(e){var t=e.children;return wp.element.createElement(ki,null,wp.element.createElement(Di,null),t)},FieldControl:function(e){var t=e.setAttributes,n=e.attributes,r=function(e){var t=e.type,n=e.attributes,r=e.attrsSettings,o=void 0===r?{}:r,i=Um()["data-type"],a=aa();return a[t]?a[t].attrs.filter((function(e){e.help;var t=e.attrName,r=(e.label,$m(e,Mm)),a=t in n,l=function(e){if(!e.condition)return!0;if(i&&e.condition.blockName){if("string"==typeof e.condition.blockName&&i!==e.condition.blockName)return!1;if("object"===Gm(e.condition.blockName)&&e.condition.blockName.length&&!e.condition.blockName.includes(i))return!1}return!(!function(){if("object"!==Gm(e.condition.attr))return!0;var t=e.condition.attr,r=t.operator,o=void 0===r?"and":r,i=t.items,a=void 0===i?{}:i;if("or"===o.toLowerCase())for(var l in a)if(a[l]===n[l])return!0;return"and"!==o.toLowerCase()||function(){for(var e in a)if(a[e]!==n[e])return!1;return!0}()}()||"string"==typeof e.condition.attr&&e.condition.attr&&!n[e.condition.attr]||"string"==typeof e.condition&&!n[e.condition])}(r),c=t in o&&"show"in o[t]&&!1===o[t].show;return a&&l&&!c})):[]}(e),o=function(e,n){t(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,e))};return r.map((function(e){var t=e.help,r=void 0===t?"":t,i=e.attrName,a=e.label,l=$m(e,Bm);switch(l.type){case"text":return wp.element.createElement(qm,{key:"".concat(l.type,"-").concat(i,"-TextControl"),label:a,help:r,value:n[i],onChange:function(e){return o(e,i)}});case"select":return wp.element.createElement(Jm,{key:"".concat(l.type,"-").concat(i,"-SelectControl"),label:a,help:r,value:n[i],options:l.options,onChange:function(e){o(e,i)}});case"toggle":return wp.element.createElement(Hm,{key:"".concat(l.type,"-").concat(i,"-ToggleControl"),label:a,help:r,checked:n[i],onChange:function(e){o(e,i)}});case"number":return wp.element.createElement(Xm,{key:"".concat(l.type,"-").concat(i,"-BaseControl"),label:a},wp.element.createElement(zm,{key:"".concat(l.type,"-").concat(i,"-NumberControl"),value:n[i],onChange:function(e){o(Number(e),i)}}),wp.element.createElement("p",{className:"components-base-control__help",style:{color:"rgb(117, 117, 117)"}},r))}}))},PlaceholderMessage:function(e){var t=e.style,n=e.children,r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fi(Object(n),!0).forEach((function(t){Li(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({fontSize:"1.5em",padding:"2em",textAlign:"center",backgroundColor:"aliceblue"},t);return wp.element.createElement("p",{style:r},n)},HorizontalLine:function(e){return wp.element.createElement("hr",{style:Yi({},e)})},FieldSettingsWrapper:function(e){var t=e.title,n=e.children,r=oa()["data-type"].replace("/","-"),o=ra("jet.fb.render.settings.".concat(r),null);return(n||o)&&wp.element.createElement(na,{title:t||ta("Field","jet-form-builder")},n,o)},ActionMessages:function(e){var t=e.settings,n=e.source,r=e.getMapField,o=e.setMapField,i=e.messages,a=e.onChangeSetting;return Xi((function(){var e=t.messages||{},r={};Object.entries(n.__messages).forEach((function(t){var n=Gi(t,2),o=n[0],i=n[1];e[o]||(r[o]=i.value)})),r&&a(Bi(Bi({},e),r),"messages")}),[]),wp.element.createElement(Ji,{label:Wi("Messages Settings:"),key:"messages_settings_fields"},wp.element.createElement("div",{className:"jet-user-fields-map__list"},t.messages&&Object.entries(t.messages).map((function(e,t){var n,a=Gi(e,2),l=a[0];return a[1],wp.element.createElement("div",{className:"jet-user-meta__row",key:"message_"+l+t},wp.element.createElement(qi,{key:l+t,label:i(l).label,value:(n=l,r({name:n,source:"messages"})),onChange:function(e){o({value:e,nameField:l,source:"messages"})}}))}))))},GroupedSelectControl:Kt,BaseHelp:sa,ValidateButtonWithStore:function(e){var t=ha((function(e){return e("jet-forms/actions").getCurrentAction()}),[]);return wp.element.createElement(ba,va({id:t.id},e))},GatewayFetchButton:Ea,ValidationToggleGroup:function(e){var t,n,r=e.excludeBrowser,o=void 0!==r&&r,i=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Os(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Os(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(kt(),2),a=i[0],l=i[1],c=At();return Cs=Cs.filter((function(e){return"browser"!==e.value||!o})),wp.element.createElement(Es,{onChange:function(e){return l((function(t){return ws(ws({},t),{},{validation:ws(ws({},a.validation),{},{type:e})})}))},value:null!==(t=null===(n=a.validation)||void 0===n?void 0:n.type)&&void 0!==t?t:"",label:As("Validation type","jet-form-builder"),isBlock:!0,isAdaptiveWidth:!1},wp.element.createElement(Ss,{label:As("Inherit","jet-form-builder"),value:"","aria-label":As("Inherit from form's args","jet-form-builder"),showTooltip:!0}),Cs.map((function(e){return wp.element.createElement(Ss,{key:c(e.value+"_key"),label:e.label,value:e.value,"aria-label":e.title,showTooltip:!0})})))},ValidationBlockMessage:function(e){var t,n,r,o,i,a=e.name,l=At(),c=Ts(kt(),2),u=c[0],s=c[1],f=Ts(ge("_jf_validation","{}",[]),1)[0],p=!(null!==(t=u.validation)&&void 0!==t&&t.type),m=p?null!==(n=null==f?void 0:f.messages)&&void 0!==n?n:{}:null!==(r=null===(o=u.validation)||void 0===o?void 0:o.messages)&&void 0!==r?r:{},d=_s(a);return wp.element.createElement(React.Fragment,null,wp.element.createElement(Rs,{disabled:p,key:l("massage_"+a),label:null==d?void 0:d.label,help:null==d?void 0:d.help,value:null!==(i=m[a])&&void 0!==i?i:null==d?void 0:d.initial,onChange:function(e){return s((function(t){return Ns(Ns({},t),{},{validation:Ns(Ns({},u.validation),{},{messages:Ns(Ns({},m),{},ks({},a,e))})})}))}}))},ValidationMetaMessage:function(e){var t=e.message,n=e.update,r=e.value,o=void 0===r?null:r,i=e.help,a=void 0===i?null:i,l=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Ds),c=_s(t.id);return wp.element.createElement("div",l,wp.element.createElement("label",{htmlFor:t.id,className:"jet-fb-control flex jc-space-between"},wp.element.createElement("span",null,c.label),wp.element.createElement("span",{className:"jet-fb-control flex gap-1em"},t.blocks.map((function(e){return wp.element.createElement("span",{key:"message_block_item"+e.title,className:"jet-fb-validation-messages-item-heading-pair__icon",title:e.title},e.icon)})))),wp.element.createElement(Bs,{id:t.id,key:"validation_message_"+t.id,help:null!=a?a:null==c?void 0:c.help,value:null!=o?o:null==c?void 0:c.initial,onChange:function(e){return n((function(n){return Ls(Ls({},n),{},Ms({},t.id,e))}))}}))},ActionFetchButton:Ks,DynamicValues:Vp,EditAdvancedRulesButton:function(){var e,t,n=km(Dm(!1),2),r=n[0],o=n[1],i=km(kt(),1)[0],a=At(),l=null!==(e=null===(t=i.validation)||void 0===t?void 0:t.rules)&&void 0!==e?e:[],c=l.length?wp.element.createElement("span",{className:"dashicon dashicons dashicons-editor-spellcheck","data-count":l.length}):wp.element.createElement("span",{className:"dashicon dashicons dashicons-editor-spellcheck"});return wp.element.createElement(Fm,{key:a("edit-rule-component")},wp.element.createElement(xm,{isSecondary:!0,icon:c,className:"jet-fb-button w-100 jc-center jet-fb-control mb-24",onClick:function(){return o((function(e){return!e}))}},Lm("Edit Advanced Rules","jet-form-builder")),r&&wp.element.createElement(d,{title:Lm("Edit Advanced Rules","jet-form-builder"),classNames:["width-60"],onRequestClose:function(){return o(!1)}},wp.element.createElement(Nm,{key:a("edit-rule-modal")})))},RepeaterStateContext:is,RepeaterState:Zs,BlockLabel:uo,BlockName:mo,BlockDescription:ho,BlockDefaultValue:gi,BlockPlaceholder:Gr,BlockAddPrevButton:Jr,BlockPrevButtonLabel:zr,BlockVisibility:Qr,BlockClassName:ro,BlockAdvancedValue:function(e){var t=e.help,n=e.label,r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Ym);return wp.element.createElement("div",r,wp.element.createElement(gi,{help:t,label:n}),wp.element.createElement("hr",null),wp.element.createElement(Vp,null))},MacrosFields:ai,MacrosButtonTemplate:Ro,MacrosFieldsTemplate:ti,ShowPopoverContext:So,PopoverItem:Fo,PresetButton:Eo,ConditionItem:Wf,AdvancedInspectorControl:fi,AdvancedModalControl:Yp,ClientSideMacros:bi,ToggleControl:function(e){var t=e.checked,n=void 0!==t&&t,r=e.onChange,o=void 0===r?function(){}:r,i=e.children,a=void 0===i?null:i;return wp.element.createElement("div",{className:"jet-fb-control flex"},wp.element.createElement(ed,{checked:n,onChange:o}),wp.element.createElement("div",{className:"jet-fb-control--label"},a))}},window.JetFBActions={addAction:function(e,t){wp.data.dispatch("jet-forms/actions").addCallback(e,t)},withPreset:Vt,getInnerBlocks:function(e){var t=wp.data.select("core/block-editor").getBlock(e);return t?t.innerBlocks:[]},getAvailableFieldsString:function(e){var t=ne([e]),n=[];return t.forEach((function(e){n.push("%FIELD::"+e+"%")})),re("Available fields: ","jet-form-builder")+n.join(", ")},getAvailableFields:ne,getFormFieldsBlocks:te,getFieldsWithoutCurrent:ce,gatewayAttr:se,gatewayLabel:fe,registerGateway:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"cred";window.JetFBGatewaysList=window.JetFBGatewaysList||{},window.JetFBGatewaysList[e]=window.JetFBGatewaysList[e]||{},window.JetFBGatewaysList[e][n]=t},Tools:q,event:function(e){var t=new Event(e);return function(){return document.dispatchEvent(t)}},listen:function(e,t){document.addEventListener(e,t)},renderGateway:me,renderGatewayWithPlaceholder:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"cred",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return pe(e,n)?(t.Placeholder=r,me(e,t,n)):r},globalTab:Ke,versionCompare:function(e,t,n){try{return function(e){switch(e){case">":return x;case">=":return D;case"<":return R;case"<=":return F}return function(){return!1}}(n)(e,t)}catch(e){return!1}},convertListToFieldsMap:function(){for(var e=[],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var o=0,i=n;o<i.length;o++){var a=i[o];e.push.apply(e,Qi(a.map((function(e){return[e.value,e]}))))}return e},maybeCyrToLatin:G,getConvertedName:U,getBlockControls:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";if(!e)return!1;var t=aa();return"all"===e?t:!!(t[e]&&t[e].attrs&&Array.isArray(t[e].attrs)&&0<t[e].attrs.length)&&t[e].attrs},classnames:V,getBlocksByName:function(e){var t=[];return Y((function(n){e.includes(n.name)&&t.push(n)})),t},convertObjectToOptionsList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.usePlaceholder,r=void 0===n||n,o=t.label,i=void 0===o?"--":o,a=t.value,l=void 0===a?"":a,c={label:i,value:l};if(!e)return r?[c]:[];var u=Object.entries(e).map((function(e){var t=I(e,2);return{value:t[0],label:t[1]}}));return r?[c].concat(P(u)):u},appendField:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];ue("jet.fb.register.fields","jet-form-builder",(function(n){return n.map((function(n){return t.length&&!t.includes(n.name)?n:e(n)}))}))},insertMacro:Km,addDetail:function(e,t){return wp.data.dispatch("jet-forms/actions").addDetail(e,t)},column:B},window.JetFBHooks={useActions:function(){return ge("_jf_actions")},useMetaState:ge,useSelectPostMeta:Ue,useStateValidClasses:A,useStateLoadingClasses:Ae,useSuccessNotice:De,useRequestEvents:function(){var e=gt((function(e){return e("jet-forms/actions").getCurrentAction()})),t=[].concat(ht(vt()),ht(mt()),ht(function(e){var t=e.index,n=Ue("_jf_actions");n.splice(t,1);var r,o=[],i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ct(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(n);try{for(i.s();!(r=i.n()).done;){var a,l=r.value,c=l.settings[l.type],u=void 0===c?{}:c;null!==(a=u.provideEvents)&&void 0!==a&&a.length&&o.push.apply(o,lt(u.provideEvents))}}catch(e){i.e(e)}finally{i.f()}return lt(new Set(o))}(e)));return gt((function(n){return n("jet-forms/events").filterList(e.type,t)}),[e.id])},useBlockConditions:Et,useUniqKey:At,useBlockAttributes:kt,useIsAdvancedValidation:function(){var e,t,n=Ue("_jf_validation").type,r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Tt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(kt(),1)[0];return null!==(e=r.validation)&&void 0!==e&&e.type?"advanced"===(null===(t=r.validation)||void 0===t?void 0:t.type):"advanced"===n},useActionButtonEdit:function(e){return xt((function(t){return t("jet-forms/action-buttons").getButtonEdit(e)}),[e])},useGroupedValidationMessages:function(){return function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||Zn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(tr(rr),1)[0]},useSanitizeFieldsMap:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"fields_map",t=$e(),n=it(Qe),r=n.settings,o=n.onChangeSettingObj;ot((function(){if(r.hasOwnProperty(e)){var n=[].concat(tt(te()),tt(t)),i=r[e],a=function(e){return-1!==n.findIndex((function(t){return t.value===e}))};for(var l in i)i.hasOwnProperty(l)&&(a(l)||delete i[l]);o(et({},e,i))}}),[])},withRequestFields:function(e){var t=e("core/editor").getEditedPostAttribute("meta")||{},n=JSON.parse(t._jf_actions||"[]"),r=e("jet-forms/actions").getCurrentAction();return n.splice(r.index),{requestFields:Be(n)}},useRequestFields:$e,withSelectActionLoading:at,withSelectFormFields:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(r){var o=[],i=["submit","form-break","heading","group-break","conditional"].concat(Xe(e));return Ye((function(e){e.name.includes("jet-forms/")&&e.attributes.name&&!i.find((function(t){return e.name.includes(t)}))&&o.push({blockName:e.name,name:e.attributes.name,label:e.attributes.label||e.attributes.name,value:e.attributes.name})}),r("core/block-editor").getBlocks()),o=t?[{value:"",label:t}].concat(Xe(o)):o,{formFields:n?o:ze("jet.fb.getFormFieldsBlocks",o)}}},withSelectGateways:Ze,withDispatchGateways:function(e){var t=e("jet-forms/gateways");return{setGatewayRequest:t.setRequest,setGatewayScenario:t.setScenario,setScenario:t.setCurrentScenario,setGateway:t.setGateway,setGatewayInner:t.setGatewayInner,setGatewaySpecific:t.setGatewaySpecific,clearGateway:t.clearGateway,clearScenario:t.clearScenario}},useOnUpdateModal:He,useInsertMacro:function(e){var t,n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Zm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(kt(),2),r=n[0],o=n[1],i=null!==(t=r[e])&&void 0!==t?t:"",a=Qm();return[a,function(t){o(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,Km(i,t,a.current)))}]},useIsHasAttribute:Ft}})()})();