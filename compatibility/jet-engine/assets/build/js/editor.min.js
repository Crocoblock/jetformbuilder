(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r.apply(this,arguments)}e.r(t),e.d(t,{metadata:()=>h,name:()=>F,settings:()=>S});var n=JetFBComponents,o=n.GeneralFields,i=n.AdvancedFields,l=n.FieldWrapper,a=n.ToolBarFields,c=JetFBHooks.useUniqueNameOnDuplicate,s=wp.components,u=s.PanelBody,p=s.RangeControl,f=s.__experimentalToggleGroupControl,m=s.__experimentalToggleGroupControlOption,d=wp.i18n.__,b=wp.element.RawHTML,y=wp.blockEditor,v=y.InspectorControls,g=y.useBlockProps;const h=JSON.parse('{"apiVersion":2,"name":"jet-forms/map-field","category":"jet-form-builder-fields","title":"Map Field","icon":"<svg width=\\"64\\" height=\\"64\\" viewBox=\\"0 0 64 64\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\n<path fill-rule=\\"evenodd\\" clip-rule=\\"evenodd\\" d=\\"M60 16H4C2.89543 16 2 16.8954 2 18V38C2 39.1046 2.89543 40 4 40H60C61.1046 40 62 39.1046 62 38V18C62 16.8954 61.1046 16 60 16ZM4 14C1.79086 14 0 15.7909 0 18V38C0 40.2091 1.79086 42 4 42H60C62.2091 42 64 40.2091 64 38V18C64 15.7909 62.2091 14 60 14H4Z\\" fill=\\"#0F172A\\"/>\\n<path d=\\"M53 38.2931C53 45.0824 48.1087 49.5172 40.5 57C32.8913 49.5172 28 45.0824 28 38.2931C28 31.5038 33.5964 26 40.5 26C47.4036 26 53 31.5038 53 38.2931Z\\" fill=\\"#6F8CFF\\"/>\\n<path fill-rule=\\"evenodd\\" clip-rule=\\"evenodd\\" d=\\"M30.3478 48.0435C32.5797 51.4058 35.9565 55.058 40.4783 59C45 55.058 48.3768 51.4058 50.6087 48.0435C52.8406 44.6812 53.9565 41.6087 53.9565 38.8261C53.9565 34.6232 52.6014 31.2681 49.8913 28.7609C47.1812 26.2536 44.0435 25 40.4783 25C36.913 25 33.7754 26.2536 31.0652 28.7609C28.3551 31.2681 27 34.6232 27 38.8261C27 41.6087 28.1159 44.6812 30.3478 48.0435ZM49.087 46.7174C47.1449 49.7754 44.2754 53 40.4783 56.3913C36.7391 53 33.8841 49.7754 31.913 46.7174C29.942 43.6594 28.9565 41.029 28.9565 38.8261C28.9565 35.3478 30.0652 32.5 32.2826 30.2826C34.5 28.0652 37.2319 26.9565 40.4783 26.9565C43.7246 26.9565 46.4565 28.0652 48.6739 30.2826C50.8913 32.5 52 35.3478 52 38.8261C52 41.029 51.029 43.6594 49.087 46.7174Z\\" fill=\\"#0F172A\\"/>\\n<circle cx=\\"40.5\\" cy=\\"38.5\\" r=\\"5.5\\" fill=\\"white\\" stroke=\\"#0F172A\\" stroke-width=\\"2\\"/>\\n</svg>","keywords":["jetformbuilder","field","map","location","place"],"textdomain":"jet-form-builder","supports":{"customClassName":false,"html":false},"attributes":{"validation":{"type":"object","default":{}},"format":{"type":"string","default":"location_string"},"height":{"type":"number","default":300},"label":{"type":"string","default":"","jfb":{"shortcode":true}},"name":{"type":"string","default":"field_name"},"desc":{"type":"string","default":"","jfb":{"shortcode":true}},"default":{"type":"string","default":""},"required":{"type":"boolean","default":false},"add_prev":{"type":"boolean","default":false},"prev_label":{"type":"string","default":"","jfb":{"shortcode":true}},"visibility":{"type":"string","default":""},"class_name":{"type":"string","default":""},"className":{"type":"string","default":""}},"usesContext":["jet-forms/repeater-field--name"],"viewScript":"jet-fb-compat-jet-engine-map-field"}');function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==w(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===w(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}wp.i18n.__;var _=wp.blocks.createBlock,F=h.name,P=h.icon,k=void 0===P?"":P,S={icon:wp.element.createElement("span",{dangerouslySetInnerHTML:{__html:k}}),edit:function(e){var t,n,s=g();c();var y=e.isSelected,h=e.attributes,w=e.setAttributes,j=e.editProps.uniqKey;return[JetFBMapField.is_supported&&wp.element.createElement(a,r({key:j("ToolBarFields")},e)),y&&JetFBMapField.is_supported&&wp.element.createElement(v,{key:j("InspectorControls")},wp.element.createElement(o,{key:j("GeneralFields"),hasMacro:!1}),wp.element.createElement(u,{title:d("Map Settings","jet-form-builder")},wp.element.createElement(f,{onChange:function(e){return w({format:e})},value:h.format,label:d("Field format","jet-form-builder"),isBlock:!0,isAdaptiveWidth:!1},JetFBMapField.formats.map((function(e){return wp.element.createElement(m,{key:j(e.value),label:e.label,value:e.value,"aria-label":e.title,showTooltip:!0})}))),wp.element.createElement(p,{label:d("Height","jet-form-builder"),value:null!==(t=h.height)&&void 0!==t?t:300,onChange:function(e){return w({height:e})},allowReset:!0,resetFallbackValue:300,min:50,max:1e3})),wp.element.createElement(i,r({key:j("AdvancedFields")},e))),wp.element.createElement("div",r({},s,{key:j("viewBlock")}),JetFBMapField.is_supported?wp.element.createElement(l,r({key:j("FieldWrapper")},e),wp.element.createElement("img",{style:{height:null!==(n=h.height)&&void 0!==n?n:300},src:JetFBMapField.image,alt:d("Map Field placeholder","jet-form-builder")})):wp.element.createElement(b,null,JetFBMapField.help))]},useEditProps:["uniqKey","blockName"],example:{attributes:{label:"Map Field",desc:"Field description..."}},transforms:{to:[{type:"block",blocks:["jet-forms/text-field"],transform:function(e){return _("jet-forms/text-field",O({},e))},priority:0}],from:[{type:"block",blocks:["jet-forms/text-field"],transform:function(e){return _(F,O({},e))},priority:0}]}};function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e,t,r){return(t=J(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,J(n.key),n)}}function J(e){var t=function(e,t){if("object"!==E(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===E(t)?t:String(t)}function A(e,t){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},A(e,t)}function D(e){return D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},D(e)}var N=JetFBActions.getFormFieldsBlocks,R=wp.components,H=R.TextControl,V=R.SelectControl,Z=R.BaseControl,q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A(e,t)}(l,wp.element.Component);var t,r,n,o,i=(n=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=D(n);if(o){var r=D(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=i.call(this,e)).fields=N(),t}return t=l,r=[{key:"getFieldByName",value:function(e){var t=e.source,r=e.name,n=this.props.settings;return n[t]&&n[t][r]?n[t][r]:""}},{key:"getFieldMeta",value:function(e){return this.getFieldByName({source:"meta_fields_map",name:e})}},{key:"changeFieldsMap",value:function(e){var t=e.source,r=e.nameField,n=e.value,o=Object.assign({},this.props.settings[t]);o[r]=n,this.props.onChange(M(M({},this.props.settings),{},x({},t,o)))}},{key:"render",value:function(){var e=this,t=this.props,r=t.settings,n=t.onChange,o=t.source,i=t.label,l=(t.help,function(e,t){n(M(M({},r),{},x({},t,e)))});return wp.element.createElement("div",{key:"register_user"},wp.element.createElement(V,{key:"options_page_list",className:"full-width",label:i("options_page"),labelPosition:"side",value:r.options_page,options:o.optionsPages,onChange:function(e){l(e,"options_page")}}),wp.element.createElement(Z,{label:i("options_map"),key:"options_meta_list"},wp.element.createElement("div",{className:"jet-user-fields-map__list"},this.fields.map((function(t,r){var n=t.name;return wp.element.createElement("div",{className:"jet-user-meta__row",key:"options_meta_"+n+r},wp.element.createElement(H,{label:n,value:e.getFieldMeta(n),onChange:function(t){return r=t,o=n,void e.changeFieldsMap({value:r,nameField:o,source:"meta_fields_map"});var r,o}}))})))))}}],r&&T(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),l}();const G=q;var I=JetFBActions.addAction,W=wp.hooks.addFilter;I("update_options",G),W("jet.fb.register.fields","jet-form-builder/map-field",(function(e){return e.push(t),e}))})();